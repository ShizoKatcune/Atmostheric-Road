// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Xa=this;
function $a(d){function a(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2];u=u[3];h[0]=y*F+C*I;h[1]=A*F+m*I;h[2]=y*L+C*u;h[3]=A*L+m*u;return h}function b(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function e(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=u[0],O=u[1],R=u[2],S=u[3],X=u[4];u=u[5];h[0]=y*L+C*O;h[1]=A*L+F*O;h[2]=y*R+C*S;h[3]=A*R+F*S;h[4]=y*X+C*u+I;h[5]=A*X+F*u+m;return h}function c(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-
u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];return h}function f(){var h=new pa(9);pa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=u[0],X=u[1],V=u[2],ea=u[3],ca=u[4],aa=u[5],ta=u[6],oa=u[7];u=u[8];h[0]=S*y+X*F+V*O;h[1]=S*A+X*I+V*R;h[2]=S*C+X*L+V*m;h[3]=ea*y+ca*F+aa*O;h[4]=ea*A+ca*I+aa*R;h[5]=ea*C+ca*L+aa*m;h[6]=ta*y+oa*F+u*O;h[7]=ta*A+oa*I+u*R;h[8]=ta*C+oa*L+
u*m;return h}function g(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function n(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=m[8],X=m[9],V=m[10],ea=m[11],ca=m[12],aa=m[13],ta=m[14];m=m[15];var oa=u[0],ra=u[1],sa=u[2],qa=u[3];h[0]=
oa*y+ra*I+sa*S+qa*ca;h[1]=oa*A+ra*L+sa*X+qa*aa;h[2]=oa*C+ra*O+sa*V+qa*ta;h[3]=oa*F+ra*R+sa*ea+qa*m;oa=u[4];ra=u[5];sa=u[6];qa=u[7];h[4]=oa*y+ra*I+sa*S+qa*ca;h[5]=oa*A+ra*L+sa*X+qa*aa;h[6]=oa*C+ra*O+sa*V+qa*ta;h[7]=oa*F+ra*R+sa*ea+qa*m;oa=u[8];ra=u[9];sa=u[10];qa=u[11];h[8]=oa*y+ra*I+sa*S+qa*ca;h[9]=oa*A+ra*L+sa*X+qa*aa;h[10]=oa*C+ra*O+sa*V+qa*ta;h[11]=oa*F+ra*R+sa*ea+qa*m;oa=u[12];ra=u[13];sa=u[14];qa=u[15];h[12]=oa*y+ra*I+sa*S+qa*ca;h[13]=oa*A+ra*L+sa*X+qa*aa;h[14]=oa*C+ra*O+sa*V+qa*ta;h[15]=oa*
F+ra*R+sa*ea+qa*m;return h}function q(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=y+y,L=A+A,O=C+C;m=y*I;var R=y*L;y*=O;var S=A*L;A*=O;C*=O;I*=F;L*=F;F*=O;h[0]=1-(S+C);h[1]=R+F;h[2]=y-L;h[3]=0;h[4]=R-F;h[5]=1-(m+C);h[6]=A+I;h[7]=0;h[8]=y+L;h[9]=A-I;h[10]=1-(m+S);h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h}function r(h,m){h[0]=m[12];h[1]=m[13];h[2]=m[14];return h}function p(h,m){var u=m[4],y=m[5],A=m[6],C=m[8],F=m[9],I=m[10];h[0]=Math.hypot(m[0],m[1],m[2]);h[1]=Math.hypot(u,y,A);h[2]=Math.hypot(C,
F,I);return h}function w(h,m){var u=new pa(3);p(u,m);var y=1/u[0],A=1/u[1],C=1/u[2],F=m[0]*y;u=m[1]*A;var I=m[2]*C,L=m[4]*y,O=m[5]*A,R=m[6]*C;y*=m[8];A*=m[9];m=m[10]*C;C=F+O+m;0<C?(F=2*Math.sqrt(C+1),h[3]=.25*F,h[0]=(R-A)/F,h[1]=(y-I)/F,h[2]=(u-L)/F):F>O&&F>m?(F=2*Math.sqrt(1+F-O-m),h[3]=(R-A)/F,h[0]=.25*F,h[1]=(u+L)/F,h[2]=(y+I)/F):O>m?(F=2*Math.sqrt(1+O-F-m),h[3]=(y-I)/F,h[0]=(u+L)/F,h[1]=.25*F,h[2]=(R+A)/F):(F=2*Math.sqrt(1+m-F-O),h[3]=(u-L)/F,h[0]=(y+I)/F,h[1]=(R+A)/F,h[2]=.25*F);return h}function t(h,
m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];h[9]=m[9]-u[9];h[10]=m[10]-u[10];h[11]=m[11]-u[11];h[12]=m[12]-u[12];h[13]=m[13]-u[13];h[14]=m[14]-u[14];h[15]=m[15]-u[15];return h}function v(){var h=new pa(3);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,m,u){var y=new pa(3);y[0]=h;y[1]=m;y[2]=u;return y}function D(h,m,u){h[0]=m[0]-u[0];h[1]=
m[1]-u[1];h[2]=m[2]-u[2];return h}function E(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];return h}function M(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];return h}function B(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],m[2]-h[2])}function G(h,m){var u=m[0]-h[0],y=m[1]-h[1];h=m[2]-h[2];return u*u+y*y+h*h}function H(h){var m=h[0],u=h[1];h=h[2];return m*m+u*u+h*h}function J(h,m){var u=m[0],y=m[1],A=m[2];u=u*u+y*y+A*A;0<u&&(u=1/Math.sqrt(u));h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h}function P(h,
m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]}function Q(h,m,u){var y=m[0],A=m[1];m=m[2];var C=u[0],F=u[1];u=u[2];h[0]=A*u-m*F;h[1]=m*C-y*u;h[2]=y*F-A*C;return h}function T(){var h=new pa(4);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function W(h){var m=new pa(4);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];return m}function Z(h,m,u,y){var A=new pa(4);A[0]=h;A[1]=m;A[2]=u;A[3]=y;return A}function Y(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h}function fa(h,m,u,y,A){h[0]=m;h[1]=u;h[2]=
y;h[3]=A;return h}function ja(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h}function xa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function Ka(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];h[3]=m[3]*u[3];return h}function Ta(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];h[3]=m[3]/u[3];return h}function Pa(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h}function Ua(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],
m[2]-h[2],m[3]-h[3])}function db(h,m){var u=m[0]-h[0],y=m[1]-h[1],A=m[2]-h[2];h=m[3]-h[3];return u*u+y*y+A*A+h*h}function Qa(h){return Math.hypot(h[0],h[1],h[2],h[3])}function La(h){var m=h[0],u=h[1],y=h[2];h=h[3];return m*m+u*u+y*y+h*h}function Ya(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*u+y*y+A*A+m*m;0<C&&(C=1/Math.sqrt(C));h[0]=u*C;h[1]=y*C;h[2]=A*C;h[3]=m*C;return h}function Va(h,m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]+h[3]*m[3]}function gb(h,m,u,y){var A=m[0],C=m[1],F=m[2];m=m[3];h[0]=A+
y*(u[0]-A);h[1]=C+y*(u[1]-C);h[2]=F+y*(u[2]-F);h[3]=m+y*(u[3]-m);return h}function ub(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]}function vb(h,m){var u=h[0],y=h[1],A=h[2];h=h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}function hb(){var h=new pa(4);pa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function wb(h,m,u){u*=.5;var y=Math.sin(u);h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=Math.cos(u);return h}function xb(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2];u=u[3];h[0]=y*u+m*F+A*L-C*I;h[1]=A*u+m*I+C*F-y*L;h[2]=C*u+m*L+y*I-A*F;h[3]=m*u-y*F-A*I-C*L;return h}function yb(h,m,u){u*=.5;var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+m*F;h[1]=A*u+C*F;h[2]=C*u-A*F;h[3]=m*u-y*F;return h}function zb(h,m,u){u*=.5;var y=
m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u-C*F;h[1]=A*u+m*F;h[2]=C*u+y*F;h[3]=m*u-A*F;return h}function Ab(h,m,u){u*=.5;var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+A*F;h[1]=A*u-y*F;h[2]=C*u+m*F;h[3]=m*u-C*F;return h}function Bb(h,m){var u=m[0],y=m[1],A=m[2],C=Math.sqrt(u*u+y*y+A*A);m=Math.exp(m[3]);var F=0<C?m*Math.sin(C)/C:0;h[0]=u*F;h[1]=y*F;h[2]=A*F;h[3]=m*Math.cos(C);return h}function Cb(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=Math.sqrt(u*
u+y*y+A*A);C=0<C?Math.atan2(C,m)/C:0;h[0]=u*C;h[1]=y*C;h[2]=A*C;h[3]=.5*Math.log(u*u+y*y+A*A+m*m);return h}function ib(h,m,u,y){var A=m[0],C=m[1],F=m[2];m=m[3];var I=u[0],L=u[1],O=u[2];u=u[3];var R=A*I+C*L+F*O+m*u;0>R&&(R=-R,I=-I,L=-L,O=-O,u=-u);if(1E-6<1-R){var S=Math.acos(R);var X=Math.sin(S);R=Math.sin((1-y)*S)/X;y=Math.sin(y*S)/X}else R=1-y;h[0]=R*A+y*I;h[1]=R*C+y*L;h[2]=R*F+y*O;h[3]=R*m+y*u;return h}function Db(h,m){var u=m[0]+m[4]+m[8];if(0<u)u=Math.sqrt(u+1),h[3]=.5*u,u=.5/u,h[0]=(m[5]-m[7])*
u,h[1]=(m[6]-m[2])*u,h[2]=(m[1]-m[3])*u;else{var y=0;m[4]>m[0]&&(y=1);m[8]>m[3*y+y]&&(y=2);var A=(y+1)%3,C=(y+2)%3;u=Math.sqrt(m[3*y+y]-m[3*A+A]-m[3*C+C]+1);h[y]=.5*u;u=.5/u;h[3]=(m[3*A+C]-m[3*C+A])*u;h[A]=(m[3*A+y]+m[3*y+A])*u;h[C]=(m[3*C+y]+m[3*y+C])*u}return h}function Eb(h,m,u){var y=.5*u[0],A=.5*u[1];u=.5*u[2];var C=m[0],F=m[1],I=m[2];m=m[3];h[0]=C;h[1]=F;h[2]=I;h[3]=m;h[4]=y*m+A*I-u*F;h[5]=A*m+u*C-y*I;h[6]=u*m+y*F-A*C;h[7]=-y*C-A*F-u*I;return h}function Fb(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];
h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];return h}function Gb(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=u[4],L=u[5],O=u[6],R=u[7],S=m[4],X=m[5],V=m[6];m=m[7];var ea=u[0],ca=u[1],aa=u[2];u=u[3];h[0]=y*u+F*ea+A*aa-C*ca;h[1]=A*u+F*ca+C*ea-y*aa;h[2]=C*u+F*aa+y*ca-A*ea;h[3]=F*u-y*ea-A*ca-C*aa;h[4]=y*R+F*I+A*O-C*L+S*u+m*ea+X*aa-V*ca;h[5]=A*R+F*L+C*I-y*O+X*u+m*ca+V*ea-S*aa;h[6]=C*R+F*O+y*L-A*I+V*u+m*aa+S*ca-X*ea;h[7]=F*R-y*I-A*L-C*O+m*u-S*ea-X*ca-V*aa;return h}function jb(){var h=new pa(2);pa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Wa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];return h}function kb(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];return h}function lb(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];return h}function Za(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1])}function mb(h,m){var u=m[0]-h[0];h=m[1]-h[1];return u*u+h*h}function Na(h){return Math.hypot(h[0],h[1])}function nb(h){var m=h[0];h=h[1];return m*m+h*h}var pa="undefined"!==typeof Float32Array?Float32Array:Array,Ja=Math.random,Hb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,m=arguments.length;m--;)h+=arguments[m]*arguments[m];return Math.sqrt(h)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Hha(){return pa},Nma:Ja,yta:function(h){pa=h},Jta:function(h){return h*Hb},ed:function(h,m){return Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}}),Ob=Object.freeze({__proto__:null,create:function(){var h=new pa(4);pa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new pa(4);m[0]=h[0];m[1]=h[1];
m[2]=h[2];m[3]=h[3];return m},oa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h},Vy:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},hg:function(h,m,u,y){var A=new pa(4);A[0]=h;A[1]=m;A[2]=u;A[3]=y;return A},set:function(h,m,u,y,A){h[0]=m;h[1]=u;h[2]=y;h[3]=A;return h},FX:function(h,m){if(h===m){var u=m[1];h[1]=m[2];h[2]=u}else h[0]=m[0],h[1]=m[2],h[2]=m[1],h[3]=m[3];return h},yu:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*m-A*y;if(!C)return null;C=1/C;h[0]=m*C;h[1]=-y*
C;h[2]=-A*C;h[3]=u*C;return h},KW:function(h,m){var u=m[0];h[0]=m[3];h[1]=-m[1];h[2]=-m[2];h[3]=u;return h},oM:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:a,rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+C*F;h[1]=A*u+m*F;h[2]=y*-F+C*u;h[3]=A*-F+m*u;return h},scale:function(h,m,u){var y=m[1],A=m[2],C=m[3],F=u[0];u=u[1];h[0]=m[0]*F;h[1]=y*F;h[2]=A*u;h[3]=C*u;return h},CE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;
return h},sM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];return h},an:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},rM:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},Tka:function(h,m,u,y){h[2]=y[2]/y[0];u[0]=y[0];u[1]=y[1];u[3]=y[3]-h[2]*u[1];return[h,m,u]},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h},bn:b,jk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]},ed:function(h,m){var u=h[0],y=h[1],A=h[2];h=
h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},EM:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h},FM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},fp:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var h=
new pa(6);pa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new pa(6);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m},oa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];return h},Vy:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},hg:function(h,m,u,y,A,C){var F=new pa(6);F[0]=h;F[1]=m;F[2]=u;F[3]=y;F[4]=A;F[5]=C;return F},set:function(h,m,u,y,A,C,F){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=
F;return h},yu:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4];m=m[5];var I=u*C-y*A;if(!I)return null;I=1/I;h[0]=C*I;h[1]=-y*I;h[2]=-A*I;h[3]=u*I;h[4]=(A*m-C*F)*I;h[5]=(y*F-u*m)*I;return h},oM:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:e,rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=Math.sin(u);u=Math.cos(u);h[0]=y*u+C*L;h[1]=A*u+F*L;h[2]=y*-L+C*u;h[3]=A*-L+F*u;h[4]=I;h[5]=m;return h},scale:function(h,m,u){var y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=u[0];u=u[1];
h[0]=m[0]*L;h[1]=y*L;h[2]=A*u;h[3]=C*u;h[4]=F;h[5]=I;return h},translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=u[0];u=u[1];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=y*L+C*u+I;h[5]=A*L+F*u+m;return h},CE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;h[4]=0;h[5]=0;return h},sM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];h[4]=0;h[5]=0;return h},tM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=m[0];h[5]=m[1];return h},an:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},rM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];return h},bn:c,EM:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;return h},FM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;return h},jk:function(h,m){return h[0]===
m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]},ed:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4];h=h[5];var I=m[0],L=m[1],O=m[2],R=m[3],S=m[4];m=m[5];return Math.abs(u-I)<=1E-6*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(y-L)<=1E-6*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(F-S)<=1E-6*Math.max(1,Math.abs(F),Math.abs(S))&&Math.abs(h-m)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(m))},fp:e,sub:c}),Qb=Object.freeze({__proto__:null,create:f,rga:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[4];h[4]=m[5];h[5]=m[6];h[6]=m[8];h[7]=m[9];h[8]=m[10];return h},clone:function(h){var m=new pa(9);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];return m},oa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},hg:function(h,m,u,y,A,C,F,I,L){var O=new pa(9);O[0]=
h;O[1]=m;O[2]=u;O[3]=y;O[4]=A;O[5]=C;O[6]=F;O[7]=I;O[8]=L;return O},set:function(h,m,u,y,A,C,F,I,L,O){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;return h},Vy:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},FX:function(h,m){if(h===m){var u=m[1],y=m[2],A=m[5];h[1]=m[3];h[2]=m[6];h[3]=u;h[5]=m[7];h[6]=y;h[7]=A}else h[0]=m[0],h[1]=m[3],h[2]=m[6],h[3]=m[1],h[4]=m[4],h[5]=m[7],h[6]=m[2],h[7]=m[5],h[8]=m[8];return h},yu:function(h,m){var u=m[0],y=
m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];var R=m*F-I*O,S=-m*C+I*L,X=O*C-F*L,V=u*R+y*S+A*X;if(!V)return null;V=1/V;h[0]=R*V;h[1]=(-m*y+A*O)*V;h[2]=(I*y-A*F)*V;h[3]=S*V;h[4]=(m*u-A*L)*V;h[5]=(-I*u+A*C)*V;h[6]=X*V;h[7]=(-O*u+y*L)*V;h[8]=(F*u-y*C)*V;return h},KW:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];h[0]=F*m-I*O;h[1]=A*O-y*m;h[2]=y*I-A*F;h[3]=I*L-C*m;h[4]=u*m-A*L;h[5]=A*C-u*I;h[6]=C*O-F*L;h[7]=y*L-u*O;h[8]=u*F-y*C;return h},oM:function(h){var m=
h[3],u=h[4],y=h[5],A=h[6],C=h[7],F=h[8];return h[0]*(F*u-y*C)+h[1]*(-F*m+y*A)+h[2]*(C*m-u*A)},multiply:k,translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=u[0];u=u[1];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=I;h[5]=L;h[6]=S*y+u*F+O;h[7]=S*A+u*I+R;h[8]=S*C+u*L+m;return h},rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=Math.sin(u);u=Math.cos(u);h[0]=u*y+S*F;h[1]=u*A+S*I;h[2]=u*C+S*L;h[3]=u*F-S*y;h[4]=u*I-S*A;h[5]=
u*L-S*C;h[6]=O;h[7]=R;h[8]=m;return h},scale:function(h,m,u){var y=u[0];u=u[1];h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=u*m[3];h[4]=u*m[4];h[5]=u*m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},tM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=m[0];h[7]=m[1];h[8]=1;return h},CE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=-u;h[4]=m;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},sM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=m[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
tra:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=0;h[3]=m[2];h[4]=m[3];h[5]=0;h[6]=m[4];h[7]=m[5];h[8]=1;return h},sga:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u+u,F=y+y,I=A+A;u*=C;var L=y*C;y*=F;var O=A*C,R=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-y-A;h[3]=L-m;h[6]=O+F;h[1]=L+m;h[4]=1-u-A;h[7]=R-C;h[2]=O-F;h[5]=R+C;h[8]=1-u-y;return h},Gsa:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];var ta=u*I-y*F,oa=u*L-A*
F,ra=u*O-C*F,sa=y*L-A*I,qa=y*O-C*I,Ca=A*O-C*L,Da=R*ca-S*ea,Ea=R*aa-X*ea;R=R*m-V*ea;var Fa=S*aa-X*ca;S=S*m-V*ca;X=X*m-V*aa;V=ta*X-oa*S+ra*Fa+sa*R-qa*Ea+Ca*Da;if(!V)return null;V=1/V;h[0]=(I*X-L*S+O*Fa)*V;h[1]=(L*R-F*X-O*Ea)*V;h[2]=(F*S-I*R+O*Da)*V;h[3]=(A*S-y*X-C*Fa)*V;h[4]=(u*X-A*R+C*Ea)*V;h[5]=(y*R-u*S-C*Da)*V;h[6]=(ca*Ca-aa*qa+m*sa)*V;h[7]=(aa*ra-ea*Ca-m*oa)*V;h[8]=(ea*qa-ca*ra+m*ta)*V;return h},sX:function(h,m,u){h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/u;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},an:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},rM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];return h},bn:g,EM:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;return h},FM:function(h,m,u,y){h[0]=
m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;return h},jk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]},ed:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7];h=h[8];var R=m[0],S=m[1],X=m[2],V=m[3],ea=m[4],ca=m[5],aa=m[6],ta=m[7];m=m[8];return Math.abs(u-R)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(R))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(F-ea)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ea))&&Math.abs(I-ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ca))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ta)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ta))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},fp:k,sub:g}),Rb=Object.freeze({__proto__:null,
create:function(){var h=new pa(16);pa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var m=new pa(16);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15];return m},oa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=
m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},hg:function(h,m,u,y,A,C,F,I,L,O,R,S,X,V,ea,ca){var aa=new pa(16);aa[0]=h;aa[1]=m;aa[2]=u;aa[3]=y;aa[4]=A;aa[5]=C;aa[6]=F;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=R;aa[11]=S;aa[12]=X;aa[13]=V;aa[14]=ea;aa[15]=ca;return aa},set:function(h,m,u,y,A,C,F,I,L,O,R,S,X,V,ea,ca,aa){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;h[9]=R;h[10]=S;h[11]=X;h[12]=V;h[13]=ea;h[14]=ca;h[15]=aa;return h},Vy:l,FX:function(h,
m){if(h===m){var u=m[1],y=m[2],A=m[3],C=m[6],F=m[7],I=m[11];h[1]=m[4];h[2]=m[8];h[3]=m[12];h[4]=u;h[6]=m[9];h[7]=m[13];h[8]=y;h[9]=C;h[11]=m[14];h[12]=A;h[13]=F;h[14]=I}else h[0]=m[0],h[1]=m[4],h[2]=m[8],h[3]=m[12],h[4]=m[1],h[5]=m[5],h[6]=m[9],h[7]=m[13],h[8]=m[2],h[9]=m[6],h[10]=m[10],h[11]=m[14],h[12]=m[3],h[13]=m[7],h[14]=m[11],h[15]=m[15];return h},yu:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];var ta=
u*I-y*F,oa=u*L-A*F,ra=u*O-C*F,sa=y*L-A*I,qa=y*O-C*I,Ca=A*O-C*L,Da=R*ca-S*ea,Ea=R*aa-X*ea,Fa=R*m-V*ea,Ha=S*aa-X*ca,Ra=S*m-V*ca,Sa=X*m-V*aa,za=ta*Sa-oa*Ra+ra*Ha+sa*Fa-qa*Ea+Ca*Da;if(!za)return null;za=1/za;h[0]=(I*Sa-L*Ra+O*Ha)*za;h[1]=(A*Ra-y*Sa-C*Ha)*za;h[2]=(ca*Ca-aa*qa+m*sa)*za;h[3]=(X*qa-S*Ca-V*sa)*za;h[4]=(L*Fa-F*Sa-O*Ea)*za;h[5]=(u*Sa-A*Fa+C*Ea)*za;h[6]=(aa*ra-ea*Ca-m*oa)*za;h[7]=(R*Ca-X*ra+V*oa)*za;h[8]=(F*Ra-I*Fa+O*Da)*za;h[9]=(y*Fa-u*Ra-C*Da)*za;h[10]=(ea*qa-ca*ra+m*ta)*za;h[11]=(S*ra-R*qa-
V*ta)*za;h[12]=(I*Ea-F*Ha-L*Da)*za;h[13]=(u*Ha-y*Ea+A*Da)*za;h[14]=(ca*oa-ea*sa-aa*ta)*za;h[15]=(R*sa-S*oa+X*ta)*za;return h},KW:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];h[0]=I*(X*m-V*aa)-S*(L*m-O*aa)+ca*(L*V-O*X);h[1]=-(y*(X*m-V*aa)-S*(A*m-C*aa)+ca*(A*V-C*X));h[2]=y*(L*m-O*aa)-I*(A*m-C*aa)+ca*(A*O-C*L);h[3]=-(y*(L*V-O*X)-I*(A*V-C*X)+S*(A*O-C*L));h[4]=-(F*(X*m-V*aa)-R*(L*m-O*aa)+ea*(L*V-O*X));h[5]=u*
(X*m-V*aa)-R*(A*m-C*aa)+ea*(A*V-C*X);h[6]=-(u*(L*m-O*aa)-F*(A*m-C*aa)+ea*(A*O-C*L));h[7]=u*(L*V-O*X)-F*(A*V-C*X)+R*(A*O-C*L);h[8]=F*(S*m-V*ca)-R*(I*m-O*ca)+ea*(I*V-O*S);h[9]=-(u*(S*m-V*ca)-R*(y*m-C*ca)+ea*(y*V-C*S));h[10]=u*(I*m-O*ca)-F*(y*m-C*ca)+ea*(y*O-C*I);h[11]=-(u*(I*V-O*S)-F*(y*V-C*S)+R*(y*O-C*I));h[12]=-(F*(S*aa-X*ca)-R*(I*aa-L*ca)+ea*(I*X-L*S));h[13]=u*(S*aa-X*ca)-R*(y*aa-A*ca)+ea*(y*X-A*S);h[14]=-(u*(I*aa-L*ca)-F*(y*aa-A*ca)+ea*(y*L-A*I));h[15]=u*(I*X-L*S)-F*(y*X-A*S)+R*(y*L-A*I);return h},
oM:function(h){var m=h[0],u=h[1],y=h[2],A=h[3],C=h[4],F=h[5],I=h[6],L=h[7],O=h[8],R=h[9],S=h[10],X=h[11],V=h[12],ea=h[13],ca=h[14];h=h[15];return(m*F-u*C)*(S*h-X*ca)-(m*I-y*C)*(R*h-X*ea)+(m*L-A*C)*(R*ca-S*ea)+(u*I-y*F)*(O*h-X*V)-(u*L-A*F)*(O*ca-S*V)+(y*L-A*I)*(O*ea-R*V)},multiply:n,translate:function(h,m,u){var y=u[0],A=u[1];u=u[2];if(m===h)h[12]=m[0]*y+m[4]*A+m[8]*u+m[12],h[13]=m[1]*y+m[5]*A+m[9]*u+m[13],h[14]=m[2]*y+m[6]*A+m[10]*u+m[14],h[15]=m[3]*y+m[7]*A+m[11]*u+m[15];else{var C=m[0];var F=m[1];
var I=m[2];var L=m[3];var O=m[4];var R=m[5];var S=m[6];var X=m[7];var V=m[8];var ea=m[9];var ca=m[10];var aa=m[11];h[0]=C;h[1]=F;h[2]=I;h[3]=L;h[4]=O;h[5]=R;h[6]=S;h[7]=X;h[8]=V;h[9]=ea;h[10]=ca;h[11]=aa;h[12]=C*y+O*A+V*u+m[12];h[13]=F*y+R*A+ea*u+m[13];h[14]=I*y+S*A+ca*u+m[14];h[15]=L*y+X*A+aa*u+m[15]}return h},scale:function(h,m,u){var y=u[0],A=u[1];u=u[2];h[0]=m[0]*y;h[1]=m[1]*y;h[2]=m[2]*y;h[3]=m[3]*y;h[4]=m[4]*A;h[5]=m[5]*A;h[6]=m[6]*A;h[7]=m[7]*A;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*
u;h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},rotate:function(h,m,u,y){var A=y[0],C=y[1];y=y[2];var F=Math.hypot(A,C,y);if(1E-6>F)return null;F=1/F;A*=F;C*=F;y*=F;var I=Math.sin(u);var L=Math.cos(u);var O=1-L;u=m[0];F=m[1];var R=m[2];var S=m[3];var X=m[4];var V=m[5];var ea=m[6];var ca=m[7];var aa=m[8];var ta=m[9];var oa=m[10];var ra=m[11];var sa=A*A*O+L;var qa=C*A*O+y*I;var Ca=y*A*O-C*I;var Da=A*C*O-y*I;var Ea=C*C*O+L;var Fa=y*C*O+A*I;var Ha=A*y*O+C*I;A=C*y*O-A*I;C=y*y*O+L;h[0]=u*sa+
X*qa+aa*Ca;h[1]=F*sa+V*qa+ta*Ca;h[2]=R*sa+ea*qa+oa*Ca;h[3]=S*sa+ca*qa+ra*Ca;h[4]=u*Da+X*Ea+aa*Fa;h[5]=F*Da+V*Ea+ta*Fa;h[6]=R*Da+ea*Ea+oa*Fa;h[7]=S*Da+ca*Ea+ra*Fa;h[8]=u*Ha+X*A+aa*C;h[9]=F*Ha+V*A+ta*C;h[10]=R*Ha+ea*A+oa*C;h[11]=S*Ha+ca*A+ra*C;m!==h&&(h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h},SM:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var A=m[4],C=m[5],F=m[6],I=m[7],L=m[8],O=m[9],R=m[10],S=m[11];m!==h&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[12]=m[12],h[13]=m[13],h[14]=m[14],
h[15]=m[15]);h[4]=A*u+L*y;h[5]=C*u+O*y;h[6]=F*u+R*y;h[7]=I*u+S*y;h[8]=L*u-A*y;h[9]=O*u-C*y;h[10]=R*u-F*y;h[11]=S*u-I*y;return h},TM:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var A=m[0],C=m[1],F=m[2],I=m[3],L=m[8],O=m[9],R=m[10],S=m[11];m!==h&&(h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*u-L*y;h[1]=C*u-O*y;h[2]=F*u-R*y;h[3]=I*u-S*y;h[8]=A*y+L*u;h[9]=C*y+O*u;h[10]=F*y+R*u;h[11]=I*y+S*u;return h},UM:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);
var A=m[0],C=m[1],F=m[2],I=m[3],L=m[4],O=m[5],R=m[6],S=m[7];m!==h&&(h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*u+L*y;h[1]=C*u+O*y;h[2]=F*u+R*y;h[3]=I*u+S*y;h[4]=L*u-A*y;h[5]=O*u-C*y;h[6]=R*u-F*y;h[7]=S*u-I*y;return h},tM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=m[0];h[13]=m[1];h[14]=m[2];h[15]=1;return h},sM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=m[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},CE:function(h,m,u){var y=u[0],A=u[1];u=u[2];var C=Math.hypot(y,A,u);if(1E-6>C)return null;C=1/C;y*=C;A*=C;u*=C;C=Math.sin(m);m=Math.cos(m);var F=1-m;h[0]=y*y*F+m;h[1]=A*y*F+u*C;h[2]=u*y*F-A*C;h[3]=0;h[4]=y*A*F-u*C;h[5]=A*A*F+m;h[6]=u*A*F+y*C;h[7]=0;h[8]=y*u*F+A*C;h[9]=A*u*F-y*C;h[10]=u*u*F+m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},zra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=m;h[6]=u;h[7]=0;h[8]=0;h[9]=-u;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Ara:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=0;h[2]=-u;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=u;h[9]=0;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Bra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=0;h[4]=-u;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},tga:q,vra:function(h,m){var u=new pa(3),
y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=y*y+A*A+C*C+F*F;0<S?(u[0]=2*(I*F+R*y+L*C-O*A)/S,u[1]=2*(L*F+R*A+O*y-I*C)/S,u[2]=2*(O*F+R*C+I*A-L*y)/S):(u[0]=2*(I*F+R*y+L*C-O*A),u[1]=2*(L*F+R*A+O*y-I*C),u[2]=2*(O*F+R*C+I*A-L*y));q(h,m,u);return h},wga:r,Mra:p,Lra:w,wra:function(h,m,u,y){var A=m[0],C=m[1],F=m[2],I=m[3],L=A+A,O=C+C,R=F+F;m=A*L;var S=A*O;A*=R;var X=C*O;C*=R;F*=R;L*=I;O*=I;I*=R;R=y[0];var V=y[1];y=y[2];h[0]=(1-(X+F))*R;h[1]=(S+I)*R;h[2]=(A-O)*R;h[3]=0;h[4]=(S-I)*V;h[5]=(1-
(m+F))*V;h[6]=(C+L)*V;h[7]=0;h[8]=(A+O)*y;h[9]=(C-L)*y;h[10]=(1-(m+X))*y;h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h},xra:function(h,m,u,y,A){var C=m[0],F=m[1],I=m[2],L=m[3],O=C+C,R=F+F,S=I+I;m=C*O;var X=C*R,V=C*S;C=F*R;F*=S;var ea=I*S;I=L*O;R*=L;var ca=L*S,aa=y[0],ta=y[1];S=y[2];y=A[0];L=A[1];A=A[2];O=(1-(C+ea))*aa;var oa=(X+ca)*aa;aa*=V-R;X=(X-ca)*ta;ea=(1-(m+ea))*ta;ta*=F+I;V=(V+R)*S;F=(F-I)*S;m=(1-(m+C))*S;h[0]=O;h[1]=oa;h[2]=aa;h[3]=0;h[4]=X;h[5]=ea;h[6]=ta;h[7]=0;h[8]=V;h[9]=F;
h[10]=m;h[11]=0;h[12]=u[0]+y-(O*y+X*L+V*A);h[13]=u[1]+L-(oa*y+ea*L+F*A);h[14]=u[2]+A-(aa*y+ta*L+m*A);h[15]=1;return h},sga:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u+u,F=y+y,I=A+A;u*=C;var L=y*C;y*=F;var O=A*C,R=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-y-A;h[1]=L+m;h[2]=O-F;h[3]=0;h[4]=L-m;h[5]=1-u-A;h[6]=R+C;h[7]=0;h[8]=O+F;h[9]=R-C;h[10]=1-u-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},uga:function(h,m,u,y,A,C,F){var I=1/(u-m),L=1/(A-y),O=1/(C-F);h[0]=2*C*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*C*L;h[6]=0;h[7]=0;h[8]=(u+m)*I;h[9]=(A+y)*L;h[10]=(F+C)*O;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*C*2*O;h[15]=0;return h},perspective:function(h,m,u,y,A){m=1/Math.tan(m/2);h[0]=m/u;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(u=1/(y-A),h[10]=(A+y)*u,h[14]=2*A*y*u):(h[10]=-1,h[14]=-2*y);return h},Nsa:function(h,m,u,y){var A=Math.tan(m.Qta*Math.PI/180),C=Math.tan(m.ira*Math.PI/180),F=Math.tan(m.usa*Math.PI/180);m=Math.tan(m.ita*Math.PI/
180);var I=2/(F+m),L=2/(A+C);h[0]=I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=L;h[6]=0;h[7]=0;h[8]=-((F-m)*I*.5);h[9]=(A-C)*L*.5;h[10]=y/(u-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*u/(u-y);h[15]=0;return h},bha:function(h,m,u,y,A,C,F){var I=1/(m-u),L=1/(y-A),O=1/(C-F);h[0]=-2*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*L;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*O;h[11]=0;h[12]=(m+u)*I;h[13]=(A+y)*L;h[14]=(F+C)*O;h[15]=1;return h},Tga:function(h,m,u,y){var A=m[0],C=m[1];m=m[2];var F=y[0];var I=y[1];var L=y[2];var O=u[0];y=
u[1];var R=u[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(C-y)&&1E-6>Math.abs(m-R))return l(h);u=A-O;y=C-y;O=m-R;var S=1/Math.hypot(u,y,O);u*=S;y*=S;O*=S;R=I*O-L*y;L=L*u-F*O;F=F*y-I*u;(S=Math.hypot(R,L,F))?(S=1/S,R*=S,L*=S,F*=S):F=L=R=0;I=y*F-O*L;var X=O*R-u*F;var V=u*L-y*R;(S=Math.hypot(I,X,V))?(S=1/S,I*=S,X*=S,V*=S):V=X=I=0;h[0]=R;h[1]=I;h[2]=u;h[3]=0;h[4]=L;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=V;h[10]=O;h[11]=0;h[12]=-(R*A+L*C+F*m);h[13]=-(I*A+X*C+V*m);h[14]=-(u*A+y*C+O*m);h[15]=1;return h},Fta:function(h,
m,u,y){var A=m[0],C=m[1];m=m[2];var F=y[0],I=y[1],L=y[2];y=A-u[0];var O=C-u[1];u=m-u[2];var R=y*y+O*O+u*u;0<R&&(R=1/Math.sqrt(R),y*=R,O*=R,u*=R);var S=I*u-L*O;L=L*y-F*u;F=F*O-I*y;R=S*S+L*L+F*F;0<R&&(R=1/Math.sqrt(R),S*=R,L*=R,F*=R);h[0]=S;h[1]=L;h[2]=F;h[3]=0;h[4]=O*F-u*L;h[5]=u*S-y*F;h[6]=y*L-O*S;h[7]=0;h[8]=y;h[9]=O;h[10]=u;h[11]=0;h[12]=A;h[13]=C;h[14]=m;h[15]=1;return h},an:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},rM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];h[9]=m[9]+u[9];h[10]=m[10]+u[10];h[11]=m[11]+u[11];h[12]=m[12]+u[12];h[13]=m[13]+u[13];h[14]=m[14]+u[14];h[15]=m[15]+u[15];return h},bn:t,EM:function(h,m,
u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*u;h[12]=m[12]*u;h[13]=m[13]*u;h[14]=m[14]*u;h[15]=m[15]*u;return h},FM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;h[9]=m[9]+u[9]*y;h[10]=m[10]+u[10]*y;h[11]=m[11]+u[11]*y;h[12]=m[12]+u[12]*y;h[13]=m[13]+u[13]*y;h[14]=m[14]+u[14]*
y;h[15]=m[15]+u[15]*y;return h},jk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]&&h[9]===m[9]&&h[10]===m[10]&&h[11]===m[11]&&h[12]===m[12]&&h[13]===m[13]&&h[14]===m[14]&&h[15]===m[15]},ed:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7],R=h[8],S=h[9],X=h[10],V=h[11],ea=h[12],ca=h[13],aa=h[14];h=h[15];var ta=m[0],oa=m[1],ra=m[2],sa=m[3],qa=m[4],Ca=m[5],Da=m[6],Ea=m[7],Fa=m[8],Ha=m[9],
Ra=m[10],Sa=m[11],za=m[12],Ib=m[13],Jb=m[14];m=m[15];return Math.abs(u-ta)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(y-oa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(oa))&&Math.abs(A-ra)<=1E-6*Math.max(1,Math.abs(A),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(F-qa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(qa))&&Math.abs(I-Ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Ca))&&Math.abs(L-Da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Da))&&Math.abs(O-Ea)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Ea))&&Math.abs(R-Fa)<=1E-6*Math.max(1,Math.abs(R),Math.abs(Fa))&&Math.abs(S-Ha)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ha))&&Math.abs(X-Ra)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Ra))&&Math.abs(V-Sa)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Sa))&&Math.abs(ea-za)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(za))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(Ib))&&Math.abs(aa-Jb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Jb))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},
fp:n,sub:t}),ob=function(){var h=v();return function(m,u,y,A,C,F){u||(u=3);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],C(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2];return m}}();ob=Object.freeze({__proto__:null,create:v,clone:function(h){var m=new pa(3);m[0]=h[0];m[1]=h[1];m[2]=h[2];return m},length:x,hg:z,oa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];return h},set:function(h,m,u,y){h[0]=m;h[1]=u;h[2]=y;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=
m[1]+u[1];h[2]=m[2]+u[2];return h},bn:D,multiply:E,ik:M,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=
Math.round(m[1]);h[2]=Math.round(m[2]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h},VM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;return h},Sy:B,CX:G,RE:H,jX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];return h},normalize:J,Zo:P,nM:Q,mc:function(h,m,u,y){var A=m[0],C=m[1];m=m[2];h[0]=A+y*(u[0]-A);h[1]=C+y*(u[1]-C);h[2]=m+y*(u[2]-m);return h},Qra:function(h,m,u,y,A,C){var F=
C*C,I=F*(2*C-3)+1,L=F*(C-2)+C,O=F*(C-1);C=F*(3-2*C);h[0]=m[0]*I+u[0]*L+y[0]*O+A[0]*C;h[1]=m[1]*I+u[1]*L+y[1]*O+A[1]*C;h[2]=m[2]*I+u[2]*L+y[2]*O+A[2]*C;return h},Rqa:function(h,m,u,y,A,C){var F=1-C,I=F*F,L=C*C,O=I*F;I*=3*C;F*=3*L;C*=L;h[0]=m[0]*O+u[0]*I+y[0]*F+A[0]*C;h[1]=m[1]*O+u[1]*I+y[1]*F+A[1]*C;h[2]=m[2]*O+u[2]*I+y[2]*F+A[2]*C;return h},random:function(h,m){m=m||1;var u=2*Ja()*Math.PI,y=2*Ja()-1,A=Math.sqrt(1-y*y)*m;h[0]=Math.cos(u)*A;h[1]=Math.sin(u)*A;h[2]=y*m;return h},dN:function(h,m,u){var y=
m[0],A=m[1];m=m[2];var C=u[3]*y+u[7]*A+u[11]*m+u[15];C=C||1;h[0]=(u[0]*y+u[4]*A+u[8]*m+u[12])/C;h[1]=(u[1]*y+u[5]*A+u[9]*m+u[13])/C;h[2]=(u[2]*y+u[6]*A+u[10]*m+u[14])/C;return h},zha:function(h,m,u){var y=m[0],A=m[1];m=m[2];h[0]=y*u[0]+A*u[3]+m*u[6];h[1]=y*u[1]+A*u[4]+m*u[7];h[2]=y*u[2]+A*u[5]+m*u[8];return h},Aha:function(h,m,u){var y=u[0],A=u[1],C=u[2],F=m[0],I=m[1];m=m[2];var L=A*m-C*I,O=C*F-y*m,R=y*I-A*F;u=2*u[3];h[0]=F+L*u+2*(A*R-C*O);h[1]=I+O*u+2*(C*L-y*R);h[2]=m+R*u+2*(y*O-A*L);return h},SM:function(h,
m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=m[2]-u[2];C[0]=A[0];C[1]=A[1]*Math.cos(y)-A[2]*Math.sin(y);C[2]=A[1]*Math.sin(y)+A[2]*Math.cos(y);h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},TM:function(h,m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=m[2]-u[2];C[0]=A[2]*Math.sin(y)+A[0]*Math.cos(y);C[1]=A[1];C[2]=A[2]*Math.cos(y)-A[0]*Math.sin(y);h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},UM:function(h,m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=
m[2]-u[2];C[0]=A[0]*Math.cos(y)-A[1]*Math.sin(y);C[1]=A[0]*Math.sin(y)+A[1]*Math.cos(y);C[2]=A[2];h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},angle:function(h,m){var u=h[0],y=h[1],A=h[2],C=m[0],F=m[1],I=m[2];h=(u=Math.sqrt(u*u+y*y+A*A)*Math.sqrt(C*C+F*F+I*I))&&P(h,m)/u;return Math.acos(Math.min(Math.max(h,-1),1))},PX:function(h){h[0]=0;h[1]=0;h[2]=0;return h},an:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},jk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]},ed:function(h,
m){var u=h[0],y=h[1];h=h[2];var A=m[0],C=m[1];m=m[2];return Math.abs(u-A)<=1E-6*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(y-C)<=1E-6*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},sub:D,fp:E,XW:M,VW:B,BX:G,Yy:x,QE:H,forEach:ob});var pb=function(){var h=T();return function(m,u,y,A,C,F){u||(u=4);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],h[3]=m[y+3],C(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2],m[y+3]=
h[3];return m}}();pb=Object.freeze({__proto__:null,create:T,clone:W,hg:Z,oa:Y,set:fa,add:ja,bn:xa,multiply:Ka,ik:Ta,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);h[3]=Math.ceil(m[3]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);h[3]=Math.floor(m[3]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);h[3]=Math.min(m[3],u[3]);return h},max:function(h,m,u){h[0]=
Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);h[3]=Math.max(m[3],u[3]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);h[2]=Math.round(m[2]);h[3]=Math.round(m[3]);return h},scale:Pa,VM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},Sy:Ua,CX:db,length:Qa,RE:La,jX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=-m[3];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];h[3]=1/m[3];return h},
normalize:Ya,Zo:Va,nM:function(h,m,u,y){var A=u[0]*y[1]-u[1]*y[0],C=u[0]*y[2]-u[2]*y[0],F=u[0]*y[3]-u[3]*y[0],I=u[1]*y[2]-u[2]*y[1],L=u[1]*y[3]-u[3]*y[1];u=u[2]*y[3]-u[3]*y[2];y=m[0];var O=m[1],R=m[2];m=m[3];h[0]=O*u-R*L+m*I;h[1]=-(y*u)+R*F-m*C;h[2]=y*L-O*F+m*A;h[3]=-(y*I)+O*C-R*A;return h},mc:gb,random:function(h,m){m=m||1;do{var u=2*Ja()-1;var y=2*Ja()-1;var A=u*u+y*y}while(1<=A);do{var C=2*Ja()-1;var F=2*Ja()-1;var I=C*C+F*F}while(1<=I);A=Math.sqrt((1-A)/I);h[0]=m*u;h[1]=m*y;h[2]=m*C*A;h[3]=m*
F*A;return h},dN:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];h[0]=u[0]*y+u[4]*A+u[8]*C+u[12]*m;h[1]=u[1]*y+u[5]*A+u[9]*C+u[13]*m;h[2]=u[2]*y+u[6]*A+u[10]*C+u[14]*m;h[3]=u[3]*y+u[7]*A+u[11]*C+u[15]*m;return h},Aha:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=u[0],I=u[1],L=u[2];u=u[3];var O=u*y+I*C-L*A,R=u*A+L*y-F*C,S=u*C+F*A-I*y;y=-F*y-I*A-L*C;h[0]=O*u+y*-F+R*-L-S*-I;h[1]=R*u+y*-I+S*-F-O*-L;h[2]=S*u+y*-L+O*-I-R*-F;h[3]=m[3];return h},PX:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},an:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},jk:ub,ed:vb,sub:xa,fp:Ka,XW:Ta,VW:Ua,BX:db,Yy:Qa,QE:La,forEach:pb});var qb=function(){var h=v(),m=z(1,0,0),u=z(0,1,0);return function(y,A,C){var F=P(A,C);if(-.999999>F)return Q(h,m,A),1E-6>x(h)&&Q(h,u,A),J(h,h),wb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;Q(h,A,C);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return Ya(y,y)}}(),rb=function(){var h=hb(),m=hb();return function(u,y,A,C,F,I){ib(h,y,F,I);ib(m,A,C,I);ib(u,h,m,2*I*(1-I));return u}}(),
eb=function(){var h=f();return function(m,u,y,A){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-u[0];h[5]=-u[1];h[8]=-u[2];return Ya(m,Db(m,h))}}();qb=Object.freeze({__proto__:null,create:hb,Vy:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},wta:wb,Ira:function(h,m){var u=2*Math.acos(m[3]),y=Math.sin(u/2);1E-6<y?(h[0]=m[0]/y,h[1]=m[1]/y,h[2]=m[2]/y):(h[0]=1,h[1]=0,h[2]=0);return u},Gra:function(h,m){h=Va(h,m);return Math.acos(2*h*h-1)},multiply:xb,SM:yb,TM:zb,UM:Ab,Tqa:function(h,
m){var u=m[0],y=m[1];m=m[2];h[0]=u;h[1]=y;h[2]=m;h[3]=Math.sqrt(Math.abs(1-u*u-y*y-m*m));return h},exp:Bb,Sga:Cb,pow:function(h,m,u){Cb(h,m);Pa(h,h,u);Bb(h,h);return h},Bta:ib,random:function(h){var m=Ja(),u=Ja(),y=Ja(),A=Math.sqrt(1-m);m=Math.sqrt(m);h[0]=A*Math.sin(2*Math.PI*u);h[1]=A*Math.cos(2*Math.PI*u);h[2]=m*Math.sin(2*Math.PI*y);h[3]=m*Math.cos(2*Math.PI*y);return h},yu:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*u+y*y+A*A+m*m;C=C?1/C:0;h[0]=-u*C;h[1]=-y*C;h[2]=-A*C;h[3]=m*C;return h},
dga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];return h},ura:Db,sra:function(h,m,u,y){var A=.5*Math.PI/180;m*=A;u*=A;y*=A;A=Math.sin(m);m=Math.cos(m);var C=Math.sin(u);u=Math.cos(u);var F=Math.sin(y);y=Math.cos(y);h[0]=A*u*y-m*C*F;h[1]=m*C*y+A*u*F;h[2]=m*u*F-A*C*y;h[3]=m*u*y+A*C*F;return h},an:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:W,hg:Z,oa:Y,set:fa,add:ja,fp:xb,scale:Pa,Zo:Va,mc:gb,length:Qa,Yy:Qa,RE:La,QE:La,normalize:Ya,jk:ub,ed:vb,mta:qb,Cta:rb,
vta:eb});rb=Object.freeze({__proto__:null,create:function(){var h=new pa(8);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var m=new pa(8);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];return m},hg:function(h,m,u,y,A,C,F,I){var L=new pa(8);L[0]=h;L[1]=m;L[2]=u;L[3]=y;L[4]=A;L[5]=C;L[6]=F;L[7]=I;return L},yra:function(h,m,u,y,A,C,F){var I=new pa(8);I[0]=h;I[1]=m;I[2]=u;I[3]=y;A*=.5;C*=.5;F*=.5;I[4]=A*y+C*u-F*
m;I[5]=C*y+F*h-A*u;I[6]=F*y+A*m-C*h;I[7]=-A*h-C*m-F*u;return I},tga:Eb,tM:function(h,m){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*m[0];h[5]=.5*m[1];h[6]=.5*m[2];h[7]=0;return h},CE:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},rga:function(h,m){var u=hb();w(u,m);var y=new pa(3);r(y,m);Eb(h,u,y);return h},oa:Fb,Vy:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,m,u,y,A,C,F,I,L){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=
F;h[6]=I;h[7]=L;return h},Kra:Y,Jra:function(h,m){h[0]=m[4];h[1]=m[5];h[2]=m[6];h[3]=m[7];return h},zta:Y,xta:function(h,m){h[4]=m[0];h[5]=m[1];h[6]=m[2];h[7]=m[3];return h},wga:function(h,m){var u=m[4],y=m[5],A=m[6],C=m[7],F=-m[0],I=-m[1],L=-m[2];m=m[3];h[0]=2*(u*m+C*F+y*L-A*I);h[1]=2*(y*m+C*I+A*F-u*L);h[2]=2*(A*m+C*L+u*I-y*F);return h},translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=.5*u[0],L=.5*u[1];u=.5*u[2];var O=m[4],R=m[5],S=m[6];m=m[7];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=F*I+A*u-
C*L+O;h[5]=F*L+C*I-y*u+R;h[6]=F*u+y*L-A*I+S;h[7]=-y*I-A*L-C*u+m;return h},SM:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-I*y-L*A-O*C;yb(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},TM:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-
I*y-L*A-O*C;zb(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},UM:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-I*y-L*A-O*C;Ab(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},kta:function(h,m,u){var y=u[0],A=u[1],C=u[2];u=u[3];var F=m[0],I=m[1],L=
m[2],O=m[3];h[0]=F*u+O*y+I*C-L*A;h[1]=I*u+O*A+L*y-F*C;h[2]=L*u+O*C+F*A-I*y;h[3]=O*u-F*y-I*A-L*C;F=m[4];I=m[5];L=m[6];O=m[7];h[4]=F*u+O*y+I*C-L*A;h[5]=I*u+O*A+L*y-F*C;h[6]=L*u+O*C+F*A-I*y;h[7]=O*u-F*y-I*A-L*C;return h},lta:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2],O=u[3];h[0]=y*O+m*F+A*L-C*I;h[1]=A*O+m*I+C*F-y*L;h[2]=C*O+m*L+y*I-A*F;h[3]=m*O-y*F-A*I-C*L;F=u[4];I=u[5];L=u[6];O=u[7];h[4]=y*O+m*F+A*L-C*I;h[5]=A*O+m*I+C*F-y*L;h[6]=C*O+m*L+y*I-A*F;h[7]=m*O-y*F-A*I-C*L;return h},
jta:function(h,m,u,y){if(1E-6>Math.abs(y))return Fb(h,m);var A=Math.hypot(u[0],u[1],u[2]);y*=.5;var C=Math.sin(y),F=C*u[0]/A,I=C*u[1]/A;u=C*u[2]/A;y=Math.cos(y);A=m[0];C=m[1];var L=m[2],O=m[3];h[0]=A*y+O*F+C*u-L*I;h[1]=C*y+O*I+L*F-A*u;h[2]=L*y+O*u+A*I-C*F;h[3]=O*y-A*F-C*I-L*u;A=m[4];C=m[5];L=m[6];m=m[7];h[4]=A*y+m*F+C*u-L*I;h[5]=C*y+m*I+L*F-A*u;h[6]=L*y+m*u+A*I-C*F;h[7]=m*y-A*F-C*I-L*u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+
u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];return h},multiply:Gb,fp:Gb,scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;return h},Zo:Va,mc:function(h,m,u,y){var A=1-y;0>Va(m,u)&&(y=-y);h[0]=m[0]*A+u[0]*y;h[1]=m[1]*A+u[1]*y;h[2]=m[2]*A+u[2]*y;h[3]=m[3]*A+u[3]*y;h[4]=m[4]*A+u[4]*y;h[5]=m[5]*A+u[5]*y;h[6]=m[6]*A+u[6]*y;h[7]=m[7]*A+u[7]*y;return h},yu:function(h,m){var u=La(m);h[0]=-m[0]/u;h[1]=-m[1]/u;h[2]=-m[2]/u;h[3]=m[3]/u;h[4]=-m[4]/u;
h[5]=-m[5]/u;h[6]=-m[6]/u;h[7]=m[7]/u;return h},dga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];h[4]=-m[4];h[5]=-m[5];h[6]=-m[6];h[7]=m[7];return h},length:Qa,Yy:Qa,RE:La,QE:La,normalize:function(h,m){var u=La(m);if(0<u){u=Math.sqrt(u);var y=m[0]/u,A=m[1]/u,C=m[2]/u,F=m[3]/u,I=m[4],L=m[5],O=m[6];m=m[7];var R=y*I+A*L+C*O+F*m;h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=(I-y*R)/u;h[5]=(L-A*R)/u;h[6]=(O-C*R)/u;h[7]=(m-F*R)/u}return h},an:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},jk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]},ed:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6];h=h[7];var O=m[0],R=m[1],S=m[2],X=m[3],V=m[4],ea=m[5],ca=m[6];m=m[7];return Math.abs(u-O)<=1E-6*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(y-R)<=1E-6*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(A-S)<=1E-6*Math.max(1,Math.abs(A),Math.abs(S))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(F-V)<=1E-6*Math.max(1,Math.abs(F),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(L-ca)<=1E-6*Math.max(1,Math.abs(L),Math.abs(ca))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}});eb=function(){var h=jb();return function(m,u,y,A,C,F){u||(u=2);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],C(h,h,F),m[y]=h[0],m[y+1]=h[1];return m}}();eb=Object.freeze({__proto__:null,
create:jb,clone:function(h){var m=new pa(2);m[0]=h[0];m[1]=h[1];return m},hg:function(h,m){var u=new pa(2);u[0]=h;u[1]=m;return u},oa:function(h,m){h[0]=m[0];h[1]=m[1];return h},set:function(h,m,u){h[0]=m;h[1]=u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];return h},bn:Wa,multiply:kb,ik:lb,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=
Math.min(m[1],u[1]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;return h},VM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;return h},Sy:Za,CX:mb,length:Na,RE:nb,jX:function(h,m){h[0]=-m[0];h[1]=-m[1];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];return h},normalize:function(h,m){var u=m[0],y=m[1];u=u*u+y*y;0<u&&(u=1/Math.sqrt(u));
h[0]=m[0]*u;h[1]=m[1]*u;return h},Zo:function(h,m){return h[0]*m[0]+h[1]*m[1]},nM:function(h,m,u){m=m[0]*u[1]-m[1]*u[0];h[0]=h[1]=0;h[2]=m;return h},mc:function(h,m,u,y){var A=m[0];m=m[1];h[0]=A+y*(u[0]-A);h[1]=m+y*(u[1]-m);return h},random:function(h,m){m=m||1;var u=2*Ja()*Math.PI;h[0]=Math.cos(u)*m;h[1]=Math.sin(u)*m;return h},Nta:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m;h[1]=u[1]*y+u[3]*m;return h},Ota:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m+u[4];h[1]=u[1]*y+u[3]*m+u[5];
return h},zha:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[3]*m+u[6];h[1]=u[1]*y+u[4]*m+u[7];return h},dN:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[4]*m+u[12];h[1]=u[1]*y+u[5]*m+u[13];return h},rotate:function(h,m,u,y){var A=m[0]-u[0];m=m[1]-u[1];var C=Math.sin(y);y=Math.cos(y);h[0]=A*y-m*C+u[0];h[1]=A*C+m*y+u[1];return h},angle:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];var A=Math.sqrt(u*u+h*h)*Math.sqrt(y*y+m*m);return Math.acos(Math.min(Math.max(A&&(u*y+h*m)/A,-1),1))},PX:function(h){h[0]=
0;h[1]=0;return h},an:function(h){return"vec2("+h[0]+", "+h[1]+")"},jk:function(h,m){return h[0]===m[0]&&h[1]===m[1]},ed:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];return Math.abs(u-y)<=1E-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},Yy:Na,sub:Wa,fp:kb,XW:lb,VW:Za,BX:mb,QE:nb,forEach:eb});d.pl=Nb;d.zsa=Ob;d.Asa=Pb;d.Bsa=Qb;d.bp=Rb;d.Usa=qb;d.Vsa=rb;d.Vta=eb;d.VE=ob;d.mz=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.Lqa?define(["exports"],$a):(Xa=Xa||self,$a(Xa.pl={}));
{"use strict";function d(t,v,x,z){var D=v[0]-t[0];v=v[1]-t[1];var E=z[0]-x[0],M=z[1]-x[1];if(0===E*v-M*D)return!1;z=(D*(x[1]-t[1])+v*(t[0]-x[0]))/(E*v-M*D);t=(E*(t[1]-x[1])+M*(x[0]-t[0]))/(M*D-E*v);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,v,x){return(v[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(v[1]-t[1])}function b(t,v,x){return 0<a(t,v,x)}function e(t,v,x){return 0<=a(t,v,x)}function c(t,v,x){return 0>=a(t,v,x)}var ab=[],bb=[];function f(t,v){var x=v[0]-t[0];t=v[1]-t[1];return x*x+t*t}function k(t,v){var x=
t.length;return t[0>v?v%x+x:v%x]}function g(t,v,x,z){for(;x<z;x++)t.push(v[x])}function l(t,v){var x=k(t,v-1),z=k(t,v);t=k(t,v+1);return 0>a(x,z,t)}var cb=[],sb=[];function n(t,v,x,z){z=z||[];z.length=0;if(v<x)for(var D=v;D<=x;D++)z.push(t[D]);else{for(D=0;D<=x;D++)z.push(t[D]);for(D=v;D<t.length;D++)z.push(t[D])}return z}function q(t){for(var v=[],x,z,D=[],E=Number.MAX_VALUE,M=0;M<t.length;++M)if(l(t,M))for(var B=0;B<t.length;++B){a:{z=t;var G=M,H=B;if(e(k(z,G+1),k(z,G),k(z,H))&&c(k(z,G-1),k(z,G),
k(z,H)))x=!1;else{x=f(k(z,G),k(z,H));for(var J=0;J!==z.length;++J)if((J+1)%z.length!==G&&J!==G&&e(k(z,G),k(z,H),k(z,J+1))&&c(k(z,G),k(z,H),k(z,J))){cb[0]=k(z,G);cb[1]=k(z,H);sb[0]=k(z,J);sb[1]=k(z,J+1);var P=[0,0];var Q=cb[1][1]-cb[0][1];var T=cb[0][0]-cb[1][0];var W=Q*cb[0][0]+T*cb[0][1];var Z=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var fa=Z*sb[0][0]+Y*sb[0][1];var ja=Q*Y-Z*T;0>=Math.abs(ja-0)||(P[0]=(Y*W-T*fa)/ja,P[1]=(Q*fa-Z*W)/ja);ja=P;if(f(k(z,G),ja)<x){x=!1;break a}}x=!0}}if(x){x=q(n(t,M,
B,D));z=q(n(t,B,M,D));for(G=0;G<z.length;G++)x.push(z[G]);x.length<E&&(v=x,E=x.length,v.push([k(t,M),k(t,B)]))}}return v}function r(t,v){if(0===v.length)return[t];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){t=[t];for(var x=0;x<v.length;x++)for(var z=v[x],D=0;D<t.length;D++){var E=r(t[D],z);if(E){t.splice(D,1);t.push(E[0],E[1]);break}}return t}z=v;x=t.indexOf(z[0]);D=t.indexOf(z[1]);return-1!==x&&-1!==D?[n(t,x,D),n(t,D,x)]:!1}function p(t,v,x,z,
D){var E=v[1]-t[1];v=t[0]-v[0];t=E*t[0]+v*t[1];var M=z[1]-x[1];z=x[0]-z[0];x=M*x[0]+z*x[1];var B=E*z-M*v;return Math.abs(B-0)<=(D||0)?[0,0]:[(z*t-v*x)/B,(E*x-M*t)/B]}function w(t,v,x,z,D,E,M){E=E||100;M=M||0;D=D||25;v="undefined"!==typeof v?v:[];x=x||[];z=z||[];var B=[0,0],G=[0,0],H=[0,0],J,P=0,Q=0,T=0,W=[],Z=[];if(3>t.length)return v;M++;if(M>E)return console.warn("quickDecomp: max level ("+E+") reached."),v;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var fa=J=Number.MAX_VALUE;for(var ja=
0;ja<t.length;++ja){if(b(k(t,Y-1),k(t,Y),k(t,ja))&&c(k(t,Y-1),k(t,Y),k(t,ja-1))){H=p(k(t,Y-1),k(t,Y),k(t,ja),k(t,ja-1));var xa=k(t,Y+1);var Ka=k(t,Y);0>a(xa,Ka,H)&&(xa=f(t[Y],H),xa<J&&(J=xa,G=H,Q=ja))}b(k(t,Y+1),k(t,Y),k(t,ja+1))&&c(k(t,Y+1),k(t,Y),k(t,ja))&&(H=p(k(t,Y+1),k(t,Y),k(t,ja),k(t,ja+1)),b(k(t,Y-1),k(t,Y),H)&&(xa=f(t[Y],H),xa<fa&&(fa=xa,B=H,P=ja)))}if(Q===(P+1)%t.length)H[0]=(G[0]+B[0])/2,H[1]=(G[1]+B[1])/2,z.push(H),Y<P?(g(W,t,Y,P+1),W.push(H),Z.push(H),0!==Q&&g(Z,t,Q,t.length),g(Z,t,0,
Y+1)):(0!==Y&&g(W,t,Y,t.length),g(W,t,0,P+1),W.push(H),Z.push(H),g(Z,t,Q,Y+1));else{Q>P&&(P+=t.length);B=Number.MAX_VALUE;if(P<Q)return v;for(ja=Q;ja<=P;++ja)if(e(k(t,Y-1),k(t,Y),k(t,ja))&&c(k(t,Y+1),k(t,Y),k(t,ja))){xa=f(k(t,Y),k(t,ja));if(Q=xa<B)a:{Q=t;G=Y;H=ja;for(fa=0;fa!==Q.length;++fa)if(fa!==G&&fa!==H&&(fa+1)%Q.length!==G&&(fa+1)%Q.length!==H&&d(k(Q,G),k(Q,H),k(Q,fa),k(Q,fa+1))){Q=!1;break a}Q=!0}Q&&(B=xa,T=ja%t.length)}Y<T?(g(W,t,Y,T+1),0!==T&&g(Z,t,T,t.length),g(Z,t,0,Y+1)):(0!==Y&&g(W,t,
Y,t.length),g(W,t,0,T+1),g(Z,t,T,Y+1))}W.length<Z.length?(w(W,v,x,z,D,E,M),w(Z,v,x,z,D,E,M)):(w(Z,v,x,z,D,E,M),w(W,v,x,z,D,E,M));return v}v.push(t);return v}self.Qsa={gra:function(t){var v=q(t);return 0<v.length?r(t,v):[t]},Wsa:w,Yra:function(t){var v;for(v=0;v<t.length-1;v++)for(var x=0;x<v-1;x++)if(d(t[v],t[v+1],t[x],t[x+1]))return!1;for(v=1;v<t.length-2;v++)if(d(t[0],t[t.length-1],t[v],t[v+1]))return!1;return!0},ata:function(t,v){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var D=k(t,z-1);var E=
k(t,z),M=k(t,z+1),B=v;B?(ab[0]=E[0]-D[0],ab[1]=E[1]-D[1],bb[0]=M[0]-E[0],bb[1]=M[1]-E[1],D=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<B):D=0===a(D,E,M);D&&(t.splice(z%t.length,1),x++)}return x},bta:function(t,v){for(var x=t.length-1;1<=x;--x)for(var z=t[x],D=x-1;0<=D;--D){var E=z,M=t[D],B=v;Math.abs(E[0]-M[0])<=(B||0)&&Math.abs(E[1]-M[1])<=(B||0)&&t.splice(x,1)}},ysa:function(t){for(var v=0,x=1;x<t.length;++x)if(t[x][1]<t[v][1]||t[x][1]===
t[v][1]&&t[x][0]>t[v][0])v=x;if(b(k(t,v-1),k(t,v),k(t,v+1)))return!1;v=[];x=t.length;for(var z=0;z!==x;z++)v.push(t.pop());for(z=0;z!==x;z++)t[z]=v[z];return!0}}}{"use strict";const d=self.j=class{constructor(){throw TypeError("static class can't be instantiated");}};d.zu=!1;d.zM=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Pg={}}
{"use strict";const d=self.j;d.bQ=class{constructor(a){this.xfa=a;this.La=new Map;this.Dba()}Dba(){var a=this.xfa;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.Eba(b)}Eba(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.La.set(e,a)}else this.La.set(a,null)}qA(a){return this.La.has(a)}ea(a){a=this.La.get(a);return"undefined"===typeof a?null:a}};d.cQ=new d.bQ(location.search);
d.qla=new d.bQ(location.hash);d.cQ.ea("mode")}
{"use strict";const d=self.j,a=navigator.userAgent;let b={Rga:/linux|openbsd|freebsd|netbsd/i.test(a),aga:/CrOS/.test(a),WE:/trident|iemobile|msie|tizen/i.test(a),Fra:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),NW:/bb10/i.test(a),qga:/edge\//i.test(a),HX:/trident/i.test(a),webkit:/webkit/i.test(a),oha:/safari\//i.test(a),$fa:/chrome\//i.test(a),bga:/chromium\//i.test(a),ega:/crosswalk|xwalk/i.test(a),Hsa:/nwjs/i.test(a),Qfa:/amazonwebappplatform/i.test(a),Fha:/wv\)/.test(a),Rfa:/android/i.test(a),
Zga:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Kb=/android\s+[0-9.]+/i.exec(a),Lb=/OPR\/[0-9.]+/.exec(a),Mb=/tizen\s+[0-9.]+/i.exec(a),Sb=/iphone\s+os\s+[0-9_]+/i.exec(a),Tb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Ub=/windows\s+phone\s+[0-9.]+/i.exec(a),Vb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Wb=/chrome\/[0-9.]+/i.exec(a),Xb=/chromium\/[0-9.]+/i.exec(a),Yb=/nwjs\/[0-9.]+/i.exec(a),Zb=/firefox\/[0-9.]+/i.exec(a),$b=/msie\s+[0-9.]+/i.exec(a),ac=/edge\/[0-9.]+/i.exec(a),
bc=/edg\/[0-9.]+/i.exec(a),cc=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",g="(unknown)",l="browser",n=!1,q=!1,r=new Map;function p(t,v,x){!0===v?(x(),r.set(t,!0)):v&&v.length&&(x(v[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",b.Rga,()=>{e="Linux"});p("isChromeOS",b.aga,()=>{e="Chrome OS"});p("isAndroid",!b.WE&&Kb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Mb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!b.WE&&Sb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!b.WE&&Tb,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Ub,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Vb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",b.NW,()=>{e="Blackberry";c="10";f="stock";g="webkit"});p("isChrome",!b.qga&&!b.opera&&Wb,t=>{f="Chrome";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Lb,t=>{f="Opera";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Xb,t=>{g=f="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",Zb,t=>{f="Firefox";g="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",$b,
t=>{f="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==f&&b.HX,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(f="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",ac,t=>{g=f="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",bc,t=>{f="Edge";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",b.oha&&!b.Zga&&!b.$fa&&!b.bga&&!b.Era&&!b.NW,()=>{f="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
x=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);v&&v.length&&(f="Chrome for iOS",(v=v[0].split("/")[1])&&(k=v));x&&x.length&&(f="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",cc,t=>{f="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",b.ega,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Yb,t=>{l="nwjs";f="NW.js";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",b.Qfa,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===l&&b.Fha,()=>l="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");p("isAndroidFallback","(unknown)"===e&&!b.WE&&b.Rfa,()=>e="Android");p("isTridentFallback",
"(unknown)"===e&&b.HX,()=>g="Trident");p("isWebkitFallback","(unknown)"===e&&b.webkit,()=>g="WebKit");p("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);q="nwjs"===l;const w="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(e="iOS",c=k,q=n=!1);d.Fd={rs:e,Ola:c,eF:f,uia:k,fF:parseFloat(k),sz:g,kF:l,ska:n,yG:!n,tka:q,oka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),jka:"Mac OS X"===e||"iOS"===e,zka:w,Cka:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(w){return new Promise((t,v)=>{w.onsuccess=()=>t(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((t,v)=>{w.oncomplete=()=>t();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function f(w,t){return g(w,t)}function k(w,t){return g(w,t,!0)}async function g(w,t,v=!1,
x=!0){const z=await l(w);try{const D=z.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return t(D)}catch(D){if(x&&"InvalidStateError"===D.name)return d.delete(w),g(w,t,v,!1);throw D;}}function l(w){q(w);let t=d.get(w);t instanceof Promise||(t=n(w),d.set(w,t),t.catch(()=>d.delete(w)));return t}async function n(w){q(w);const t=indexedDB.open(w,2);t.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${w}`,
x)}});return e(t)}function q(w){if("string"!==typeof w)throw new TypeError("expected string");}function r(w,t){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];v.onsuccess=D=>{if(D=D.target.result){switch(t){case "entries":z.push([D.key,D.value]);break;case "keys":z.push(D.key);break;case "values":z.push(D.value)}D.continue()}else x(z)}})}class p{constructor(w){q(w);this.name=w}async ready(){await l(this.name)}set(w,t){q(w);return k(this.name,async v=>{var x=v.objectStore("keyvaluepairs").put(t,
w);x=e(x);v=c(v);await Promise.all([v,x])})}get(w){q(w);return f(this.name,async t=>{var v=t.objectStore("keyvaluepairs").get(w);v=e(v);t=c(t);[,t]=await Promise.all([t,v]);return t})}delete(w){q(w);return k(this.name,async t=>{var v=t.objectStore("keyvaluepairs").delete(w);v=e(v);t=c(t);await Promise.all([t,v])})}clear(){return k(this.name,async w=>{var t=w.objectStore("keyvaluepairs").clear();t=e(t);w=c(w);await Promise.all([w,t])})}keys(){return f(this.name,async w=>{if(b){var t=w.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=r(w,"keys");w=c(w);[,w]=await Promise.all([w,t]);return w})}values(){return f(this.name,async w=>{if(a){var t=w.objectStore("keyvaluepairs").getAll();t=e(t)}else t=r(w,"values");w=c(w);[,w]=await Promise.all([w,t]);return w})}entries(){return f(this.name,async w=>{var t=r(w,"entries");w=c(w);[,t]=await Promise.all([w,t]);return t})}}self.n3=p}"use strict";
{const d=self.n3,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(n=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>n(p.data);q.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.K=l;b.set(this,new Map)}yw(l){if(!e)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async QU(l){l=
b.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async lW(l,n){n=await k(n);b.get(this).set(l,n)}gW(l){b.get(this).delete(l)}tU(){b.get(this).clear()}vV(){return Array.from(b.get(this).keys())}async getItem(l,n){f(n);if(e)return await this.QU(l);let q;try{q=await this.K.get(l)}catch(r){this.yw(r);if(e)return await this.QU(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,n,q){f(q);"undefined"===
typeof n&&(n=null);if(e)await this.lW(l,n);else try{await this.K.set(l,n)}catch(r){if(this.yw(r),e)await this.lW(l,n);else throw r;}}async removeItem(l,n){f(n);if(e)this.gW(l);else try{await this.K.delete(l)}catch(q){this.yw(q),e?this.gW(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){f(l);if(e)this.tU();else try{await this.K.clear()}catch(n){this.yw(n),e?this.tU():console.error("Error clearing storage: ",n)}}async keys(l){f(l);if(e)return this.vV();l=[];try{l=await this.K.keys()}catch(n){this.yw(n);
if(e)return this.vV();console.error("Error getting storage keys: ",n)}return l}ready(l){f(l);return e?Promise.resolve(!0):this.K.ready()}mM(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.j;d.Xb={};d.Xb.pqa=(()=>{try{if("Safari"===d.Fd.eF||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Xb.oja="undefined"!==typeof HTMLDialogElement;d.Xb.Vma=!!self.requestIdleCallback;d.Xb.ImageBitmap=!!self.createImageBitmap;d.Xb.ImageBitmapOptions=!1;if(d.Xb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Xb.ImageBitmapOptions=!0}).catch(()=>{d.Xb.ImageBitmapOptions=!1})}catch(a){d.Xb.ImageBitmapOptions=!1}d.Xb.Fia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Fd.eF);d.Xb.ima=!(!navigator.permissions||!navigator.permissions.query);d.Xb.$P="undefined"!==typeof Proxy;d.Xb.pja="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Xb.vz="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Xb.vja="function"===typeof fetch;d.Xb.kma=!!(self.isSecureContext&&"Opera"!==d.Fd.eF&&navigator.storage&&navigator.storage.persist);d.Xb.Bpa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var dc;if("undefined"===typeof document||"iOS"===d.Fd.rs)dc=!1;else{var ec=document.documentElement;dc=!!(ec.requestFullscreen||ec.msRequestFullscreen||ec.mozRequestFullScreen||ec.webkitRequestFullscreen)}d.Xb.Gja=dc;d.Xb.Wja="undefined"!==typeof self.ImageDecoder;d.Xb.Jla=!!self.showOpenFilePicker;
d.Xb.Kla=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.j;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.bv(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,a(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Xe||(Array.prototype.Xe=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Xe||(String.prototype.Xe=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.j;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.Pz())}}
{"use strict";const d=self.j,a=self.Pg;d.xn=function(e){return"number"===typeof e};d.un=function(e){return d.xn(e)&&isFinite(e)};d.rg=function(e){if(!d.xn(e))throw new TypeError("expected number");};d.nQ=function(){};d.qna=function(e,c,f){if(!d.xn(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.cna=function(...e){for(let c of e);};d.fj=function(e){if(!d.un(e))throw new TypeError("expected finite number");};d.kQ=function(){};d.$ma=function(...e){for(let c of e);};d.cj=function(e){return"string"===
typeof e};d.oe=function(e){if(!d.cj(e))throw new TypeError("expected string");};d.pQ=function(){};d.ena=function(...e){for(let c of e);};d.qP=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Dna=function(e){if(!d.qP(e))throw new TypeError("expected simple object");};d.Ana=function(e){if(!d.Fe(e)&&!d.qP(e))throw new TypeError("expected simple object");};d.pP=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.iQ=function(e){if(!d.pP(e))throw new TypeError("expected object");
};d.oQ=function(){};d.dna=function(...e){for(let c of e);};d.qG=function(e){return d.vn(e,Blob)&&"string"===typeof e.name};d.ona=function(e){if(!d.qG(e))throw new TypeError("expected file");};d.yna=function(){};d.Ap=function(e){return Array.isArray(e)};d.TG=function(e){if(!d.Ap(e))throw new TypeError("expected array");};d.jQ=function(){};d.Zma=function(...e){for(let c of e);};d.K2=function(e){return d.Ap(e)?e.length?d.Ap(e[0])?!0:!1:!0:!1};d.Yma=function(e){if(!d.K2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Ap(c))throw new TypeError("expected 2d array");};d.rna=function(){};d.rG=function(e){return"function"===typeof e};d.Ck=function(e,c){if(!d.rG(e))throw new TypeError("expected function");if(!d.Fe(c)&&e!==c)throw new TypeError("expected same function reference");};d.lQ=function(){};d.ana=function(...e){for(let c of e);};d.gna=function(e,...c){if(!d.rG(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.Fe(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.sna=function(...e){if(!d.Fe(e))for(let c of e);};d.vn=function(e,c){return e instanceof c};d.mP=function(e,...c){for(let f of c)if(d.vn(e,f))return!0;return!1};d.UG=function(e,c){if(!d.vn(e,c))throw new TypeError("unexpected type");};d.mQ=function(){};d.bna=function(e,...c){for(let f of c);};d.hna=function(e,...c){if(!d.mP(e,...c))throw new TypeError("unexpected type");};d.ina=function(e,...c){if(!d.Fe(e)&&!d.mP(e,...c))throw new TypeError("unexpected type");
};d.kka=function(e,c){for(let f of e)if(!d.vn(f,c))return!1;return!0};d.mka=function(e){for(let c of e)if(!d.un(c))return!1;return!0};d.jna=function(e){for(let c of e);};d.tna=function(e){if(!d.Fe(e))for(let c of e);};d.kna=function(e){for(let c of e);};d.una=function(e){if(!d.Fe(e))for(let c of e);};d.pka=function(e,c){return d.Fe(e)||!d.cj(e.nodeName)?!1:!c||d.nl(e.nodeName,c)};d.lna=function(e,c){if(d.Fe(e)||!d.cj(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.nl(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.vna=function(){};d.tG=function(e,c){return d.Fe(e)||!d.cj(e.tagName)?!1:!c||d.nl(e.tagName,c)};d.pna=function(e,c){if(d.Fe(e)||!d.cj(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.nl(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.zna=function(){};d.gP=function(e){return d.tG(e,"img")||d.tG(e,"canvas")||d.tG(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.mna=function(e){if(!d.gP(e))throw new TypeError("expected drawable");
};d.wna=function(){};d.hP=function(e){return e instanceof ImageData?!0:d.gP(e)};d.nna=function(e){if(!d.hP(e))throw new TypeError("expected drawable or image data");};d.xna=function(e){if(!d.Fe(e)&&!d.hP(e))throw new TypeError("expected drawable or image data");};d.h3=function(e){return"string"===typeof e||e instanceof d.jG||e instanceof d.tl};d.Ena=function(e){if(!d.h3(e))throw new TypeError("expected string-like");};d.Bna=function(){};d.fna=function(...e){for(let c of e);};d.Cna=function(){throw Error("must be overridden");
};d.Nla=function(){throw Error("not yet implemented");};d.rka=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.Fe=function(e){return"undefined"===typeof e||null===e};d.fia=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.gia=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.Pka=function(e){return d.vn(e,b)};d.Fna=function(){};
d.oqa=function(e){d.O7(e,b)};d.nqa=function(e,...c){if(!d.N7(e,...c))throw new TypeError("unexpected type");};d.N7=function(e,...c){for(const f of c)if(d.wR(e,f))return!0;return!1};d.O7=function(e,c){if(!d.wR(e,c))throw new TypeError("unexpected type");};d.wR=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.rg=d.rg;a.nQ=d.nQ;a.fj=d.fj;a.kQ=d.kQ;a.oe=d.oe;a.pQ=d.pQ;a.iQ=d.iQ;a.oQ=d.oQ;a.TG=d.TG;a.jQ=d.jQ;a.Ck=d.Ck;a.lQ=d.lQ;a.UG=d.UG;a.mQ=d.mQ;a.Fe=
d.Fe}
{"use strict";const d=self.j,a=new Map;d.Oma=function(r,...p){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);a.set(r,-1)}))};d.Pz=function(){return Error().stack};d.lja=function(){debugger};d.Yqa=function(r,p){return r&&r instanceof p?r:null};d.ol=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.xn(r)?"<number>":d.cj(r)?"<string>":d.Ap(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.rG(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.DE=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let b=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.Rr={};const k=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.Pz())}d.Rr.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||g(`Accessed missing property '${p}' from defended object '${d.ol(r)}', returning undefined`);f.has(r)&&"symbol"!==typeof p&&!k.has(p)&&g(`Accessed property '${p}' on a released object '${d.ol(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);return r[p]};d.Rr.set=function(r,p,w){p in r||b.has(r)||g(`Set non-existent property '${p}' to '${w}' on defended object '${d.ol(r)}'`);
{var t=d.DE(r[p]);let v=d.DE(w);t="null"===t||"null"===v?!0:"undefined"===t||"undefined"===v?!1:t===v}t||b.has(r)||g(`Set '${d.DE(r[p])}' property '${p}' to type '${d.DE(w)}' on defended object '${d.ol(r)}'`);f.has(r)&&g(`Set property '${p}' on a released object '${d.ol(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);r[p]=w;return!0};d.Rr.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.ol(r)}'`);};d.Rr.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.ol(r)}'`);};d.Rr.kra=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.ol(r)}'`);};let l=-1;function n(){l=-1;if(0<b.size||0<e.size){let r=[...new Set([...b.keys()].map(p=>d.ol(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
e.clear()}}d.ga=class{constructor(){if(d.zM&&d.Xb.$P){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.Rr);b.set(r,p);e.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(n));return p}}};d.gga=function(r){if(d.zM&&d.Xb.$P&&r instanceof d.ga){if(!e.has(r))return r;let p=e.get(r);e.delete(r);b.delete(p);return r}return d.zu?Object.seal(r):r};d.A=function(r,...p){let w;try{w=new r(...p)}catch(x){throw e.clear(),b.clear(),x;}if(d.zM){p=w;var t=new Set;for(v in p)t.add(v);var v=t;if(p=
q.get(r)){t=[];for(let x of p.values())v.has(x)?v.delete(x):t.push(x);d.Wo(t,[...v]);t.length&&console.warn(`[Defence] '${d.ol(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,v)}return d.gga(w)};d.g=function(r){(r=c.get(r))&&f.set(r,d.Pz())};d.Qs=function(){let r=c.get(void 0);return r?!!f.get(r):!1};let q=new Map;d.hma=class{constructor(r){this.Fa="";r&&this.start(r)}start(r){this.Fa=r;performance.mark(this.Fa+"-Start")}end(){performance.mark(this.Fa+"-End");performance.measure(this.Fa,
this.Fa+"-Start",this.Fa+"-End")}next(r){this.end();this.Fa=r;performance.mark(this.Fa+"-Start")}}}
{"use strict";const d=self.j,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(f,k,g){f=Math.floor(f);k=Math.floor(k);g=Math.floor(g);return f<k?(f=g-(k-f)%(g-k),f===g?0:f):k+(f-k)%(g-k)};d.Uga=function(f,k,g,l){return(f-k)*(l-0)/(g-k)};d.normalize=function(f,k,g){return(f-k)/(g-k)};d.fa=function(f,k,g){return f<k?k:f>g?g:f};d.ke=function(f){f%=a;0>f&&(f+=a);return f};d.cb=function(f){return f*b};d.Ud=function(f){return f*e};d.Ef=function(f,k,g,l){return Math.hypot(g-f,l-k)};d.WW=function(f,
k,g,l){f=g-f;k=l-k;return f*f+k*k};d.je=function(f,k,g,l){return Math.atan2(l-k,g-f)};d.Um=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.hM=function(f,k,g){let l=Math.sin(f),n=Math.cos(f),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+n*r)>g?0<n*q-l*r?d.ke(f+g):d.ke(f-g):d.ke(k)};d.dg=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};d.gM=function(f,k,g,l=0){let n=d.Um(f,k);l*=a;return d.dg(k,
f)?d.ke(f+(n+l)*g):d.ke(f-(n+l)*g)};d.Tfa=function(f,k,g,l=0){const n=d.Um(f,k);l*=a;return d.dg(k,f)?d.ke(f+(n+l)*g):d.ke((a-n+l)*g)};d.Sfa=function(f,k,g,l=0){const n=d.Um(f,k);l*=a;return d.dg(k,f)?d.ke((-a+n-l)*g):d.ke(f-(n+l)*g)};d.mc=function(f,k,g){return f+g*(k-f)};d.UE=function(f,k,g){return f===k?0:(g-f)/(k-f)};d.jha=function(f,k,g,l){return d.mc(0,l,d.UE(f,k,g))};d.KE=function(f,k,g,l){return d.mc(d.mc(f,k,l),d.mc(k,g,l),l)};d.UW=function(f,k,g,l,n){return d.mc(d.KE(f,k,g,n),d.KE(k,g,l,
n),n)};d.TW=function(f,k,g){return(f+k+(f-k)*Math.cos(g*Math.PI))/2};d.ql=function(f){return 0<f&&0===(f-1&f)};d.GM=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};d.nta=function(f,k){return Math.round(f*k)/k};d.pra=function(f,k){return Math.floor(f*k)/k};d.LE=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};d.v4=function(f,k,g){return d.fa(f,0,255)|d.fa(k,
0,255)<<8|d.fa(g,0,255)<<16};d.IA=function(f,k,g,l){f=d.fa(Math.floor(1024*f),-8192,8191);k=d.fa(Math.floor(1024*k),-8192,8191);g=d.fa(Math.floor(1024*g),-8192,8191);l=d.fa(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*k+1024*g+l)};d.VP=function(f,k,g){return d.IA(f,k,g,1)};d.WF=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.OF=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.BF=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.$_=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.zga=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let g=k;k=f%k;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Hra=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var g of c){let l=
f/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=f/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.zga(f,k);return[f/g,k/g]};d.uta=function(f,k,g,l,n,q,r,p){var w=Math.min(f,g),t=Math.max(n,r);if(Math.max(f,g)<Math.min(n,r)||w>t)return!1;w=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||w>t)return!1;w=n-f+r-g;t=q-k+p-l;f=g-f;k=l-k;n=r-n;q=p-q;p=Math.abs(k*n-q*f);return Math.abs(n*t-q*w)>p?!1:Math.abs(f*t-k*w)<=p};d.Zm=function(f,k,g,l,n,q,r,p,w,t,v,x){const z=Math.max(w,v);if(q<
Math.min(w,v)||n>z)return!1;n=Math.max(t,x);if(p<Math.min(t,x)||r>n)return!1;r=w-f+v-g;p=t-k+x-l;f=g-f;k=l-k;w=v-w;t=x-t;x=Math.abs(k*w-t*f);return Math.abs(w*p-t*r)>x?!1:Math.abs(f*p-k*r)<=x};d.ME=function(f,k,g,l,n){const q=Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),w=Math.max(k,l),t=n.Ab,v=n.zb,x=n.Tb,z=n.fc,D=n.qc,E=n.rc,M=n.hc;n=n.ic;return d.Zm(f,k,g,l,q,r,p,w,t,v,x,z)||d.Zm(f,k,g,l,q,r,p,w,x,z,D,E)||d.Zm(f,k,g,l,q,r,p,w,D,E,M,n)||d.Zm(f,k,g,l,q,r,p,w,M,n,t,v)};d.tta=function(f,k,g,l,n){const q=
Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),w=Math.max(k,l);let t=0;for(let v=n.length-4;t<=v;t+=2)if(d.Zm(f,k,g,l,q,r,p,w,n[t],n[t+1],n[t+2],n[t+3]))return!0;return d.Zm(f,k,g,l,q,r,p,w,n[t],n[t+1],n[0],n[1])};d.iha=function(f,k,g,l,n,q,r,p){g-=f;q=p-q;const w=g*q-(l-k)*(r-n);if(0===w)return 2;l=((k-l)*(r-f)+g*(p-k))/w;return 0<l&&1.000001>l?(q*(r-f)+(n-r)*(p-k))/w:2};d.gz=function(f,k,g,l,n,q,r,p,w){const t=(r-n)*w;w*=p-q;return d.iha(f,k,g,l,n-t,q-w,r+t,p+w)};d.Jga=function(f,k,g,l,n,q,r,p){n-=
g;q-=l;r-=g;p-=l;f-=g;g=k-l;k=n*n+q*q;l=n*r+q*p;n=n*f+q*g;q=r*r+p*p;r=r*f+p*g;p=1/(k*q-l*l);q=(q*n-l*r)*p;n=(k*r-l*n)*p;return 0<=q&&0<=n&&1>=q+n};d.Dha=function(f,k,g,l,n,q,r,p){n-=g;q-=l;r-=g;p-=l;f-=g;const w=k-l;k=n*n+q*q;l=n*r+q*p;g=r*r+p*p;n=f*n+w*q;q=f*r+w*p;r=k*g-l*l;p=(g*n-l*q)/r;n=(k*q-l*n)/r;return[1-p-n,p,n]};d.Cha=function(f,k,g,l,n,q,r,p,w){return[f*l+k*q+g*p,f*n+k*r+g*w]}}
{"use strict";const d=self.j;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Jja=function(){return b};d.CF=function(){if(!a)return"";const l=a.location;return d.c1(l.origin+l.pathname)+b};d.c1=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Lja=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.z0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.Yz=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.I3=function(l){return l.replace(/\\/g,"/")};d.vka=function(l,n){return n===(l?d.z0(l).slice(1):"")};d.wja=function(l,n){let q,r;d.qG(l)&&(q=d.Yz(l.name));d.cj(l)&&(q=
d.Yz(l));d.qG(n)&&(r=d.Yz(n.name));d.cj(n)&&(r=d.Yz(n));return q===r};d.gma=function(l){l=d.I3(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,w="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(w=p.slice(q),l=p.slice(0,-w.length));return{dir:r,Qqa:p,name:l,root:n,ext:w,Cra:n+r+p}};d.zH=function(l,n){return new Promise(q=>{self.setTimeout(q,
l,n)})};d.Eta=function(l){try{l()}catch(n){d.zu&&console.warn("Swallowed exception: ",n)}};d.Fsa=function(){};d.nl=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.lra=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Eha=function(l,n){var q=0;l[q++]=n[0];l[q++]=n[1];l[q++]=n[2];l[q++]=n[3];l[q++]=n[4];l[q++]=n[5];l[q++]=n[6];l[q++]=n[7];l[q++]=n[8];l[q++]=n[9];
l[q++]=n[10];l[q++]=n[11];l[q++]=n[12];l[q++]=n[13];l[q++]=n[14];l[q]=n[15]};d.Ye=function(l,n){l.length=n};d.C=function(l){l&&0!==l.length&&d.Ye(l,0)};d.cga=function(l){if(l){for(let n=0;n<l.length;n++)d.Ye(l[n],0);d.Ye(l,0)}};d.BE=function(l,n,q){n|=0;var r=l.length;if(!(n<=r))for(;r<n;++r)l.push(q)};d.uX=function(l){var n=4;const q=l.length;n<q?d.Ye(l,n):n>q&&d.BE(l,n,"0")};d.xd=function(l,n){d.C(l);d.Wo(l,n)};d.Wo=function(l,n){if(1E4>n.length)l.push(...n);else for(let q=0,r=n.length;q<r;++q)l.push(n[q])};
d.Wfa=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var q=l.length-1;n<q;++n)l[n]=l[n+1];d.Ye(l,q)}};d.Br=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.Pqa=function(l,n){let q=l.length;if(n.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==n[r])return!1;return!0};d.Vfa=function(l,n){let q=[],r=0;for(let p=0,w=l.length;p<w;++p){let t=l[p];n(t)?q.push(t):(l[r]=t,++r)}d.Ye(l,r);return q};d.Mh=function(l,n){const q=l.length;let r=0;for(let p=0,w=l.length;p<w;++p){let t=l[p];n.has(t)||
(l[r++]=t)}d.Ye(l,r);return q-r};d.Gga=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.Uta=function(l,n){if(!d.Gga(l,n))throw new RangeError("array index out of bounds");};d.wE=function(l){return l.slice()};d.hga=function(l,n){let q=[];for(let r of l)if(d.pP(r)){l=n(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.Ap(r)?q.push(d.hga(r,n)):q.push(r);return q};d.Zqa=function(l){let n=[];for(let q of l)n.push(q.slice());
return n};d.Csa=function(l,n){return new Set([...l,...n])};d.Dsa=function(l,n){for(const q of n)l.add(q);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,q){switch(n){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.Pra=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.G4=function(l,n){return l.length?new Promise((q,
r)=>{const p=[];let w=0,t=!1;for(let v=0,x=l.length;v<x;++v)p.push(void 0),l[v].then(z=>{t||(p[v]=z,++w,w===l.length?q(p):n(w,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let e=[];d.Wha=function(l){e.push(l)};d.Kja=function(){let l=0;for(let n of e){let q=n();l+=q}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const n=f.get(l);f.delete(l);n&&n(performance.now())};d.SG=function(l){const n=c++;f.set(n,l);k.port1.postMessage(n);
return n};d.JY=function(l){f.delete(l)};d.C4=d.SG;d.K7=function(){return new Promise(l=>d.C4(l))};const g=new Set;d.Xma=function(l){const n=self.requestAnimationFrame(async q=>{await d.K7();g.has(n)&&(g.delete(n),l(q))});g.add(n);return n};d.yia=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.j;d.nG=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.zG=function(a){return!d.nG(a)};d.o7=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Mz=function(a){return fetch(a,void 0).then(b=>{d.o7(b);return b})};d.dv=function(a){return d.Mz(a).then(b=>b.text())};d.VN=function(a){return d.Mz(a).then(b=>b.json())};d.wl=function(a){return d.Mz(a).then(b=>b.blob())};d.cv=function(a){return d.Mz(a).then(b=>
b.arrayBuffer())};d.S_=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=f=>e(f);c.src=a})};d.yY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.oN=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsText(a)})};d.qia=function(a){return d.oN(a).then(b=>
JSON.parse(b))};d.nN=async function(a,b){a=URL.createObjectURL(a);try{const e=await d.S_(a);URL.revokeObjectURL(a);a="";b&&"function"===typeof e.decode&&await e.decode();return e}finally{a&&URL.revokeObjectURL(a)}};d.Qg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.vz=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.fa(e,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.rl(()=>d.xN(a,b,e))};d.xN=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.fa(e,0,1);return d.tZ(a.toDataURL(b,e))};d.tZ=function(a){a=d.w4(a);return d.xY(a.data,a.Vga)};d.w4=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{Vga:a,data:e}};d.xY=function(a,b){var e=a.length;let c=e>>2,f=new Uint8Array(e),k=new Uint32Array(f.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)f[l]=a.charCodeAt(l),++l;return b?new Blob([f],{type:b}):new Blob([f])};d.ON=function(a){const b=d.Qg(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.vz(b,void 0,void 0)};d.Vja=
function(a,b,e){const c=d.Qg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.xN(c,b,e)};d.Y1=function(a){if(d.Xb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.ON(b));if(d.Xb.ImageBitmap)return createImageBitmap(a).then(b=>d.ON(b));{const b=d.Qg(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.vz(b,void 0,void 0)}};d.iZ=function(a,b){a.clear();for(const e of b)a.add(e)};d.tla=function(a){const b=Object.create(null);for(const [e,
c]of a.entries())b[e]=c;return b};d.Qla=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.wH=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(b))c[f]=e(k);return c}}return b};d.yF=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(f=>
c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,g]of Object.entries(e))f[k]=c(g);return f}}return e};d.BY=function(e){let c="",f=!1;for(const k of e)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};d.wn=function(e){return"object"===typeof e&&"function"===typeof e.next};d.bh=function(e,c){const f=[];if("function"===typeof c)for(var k=0;k<e;++k)f.push(c());else for(k=0;k<e;++k)f.push(c);return f}}
{"use strict";const d=self.j,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(f-c)*k:.5>k?f:k<2/3?c+(f-c)*(2/3-k)*6:c}d.Ya=class{constructor(c,f,k,g){this.Va=this.$a=this.bb=this.Xa=0;c instanceof d.Ya?this.set(c):this.hp(c||0,f||0,k||0,g||0)}Ku(c,f,k){this.Xa=+c;this.bb=+f;this.$a=+k;this.fa()}hp(c,f,k,g){this.Xa=+c;this.bb=+f;this.$a=+k;this.Va=+g;this.fa()}set(c){this.Xa=c.Xa;this.bb=c.bb;this.$a=c.$a;
this.Va=c.Va;return this}oa(c){return this.set(c)}add(c){this.Xa+=c.Xa;this.bb+=c.bb;this.$a+=c.$a;this.Va+=c.Va;this.fa()}JW(c,f,k){this.Xa+=+c;this.bb+=+f;this.$a+=+k;this.Va+=0;this.fa()}hk(c){this.Xa=c.Xa;this.bb=c.bb;this.$a=c.$a}Er(c){this.Xa=d.fa(+c,0,1)}Ju(c){this.bb=d.fa(+c,0,1)}Hu(c){this.$a=d.fa(+c,0,1)}Og(c){this.Va=d.fa(+c,0,1)}clone(){return d.A(d.Ya,this.Xa,this.bb,this.$a,this.Va)}toArray(){return[this.Xa,this.bb,this.$a,this.Va]}Oh(c,f){c[f++]=this.Xa;c[f++]=this.bb;c[f++]=this.$a;
c[f]=this.Va}ed(c){return this.Xa===c.Xa&&this.bb===c.bb&&this.$a===c.$a&&this.Va===c.Va}Wm(c){return this.Xa===c.Xa&&this.bb===c.bb&&this.$a===c.$a}Ty(c,f,k,g){return this.Xa===c&&this.bb===f&&this.$a===k&&this.Va===g}multiply(c){this.Xa*=c.Xa;this.bb*=c.bb;this.$a*=c.$a;this.Va*=c.Va}fz(){this.Xa*=this.Va;this.bb*=this.Va;this.$a*=this.Va}fa(){this.Xa=d.fa(this.Xa,0,1);this.bb=d.fa(this.bb,0,1);this.$a=d.fa(this.$a,0,1);this.Va=d.fa(this.Va,0,1);return this}Iu(c){this.Xa=d.WF(c);this.bb=d.OF(c);
this.$a=d.BF(c);this.Va=d.$_(c)}vga(){return`rgb(${100*(d.un(void 0)?NaN:this.Xa)}%, ${100*(d.un(void 0)?NaN:this.bb)}%, ${100*(d.un(void 0)?NaN:this.$a)}%)`}dha(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.Er(f);isFinite(k)&&this.Ju(k);
isFinite(c)&&this.Hu(c);this.Og(1)}}IE(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.Er(c);isFinite(k)&&this.Ju(k);isFinite(f)&&this.Hu(f);this.Og(1)}}}mX(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),
10)/100;isFinite(c)&&this.Er(c);isFinite(k)&&this.Ju(k);isFinite(f)&&this.Hu(f);this.Og(1)}}}pX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.Er(c);isFinite(k)&&this.Ju(k);isFinite(g)&&this.Hu(g);isFinite(f)&&this.Og(f)}}}nX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=
parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.Er(c);isFinite(k)&&this.Ju(k);isFinite(g)&&this.Hu(g);isFinite(f)&&this.Og(f)}}}qX(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.mX(c):this.IE(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.nX(c):this.pX(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.cha(c);return}{const f=
c.split(",");if(c.includes("%")){if(3===f.length){this.mX(c);return}4===f.length&&this.nX(c)}else{if(3===f.length){this.IE(c);return}4===f.length&&this.pX(c)}return}}this.dha(c)}}toJSON(){return[this.Xa,this.bb,this.$a,this.Va]}wX(c,f,k,g){c%=360;f=d.fa(f,0,100);k=d.fa(k,0,100);g=d.fa(g,0,1);c/=360;f/=100;k/=100;if(0===f)k=f=c=k;else{const l=.5>k?k*(1+f):k+f-k*f,n=2*k-l;k=e(n,l,c+1/3);f=e(n,l,c);c=e(n,l,c-1/3)}this.Er(k);this.Ju(f);this.Hu(c);this.Og(g)}cha(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=a.exec(f);f=b.exec(f);c&&4===c.length?this.wX(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.wX(+c[1],+c[2],+c[3],+c[4])}$m(c){!Array.isArray(c)||3>c.length||(this.Xa=c[0],this.bb=c[1],this.$a=c[2],this.Va=4<=c.length?c[3]:1)}set r(c){this.Er(c)}get r(){return this.Xa}set Uo(c){this.Og(c)}get Uo(){return this.Va}static rF(c,f){return d.fa(Math.max(c,f)-Math.min(c,f),0,1)}};d.Ya.tqa=Object.freeze(d.A(d.Ya,1,1,1,1));d.Ya.pia=Object.freeze(d.A(d.Ya,0,0,0,1));d.Ya.Zpa=Object.freeze(d.A(d.Ya,0,0,0,0))}
{"use strict";const d=self.j;d.Ps=class{constructor(a,b){this.T=this.X=0;a instanceof d.Ps?this.oa(a):this.set(a||0,b||0)}set(a,b){this.X=+a;this.T=+b}oa(a){this.X=a.X;this.T=a.T}ed(a){return this.X===a.X&&this.T===a.T}toArray(){return[this.X,this.T]}Oh(a,b){a[b++]=this.X;a[b]=this.T}offset(a,b){this.X+=+a;this.T+=+b}scale(a,b){this.X*=a;this.T*=b}ik(a,b){this.X/=a;this.T/=b}round(){this.X=Math.round(this.X);this.T=Math.round(this.T)}floor(){this.X=Math.floor(this.X);this.T=Math.floor(this.T)}ceil(){this.X=
Math.ceil(this.X);this.T=Math.ceil(this.T)}angle(){return d.je(0,0,this.X,this.T)}Pga(){return this.X*this.X+this.T*this.T}length(){return Math.sqrt(this.Pga())}mha(a,b){const e=this.X*b-this.T*a;this.T=this.T*b+this.X*a;this.X=e}rotate(a){0!==a&&this.mha(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.X+=Math.cos(a)*b,this.T+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.X/=a,this.T/=a)}fa(a,b){this.X=d.fa(this.X,a,b);this.T=d.fa(this.T,a,b)}}}
{"use strict";const d=self.j;d.Rect=class{constructor(a,b,e,c){this.S=this.U=this.J=this.L=0;a instanceof d.Rect?this.oa(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.L=+a;this.J=+b;this.U=+e;this.S=+c}Mi(a,b,e,c){a=+a;b=+b;this.L=a;this.J=b;this.U=a+ +e;this.S=b+ +c}oa(a){this.L=+a.L;this.J=+a.J;this.U=+a.U;this.S=+a.S}clone(){return new d.Rect(this.L,this.J,this.U,this.S)}ed(a){return this.L===a.L&&this.J===a.J&&this.U===a.U&&this.S===a.S}qha(a){this.U=+a}toArray(){return[this.L,this.J,this.U,
this.S]}xha(){new DOMRect(this.L,this.J,this.width(),this.height())}Oh(a,b){a[b++]=this.L;a[b++]=this.J;a[b++]=this.U;a[b]=this.S}LX(a,b){a[b++]=this.L;a[b++]=this.J;a[b++]=this.U;a[b++]=this.J;a[b++]=this.U;a[b++]=this.S;a[b++]=this.L;a[b]=this.S}width(){return this.U-this.L}height(){return this.S-this.J}cp(){return(this.L+this.U)/2}ep(){return(this.J+this.S)/2}offset(a,b){a=+a;b=+b;this.L+=a;this.J+=b;this.U+=a;this.S+=b}offsetLeft(a){this.L+=+a}offsetTop(a){this.J+=+a}aha(a){this.U+=+a}$ga(a){this.S+=
+a}EE(a,b){a=+a;b=+b;this.L-=a;this.J-=b;this.U+=a;this.S+=b}multiply(a,b){this.L*=a;this.J*=b;this.U*=a;this.S*=b}ik(a,b){this.L/=a;this.J/=b;this.U/=a;this.S/=b}vha(){const a=this.L;this.L=this.U;this.U=a}Hr(){const a=this.J;this.J=this.S;this.S=a}YM(a){const b=this.J;this.J=+a-this.S;this.S=+a-b}round(){this.L=Math.round(this.L);this.J=Math.round(this.J);this.U=Math.round(this.U);this.S=Math.round(this.S)}nha(){this.L=Math.floor(this.L);this.J=Math.floor(this.J);this.U=Math.ceil(this.U);this.S=
Math.ceil(this.S)}floor(){this.L=Math.floor(this.L);this.J=Math.floor(this.J);this.U=Math.floor(this.U);this.S=Math.floor(this.S)}ceil(){this.L=Math.ceil(this.L);this.J=Math.ceil(this.J);this.U=Math.ceil(this.U);this.S=Math.ceil(this.S)}fa(a,b,e,c){this.L<a&&(this.L=+a);this.J<b&&(this.J=+b);this.U>e&&(this.U=+e);this.S>c&&(this.S=+c)}SW(){0>this.L&&(this.L=0);1<this.J&&(this.J=1);1<this.U&&(this.U=1);0>this.S&&(this.S=0)}normalize(){this.L>this.U&&this.vha();this.J>this.S&&this.Hr()}FE(a){return!(a.U<
this.L||a.S<this.J||a.L>this.U||a.J>this.S)}Fga(a,b,e){return!(a.U+b<this.L||a.S+e<this.J||a.L+b>this.U||a.J+e>this.S)}fg(a,b){return a>=this.L&&a<=this.U&&b>=this.J&&b<=this.S}Qga(a){this.L=d.mc(a.L,a.U,this.L);this.J=d.mc(a.J,a.S,this.J);this.U=d.mc(a.L,a.U,this.U);this.S=d.mc(a.J,a.S,this.S)}}}
{"use strict";const d=self.j;d.Jc=class{constructor(a,b,e,c,f,k,g,l){this.ic=this.hc=this.rc=this.qc=this.fc=this.Tb=this.zb=this.Ab=0;a instanceof d.Jc?this.oa(a):this.set(a||0,b||0,e||0,c||0,f||0,k||0,g||0,l||0)}set(a,b,e,c,f,k,g,l){this.Ab=+a;this.zb=+b;this.Tb=+e;this.fc=+c;this.qc=+f;this.rc=+k;this.hc=+g;this.ic=+l}xX(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}oa(a){this.Ab=a.Ab;this.zb=a.zb;this.Tb=a.Tb;this.fc=a.fc;this.qc=a.qc;this.rc=a.rc;this.hc=a.hc;this.ic=a.ic}ed(a){return this.Ab===a.Ab&&this.zb===
a.zb&&this.Tb===a.Tb&&this.fc===a.fc&&this.qc===a.qc&&this.rc===a.rc&&this.hc===a.hc&&this.ic===a.ic}yX(a){this.Ab=+a}zX(a){this.zb=+a}toArray(){return[this.Ab,this.zb,this.Tb,this.fc,this.qc,this.rc,this.hc,this.ic]}Oh(a,b){a[b++]=this.Ab;a[b++]=this.zb;a[b++]=this.Tb;a[b++]=this.fc;a[b++]=this.qc;a[b++]=this.rc;a[b++]=this.hc;a[b]=this.ic}Gha(a,b,e){a[b++]=this.Ab;a[b++]=this.zb;a[b++]=e;a[b++]=this.Tb;a[b++]=this.fc;a[b++]=e;a[b++]=this.qc;a[b++]=this.rc;a[b++]=e;a[b++]=this.hc;a[b++]=this.ic;
a[b]=e}offset(a,b){a=+a;b=+b;this.Ab+=a;this.zb+=b;this.Tb+=a;this.fc+=b;this.qc+=a;this.rc+=b;this.hc+=a;this.ic+=b}round(){this.Ab=Math.round(this.Ab);this.zb=Math.round(this.zb);this.Tb=Math.round(this.Tb);this.fc=Math.round(this.fc);this.qc=Math.round(this.qc);this.rc=Math.round(this.rc);this.hc=Math.round(this.hc);this.ic=Math.round(this.ic)}floor(){this.Ab=Math.floor(this.Ab);this.zb=Math.floor(this.zb);this.Tb=Math.floor(this.Tb);this.fc=Math.floor(this.fc);this.qc=Math.floor(this.qc);this.rc=
Math.floor(this.rc);this.hc=Math.floor(this.hc);this.ic=Math.floor(this.ic)}ceil(){this.Ab=Math.ceil(this.Ab);this.zb=Math.ceil(this.zb);this.Tb=Math.ceil(this.Tb);this.fc=Math.ceil(this.fc);this.qc=Math.ceil(this.qc);this.rc=Math.ceil(this.rc);this.hc=Math.ceil(this.hc);this.ic=Math.ceil(this.ic)}Nh(a){this.Ab=a.L;this.zb=a.J;this.Tb=a.U;this.fc=a.J;this.qc=a.U;this.rc=a.S;this.hc=a.L;this.ic=a.S}NE(a,b){0===b?this.Nh(a):this.OE(a,Math.sin(b),Math.cos(b))}OE(a,b,e){const c=a.L*b,f=a.J*b,k=a.U*b;
b*=a.S;const g=a.L*e,l=a.J*e,n=a.U*e;a=a.S*e;this.Ab=g-f;this.zb=l+c;this.Tb=n-f;this.fc=l+k;this.qc=n-b;this.rc=a+k;this.hc=g-b;this.ic=a+c}uM(a){a.set(Math.min(this.Ab,this.Tb,this.qc,this.hc),Math.min(this.zb,this.fc,this.rc,this.ic),Math.max(this.Ab,this.Tb,this.qc,this.hc),Math.max(this.zb,this.fc,this.rc,this.ic))}fg(a,b){var e=this.Tb-this.Ab,c=this.fc-this.zb;const f=this.qc-this.Ab,k=this.rc-this.zb;a-=this.Ab;b-=this.zb;var g=e*e+c*c;let l=e*f+c*k;c=e*a+c*b;const n=f*f+k*k,q=f*a+k*b;let r=
1/(g*n-l*l);e=(n*c-l*q)*r;g=(g*q-l*c)*r;if(0<=e&&0<g&&1>e+g)return!0;e=this.hc-this.Ab;c=this.ic-this.zb;g=e*e+c*c;l=e*f+c*k;c=e*a+c*b;r=1/(g*n-l*l);e=(n*c-l*q)*r;g=(g*q-l*c)*r;return 0<=e&&0<g&&1>e+g}cp(){return(this.Ab+this.Tb+this.qc+this.hc)/4}ep(){return(this.zb+this.fc+this.rc+this.ic)/4}xM(a){var b=a.cp(),e=a.ep();if(this.fg(b,e))return!0;b=this.cp();e=this.ep();if(a.fg(b,e))return!0;b=this.Ab;e=this.zb;const c=this.Tb,f=this.fc,k=this.qc,g=this.rc,l=this.hc,n=this.ic;return d.ME(b,e,c,f,a)||
d.ME(c,f,k,g,a)||d.ME(k,g,l,n,a)||d.ME(l,n,b,e,a)}lha(){const a=this.Ab,b=this.zb;this.Ab=this.Tb;this.zb=this.fc;this.Tb=this.qc;this.fc=this.rc;this.qc=this.hc;this.rc=this.ic;this.hc=a;this.ic=b}}}
{"use strict";const d=self.j,a=[0,0,1,0,1,1,0,1],b=d.A(d.Jc);d.fn=class extends d.ga{constructor(e,c=!0){super();e||(e=a);this.Oc=Float64Array.from(e);this.SB=new d.Rect;this.Oq=!0;this.vh=c}g(){}cz(){return this.Oc.length/2}PE(e){this.Oc.length===e.length?this.Oc.set(e):this.Oc=Float64Array.from(e);this.Oq=!0}pha(){this.PE(a)}oa(e){this.PE(e.Oc)}WM(){this.Oq=!0}Ifa(){if(this.Oq){var e=this.Oc,c=e[0],f=e[1],k=c,g=f;for(let l=0,n=e.length;l<n;l+=2){const q=e[l],r=e[l+1];q<c&&(c=q);q>k&&(k=q);r<f&&
(f=r);r>g&&(g=r)}this.SB.set(c,f,k,g);this.Oq=!1}}Nh(e,c,f){let k=this.Oc;8!==k.length&&(this.Oc=k=new Float64Array(8));k[0]=e.L-c;k[1]=e.J-f;k[2]=e.U-c;k[3]=e.J-f;k[4]=e.U-c;k[5]=e.S-f;k[6]=e.L-c;k[7]=e.S-f;this.SB.oa(e);0===c&&0===f||this.SB.offset(-c,-f);this.Oq=!1}XM(e,c,f){b.oa(e);b.offset(c,f);this.PE(b.toArray());this.Oq=!0}transform(e,c,f){let k=0,g=1;0!==f&&(k=Math.sin(f),g=Math.cos(f));this.eN(e,c,k,g)}eN(e,c,f,k){const g=this.Oc;for(let l=0,n=g.length;l<n;l+=2){const q=l+1,r=g[l]*e,p=g[q]*
c;g[l]=r*k-p*f;g[q]=p*k+r*f}this.Oq=!0}offset(e,c){const f=this.Oc;for(let k=0,g=f.length;k<g;k+=2)f[k]+=e,f[k+1]+=c}fg(e,c){const f=this.Oc;if(e===f[0]&&c===f[1])return!0;this.Ifa();var k=this.SB;const g=k.L-110,l=k.J-101,n=k.U+131;k=k.S+120;let q,r,p,w,t,v,x,z;g<e?(q=g,p=e):(q=e,p=g);l<c?(r=l,w=c):(r=c,w=l);n<e?(t=n,x=e):(t=e,x=n);k<c?(v=k,z=c):(v=c,z=k);let D=0,E=0;for(let B=0,G=f.length;B<G;B+=2){var M=(B+2)%G;const H=f[B],J=f[B+1],P=f[M];M=f[M+1];d.Zm(g,l,e,c,q,p,r,w,H,J,P,M)&&++D;d.Zm(n,k,e,
c,t,x,v,z,H,J,P,M)&&++E}return 1===D%2||1===E%2}Wy(e,c,f){const k=e.Oc,g=this.Oc;if(this.fg(k[0]+c,k[1]+f)||e.fg(g[0]-c,g[1]-f))return!0;for(let n=0,q=g.length;n<q;n+=2){var l=(n+2)%q;e=g[n];const r=g[n+1],p=g[l];l=g[l+1];let w,t,v,x;e<p?(w=e,v=p):(w=p,v=e);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,D=k.length;z<D;z+=2){const E=(z+2)%D;if(d.Zm(e,r,p,l,w,v,t,x,k[z]+c,k[z+1]+f,k[E]+c,k[E+1]+f))return!0}}return!1}Z0(){const e=this.Oc;let c=0;for(let f=0,k=e.length;f<k;f+=2)c+=e[f];return c/this.cz()}$0(){const e=
this.Oc;let c=0;for(let f=0,k=e.length;f<k;f+=2)c+=e[f+1];return c/this.cz()}e1(){return this.cz()}jd(){return this.vh}}}
{"use strict";const d=self.j;d.Lv=class extends d.ga{constructor(a){super();this.Vk=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}g(){this.Gc();this.Vk=null}Gc(){const a=this.Vk;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.Vk;let f=c.get(a);f||(f=new Map,c.set(a,f));f.set(b,e)}ea(a,b){return(a=this.Vk.get(a))?a.get(b):a}qA(a){return(a=this.Vk.get(a))?a.has(void 0):!1}gn(a,b){const e=this.Vk,c=e.get(a);if(!c)return!1;(b=c.delete(b))&&0===c.size&&e.delete(a);return b}MN(a){const b=
this.Vk,e=b.get(a);e&&(e.clear(),b.delete(a));for(const [c,f]of b.entries())f.delete(a)&&0===f.size&&b.delete(c)}pn(){let a=0;for(const b of this.Vk.values())a+=b.size;return a}*values(){for(const a of this.Vk.values())yield*a.values()}*entries(){for(const [a,b]of this.Vk.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.j;d.bF=class extends d.ga{constructor(){super();this.Do=new Set;this.Xc=[];this.Rx=!1}g(){this.Gc()}Gc(){this.Do.clear();d.C(this.Xc);this.Rx=!1}Rc(a){this.Do.has(a)||(this.Do.add(a),this.Rx||this.Xc.push(a))}qA(a){return this.Do.has(a)}gn(a){this.Do.delete(a)&&(this.Rx=!0)}pn(){return this.Do.size}tn(){return 0===this.Do.size}AF(){this.Rx&&(this.Mba(),this.Rx=!1);return this.Xc}Mba(){const a=this.Xc;d.C(a);for(const b of this.Do)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.av=class k{constructor(){}static W2(g){this.IH();return[...a.keys()].includes(g)}static C$(g){const l=f.get(g);if(l)return d.get(l);if(k.W2(g))return d.get(g);if(c.has(g))return c.get(g)}static tp(g){this.IH();const l=k.C$(g);return l?l:e.get(g)}static IH(){0===d.size&&(this.Hb("default",()=>{}),this.Hb("noease",this.H3),this.Hb("easeinsine",this.y_),this.Hb("easeoutsine",
this.H_),this.Hb("easeinoutsine",this.u_),this.Hb("easeinelastic",this.j_),this.Hb("easeoutelastic",this.C_),this.Hb("easeinoutelastic",this.p_),this.Hb("easeinback",this.g_),this.Hb("easeoutback",this.z_),this.Hb("easeinoutback",this.l_),this.Hb("easeinbounce",this.PN),this.Hb("easeoutbounce",this.tF),this.Hb("easeinoutbounce",this.m_),this.Hb("easeincubic",this.i_),this.Hb("easeoutcubic",this.B_),this.Hb("easeinoutcubic",this.o_),this.Hb("easeinquad",this.v_),this.Hb("easeoutquad",this.E_),this.Hb("easeinoutquad",
this.r_),this.Hb("easeinquart",this.w_),this.Hb("easeoutquart",this.F_),this.Hb("easeinoutquart",this.s_),this.Hb("easeinquint",this.x_),this.Hb("easeoutquint",this.G_),this.Hb("easeinoutquint",this.t_),this.Hb("easeincirc",this.h_),this.Hb("easeoutcirc",this.A_),this.Hb("easeinoutcirc",this.n_),this.Hb("easeinexpo",this.k_),this.Hb("easeoutexpo",this.D_),this.Hb("easeinoutexpo",this.q_),this.DR("cubicbezier",this.f_),this.DR("spline",this.I_))}static Hb(g,l){k.BH(g,l,"predefined")}static DR(g,l){k.BH(g,
l,"private")}static UX(g,l){this.IH();k.BH(g,l,"custom",void 0)}static BH(g,l,n,q){switch(n){case "predefined":d.set(g,l);a.set(g,l);break;case "custom":q?(b.has(q)||b.set(q,new Map),b.get(q).set(g,l)):e.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static H3(g,l,n,q){return n*g/q+l}static v_(g,l,n,q){return n*(g/=q)*g+l}static E_(g,l,n,q){return-n*(g/=q)*(g-2)+l}static r_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static i_(g,
l,n,q){return n*(g/=q)*g*g+l}static B_(g,l,n,q){return n*((g=g/q-1)*g*g+1)+l}static o_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static w_(g,l,n,q){return n*(g/=q)*g*g*g+l}static F_(g,l,n,q){return-n*((g=g/q-1)*g*g*g-1)+l}static s_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static x_(g,l,n,q){return n*(g/=q)*g*g*g*g+l}static G_(g,l,n,q){return n*((g=g/q-1)*g*g*g*g+1)+l}static t_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static y_(g,
l,n,q){return-n*Math.cos(g/q*(Math.PI/2))+n+l}static H_(g,l,n,q){return n*Math.sin(g/q*(Math.PI/2))+l}static u_(g,l,n,q){return-n/2*(Math.cos(Math.PI*g/q)-1)+l}static k_(g,l,n,q){return 0===g?l:n*Math.pow(2,10*(g/q-1))+l}static D_(g,l,n,q){return g===q?l+n:n*(-Math.pow(2,-10*g/q)+1)+l}static q_(g,l,n,q){return 0===g?l:g===q?l+n:1>(g/=q/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static h_(g,l,n,q){return-n*(Math.sqrt(1-(g/=q)*g)-1)+l}static A_(g,l,n,q){return n*Math.sqrt(1-(g=g/q-
1)*g)+l}static n_(g,l,n,q){return 1>(g/=q/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static j_(g,l,n,q){let r=0,p=n;if(0===g)return l;if(1===(g/=q))return l+n;r||(r=.3*q);p<Math.abs(n)?(p=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-n)*Math.PI/r))+l}static C_(g,l,n,q){let r,p=0,w=n;if(0===g)return l;if(1===(g/=q))return l+n;p||(p=.3*q);w<Math.abs(n)?(w=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+n+l}static p_(g,l,n,q){let r,p=0,w=n;if(0===g)return l;if(2===(g/=q/2))return l+n;p||(p=.3*q*1.5);w<Math.abs(n)?(w=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+n+l}static g_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*(g/=q)*g*((r+1)*g-r)+l}static z_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*((g=g/q-1)*g*((r+1)*g+r)+1)+l}static l_(g,l,n,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?n/2*g*g*(((r*=1.525)+1)*g-r)+l:n/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+l}static PN(g,l,n,q){return n-k.tF(q-g,0,n,q)+l}static tF(g,l,n,q){return(g/=q)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static m_(g,l,n,q){return g<q/2?.5*k.PN(2*g,0,n,q)+l:.5*k.tF(2*g-q,0,n,q)+.5*n+l}static f_(g,l,n,q,r){return l+3*g*(n-l)+3*g**2*(l+q-2*n)+g**3*(r-l+3*n-3*q)}static I_(g,l,n,q,r,p,w,t,v,x){if(q===
r&&p===w)return g;if(1==g)g=1;else{for(var z=0,D=1,E=x[D];10!=D&&E<=g;)D++,E=x[D],z+=.1;D--;E=x[D];x=z+(g-E)/(x[D+1]-E)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-g)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;D=0;let M;do x=q+(z-q)/2,E=((t*x+p)*x+l)*x-g,0<E?z=x:q=x,E=1E-7<Math.abs(E),M=10>++D;while(E&&M)}g=x}return(((v-3*w+3*r-n)*g+(3*w-6*r+3*n))*g+3*(r-n))*g}static f0(g,l,n,q){const r=[];q=q-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+n)*l+g)*l);return r}}}{"use strict";const d=self.j;d.Kma=class{constructor(){this.sV=[]}g(){this.Gc();this.sV=null}Gc(){d.cga(this.sV)}}}"use strict";
self.j.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.Hga=this.QM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Hga)throw Error(`cannot stop async event '${this.type}' propagation`);this.QM=!0}};
{"use strict";const d=self.j;d.Event.u1=class extends d.ga{constructor(a){super();this.za=a;this.Uf=[];this.ft=new Set;this.Zf=[];this.Kt=new Set;this.bx=0;this.Yt=[]}g(){0<this.bx||(d.C(this.Uf),this.ft.clear(),d.C(this.Zf),this.Kt.clear(),d.C(this.Yt),d.g(this))}BR(a,b){this.GS()?this.Yt.push({KM:"add",Li:a,capture:b}):b?this.ft.has(a)||(this.Uf.push(a),this.ft.add(a)):this.Kt.has(a)||(this.Zf.push(a),this.Kt.add(a))}$ba(a,b){this.GS()?this.Yt.push({KM:"remove",Li:a,capture:b}):b?this.ft.has(a)&&
(this.ft.delete(a),d.Br(this.Uf,a)):this.Kt.has(a)&&(this.Kt.delete(a),d.Br(this.Zf,a))}maa(){return!this.Uf.length&&!this.Zf.length}GS(){return 0<this.bx}Jba(){const a=new Set,b=new Set;for(const e of this.Yt)if("add"===e.KM)this.BR(e.Li,e.capture),e.capture?b.delete(e.Li):a.delete(e.Li);else if("remove"===e.KM)e.capture?(this.ft.delete(e.Li),b.add(e.Li)):(this.Kt.delete(e.Li),a.add(e.Li));else throw Error("invalid op");d.Mh(this.Zf,a);d.Mh(this.Uf,b);d.C(this.Yt)}o$(a){this.Us();let b=!1;for(let e=
0,c=this.Uf.length;e<c;++e)if(this.Uf[e](a),a.QM){b=!0;break}if(!b)for(let e=0,c=this.Zf.length;e<c&&(this.Zf[e](a),!a.QM);++e);this.Ss();return!a.defaultPrevented}q$(a){this.Us();for(let b=0,e=this.Uf.length;b<e;++b)this.Uf[b](a);for(let b=0,e=this.Zf.length;b<e;++b)this.Zf[b](a);this.Ss();return!0}Us(){this.bx++}Ss(){this.bx--;0===this.bx&&0<this.Yt.length&&this.Jba()}Ds(a){a?this.Us():this.Ss()}cS(a){const b=[];this.Us();for(let c=0,f=this.Uf.length;c<f;++c){var e=this.Uf[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,f=this.Zf.length;c<f;++c)e=this.Zf[c](a),e instanceof Promise&&b.push(e);this.Ss();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async l$(a){return await this.cS(a)}async m$(a){this.Us();for(let e=0,c=this.Uf.length;e<c;++e){var b=this.Uf[e](a);b instanceof Promise&&await b}for(let e=0,c=this.Zf.length;e<c;++e)b=this.Zf[e](a),b instanceof Promise&&await b;this.Ss();return!a.defaultPrevented}*n$(a){this.Us();for(let e=0,c=this.Uf.length;e<c;++e){var b=
this.Uf[e](a);d.wn(b)&&(yield*b)}for(let e=0,c=this.Zf.length;e<c;++e)b=this.Zf[e](a),d.wn(b)&&(yield*b);this.Ss()}}}
{"use strict";const d=self.j;d.Event.Db=class extends d.ga{constructor(){super();this.Aq=new Map;this.BJ=!1}g(){if(this.BJ)throw Error("already released");this.PY();this.BJ=!0;d.g(this)}Qs(){return this.BJ}PY(){for(let a of this.Aq.values())a.g();this.Aq.clear()}$p(a,b){let e=this.Aq.get(a);return e?e:b?(e=d.A(d.Event.u1,a),this.Aq.set(a,e),e):null}eG(a){return this.Aq.has(a)}addEventListener(a,b,e){this.$p(a,!0).BR(b,!!e)}removeEventListener(a,b,e){let c=this.$p(a,!1);c&&(c.$ba(b,!!e),c.maa()&&this.Aq.delete(a))}dispatchEvent(a){const b=
this.$p(a.type,!1);return b?a.cancelable?b.o$(a):b.q$(a):!0}async pM(a){const b=this.$p(a.type,!1);return b?await b.l$(a):!0}mga(a){const b=this.$p(a.type,!1);return b?b.cS(a):!0}async lga(a){const b=this.$p(a.type,!1);b&&await b.m$(a)}nga(a){const b=this.$p(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.n$(a)}Ds(a){for(const b of this.Aq.values())b.Ds(a)}}}
{"use strict";const d=self.j,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function f(n){e=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){e=-1;if(b.length){var q=performance.now(),r=0;do{g(b.shift());var p=performance.now();++r;var w=(p-q)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>p-q+w));-1===e&&b.length&&f(Math.max(16-(p-q),4))}}function g(n){let q;try{q=n.Li()}catch(r){n.reject(r);return}n.resolve(q)}let l=d.cQ.qA("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.rl=function(n){let q=null;d.zu&&(q=d.Pz());return new Promise((r,p)=>{b.push({Li:n,resolve:r,reject:p,stack:q});l?g(b.pop()):-1===e&&f(16)})};d.rl.LQ=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.j;let a=-1;function b(){a=-1}d.Lz=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,f=new Set;function k(){c=e=-1;let g=Date.now();for(let l of f)if(l.L8(g)){let n=l.wq;if(-1===c||n<c)c=n}else f.delete(l);-1!==c&&(e=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.X1=class{constructor(g,l){this.et=g;this.dE=1E3*l;this.wq=0;this.Mb=!1}kd(){let g=d.Lz();this.wq=g+this.dE;this.Mb||(f.add(this),this.Mb=!0);-1===e?(c=this.wq,e=self.setTimeout(k,this.dE+
100)):this.wq<c&&c>g+1E3&&(self.clearTimeout(e),c=this.wq,e=self.setTimeout(k,this.dE+100))}L8(g){return g>=this.wq?this.et()?(this.wq=g+this.dE,!0):this.Mb=!1:!0}IY(){this.Mb&&(f.delete(this),this.Mb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}g(){this.IY();this.et=null}}}
{"use strict";const d=self.j;d.fd=class a{constructor(b){this.ut=!1;this.DJ=b}Iz(){this.ut||(this.ut=!0,this.DJ&&(this.DJ(),this.DJ=null))}g(){this.Iz()}static g(b){return new a(()=>b.g())}static Wd(b,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const k=new d.Pr;for(let g of e)b.addEventListener(g,c,f),k.Rc(d.A(d.fd,()=>b.removeEventListener(g,c,f)));return k}b.addEventListener(e,
c,f);return d.A(d.fd,()=>b.removeEventListener(e,c,f))}};d.Kpa=class extends d.fd{};d.Pr=class extends d.fd{constructor(...a){super();this.zd=new Set;for(let b of a)this.Rc(b)}Rc(...a){if(this.ut)throw Error("already disposed");for(let b of a)this.zd.add(b)}$h(a){if(this.ut)throw Error("already disposed");this.zd.delete(a)}Iz(){if(this.ut)throw Error("already disposed");this.ut=!0;for(let a of this.zd)a.Iz();this.zd.clear();this.zd=null}g(){this.Iz()}}}
{"use strict";const d=self.j;d.Fv=class extends d.ga{constructor(){super();this.eu=this.xy=this.T=this.VB=0}Rc(a){this.T=+a-this.VB;this.xy=this.eu+this.T;this.VB=this.xy-this.eu-this.T;this.eu=this.xy}ea(){return this.eu}kd(){this.eu=this.xy=this.T=this.VB=0}Set(a){this.xy=this.T=this.VB=0;this.eu=+a}g(){}}}
{"use strict";const d=self.j,a={NG:function(b){this.GX=b;this.left=this.right=this.GX.ob;this.parent=null;this.color=!1;this.key=null},Jp:function(b){this.size=0;this.ob=new a.NG(this);this.ob.color=!1;this.root=this.ob;this.root.parent=this.ob;this.compare=b||this.iga}};ya=a.Jp.prototype;ya.iga=function(b,e){return b<e?-1:e<b?1:0};ya.clone=function(){var b=new a.Jp(this.compare);b.Cga(this);return b};ya.clear=function(){this.size=0;this.ob=new a.NG(this);this.ob.color=!1;this.root=this.ob;this.root.parent=
this.ob};ya.Xy=function(b){var e=b.right;b.right=e.left;e.left!=this.ob&&(e.left.parent=b);e.parent=b.parent;b.parent==this.ob?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};ya.iz=function(b){var e=b.left;b.left=e.right;e.right!=this.ob&&(e.right.parent=b);e.parent=b.parent;b.parent==this.ob?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};ya.wu=function(b){if(this.contains(b))this.Uy(b).key=b;else{var e=new a.NG(this);e.key=
b;b=this.ob;for(var c=this.root;c!=this.ob;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.ob?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.ob;e.right=this.ob;e.color=!0;this.Dga(e);this.size++}};ya.Dga=function(b){for(;b!=this.ob&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.Xy(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.ob&&this.iz(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.iz(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.ob&&this.Xy(b.parent.parent));this.root.color=!1};ya.kga=function(b){var e=b.left==this.ob||b.right==this.ob?b:this.kp(b);var c=e.left!=this.ob?e.left:e.right;c.parent=e.parent;e.parent==
this.ob?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.jga(c);this.size--};ya.jga=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.Xy(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.iz(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.Xy(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.iz(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Xy(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.iz(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.Uy(b);if(b!=this.ob){var e=b.key;this.kga(b);return e}return null};ya.min=function(b){for(;b.left!=this.ob;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.ob;)b=b.right;return b};ya.kp=function(b){if(b.right!=this.ob)return this.min(b.right);for(var e=b.parent;e!=this.ob&&b==e.right;)b=e,e=e.parent;return e};ya.Uy=function(b){for(var e=this.root;e!=this.ob&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};ya.contains=function(b){return null!=this.Uy(b).key};ya.vM=function(){var b=[];this.forEach(function(e){b.push(e)});return b};ya.Cga=function(b){if("array"==a.fN(b))for(var e=0;e<b.length;e++)this.wu(b[e]);
else if("function"==a.fN(b.forEach))b.forEach(this.wu,this);else if("function"==a.fN(b.vM))for(b=b.vM(),e=0;e<b.length;e++)this.wu(b[e]);else if("object"==a.fN(b))for(e in b)this.wu(b[e])};ya.range=function(b,e){var c=[];this.Bha(function(f){c.push(f)},b,e);return c};ya.Bha=function(b,e,c){if(!this.Au())for(e=this.Uy(e),c=this.Uy(c);e!=c&&!b.call(void 0,e.key,this);)e=this.kp(e)};ya.forEach=function(b,e){if(!this.Au())for(var c=this.min(this.root);c!=this.ob;c=this.kp(c))b.call(e,c.key,c.key,this)};
ya.some=function(b,e){if(this.Au())return!1;for(var c=this.min(this.root);c!=this.ob;c=this.kp(c))if(b.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(b,e){if(this.Au())return!1;for(var c=this.min(this.root);c!=this.ob;c=this.kp(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(b,e){var c=[];if(this.Au())return c;for(var f=this.min(this.root);f!=this.ob;f=this.kp(f))c.push(b.call(e,f.key,f.key,this));return c};ya.filter=function(b,e){var c=[];if(this.Au())return c;
for(var f=this.min(this.root);f!=this.ob;f=this.kp(f))b.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.Au=function(){return 0==this.size};d.Jp=class extends d.ga{constructor(b){super();this.yi=new a.Jp(b);this.xt=!1;this.gr=new Set;this.hr=new Set}Rc(b){this.xt?this.yi.contains(b)?this.hr.delete(b):this.gr.add(b):this.yi.wu(b)}$h(b){this.xt?this.yi.contains(b)?this.hr.add(b):this.gr.delete(b):this.yi.remove(b)}qA(b){return this.xt?this.gr.has(b)?!0:!this.hr.has(b)&&this.yi.contains(b):this.yi.contains(b)}Gc(){this.yi.clear();
this.gr.clear();this.hr.clear()}toArray(){if(this.xt)throw Error("cannot be used in queueing mode");return this.yi.vM()}pn(){return this.yi.size+this.gr.size-this.hr.size}tn(){return 0===this.pn()}ai(b){b=!!b;if(this.xt!==b&&(this.xt=b,!b)){for(const e of this.hr)this.yi.remove(e);this.hr.clear();for(const e of this.gr)this.yi.wu(e);this.gr.clear()}}*values(){if(!this.tn()){var b=this.yi;for(let e=b.min(b.root);e!=b.ob;e=b.kp(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.j;d.XP=class{constructor(a=d.hardwareConcurrency){this.ifa=a;this.nL=[];this.RI=0}Rc(a){return new Promise((b,e)=>{this.nL.push({Li:a,resolve:b,reject:e});this.SS()})}async SS(){if(this.nL.length&&!(this.RI>=this.ifa)){this.RI++;var a=this.nL.shift();try{const b=await a.Li();a.resolve(b)}catch(b){a.reject(b)}this.RI--;this.SS()}}}}
{"use strict";const d=self.j;d.P4=class{constructor(a,b,e){this.et=a;this.Sea=b;this.Tea=e||2*b;this.iu=-1;this.hD=-Infinity;this.zW=()=>this.xba();this.Aea=this.dK=!1;this.Sw=null}G$(){return"undefined"!==typeof d.vY&&d.vY.Hka()?this.Tea:this.Sea}HY(){var a=[];if(-1===this.iu){this.Sw=a;a=d.Lz();var b=a-this.hD,e=this.G$();b>=e&&this.Aea?(this.hD=a,this.rT()):this.iu=self.setTimeout(this.zW,Math.max(e-b,4))}}rT(){this.dK=!0;const a=this.Sw;this.Sw=null;a?this.et(...a):this.et();this.dK=!1}kd(){this.dK||
(this.IR(),this.Sw=null,this.hD=d.Lz())}xba(){this.iu=-1;this.hD=d.Lz();this.rT()}IR(){-1!==this.iu&&(self.clearTimeout(this.iu),this.iu=-1)}g(){this.IR();this.zW=this.Sw=this.et=null}}}"use strict";function fc(d,a){if(!d.PU)throw Error("no get base size callback set");return d.PU(a)}function gc(d){if(!d.eW)throw Error("no redraw callback set");d.eW()}self.j.Sna=class{constructor(){this.Pea=new Map;this.eW=this.fW=this.PU=null}};"use strict";
self.j.Rna=class{constructor(d,a){this.Pt=d;this.Dea=a;this.cd=0;fc(this.Pt,a).then(()=>{gc(this.Pt)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);gc(this.Pt)});this.oL=null}g(){if(0>=this.cd)throw Error("already released");this.cd--;0===this.cd&&this.Cw()}Cw(){if(this.oL){var d=this.Pt;if(!d.fW)throw Error("no release result callback set");d.fW(this.oL);this.oL=null}this.Pt.Pea.delete(this.Dea);this.Pt=null}};
{"use strict";const d=self.j;d.fqa="\ufeff";const a=new Set([..."0123456789"]);d.X2=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.BA=function(n){return b.has(n)};d.xja=function(n){return[...n].filter(q=>!d.BA(q)).join("")};d.AA=function(n){for(const q of n)if(!d.BA(q))return!1;return!0};d.l3=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.U_=function(n){return[...n].filter(q=>
!d.l3(q)).join("")};const e=new Set([..."0123456789.+-e"]);d.Oka=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!a.has(q))return!1;for(let r of n)if(!e.has(r))return!1;return!0};d.Y4=function(n){let q=n.length;for(;0<q&&d.X2(n.charAt(q-1));)--q;return n.substr(0,q)};d.dka=function(n){let q=d.Y4(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(n){return c.get(n)}
const k=/[&<>"']/g;d.L_=function(n){return n.replace(k,f)};d.sja=function(n){n=d.ej(n,"\\","\\\\");n=d.ej(n,'"','\\"');n=d.ej(n,"\t","\\t");n=d.ej(n,"\r","");return d.ej(n,"\n","\\n")};d.tja=function(n){n=d.ej(n,"&","&amp;");n=d.ej(n,"<","&lt;");n=d.ej(n,">","&gt;");return d.ej(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.bv=function(n){return n.replace(g,"\\$&")};d.yja=function(n,q,r=!1){if(!q)return[];r||(n=n.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let w=[];for(;-1<(p=n.indexOf(q,
p));)w.push(p),p+=r;return w};d.ej=function(n,q,r){return n.replaceAll(q,()=>r)};d.Uma=function(n,q,r){return n.replace(new RegExp(d.bv(q),"gi"),()=>r)};d.moa=function(n,q){"string"===typeof q?n.textContent=q:q.nV?n.textContent=q.toString():(n.innerHTML=q.bN(),q instanceof d.tl&&q.Xfa(n))};d.Fpa=function(n,q){return n instanceof d.jG||n instanceof d.tl?n.ed(q):q instanceof d.jG||q instanceof d.tl?q.ed(n):n===q};d.Gpa=function(n,...q){let r=n;for(let p=0,w=q.length;p<w;++p){const t=`{${p}}`;if(!n.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.Hpa=function(n,...q){let r=n,p=-1,w=-1;for(let t=0,v=q.length;t<v;++t){const x=`{${t}}`;n.includes(x)?(w=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=w&&p<w)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.Ipa=function(n,q){for(let [r,p]of Object.entries(q))n=n.replaceAll(r,p.toString());return n};d.opa=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};d.Dja=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.$ra;if(1024>n)return r(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(q+"terabytes",n)};const l={Ufa:!1,fga:!0,Bga:!0,Wga:!0,vX:!0};d.Eja=function(n,q){q=Object.assign({},
l,q);d.o3.Mma("common.time");const r=[],p=self.lang,w=self.Zra;if(q.fga){var t=Math.floor(n/86400);0<t&&(n-=86400*t,r.push(w(".days",null,t)))}q.Bga&&(t=Math.floor(n/3600),0<t||r.length)&&(n-=3600*t,r.push(w(".hours",null,t)));q.Wga&&(t=Math.floor(n/60),0<t||r.length||!q.vX)&&(n-=60*t,r.push(w(".minutes",null,t)));q.vX&&r.push(w(".seconds",null,Math.floor(n%60)));n=(q.Ufa?p(".approx-prefix"):"")+r.join(p(".separator"));d.o3.Ima();return n};d.Gqa=function(n,q){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)r+="0";return r+n};d.Jpa=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.Via=function(n,q){n=n.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.uX(n);d.uX(q);n=n.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=n[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.dja=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
d.Dpa=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,w=n.length;p<w;++p)n.charAt(p)!==q.charAt(p)&&++r;return r};d.Epa=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let r,p,w,t;if(n.length>q.length){var v=n;n=q;q=v}t=Array(n.length+1);for(v=0;v<=n.length;v++)t[v]=v;for(v=1;v<=q.length;v++){p=v;for(r=1;r<=n.length;r++)w=q[v-1]===n[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=w;t[n.length]=p}return t[n.length]}}
{"use strict";const d=self.j,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,n,q){var r=a.get(q);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],n?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${f++}">`:l}const g=/\n/g;d.tl=class{constructor(l,n){this.hi=n&&n.kX?l:d.L_(l);this.cK="";this.uU=!1;this.Jx=[];if(n&&(this.uU=!!n.$qa,n.links)){if(9<n.links.length)throw Error("too many links");this.Jx=n.links}this.UU=this.hi.includes("[");this.RV=this.uU&&this.hi.includes("\n");this.nV=!this.UU&&!this.RV&&!this.hi.includes("&");this.YU=!1;this.cx=[]}toString(){return this.hi}valueOf(){return this.hi}bN(){if(this.nV)return this.hi;if(!this.cK&&this.hi){let l=this.hi;this.UU&&
(f=0,c=this.Jx,l=l.replace(b,k),c=null);this.RV&&(l=l.replace(g,"<br>"));this.cK=l}return this.cK}Xfa(l){if(this.Jx.length)for(let n=0,q=this.Jx.length;n<q;++n){const r=this.Jx[n];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}ed(l){return l instanceof d.jG?this.bN()===l.bN():l instanceof d.tl?this.hi===l.hi:this.hi===l}DX(){if(this.YU)return this.cx;const l=this.hi,n=[];let q=e.lastIndex=0;for(var r;null!==
(r=e.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var w=r[1],t=r[2];const v=l.substring(q,p);q=p+r[0].length;v&&this.cx.push({text:v,yd:n.slice(0)});if(t)if(w)for(t=t.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===t){n.splice(r,1);break}}else r=t,p=null,w=t.indexOf("="),-1!==w?(r=t.substring(0,w).toLowerCase(),p=t.substring(w+1)):r=r.toLowerCase(),n.push({tag:r,wd:p})}q<l.length&&this.cx.push({text:l.substring(q),yd:n.slice(0)});for(const v of this.cx)v.text=this.Iba(v.text);
this.YU=!0;return this.cx}Iba(l){l=d.ej(l,"\\[","[");return d.ej(l,"\\\\","\\")}static jR(l){return l.replace(e,"")}}}
{"use strict";const d=self.j;d.jw=class{constructor(){this.cl=[]}US(a,b){let e=0,c=0,f=0,k=0,g=0;for(const l of a)-1===l.width&&(a=b(l.text,l.yd),l.width=a.width,l.height=a.height,l.Mg=a.Mg||0,l.gg=a.gg||0,l.ig=a.ig||0),e+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.Mg),k=Math.max(k,l.gg),g=Math.max(g,l.ig);return{width:e,height:c,Mg:f,gg:k,ig:g}}cB(a,b,e,c,f,k){this.cl.push({qM:a,width:b,height:e,Mg:c,gg:f,ig:k})}jw(a,b,e,c,f){"string"===typeof a&&(a=[{text:a,yd:[]}]);d.C(this.cl);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var k=a[0];const g=k.text;k=k.yd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,Mg:q,gg:r,ig:p}=b(g,k);l+=f;q=q||0;r=r||0;p=p||0;if(l<=e){this.cB([{text:g,yd:k,width:l,height:n,Mg:q,gg:r,ig:p}],l,n,q,r,p);return}}}if("word"===c)c=this.Oda(a);else{c=[];for(const g of a)d.Wo(c,[...g.text].map(l=>[{text:l,yd:g.yd}]))}this.hea(c,b,e,f)}}Oda(a){const b=[];let e=[],c=!1;for(const k of a){var f=k.text;a=k.yd;for(const g of f)"\n"===g?(0<
e.length&&b.push(e),b.push([{text:"\n",yd:a}]),e=[]):0===e.length?(e.push({text:g,yd:a}),c=d.BA(g)):(f=d.BA(g),f===c?(f=e.Xe(-1),f.yd===a?f.text+=g:e.push({text:g,yd:a})):(b.push(e),e=[],e.push({text:g,yd:a}),c=f))}0<e.length&&b.push(e);return b}O8(a){return a.map(b=>({text:b.text,yd:b.yd,width:b.width,height:b.height,Mg:b.Mg,gg:b.gg,ig:b.ig}))}GR(a,b){var e=a.length?a.Xe(-1):null;let c=0;e&&b[0].yd===e.yd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.Mg=-1,e.gg=-1,e.ig=-1,c=1);for(e=b.length;c<e;++c){const f=
b[c];a.push({text:f.text,yd:f.yd,width:-1,height:-1,Mg:-1,gg:-1,ig:-1})}}hea(a,b,e,c){let f=[],k=0,g=0,l=0,n=0;var q=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===g&&(q=b(" ",r[0].yd),g=q.height,l=q.Mg||0,n=q.gg||0,q=q.ig||0);this.cB(f,k,g,l,n,q);f=[];q=n=l=g=k=0;continue}a=this.O8(f);this.GR(a,r);const p=this.US(a,b),w=p.width;w>=e?(0<f.length&&this.cB(f,k,g,l,n,q),f=[],d.AA(r[0].text)?q=n=l=g=k=0:(this.GR(f,r),q=this.US(f,b),k=q.width,g=q.height,l=q.Mg,n=q.gg,q=q.ig)):(f=a,k=w,g=p.height,
l=p.Mg,n=p.gg,q=p.ig)}0<f.length&&this.cB(f,k,g,l,n,q);this.Rda(b,c)}Rda(a,b){for(const c of this.cl){const f=c.qM;if(!f.length)continue;let k=f.Xe(-1);var e=k.text;const g=e.trimEnd();if(!g)c.width-=k.width,f.pop();else if(g.length<e.length){e=a(g,k.yd).width;const l=k.width-e;k.width=e;k.text=g;c.width-=l}0!==b&&0<f.length&&(k=f.Xe(-1),k.width+=b,c.width+=b)}}Gc(){d.C(this.cl)}vO(){return this.cl.reduce((a,b)=>Math.max(a,b.width),0)}n1(){return this.cl.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.j,a=self.pl,b=a.VE,e=a.mz,c=a.bp,f=b.create(),k=b.create(),g=b.create(),l=e.create(),n=c.create(),q=b.create(),r=b.create(),p=b.create(),w=b.create(),t=b.create(),v=b.create(),x=b.create(),z=b.create(),D=e.hg(0,0,1,1);d.$={F4(G,H,J,P,Q,T,W){const Z=P[0]*G+P[4]*H+P[8]*J+P[12],Y=P[1]*G+P[5]*H+P[9]*J+P[13],fa=P[2]*G+P[6]*H+P[10]*J+P[14];P=P[3]*G+P[7]*H+P[11]*J+P[15];G=Q[0]*Z+Q[4]*Y+Q[8]*fa+Q[12]*P;H=Q[1]*Z+Q[5]*Y+Q[9]*fa+Q[13]*P;J=Q[2]*Z+Q[6]*Y+Q[10]*fa+Q[14]*P;Q=Q[3]*Z+Q[7]*
Y+Q[11]*fa+Q[15]*P;if(0===Q)return!1;Q=1/Q;W[0]=(G*Q*.5+.5)*T[2]+T[0];W[1]=(H*Q*.5+.5)*T[3]+T[1];W[2]=.5*(1+J*Q);return!0},Hk(G,H,J,P,Q,T,W){c.multiply(n,Q,P);if(null===c.yu(n,n))return!1;l[0]=(G-T[0])/T[2]*2-1;l[1]=(H-T[1])/T[3]*2-1;l[2]=2*J-1;l[3]=1;e.dN(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];W[0]=l[0]*l[3];W[1]=l[1]*l[3];W[2]=l[2]*l[3];return!0},z7(G,H,J,P,Q,T,W){if(!d.$.Hk(G,H,0,P,Q,T,f)||!d.$.Hk(G,H,1,P,Q,T,k))return!1;b.bn(k,k,f);b.set(g,0,0,1);G=-J;H=b.Zo(g,k);J=0;if(0===H){if(0!==b.Zo(g,
f)+G)return!1}else if(J=-(b.Zo(f,g)+G)/H,0>J)return!1;b.VM(W,f,k,J);return!0}};function E(G,H,J,P){b.bn(f,J,H);b.bn(k,G,H);b.nM(g,f,k);b.normalize(g,g);P.set(g[0],g[1],g[2],b.Zo(G,g))}function M(G,H,J,P,Q,T,W){const Z=W.x,Y=W.y,fa=W.z,ja=W.w,xa=W.MX,Ka=W.NX;W=W.OX;const Ta=1-xa,Pa=1-Ka,Ua=1-W;return Z*G*xa+Z*P*Ta+Y*H*Ka+Y*Q*Pa+fa*J*W+fa*T*Ua>=ja?!0:Z*P*xa+Z*G*Ta+Y*Q*Ka+Y*H*Pa+fa*T*W+fa*J*Ua>ja}class B{constructor(){this.OX=this.NX=this.MX=this.w=this.z=this.y=this.x=NaN}set(G,H,J,P){this.x=G;this.y=
H;this.z=J;this.w=P;this.MX=0<G?1:0;this.NX=0<H?1:0;this.OX=0<J?1:0}}d.$.I7=class{constructor(){this.FV=new B;this.AW=new B;this.iW=new B;this.pU=new B;this.QV=new B;this.HU=new B}DY(G,H){d.$.Hk(0,1,0,G,H,D,q);d.$.Hk(1,1,0,G,H,D,r);d.$.Hk(0,0,0,G,H,D,p);d.$.Hk(1,0,0,G,H,D,w);d.$.Hk(0,1,1,G,H,D,t);d.$.Hk(1,1,1,G,H,D,v);d.$.Hk(0,0,1,G,H,D,x);d.$.Hk(1,0,1,G,H,D,z);E(p,q,t,this.FV);E(q,r,v,this.AW);E(r,w,z,this.iW);E(w,p,x,this.pU);E(x,t,v,this.HU);E(w,r,q,this.QV)}fZ(G,H,J,P,Q,T){return M(G,H,J,P,Q,
T,this.FV)&&M(G,H,J,P,Q,T,this.AW)&&M(G,H,J,P,Q,T,this.iW)&&M(G,H,J,P,Q,T,this.pU)&&M(G,H,J,P,Q,T,this.QV)&&M(G,H,J,P,Q,T,this.HU)}}}
{"use strict";const d=self.j,a=self.pl,b=a.VE,e=a.mz,c=a.bp,f=c.create(),k=b.hg(0,0,0),g=b.hg(0,0,0),l=b.hg(0,0,0),n=b.hg(0,1,0);e.hg(0,0,0,0);new d.Jc;new d.Rect;const q=new d.Jc(0,0,1,0,1,1,0,1);d.$.b5=class{constructor(){this.V=this.W=0;this.Mea=d.cb(45);this.ML=Math.tan(this.Mea/2);this.vD=c.create();this.RK=c.create();this.lq=[];this.PD=new Map;this.CL=this.VD=this.WD=null;this.vy=new Map;this.Dj=null;this.kJ=[];this.PV=new Map;this.nt=this.dt=0;this.efa=this.ffa=1;this.MK=.5;this.ri=0;this.wt=
!0;this.aK=!1}T_(r){let p=0,w=r.length,t=0;for(;p<w;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}KR(){this.nt=this.dt=0;this.CL=this.VD=this.WD=null;this.M8()}tA(){this.KR();this.Dj=null}Y3(){for(const r of this.lq)r.g();this.KR()}M(){return this.W}I(){return this.V}Xu(r,p,w=.5,t=.5){w=1-w;const v=1*this.ML;p*=v;c.uga(r,(2*w-2)*p,2*w*p,(2*t-2)*v,2*t*v,1,1E4)}CY(r,p,w){const t=self.devicePixelRatio,v=200*t*this.ML/w;p=p*v/(2*t);w=w*v/(2*t);c.bha(r,-p,p,-w,w,1,1E4)}sN(r,p,w,t,
v=this.XF()){v=200*self.devicePixelRatio*this.ML/v;b.set(l,v,-v,1);b.multiply(k,p,l);b.multiply(g,w,l);c.Tga(r,k,g,t||n);c.scale(r,r,l)}Wu(r,p,w,t,v,x){b.set(k,r,p,w);b.set(g,t,v,0);this.sN(f,k,g,n,x);return f}n8(r){this.lq.push(r);this.PD.set(r.Ba(),r)}bca(r){const p=this.lq.indexOf(r);-1!==p&&this.lq.splice(p,1);this.PD.delete(r.Ba())}M8(){d.C(this.lq);this.PD.clear()}JO(r){return this.PD.get(r)||null}tg(){this.Nn(this.WD)}Vv(){this.Nn(this.CL)}Wca(r){this.Dj=r}RX(r,p,w,t){const v=d.$.uH.AP(r,p,
w,t);let x=this.vy.get(v);x||(x=d.A(d.$.uH,this,r,p,w,t),this.vy.set(v,x));x.fY();return x}fQ(r){r.BZ();0===r.cd&&(this.Dj===r&&(this.Dj=null),this.vy.delete(r.P0()),r.g())}Y$(r){d.C(this.kJ);this.PV.clear();for(const p of r){r=p[0];const w=p[1],t=p[2];this.kJ.push([w,t]);this.PV.set(r,{Dta:w,hra:t})}}A$(r){return this.kJ[r]}Tv(r){this.dt=r}Jn(r){this.nt=r;this.Dj=null}EA(r,p,w,t,v,x){var z=this.MK;r=r+z-x;p=p+z-v;w=w+z+x;t=t+z+v;z=2*x;const D=2*v;this.vs(r+v,p-x,0,w+v,t-x,0,w-v-z,t+x-D,0,r-v+z,p+
x+D,0,q)}DA(r,p,w,t,v,x){const z=this.MK;r=r+z-x;p=p+z-v;w=w+z+x;t=t+z+v;this.vs(r+v,p-x,0,w+v,t-x,0,w-v,t+x,0,r-v,p+x,0,q)}CA(r,p,w,t,v,x){const z=this.MK;r+=z;p+=z;w+=z;t+=z;this.vs(r+v,p-x,0,w+v,t-x,0,w-v,t+x,0,r-v,p+x,0,q)}q3(r,p,w,t){const v=.5*this.ffa,x=this.efa;2===x?this.saa(r,p,w,t,v):1===x?this.raa(r,p,w,t,v):this.qaa(r,p,w,t,v)}saa(r,p,w,t,v){this.EA(r,p,w,p,0,v);this.EA(w,p,w,t,v,0);this.EA(w,t,r,t,0,-v);this.EA(r,t,r,p,-v,0)}raa(r,p,w,t,v){this.DA(r,p,w,p,0,v);this.DA(w,p,w,t,v,0);this.DA(w,
t,r,t,0,-v);this.DA(r,t,r,p,-v,0)}qaa(r,p,w,t,v){this.CA(r,p,w,p,0,v);this.CA(w,p,w,t,v,0);this.CA(w,t,r,t,0,-v);this.CA(r,t,r,p,-v,0)}tP(r){this.q3(r.L,r.J,r.U,r.S)}gZ(r){var p=r.length/2;if(3>p)throw Error("need at least 3 points");p-=2;const w=p-1,t=r[0],v=r[1];for(let x=0;x<p;x+=2){const z=2*x,D=r[z+2],E=r[z+3],M=r[z+4],B=r[z+5];x===w?this.LG(t,v,D,E,M,B,M,B):this.LG(t,v,D,E,M,B,r[z+6],r[z+7])}}Tr(){this.Si();this.ri++}d2(){this.ri++}eH(r){this.wt=!!r}W5(r){this.aK=!!r}Ev(){return!1}}}
{"use strict";const d=self.j;d.$.uH=class{constructor(a,b,e,c,f){this.wa=a;this.cd=0;this.jb=null;this.hy="";this.ao=e;this.Ia=d.A(d.Ya);this.Ia.set(c);this.ud=f;"string"===typeof b?this.hy=b:(this.jb=b,this.hy=this.jb.Ba())}g(){if(0<this.cd)throw Error("releasing state group still in use");this.jb=this.wa=null;this.hy=""}nY(){const a=this.wa;a.Nn(this.jb);a.Of(this.ao);a.gj(this.Ia);a.Jn(this.ud);a.Wca(this)}P0(){return d.$.uH.AP(this.hy,this.ao,this.Ia,this.ud)}fY(){++this.cd}BZ(){--this.cd}Ol(){this.jb=
null}HG(a){this.jb=a.JO(this.hy);if(!this.jb)throw Error("failed to restore shader program");}static AP(a,b,e,c){return("string"===typeof a?a:a.Ba())+","+b+","+e.Xa+","+e.bb+","+e.$a+","+e.Va+","+c}}}
{"use strict";const d=self.j,a=d.A(d.Jc);function b(e,c,f){const k=f.Ab,g=f.zb;return[k+(f.Tb-k)*e+(f.hc-k)*c,g+(f.fc-g)*e+(f.ic-g)*c]}d.$.E3=class{constructor(e){this.VK=e;this.Lh=this.Jh=this.ud=this.T=this.X=0}nj(e,c,f,k){this.X=e;this.T=c;this.Jh=f;this.Lh=k}O(){return this.X}Qf(e){this.X!==e&&(this.X=e,this.VK.AI())}P(){return this.T}ih(e){this.T!==e&&(this.T=e,this.VK.AI())}Ta(){return this.ud}He(e){this.ud!==e&&(this.ud=Math.max(e,0),this.VK.AI())}lH(e){this.Jh=e}mH(e){this.Lh=e}jaa(e,c,f){[this.X,
this.T]=b(e.X,e.T,c);this.ud=e.ud;this.Jh=d.mc(f.L,f.U,e.Jh);this.Lh=d.mc(f.J,f.S,e.Lh)}iaa(e,c,f){[this.X,this.T]=b(e.X,e.T,c);this.ud=e.ud;[this.Jh,this.Lh]=b(e.Jh,e.Lh,f)}Wb(){return{x:this.O(),y:this.P(),z:this.Ta(),u:this.Jh,v:this.Lh}}Ob(e){this.Qf(e.x);this.ih(e.y);e.hasOwnProperty("z")&&this.He(e.z);this.lH(e.u);this.mH(e.v)}};d.$.DP=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.Wk=e;this.jl=c;this.wc=f||null;this.Bo=[];this.MV=this.LV=0;this.JV=this.IV=1;this.KV=
0;this.jL=!1;f=e-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<e;++n){const q=d.A(d.$.E3,this,n,g),r=n/f,p=g/k;q.nj(r,p,r,p);l.push(q)}this.Bo.push(l)}}g(){d.C(this.Bo)}AI(){this.jL=!0}ww(){if(this.jL){var e=Infinity,c=Infinity,f=-Infinity,k=-Infinity,g=0;for(const l of this.Bo)for(const n of l){const q=n.O(),r=n.P();e=Math.min(e,q);c=Math.min(c,r);f=Math.max(f,q);k=Math.max(k,r);g=Math.max(g,n.Ta())}this.LV=e;this.MV=c;this.IV=f;this.JV=k;this.KV=g;this.jL=!1}}a1(){this.ww();return this.LV}b1(){this.ww();
return this.MV}W0(){this.ww();return this.IV}X0(){this.ww();return this.JV}Y0(){this.ww();return this.KV}Zr(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Wk||0>c||c>=this.jl?null:this.Bo[c][e]}tN(e,c,f){const k=f instanceof d.Rect;if(e.Wk!==this.Wk||e.jl!==this.jl)throw Error("source mesh wrong size");e=e.Bo;const g=this.Bo;for(let l=0,n=g.length;l<n;++l){const q=e[l],r=g[l];for(let p=0,w=r.length;p<w;++p){const t=q[p],v=r[p];k?v.jaa(t,c,f):v.iaa(t,c,f)}}}Vd(e){const c=this.Bo;let f=c[0];
for(let k=1,g=c.length;k<g;++k){const l=c[k];let n=f[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const w=f[r],t=l[r];a.set(n.Jh,n.Lh,w.Jh,w.Lh,t.Jh,t.Lh,q.Jh,q.Lh);e.vs(n.O(),n.P(),n.Ta(),w.O(),w.P(),w.Ta(),t.O(),t.P(),t.Ta(),q.O(),q.P(),q.Ta(),a);n=w;q=t}f=l}}G2(e){e=e.Oc;const c=[],f=this.Wk-1,k=this.jl-1,g=1/f,l=1/k,n=f-1,q=k-1;let r=e[0],p=e[1],w=d.fa(Math.floor(r*f),0,n),t=d.fa(Math.floor(p*k),0,q),v=0,x=0,z=0;var D=-1;const E=()=>{r=d.fa(d.mc(r,v,z),0,1);p=d.fa(d.mc(p,x,z),0,1);c.push(r,p)};for(let M=
0,B=e.length;M<B;M+=2)for(r=e[M],p=e[M+1],c.push(r,p),w=d.fa(Math.floor(r*f),0,n),t=d.fa(Math.floor(p*k),0,q),D=(M+2)%B,v=e[D],x=e[D+1],D=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const G=w*g,H=t*l,J=(w+1)*g,P=(t+1)*l;if(0!==D&&(z=d.gz(r,p,v,x,G,H,J,P,-.001),0<=z&&.99999999>=z)){E();D=0;continue}if(0<t&&2!==D&&(z=d.gz(r,p,v,x,G,H,J,H,.001),0<=z&&.99999999>=z)){E();t--;D=4;continue}if(w<n&&3!==D&&(z=d.gz(r,p,v,x,J,H,J,P,.001),0<=z&&.99999999>=z)){E();w++;D=1;continue}if(0<w&&1!==
D&&(z=d.gz(r,p,v,x,G,H,G,P,.001),0<=z&&.99999999>=z)){E();w--;D=3;continue}if(t<q&&4!==D&&(z=d.gz(r,p,v,x,G,P,J,P,.001),0<=z&&.99999999>=z)){E();t++;D=2;continue}break}return d.A(d.fn,c)}t7(e,c){e=this.Pda(e);this.Fda(e);c.PE(e)}Pda(e){const c=[];e=e.Oc;for(let f=0,k=e.length;f<k;f+=2){const [g,l]=this.xH(e[f],e[f+1]);c.push(g,l)}return c}xH(e,c){var f=this.Wk-1,k=this.jl-1;const g=1/f,l=1/k;f=d.fa(Math.floor(e*f),0,f-1);const n=d.fa(Math.floor(c*k),0,k-1);k=f*g;const q=n*l,r=(f+1)*g,p=(n+1)*l,w=
this.Zr(f,n),t=this.Zr(f+1,n+1),v=d.Jga(e,c,k,q,r,q,r,p);f=this.Zr(f+(v?1:0),n+(v?0:1));const [x,z,D]=d.Dha(e,c,k,q,v?k+g:k,v?q:q+l,r,p);return d.Cha(x,z,D,w.O(),w.P(),f.O(),f.P(),t.O(),t.P())}Fda(e){const c=[];let f=e[0],k=e[1],g=f-e.Xe(-2),l=k-e.Xe(-1);for(let q=0,r=e.length;q<r;q+=2){var n=(q+2)%r;const p=e[n];n=e[n+1];const w=p-f,t=n-k,v=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(l)||v)&&1E-7<Math.abs(w/g-t/l)||
0==w&&0===t)&&c.push(f,k);f=p;k=n;g=w;l=t}6<=c.length&&c.length<e.length&&d.xd(e,c)}Wb(){return{cols:this.Wk,rows:this.jl,points:this.Bo.map(e=>e.map(c=>c.Wb()))}}Ob(e){const c=this.Wk,f=this.jl;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let k=0;k<f;++k){const g=e[k];for(let l=0;l<c;++l)this.Zr(l,k).Ob(g[l])}}}}
{"use strict";const d=self.j,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(n,q){let r,p;switch(n){case "rgba8":n=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{ZM:n,xu:r,format:p,type:q}}const k={Su:"clamp-to-edge",Tu:"clamp-to-edge",Gf:"trilinear",MW:0,MM:"rgba8",GE:!0,az:"default",premultiplyAlpha:!0,eX:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.$.bB=class{constructor(n){this.wa=n;this.ub=null;this.V=this.W=0;this.si=!0;this.Tm=this.Sm="clamp-to-edge";this.Fc="trilinear";this.$I=0;this.zo="rgba8";this.qm=!1;this.Xq=
"default";this.cd=0}e9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.ub)throw Error("already created texture");this.Sm=q.Su;this.Tm=q.Tu;
this.Fc=q.Gf;this.$I=q.MW;this.zo=q.MM;this.qm=!!q.GE&&this.wa.wt;this.Xq=q.az;if(!c.has(this.Sm)||!c.has(this.Tm))throw Error("invalid wrap mode");if(!b.has(this.Fc))throw Error("invalid sampling");if(!a.has(this.zo))throw Error("invalid pixel format");if(!e.has(this.Xq))throw Error("invalid mipmap quality");this.si=!0;if(n instanceof ArrayBuffer||null===n||q.eX){if(this.W=q.width,this.V=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.W*this.V*4)throw Error("ArrayBuffer wrong size");}else this.W=
n.width,this.V=n.height;if(0>=this.W||0>=this.V)throw Error("invalid texture data size");if(q.eX){var r=d.Qg(this.W,this.V);r.getContext("2d").drawImage(n,0,0,this.W,this.V);n=r}var p=d.ql(this.W)&&d.ql(this.V);r=this.wa.wD;if(this.W>r||this.V>r)throw Error("texture data exceeds maximum texture size");r=this.wa.Y;var w=this.wa.Td;this.ub=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.ub);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.zo,r);if(this.wa.Up()||p||!this.fI())2<=w?(r.texStorage2D(r.TEXTURE_2D,this.qm?Math.floor(Math.log2(Math.max(this.W,this.V))+1):1,q.ZM,this.W,this.V),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.W,this.V,q.format,q.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.xu,this.W,this.V,0,q.format,q.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,q.xu,this.W,this.V,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.xu,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.W,this.V));n instanceof ImageData&&(p=d.Qg(this.W,this.V),p.getContext("2d").putImageData(n,0,0),n=p);p=d.Qg(d.GM(this.W),d.GM(this.V));w=p.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.Fc;w.drawImage(n,0,0,this.W,this.V,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.xu,q.format,q.type,p)}null!==n&&this.PT(r);r.bindTexture(r.TEXTURE_2D,null);this.wa.rI();this.cd=1;l.add(this)}Q8(n,q,r){r=Object.assign({},k,r);if(this.ub)throw Error("already created texture");this.Sm=r.Su;this.Tm=r.Tu;this.Fc=r.Gf;this.zo=r.MM;this.qm=!!r.GE&&this.wa.wt;this.Xq=r.az;if(!c.has(this.Sm)||!c.has(this.Tm))throw Error("invalid wrap mode");if(!b.has(this.Fc))throw Error("invalid sampling");if(!a.has(this.zo))throw Error("invalid pixel format");if(!e.has(this.Xq))throw Error("invalid mipmap quality");
this.si=!1;this.W=Math.floor(n);this.V=Math.floor(q);n=d.ql(this.W)&&d.ql(this.V);q=this.wa.wD;if(0>=this.W||0>=this.V)throw Error("invalid texture size");if(this.W>q||this.V>q)throw Error("texture exceeds maximum texture size");if(!this.wa.Up()&&this.fI()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.wa.Y;q=this.wa.Td;this.ub=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.ub);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=f(this.zo,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?r.ZM:r.xu,this.W,this.V,0,r.format,r.type,null);this.PT(n);n.bindTexture(n.TEXTURE_2D,null);this.wa.rI();this.cd=1;l.add(this)}cI(n){if("default"===this.Xq)return this.si?n.NICEST:n.FASTEST;if("low"===this.Xq)return n.FASTEST;if("high"===this.Xq)return n.NICEST;throw Error("invalid mipmap quality");}fI(){return"clamp-to-edge"!==this.Sm||"clamp-to-edge"!==this.Tm}tS(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}PT(n){var q=d.ql(this.W)&&d.ql(this.V);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.tS(n,this.Sm));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.tS(n,this.Tm));"nearest"===this.Fc?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.qm=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.wa.Up())&&this.qm?(n.hint(n.GENERATE_MIPMAP_HINT,
this.cI(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.Fc||this.wa.aK?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.qm=!1));(q=this.wa.Lw)&&0<this.$I&&"nearest"!==this.Fc&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.$I,this.wa.TK))}aU(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.ub||0>=this.cd)throw Error("texture not created");if(this.si)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=n.width||n.videoWidth,p=n.height||n.videoHeight;var w=this.wa.Td;
const t=this.wa.Y;t.bindTexture(t.TEXTURE_2D,this.ub);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.zo,t);w=2<=w?q.ZM:q.xu;try{if(this.W===r&&this.V===p){const v=d.ql(this.W)&&d.ql(this.V);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n);(v||this.wa.Up())&&this.qm&&(t.hint(t.GENERATE_MIPMAP_HINT,this.cI(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.W=r;this.V=p;const v=d.ql(this.W)&&d.ql(this.V);if(!this.wa.Up()&&this.fI()&&
!v)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,w,q.format,q.type,n);(v||this.wa.Up())&&this.qm&&(t.hint(t.GENERATE_MIPMAP_HINT,this.cI(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}t.bindTexture(t.TEXTURE_2D,null);this.wa.rI()}PH(){if(0<this.cd)throw Error("texture still has references");if(!this.ub)throw Error("already deleted texture");l.delete(this);this.wa.Y.deleteTexture(this.ub);this.ub=null}qb(){return this.wa}m7(){if(0>=
this.cd)throw Error("no more references");this.cd--}M(){return this.W}I(){return this.V}IF(){let n=this.W*this.V;switch(this.zo){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.qm&&(n+=Math.floor(n/3));return n}static Ol(){l.clear()}static Pfa(){return l.values()}}}
{"use strict";const d=self.j,a=self.pl.bp,b=new Set(["nearest","bilinear","trilinear"]),e={Gf:"trilinear",alpha:!0,depth:!1,AM:!0,cX:!0,Xga:0},c=new Set;d.$.AH=class{constructor(f){this.wa=f;this.Fm=this.ub=this.Lj=null;this.V=this.W=0;this.yx=!0;this.Fc="trilinear";this.$s=!0;this.Ej=!1;this.Ax=!0;this.ym=0;this.br=a.create()}P8(f,k,g){g=Object.assign({},e,g);const l=this.wa.Td;if(this.ub||this.Fm)throw Error("already created render target");this.Fc=g.Gf;this.$s=!!g.alpha;this.Ej=!!g.depth;this.Ax=
!!g.AM;this.yx=!!g.cX;this.ym=g.Xga;if(!b.has(this.Fc))throw Error("invalid sampling");if(0<this.ym&&(2>l||this.Ax))throw Error("invalid use of multisampling");2>l&&(this.Ax=!0);this.W=f;this.V=k;if(0>=this.W||0>=this.V)throw Error("invalid render target size");this.HR();f=this.wa.Y;this.Lj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Lj);this.Ax?(this.ub=this.wa.IN(this.W,this.V,{Gf:this.Fc,MM:this.$s?"rgba8":"rgb8",GE:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,
this.ub.ub,0)):(this.Fm=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Fm),k=this.$s?f.RGBA8:f.RGB8,0<this.ym&&((g=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&g[0]?(g=g[0],this.ym>g&&(this.ym=g)):this.ym=0),0===this.ym?f.renderbufferStorage(f.RENDERBUFFER,k,this.W,this.V):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.ym,k,this.W,this.V),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.Fm),f.bindRenderbuffer(f.RENDERBUFFER,null));
k=this.wa.xq;this.Ej&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}mT(f,k){if(this.W!==f||this.V!==k)this.W=f,this.V=k,this.HR(),f=this.wa.Y,f.bindFramebuffer(f.FRAMEBUFFER,this.Lj),this.ub?this.ub.aU(new ImageData(this.W,this.V)):(f.bindRenderbuffer(f.RENDERBUFFER,this.Fm),f.renderbufferStorage(f.RENDERBUFFER,this.$s?f.RGBA8:f.RGB8,this.W,this.V),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.wa.xq,this.Ej&&
k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}PH(){if(!this.ub&&!this.Fm)throw Error("already deleted render target");c.delete(this);const f=this.wa.Y;f.bindFramebuffer(f.FRAMEBUFFER,this.Lj);this.ub?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.wa.Ri(this.ub),this.ub=null):this.Fm&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.Fm),
this.Fm=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.wa.Td&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.Lj);this.Lj=this.wa.Lc.Xo=null}HR(){this.wa.Xu(this.br,this.W/this.V)}qb(){return this.wa}hd(){return this.ub}wG(){return"nearest"!==this.Fc}M(){return this.W}I(){return this.V}O2(f){f=Object.assign({},e,f);return"nearest"!==f.Gf!==this.wG()||!!f.alpha!==this.$s||!!f.depth!==this.Ej||2<=this.wa.Td&&!!f.AM!==this.Ax?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.yx&&this.M()===f.width&&this.I()===f.height:this.yx}IF(){return this.ub?this.ub.IF():this.W*this.V*(this.$s?4:3)}static async uZ(f,k){f=await f.Q4(k);return await d.Y1(f)}static Ol(){c.clear()}}}
{"use strict";const d=self.j;d.$.iw=class{static async cZ(a,b,e,c){const f=a.Y,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,b);f.compileShader(k);b=f.createShader(f.VERTEX_SHADER);f.shaderSource(b,e);f.compileShader(b);const g=f.createProgram();f.attachShader(g,k);f.attachShader(g,b);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const l=a.hL;l?await a.eea(()=>f.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.zH(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(b,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(b),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.U_(f.getProgramInfoLog(g)||"").trim())&&!d.AA(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);f.deleteShader(k);f.deleteShader(b);return g}static async Sa(a,b,e,c){e=await d.$.iw.cZ(a,b.src,e,c);return new d.$.iw(a,e,b,c)}constructor(a,b,e,c){const f=a.Y;var k=a.Lc;a.Si();f.useProgram(b);this.Y=f;this.wa=a;this.Fa=c;this.jb=b;this.QC="<default-device-transform>"===c;c=f.getAttribLocation(b,"aPos");const g=f.getAttribLocation(b,"aTex");this.PK=f.getAttribLocation(b,"aPoints");
-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,a.oE),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,a.bE),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.PK&&(f.bindBuffer(f.ARRAY_BUFFER,a.FD),f.vertexAttribPointer(this.PK,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.PK));f.bindBuffer(f.ARRAY_BUFFER,null);this.TL=new d.$.Kc(this,"matP","mat4");this.SL=new d.$.Kc(this,"matMV","mat4");this.wr=new d.$.Kc(this,"color",
"vec4");this.Hfa=new d.$.Kc(this,"samplerFront","sampler");this.WL=new d.$.Kc(this,"pointTexStart","vec2");this.VL=new d.$.Kc(this,"pointTexEnd","vec2");this.ZL=new d.$.Kc(this,"zElevation","float");this.XL=new d.$.Kc(this,"tileSize","vec2");this.YL=new d.$.Kc(this,"tileSpacing","vec2");this.RL=new d.$.Kc(this,"color2_","vec4");this.UL=new d.$.Kc(this,"outlineThickness","float");this.mu=new d.$.Kc(this,"samplerBack","sampler");this.Mm=new d.$.Kc(this,"destStart","vec2");this.Lm=new d.$.Kc(this,"destEnd",
"vec2");this.dk=new d.$.Kc(this,"srcStart","vec2");this.Nm=new d.$.Kc(this,"srcEnd","vec2");this.Pm=new d.$.Kc(this,"srcOriginStart","vec2");this.Om=new d.$.Kc(this,"srcOriginEnd","vec2");this.Kh=new d.$.Kc(this,"pixelSize","vec2");this.Po=new d.$.Kc(this,"seconds","float");this.Mo=new d.$.Kc(this,"layerScale","float");this.Lo=new d.$.Kc(this,"layerAngle","float");this.Oo=new d.$.Kc(this,"layoutStart","vec2");this.No=new d.$.Kc(this,"layoutEnd","vec2");this.VU=!!(this.Kh.ca||this.Po.ca||this.mu.ca||
this.Mm.ca||this.Lm.ca||this.dk.ca||this.Nm.ca||this.Pm.ca||this.Om.ca||this.Mo.ca||this.Lo.ca||this.Oo.ca||this.No.ca);this.EU=e.tu||0;this.FU=e.uu||0;this.vJ=!!e.su;this.kfa=!!e.Eu;this.Xt=!!e.Fu;this.NB=!!e.pu;a=e.parameters||[];this.yr=[];this.Ky=this.Mm.ca||this.Lm.ca;this.Kfa=this.Kh.ca||this.dk.ca||this.Nm.ca||this.Pm.ca||this.Om.ca;this.mfa=this.vJ||this.Ky||0!==this.EU||0!==this.FU;this.YJ=this.ZJ=!1;this.wr.aP();this.RL.aP();this.Hfa.$O(0);this.mu.$O(1);this.WL.Yg(0,0);this.VL.Yg(1,1);this.ZL.js(0);
this.XL.Yg(0,0);this.YL.Yg(0,0);this.Mm.Yg(0,0);this.Lm.Yg(1,1);this.dk.Yg(0,0);this.Nm.Yg(0,0);this.Pm.Yg(0,0);this.Om.Yg(0,0);this.Kh.Yg(0,0);this.Mo.js(1);this.Lo.js(0);this.Po.js(0);this.Oo.Yg(0,0);this.No.Yg(0,0);this.UL.js(1);for(const l of a)a=l[2],b=new d.$.Kc(this,l[0],a),"color"===a?b.e2():b.js(0),this.yr.push(b);this.QC?this.fU(k.Qy):(this.$A(k.Qy,!0),this.ZA(k.zE,!0));k=k.Ji;f.useProgram(k?k.jb:null)}g(){this.Y.deleteProgram(this.jb);this.jb=null;this.wa.bca(this);this.wa=this.Y=null}Ba(){return this.Fa}An(){return this.kfa}fA(a){return this.yr[a].vk()}pY(a){for(let b=
0,e=a.length;b<e;++b)if(!this.yr[b].f3(a[b]))return!1;return!0}H5(a){for(let b=0,e=a.length;b<e;++b)this.yr[b].C5(a[b])}qY(a,b,e,c,f,k,g,l,n){return this.mu.ca||this.Kh.ca&&!this.Kh.Ll(f,k)||this.Mm.ca&&!this.Mm.Ll(a.L,a.J)||this.Lm.ca&&!this.Lm.Ll(a.U,a.S)||this.Mo.ca&&!this.Mo.AG(g)||this.Lo.ca&&!this.Lo.AG(l)||this.dk.ca&&!this.dk.Ll(b.L,b.J)||this.Nm.ca&&!this.Nm.Ll(b.U,b.S)||this.Pm.ca&&!this.Pm.Ll(e.L,e.J)||this.Om.ca&&!this.Om.Ll(e.U,e.S)||this.Oo.ca&&!this.Oo.Ll(c.L,c.J)||this.No.ca&&!this.No.Ll(c.J,
c.S)||this.Po.ca&&!this.Po.AG(n)?!1:!0}p6(a,b,e,c,f,k,g,l,n){this.mu.ca||(this.Kh.ca&&this.Kh.Ql(f,k),this.Mm.ca&&this.Mm.Ql(a.L,a.J),this.Lm.ca&&this.Lm.Ql(a.U,a.S),this.Mo.ca&&this.Mo.ZG(g),this.Lo.ca&&this.Lo.ZG(l),this.dk.ca&&this.dk.Ql(b.L,b.J),this.Nm.ca&&this.Nm.Ql(b.U,b.S),this.Pm.ca&&this.Pm.Ql(e.L,e.J),this.Om.ca&&this.Om.Ql(e.U,e.S),this.Oo.ca&&this.Oo.Ql(c.L,c.J),this.No.ca&&this.No.Ql(c.J,c.S),this.Po.ca&&this.Po.ZG(n))}$A(a,b){this.ZJ&&!b||this.QC||(this.TL.ca&&this.TL.aB(a),this.ZJ=
!0)}m6(){this.ZJ=!1}ZA(a,b){this.YJ&&!b||this.QC||(this.SL.ca&&this.SL.aB(a),this.YJ=!0)}l6(){this.YJ=!1}fU(a){if(!this.QC)throw Error("not device transform shader");this.TL.aB(a);a=this.wa;const b=a.M()/2,e=a.I()/2;a=a.Wu(b,e,100*self.devicePixelRatio,b,e);this.SL.aB(a)}C7(a){this.wr.ca&&this.wr.YA(a[0],a[1],a[2],a[3])}static Wz(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,
`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.j,a=self.pl.bp,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.$.Kc=class{constructor(e,c,f){if(!b.has(f))throw Error("invalid uniform type");this.wc=e;this.Y=this.wc.Y;this.Fa=c;this.za=f;this.oK="color"===this.za;this.ti=this.Y.getUniformLocation(this.wc.jb,c);this.ca=!!this.ti;e=b.get(f);this.$b=new Float32Array(e);this.Vj=new Float32Array(e)}g(){this.ti=this.Y=this.wc=null}vk(){return this.za}js(e){this.ca&&
(this.$b[0]=e,this.Vj.set(this.$b),this.Y.uniform1f(this.ti,e))}$O(e){this.ca&&(this.$b[0]=e,this.Vj.set(this.$b),this.Y.uniform1i(this.ti,e))}Yg(e,c){this.ca&&(this.$b[0]=e,this.$b[1]=c,this.Vj.set(this.$b),this.Y.uniform2f(this.ti,e,c))}e2(){this.ca&&(this.$b[0]=0,this.$b[1]=0,this.$b[2]=0,this.Vj.set(this.$b),this.Y.uniform3f(this.ti,0,0,0))}aP(){this.ca&&(this.$b[0]=1,this.$b[1]=1,this.$b[2]=1,this.$b[3]=1,this.Vj.set(this.$b),this.Y.uniform4f(this.ti,1,1,1,1))}Ns(e){e=Math.fround(e);const c=
this.$b;c[0]!==e&&(c[0]=e,this.Y.uniform1f(this.ti,e))}nf(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.$b;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.Y.uniform2f(this.ti,e,c)}A7(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const k=this.$b;if(k[0]!==e||k[1]!==c||k[2]!==f)k[0]=e,k[1]=c,k[2]=f,this.Y.uniform3f(this.ti,e,c,f)}YA(e,c,f,k){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const g=this.$b;if(g[0]!==e||g[1]!==c||g[2]!==f||g[3]!==k)g[0]=e,g[1]=c,g[2]=f,g[3]=
k,this.Y.uniform4f(this.ti,e,c,f,k)}aB(e){const c=this.$b;a.jk(c,e)||(d.Eha(c,e),this.Y.uniformMatrix4fv(this.ti,!1,e))}f3(e){const c=this.Vj;return this.oK?c[0]===Math.fround(e.Xa)&&c[1]===Math.fround(e.bb)&&c[2]===Math.fround(e.$a):c[0]===Math.fround(e)}C5(e){const c=this.Vj;this.oK?(c[0]=e.Xa,c[1]=e.bb,c[2]=e.$a):c[0]=e}AG(e){return this.Vj[0]===Math.fround(e)}Ll(e,c){const f=this.Vj;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}ZG(e){this.Vj[0]=e}Ql(e,c){const f=this.Vj;f[0]=e;f[1]=c}}}
{"use strict";const d=self.j,a=self.pl,b=a.mz,e=a.bp;d.$.uY=class{constructor(c){this.Ff=c;this.zE=e.create();this.Qy=e.create();this.Xo=null;this.yE=b.hg(1,1,1,1);this.Ji=null;this.NM=new d.Rect;this.clearColor=d.A(d.Ya,0,0,0,0)}};d.$.P7=class{constructor(c){const f=new ArrayBuffer(96);this.za=0;this.Lc=c;this.Y=c.Ff.Y;this.Kq=this.Gh=0;this.wf=null;this.Qe=new Float32Array(f,0,16);this.tq=new Float32Array(f,64,4);this.sW=new Float32Array(f,80,4);this.OD=[]}t2(c){this.za=1;this.Gh=c;this.Kq=6}QZ(){const c=
this.Y;c.drawElements(c.TRIANGLES,this.Kq,c.UNSIGNED_SHORT,this.Gh)}B2(c){this.za=2;this.wf=c}b_(){const c=this.Y,f=this.wf;c.bindTexture(c.TEXTURE_2D,f?f.ub:null)}mG(c){this.za=3;c.Oh(this.tq,0)}SZ(){const c=this.tq,f=this.Lc;b.oa(f.yE,c);f.Ji.C7(c)}VZ(){const c=this.tq,f=this.Lc.Ji;f.RL.ca&&f.RL.YA(c[0],c[1],c[2],c[3])}u2(c,f){this.za=4;this.Gh=c;this.Kq=f}RZ(){this.Y.blendFunc(this.Gh,this.Kq)}C2(c,f){this.za=5;const k=this.tq;k[0]=0;k[1]=0;k[2]=c;k[3]=f}d_(){const c=this.tq;this.Y.viewport(c[0],
c[1],c[2],c[3])}z2(c){this.za=6;e.oa(this.Qe,c)}$Z(){const c=this.Lc,f=c.Ff.lq,k=c.Ji,g=this.Qe;for(let l=0,n=f.length;l<n;++l){const q=f[l];q===k?q.$A(g,!0):q.m6()}e.oa(c.Qy,g)}w2(c){this.za=7;e.oa(this.Qe,c)}WZ(){const c=this.Lc,f=c.Ff.lq,k=c.Ji,g=this.Qe;for(let l=0,n=f.length;l<n;++l){const q=f[l];q===k?q.ZA(g,!0):q.l6()}e.oa(c.zE,g)}A2(c){this.za=8;this.wf=c}a_(){const c=this.Y;var f=this.wf;const k=this.Lc;f?(f=f.Lj,k.Xo=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.Xo=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}j2(c){this.za=9;c.Oh(this.Qe,0)}k2(){this.za=9;const c=this.Qe;c[0]=0;c[1]=0;c[2]=0;c[3]=0}JZ(){const c=this.Y;var f=this.Qe,k=this.Lc;const g=k.clearColor;(k=k.Ff.Rq&&d.zu)&&c.disable(c.SCISSOR_TEST);const l=f[0],n=f[1],q=f[2];f=f[3];g.Ty(l,n,q,f)||(c.clearColor(l,n,q,f),g.hp(l,n,q,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}i2(c,f,k,g){this.za=10;const l=this.Qe;l[0]=c;l[1]=f;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}IZ(){const c=this.Y;var f=this.Qe,k=this.Lc;const g=k.Ff;
k=k.clearColor;g.Rq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],n=f[5],q=f[6];f=f[7];k.Ty(l,n,q,f)||(c.clearColor(l,n,q,f),k.hp(l,n,q,f));c.clear(c.COLOR_BUFFER_BIT);g.Rq?c.scissor(0,0,g.Ny,g.My):c.disable(c.SCISSOR_TEST)}XZ(){const c=this.Qe;this.Lc.NM.set(c[0],c[1],c[2],c[3])}PZ(){const c=this.Y,f=this.Lc,k=f.Ff.VD;c.useProgram(k.jb);k.$A(f.Qy,!1);k.ZA(f.zE,!1);var g=f.NM;k.WL.ca&&k.WL.nf(g.L,g.J);k.VL.ca&&k.VL.nf(g.U,g.S);g=this.Qe[0];k.ZL.ca&&k.ZL.Ns(g);k.wr.ca&&(g=f.yE,
k.wr.YA(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Gh/4,this.Kq);c.useProgram(f.Ji.jb)}x2(c){this.za=12;this.wf=c}YZ(){var c=this.Y;const f=this.Lc,k=this.wf;f.Ji=k;c.useProgram(k.jb);k.$A(f.Qy,!1);k.ZA(f.zE,!1);k.wr.ca&&(c=f.yE,k.wr.YA(c[0],c[1],c[2],c[3]))}y2(){this.za=13}ZZ(){const c=this.Lc.Ji;c.VU&&this.K9(c);c.yr.length&&this.L9(c)}K9(c){const f=this.Y,k=this.Qe,g=this.tq,l=this.sW;if(c.mu.ca){const n=this.Lc.Ff,q=this.wf;n.uo!==q&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
q?q.ub:null),n.uo=q,f.activeTexture(f.TEXTURE0))}c.Kh.ca&&c.Kh.nf(k[0],k[1]);c.Mm.ca&&c.Mm.nf(k[2],k[3]);c.Lm.ca&&c.Lm.nf(k[4],k[5]);c.Mo.ca&&c.Mo.Ns(k[6]);c.Lo.ca&&c.Lo.Ns(k[7]);c.dk.ca&&c.dk.nf(k[12],k[13]);c.Nm.ca&&c.Nm.nf(k[14],k[15]);c.Pm.ca&&c.Pm.nf(l[0],l[1]);c.Om.ca&&c.Om.nf(l[2],l[3]);c.Oo.ca&&c.Oo.nf(g[0],g[1]);c.No.ca&&c.No.nf(g[2],g[3]);c.Po.ca&&c.Po.Ns(this.Gh)}L9(c){c=c.yr;const f=this.OD;for(let k=0,g=c.length;k<g;++k){const l=c[k],n=f[k];l.oK?l.A7(n.Xa,n.bb,n.$a):l.Ns(n)}}p2(c){this.za=
14;this.wf=c}OZ(){const c=this.Y,f=this.wf,k=this.Lc.Xo;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}f2(c,f){this.za=17;var k=this.Qe;const g=this.Lc.Ff;k[0]=c.M();k[1]=c.I();k[2]=f?f.M():g.M();k[3]=f?f.I():g.I();k[4]=c.wG()?1:0;k[5]=!0;k=this.OD;d.C(k);k.push(c.Lj);k.push(f?f.Lj:null)}GZ(){var c=this.Qe,f=this.OD;const k=this.Y;var g=c[0],l=c[1],n=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=f[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,g,l,0,0,n,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(f=Math.min(g,n),g=Math.min(l,q),n=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,n,f,g+n,0,l,f,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}E2(c){this.za=18;this.wf=c}e_(){this.wf.cF();this.wf=null}o2(c){this.za=19;this.wf=c}NZ(){this.wf.vF();this.wf=null}UZ(){const c=this.Lc.Ji,f=this.Qe;c.Kh.ca&&c.Kh.nf(f[0],f[1]);c.UL.ca&&c.UL.Ns(f[2])}c_(){const c=
this.Lc.Ji,f=this.Qe;c.dk.ca&&c.dk.nf(f[0],f[1]);c.Kh.ca&&c.Kh.nf(f[4],f[5]);c.XL.ca&&c.XL.nf(f[6],f[7]);c.YL.ca&&c.YL.nf(f[8],f[9])}h2(){this.za=22}HZ(){const c=this.Y;c.clear(c.DEPTH_BUFFER_BIT)}v2(c){this.za=23;this.Gh=c?1:0}TZ(){const c=this.Y;0===this.Gh?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}n2(){this.za=24}MZ(){const c=this.Y;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}m2(){this.za=25}LZ(){const c=this.Y;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}l2(){this.za=26}KZ(){const c=this.Y;c.disable(c.STENCIL_TEST)}qa(){switch(this.za){case 1:this.QZ();break;case 2:this.b_();break;case 3:this.SZ();break;case 4:this.RZ();break;case 5:this.d_();break;case 6:this.$Z();break;case 7:this.WZ();break;case 8:this.a_();break;case 9:this.JZ();break;case 10:this.IZ();break;case 11:this.PZ();break;case 12:this.YZ();break;case 13:this.ZZ();
break;case 14:this.OZ();break;case 15:this.XZ();break;case 16:this.c_();break;case 17:this.GZ();break;case 18:this.e_();break;case 19:this.NZ();break;case 20:this.UZ();break;case 21:this.VZ();break;case 22:this.HZ();break;case 23:this.TZ();break;case 24:this.MZ();break;case 25:this.LZ();break;case 26:this.KZ()}}}}
{"use strict";const d=self.j,a={timeout:60},b=new d.Ya(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;d.X_&&d.X_.addEventListener("fontload",q=>{q=q.font.Ba();for(const r of k)(r.Oe||d.nl(r.wC,q))&&r.fq()});function g(q,r,p,w,t,v){r?"Gecko"===d.Fd.sz?q.strokeText(p,w,t,v):q.strokeText(p,w,t):"Gecko"===d.Fd.sz?q.fillText(p,w,t,v):q.fillText(p,w,t)}let l=!1,n=!1;d.$.hQ=class{constructor(q,r){r=Object.assign({},a,r);this.wa=
q;this.wC="Arial";this.xC=16;this.JU=1;this.Ec=0;this.$ea=this.Vea=!1;this.aC="black";this.Oe=!1;this.IM=null;this.ZI=new Set;this.te="left";this.ie="top";this.lc="";this.tj=null;this.Df=d.A(d.jw);this.zr="word";this.BK=this.cE=!1;this.wx=!0;this.uh=-1;this.V=this.W=this.im=this.sf=this.th=0;this.Ii=1;this.sJ=!1;this.Ox=this.xm=this.Be=this.pr=null;this.wV=this.xV=-1;this.lD=this.zV=this.FK="";this.GK=this.HK=1;this.Px=(p,w)=>this.zw(p,w);this.ub=null;this.yy=this.Ay=0;this.Fg=new d.Rect;this.fy=
1;this.ZK=!1;this.NL=new d.X1(()=>{this.fh();this.OT(8,8)},r.timeout);this.JM=null;this.Oy=!1;k.add(this)}g(){this.IM=null;this.ZI.clear();this.Px=this.Ox=this.xm=this.Be=this.pr=this.tj=null;this.NL.g();this.JM=null;this.fh();this.Df.Gc();this.wa=this.Df=null;this.Oy=!0;k.delete(this)}cq(){this.sJ=!0}fq(){this.cq();this.Df.Gc();this.cE=!0}c6(){this.wx=!1}Zg(){return this.wx}zQ(q){q=!!q;this.Oe!==q&&(q=(this.Oe=q)?"alphabetic":"top",this.Be&&(this.Be.textBaseline=q),this.xm&&(this.xm.textBaseline=
q),this.fq())}R5(){"Arial"!==this.wC&&(this.wC="Arial",this.fq())}S5(){var q=16;.1>q&&(q=.1);this.xC!==q&&(this.xC=q,this.fq())}TA(q){this.Ec!==q&&(this.Ec=q,this.cq())}QA(q){q=Math.floor(q);this.uh!==q&&(this.uh=q,this.cq())}Wc(q,r){for(let p=q.length-1;0<=p;--p){const w=q[p];if(w.tag===r)return w}return null}Sn(q,r){return!!this.Wc(q,r)}lS(q,r){let p=[];(this.Vea||this.Sn(r,"b"))&&p.push("bold");(this.$ea||this.Sn(r,"i"))&&p.push("italic");var w=this.Wc(r,"size");w=(w?parseFloat(w.wd):this.xC)*
this.JU;q?p.push(w+"pt"):p.push(w*this.fy*this.Ii*self.devicePixelRatio+"pt");q=this.wC;(r=this.Wc(r,"font"))&&r.wd&&(q=r.wd,this.IM&&!this.ZI.has(q)&&(this.IM(q),this.ZI.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}gj(q){q instanceof d.Ya&&(q=q.vga());this.aC!==q&&(this.aC=q,this.cq())}BQ(q,r,p){b.Ku(q,r,p);this.gj(b)}Y5(){if(!e.has("center"))throw Error("invalid horizontal alignment");"center"!==this.te&&(this.te="center",this.cq())}R6(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.ie&&(this.ie="center",this.cq())}fR(q){if(!f.has(q))throw Error("invalid word wrap mode");this.zr!==q&&(this.zr=q,this.fq())}Ks(q){this.lc!==q&&(this.lc=q,this.fq())}Pb(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.sf===q&&this.im===r&&this.Ii===p)){1===this.Ii!==(1===p)&&(this.ZK=!0);var w=this.sf,t=this.Ii;this.sf=q;this.im=r;this.Ii=p;q=self.devicePixelRatio;this.W=this.sf*this.Ii*q;this.V=this.im*this.Ii*q;q=Math.max(this.W,this.V);r=Math.min(this.wa.wD,2048);p=1;
q>r&&(p=r/q,this.W=Math.min(this.W*p,r),this.V=Math.min(this.V*p,r));this.fy=p;0<this.Ay&&0<this.yy&&this.Ii===t&&this.Fg.set(0,0,this.W/this.Ay,this.V/this.yy);this.sf!==w?this.fq():this.cq()}}M(){return this.W}I(){return this.V}PO(){this.aq();return this.Df.vO()}OO(){this.aq();return this.Df.n1()+this.Df.cl.length*(this.Ec+4)-this.Ec}hd(){this.NL.kd();this.Xaa();return this.ub}Xaa(){this.ub&&!this.sJ&&!this.cE||this.BK||0>=this.W||0>=this.V||(this.sJ=!1,this.BK=!0,this.wx?d.rl(()=>this.WR()):this.WR())}WR(){this.Oy||
(this.OT(Math.ceil(this.W),Math.ceil(this.V)),this.aq(),this.e$(),this.$da(),this.NL.kd(),this.BK=!1)}OT(q,r){this.pr||(this.pr=d.Qg(16,16));let p=!1;if(this.xV!==q||this.wV!==r)this.xV=q,this.wV=r,this.pr.width=q,this.pr.height=r,p=!0;this.Be||(this.Be=this.pr.getContext("2d"),p=!0);p?(this.Be.textBaseline=this.Oe?"alphabetic":"top",this.Be.font=this.FK,this.Be.fillStyle=this.lD,this.Be.strokeStyle=this.lD,this.Be.globalAlpha=this.HK,this.Be.lineWidth=this.GK):this.Be.clearRect(0,0,q,r)}OS(){this.xm||
(this.xm=d.Qg(16,16).getContext("2d"),this.Ox=d.Qg(16,16).getContext("2d"),this.xm.textBaseline=this.Oe?"alphabetic":"top",this.Ox.textBaseline="top")}mda(q){this.zV!==q&&(this.zV=q,this.xm.font=q,this.Ox.font=q)}XT(){if(!l){l=!0;this.OS();const q=this.xm.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}aq(){this.cE&&(this.OS(),!this.Oe||this.tj&&this.tj.toString()===this.lc||(this.tj=new d.tl(this.lc,{kX:!0})),this.Df.jw(this.Oe?
this.tj.DX():this.lc,this.Px,this.sf,this.zr,0),this.cE=!1)}zw(q,r){this.mda(this.lS(!0,r));r=this.Wc(r,"size");r=(r?parseFloat(r.wd):this.xC)*this.JU;const p=this.xm.measureText(q);let w=0;this.Oe&&this.XT()&&(w=p.fontBoundingBoxAscent-this.Ox.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,Mg:p.fontBoundingBoxAscent||0,gg:p.fontBoundingBoxDescent||0,ig:w}}Zca(q){this.FK!==q&&(this.FK=q,this.Be.font=q)}yB(q){this.lD!==q&&(this.lD=q,this.Be.fillStyle=q,this.Be.strokeStyle=
q)}Yca(q){this.HK!==q&&(this.HK=q,this.Be.globalAlpha=q)}CT(q){this.GK!==q&&(this.GK=q,this.Be.lineWidth=q)}e$(){this.th=0;const q=this.fy*this.Ii*self.devicePixelRatio,r=(4+this.Ec)*q;var p=0;const w=this.Df.cl;if(0!==w.length){var t=this.Oe&&this.XT(),v=w[0].height*q;"center"===this.ie?(p=w.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.V/2-p/2,0),t&&(v=w[0].ig*q)):"bottom"===this.ie&&(p=w.reduce((x,z)=>x+z.height*q+r,0)-this.Ec*q,p=this.V-p-(t?w.Xe(-1).gg*q:0)-2);for(let x=0,z=w.length;x<z;++x){t=
w[x];const D=t.height*q,E=p;if(this.Oe){if(p+=0===x?v:D,0<x&&p>this.V-4*q)break}else if(0<x&&p>=this.V-D)break;0<=E&&this.d$(t,p,q);this.Oe||(p+=D);p+=r}}}d$(q,r,p){let w=0;"center"===this.te?w=(this.W-q.width*p)/2:"right"===this.te&&(w=this.W-q.width*p);for(const t of q.qM)this.c$(t,w,r,p,q.height),w+=t.width*p}c$(q,r,p,w,t){const v=this.Be;var x=t/16;t=q.width*w;const z=q.height*w,D=q.height/16;var E=(4+this.Ec)*w,M=q.yd,B=q.text;if(-1!==this.uh){if(this.th>=this.uh)return;this.th+B.length>this.uh&&
(B=B.substr(0,this.uh-this.th),t=this.zw(B,M).width*w);this.th+=B.length}var G=this.Wc(M,"background"),H=this.Sn(M,"u");q=this.Sn(M,"s");if((!d.AA(B)||G||H||q)&&!this.Sn(M,"hide")){var J=this.Wc(M,"offsetx");r+=J?parseFloat(J.wd)*w:0;J=this.Wc(M,"offsety");p+=J?parseFloat(J.wd)*w:0;G&&(this.yB(G.wd),v.fillRect(r,p-z,t,z+E));J=this.Wc(M,"color");this.yB(J?J.wd:this.aC);E=this.Wc(M,"opacity");this.Yca(E?parseFloat(E.wd)/100:1);E=(E=this.Wc(M,"linethickness"))?parseFloat(E.wd):1;(G=this.Sn(M,"stroke"))&&
this.CT(.5*D*E*this.fy*this.Ii*self.devicePixelRatio);this.Zca(this.lS(!1,M));g(v,G,B,r,p,t);!G&&(this.CT(.5*D*E*this.fy*this.Ii*self.devicePixelRatio),M=this.Wc(M,"outline"))&&(this.yB(M.wd),g(v,!0,B,r,p,t));this.yB(J?J.wd:this.aC);H&&(M=r,B=p+w*x,H=t,x=w*x*E,G?v.strokeRect(M,B,H,x):v.fillRect(M,B,H,x));q&&(w*=D,v.fillRect(r,p-z/4+w/2-w*E/2,t,w*E))}}$da(){this.wa.Bp()||(this.Ay=Math.ceil(this.W),this.yy=Math.ceil(this.V),this.Fg.set(0,0,this.W/this.Ay,this.V/this.yy),this.ZK&&(this.fh(),this.ZK=
!1),this.ub||(this.ub=this.wa.IN(this.Ay,this.yy,{GE:1===this.Ii,az:"high"})),this.wa.G7(this.pr,this.ub),this.JM&&this.JM())}Xh(){return this.Fg}fh(){this.ub&&(this.wa.Bp()||this.wa.Ri(this.ub),this.ub=null)}static Ol(){for(const q of k)q.fh()}}}
{"use strict";const d=self.j;class a{constructor(b){this.Y=b.Y;this.Td=b.Td;this.Sd=b.Sd;this.xi=null;this.kx=this.Mb=!1;this.MD=0;this.xi=1===this.Td?this.Sd.createQueryEXT():this.Y.createQuery()}g(){this.SR();this.Sd=this.Y=null;this.kx=!1}SR(){this.xi&&(1===this.Td?this.Sd.deleteQueryEXT(this.xi):this.Y.deleteQuery(this.xi),this.xi=null)}cF(){if(this.Mb)throw Error("query already active");1===this.Td?this.Sd.beginQueryEXT(this.Sd.TIME_ELAPSED_EXT,this.xi):this.Y.beginQuery(this.Sd.TIME_ELAPSED_EXT,
this.xi);this.Mb=!0}vF(){if(!this.Mb)throw Error("query not active");1===this.Td?this.Sd.endQueryEXT(this.Sd.TIME_ELAPSED_EXT):this.Y.endQuery(this.Sd.TIME_ELAPSED_EXT);this.Mb=!1}hF(){if(this.xi&&!this.kx&&!this.Mb){var b=1===this.Td?this.Sd.getQueryObjectEXT(this.xi,this.Sd.QUERY_RESULT_AVAILABLE_EXT):this.Y.getQueryParameter(this.xi,this.Y.QUERY_RESULT_AVAILABLE);var e=this.Y.getParameter(this.Sd.GPU_DISJOINT_EXT);b&&!e&&(this.MD=1===this.Td?this.Sd.getQueryObjectEXT(this.xi,this.Sd.QUERY_RESULT_EXT):
this.Y.getQueryParameter(this.xi,this.Y.QUERY_RESULT),this.MD/=1E9,this.kx=!0);(b||e)&&this.SR()}}sA(){return this.kx}iA(){if(!this.kx)throw Error("no result available");return this.MD}}d.$.R7=class{constructor(b){this.wa=b;this.ri=b.ri;this.Mb=!1;this.yo=null;this.Qq=!1;this.Zt=null;this.fr=[]}g(){for(const b of this.fr)b instanceof a&&b.g();d.C(this.fr);this.wa=this.Zt=this.yo=null}cF(){if(this.Mb)throw Error("query already active");const b=this.wa.yW;0<b.length?(this.Qq=!0,this.yo=b.Xe(-1),this.yo.ZR(),
this.yo.fr.push(this)):(this.Qq=!1,this.yo=null);this.Mb=!0;b.push(this);this.UT()}vF(){if(!this.Mb)throw Error("query not active");if(this.wa.yW.pop()!==this)throw Error("can only end most nested query");this.Mb=!1;this.ZR();this.yo&&(this.yo.UT(),this.yo=null)}UT(){this.Zt=d.A(a,this.wa);this.fr.push(this.Zt);this.Zt.cF()}ZR(){this.Zt.vF();this.Zt=null}hF(){for(const b of this.fr)b.hF()}sA(){return this.fr.every(b=>b.sA())}iA(){return this.fr.reduce((b,e)=>b+e.iA(),0)}}}
{"use strict";const d=self.j;d.$.xR=class{constructor(a,b=1E3){this.wa=a;this.jfa=b;this.Pk=[];this.wa.m8(this)}g(){this.Gc();this.wa.aca(this);this.wa=null}Gc(){for(const a of this.Pk)a.g();d.C(this.Pk)}aF(){const a=new d.$.R7(this.wa);this.Pk.push(a);this.Pk.length>this.jfa&&this.Pk.shift().g();return a}NY(a){for(const b of this.Pk){if(b.ri>=a)break;if(b.Qq)break;b.hF()}}mO(a,b){if(b<=a)return NaN;let e=0;for(const c of this.Pk){if(c.ri>=b)break;if(!(c.ri<a))if(c.sA())e+=c.iA();else return NaN}return e}LN(a){for(let b=
0,e=this.Pk.length;b<e;++b){const c=this.Pk[b];if(c.ri<a)c.g();else{0<b&&this.Pk.splice(0,b);break}}}}}
{"use strict";const d=self.j,a=self.pl,b=a.mz,e=a.bp,c={powerPreference:"default",ZW:!0,alpha:!1,BM:!1,depth:!1,hX:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new d.Jc(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),n=new d.Jc,q=new d.Rect;let r=null;d.zu&&(self.dra=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.fra=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let w=
-1;function t(){w=-1;for(const v of p)v.Yfa()&&(v.resolve(),p.delete(v));0<p.size&&(w=self.requestAnimationFrame(t))}d.$.Q7=class extends d.$.b5{constructor(v,x){super();x=Object.assign({},c,x);if(!f.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.BM&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let D=null,E=0;2<=x.hX&&(D=v.getContext("webgl2",
z),E=2);D||(D=v.getContext("webgl",z),E=1);if(!D)throw Error("failed to initialise WebGL context");this.Y=D;this.nU=D.getContextAttributes();x.BM&&!this.nU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");D.getParameter(D.VERSION);this.Td=E;this.Cf=b.create();this.fJ=e.create();this.pK=this.Qo=!!x.depth;this.xq=null;this.nK=!0;this.vU=this.wU=0;this.FD=this.fV=this.bE=this.oE=null;this.nu=new Float32Array(24E3);this.gV=new Uint16Array(12E3);this.Ho=
new Float32Array(16E3);this.ZV=new Float32Array(32E3);this.AV=this.GD=this.Rd=this.Jg=0;this.Fo=this.Vq=null;this.Qw=[];this.xc=this.Yn=0;this.Od=null;this.Lc=d.A(d.$.uY,this);this.Hx=d.A(d.Ya,1,1,1,1);this.uo=this.vm=null;this.CK=this.EK=0;this.Rq=!1;this.My=this.Ny=-1;this.cfa=new d.Rect;this.wD=-1;this.UK=0;this.Hy="(unavailable)";this.sK=!1;this.Lw=this.hL=null;this.TK=0;this.Zea=!!x.ZW;this.Sd=null;this.MB=new Set;this.yW=[];this.T_(this.gV)}Ev(){return!0}async tA(){super.tA();var v=this.Y;this.Hx.hp(1,
1,1,1);this.uo=this.vm=null;this.GD=this.Jg=0;this.AV=23988;d.C(this.Qw);this.xc=this.Yn=0;this.Od=this.Vq=null;this.cfa.set(0,0,1,1);var x=this.Lc;x.Ji=null;x.Xo=null;b.set(x.yE,1,1,1,1);x.clearColor.hp(0,0,0,0);x.NM.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.EK=v.ONE;this.CK=v.ONE_MINUS_SRC_ALPHA;this.Z$(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Qo?(v.enable(v.DEPTH_TEST),v.depthMask(!0),
v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.pK=this.Qo;this.FD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.FD);v.bufferData(v.ARRAY_BUFFER,this.ZV.byteLength,v.DYNAMIC_DRAW);this.oE=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.oE);v.bufferData(v.ARRAY_BUFFER,this.nu.byteLength,v.DYNAMIC_DRAW);this.bE=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.bE);v.bufferData(v.ARRAY_BUFFER,this.Ho.byteLength,v.DYNAMIC_DRAW);this.fV=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,
this.fV);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.gV,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.wD=v.getParameter(v.MAX_TEXTURE_SIZE);this.UK=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.UK&&(this.UK=2048);if(x=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(x.UNMASKED_VENDOR_WEBGL),this.Hy=v.getParameter(x.UNMASKED_RENDERER_WEBGL);this.hL=v.getExtension("KHR_parallel_shader_compile");d.zu&&(r=v.getExtension("WEBGL_lose_context"));if(this.Zea)if(1===
this.Td){if("Chromium"!==d.Fd.sz||81<=d.Fd.fF||"undefined"!==typeof document)this.Sd=v.getExtension("EXT_disjoint_timer_query")}else this.Sd=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.TK=(this.Lw=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Lw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;v=d.$.iw;x=v.Wz(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.Wz(!0),"<tilemap>"]].map(z=>this.pF({src:z[0]},z[1],z[2])));this.WD=v[0];this.Fo=v[1];this.VD=v[2];this.CL=v[3];this.tg()}async pF(v,x,z){v=await d.$.iw.Sa(this,v,x,z);this.n8(v);return v}h5(){this.Vq=null}Pb(v,x,z){if(this.W!==v||this.V!==x||z){this.Si();z=this.Y;var D=this.Lc;this.W=v;this.V=x;v=this.EO();x=this.XF();this.RT(v,x);this.Xu(this.fJ,v/x);this.Is(this.fJ);this.Fo&&(z.useProgram(this.Fo.jb),this.Fo.fU(this.vD),this.Vq=this.Fo,this.Lc.Ji=this.Fo);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.uo=this.vm=null;this.Qo&&this.nK&&this.zI(this.W,this.V);this.Od&&this.Od.mT(this.W,this.V);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Od=null;D.Xo=null}}zI(v,x){const z=this.Y;if(this.xq){if(this.wU===v&&this.vU===x)return;z.deleteRenderbuffer(this.xq)}this.xq=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.xq);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Td?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,v,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.wU=v;this.vU=x}Q5(v,x){this.Qo&&(this.nK=!1,this.zI(v,x))}B5(){this.Qo&&(this.nK=!0,this.zI(this.W,this.V))}EO(){return this.Rq?this.Ny:this.M()}XF(){return this.Rq?this.My:this.I()}RT(v,x){const z=this.Cf;if(0!==z[0]||0!==z[1]||z[2]!==v||z[3]!==x)this.Tc().C2(v,x),b.set(z,0,0,v,x),this.xc=0}Is(v){e.jk(this.vD,v)||(this.Tc().z2(v),e.oa(this.vD,v),this.xc=0)}FQ(){let v,x;var z=this.Od;null===z||z.yx&&this.Rq?(v=this.fJ,x=this.EO(),z=this.XF()):(v=z.br,x=z.M(),z=z.I());this.Is(v);this.RT(x,
z)}Gs(v){e.jk(this.RK,v)||(this.Tc().w2(v),e.oa(this.RK,v),this.xc=0)}Tc(){const v=this.Qw;this.Yn===v.length&&v.push(new d.$.P7(this.Lc));return v[this.Yn++]}Si(){0===this.Yn||this.Bp()||(this.iea(),this.i$(),this.xc=this.GD=this.Rd=this.Jg=this.Yn=0)}iea(){const v=this.Y;0<this.GD&&(v.bindBuffer(v.ARRAY_BUFFER,this.FD),v.bufferSubData(v.ARRAY_BUFFER,0,this.ZV.subarray(0,this.GD)));0<this.Jg&&(v.bindBuffer(v.ARRAY_BUFFER,this.oE),v.bufferSubData(v.ARRAY_BUFFER,0,this.nu.subarray(0,this.Jg)),v.bindBuffer(v.ARRAY_BUFFER,
this.bE),v.bufferSubData(v.ARRAY_BUFFER,0,this.Ho.subarray(0,this.Rd)))}i$(){const v=this.Qw;for(let x=0,z=this.Yn;x<z;++x)v[x].qa()}ff(){return this.Hx.Va}Pf(v,x,z,D){const E=this.Hx;E.Ty(v,x,z,D)||(E.hp(v,x,z,D),this.Tc().mG(E),this.xc=0,this.Dj=null)}hj(v){const x=this.Hx;x.Va!==v&&(x.Og(v),this.Tc().mG(x),this.xc=0,this.Dj=null)}gj(v){const x=this.Hx;x.ed(v)||(x.set(v),this.Tc().mG(x),this.xc=0,this.Dj=null)}xs(){this.Pf(1,1,1,1)}Ge(v){v!==this.vm&&(this.Tc().B2(v),this.vm=v,this.xc=0)}rI(){this.vm=
null}Of(v){v=this.A$(v);this.yI(v[0],v[1])}yI(v,x){if(v!==this.EK||x!==this.CK)this.Tc().u2(v,x),this.EK=v,this.CK=x,this.xc=0,this.Dj=null}YG(){this.yI(this.Y.ONE,this.Y.ONE_MINUS_SRC_ALPHA)}DQ(){this.yI(this.Y.ONE,this.Y.ZERO)}Rect(v){this.dQ(v.L,v.J,v.U,v.S)}dQ(v,x,z,D){this.LG(v,x,z,x,z,D,v,D)}Ts(){let v=this.Jg;v>=this.AV&&(this.Si(),v=0);1===this.xc?this.Qw[this.Yn-1].Kq+=6:(this.Tc().t2(v),this.xc=1)}JI(v){v.Gha(this.nu,this.Jg,this.dt+this.nt);this.Jg+=12}Jc(v){this.Ts();this.JI(v);k.Oh(this.Ho,
this.Rd);this.Rd+=8}LG(v,x,z,D,E,M,B,G){this.Ts();const H=this.nu;let J=this.Jg;const P=this.dt+this.nt;H[J++]=v;H[J++]=x;H[J++]=P;H[J++]=z;H[J++]=D;H[J++]=P;H[J++]=E;H[J++]=M;H[J++]=P;H[J++]=B;H[J++]=G;H[J++]=P;this.Jg=J;k.Oh(this.Ho,this.Rd);this.Rd+=8}Ip(v,x){this.Ts();this.JI(v);x.LX(this.Ho,this.Rd);this.Rd+=8}JA(v,x){this.Ts();this.JI(v);x.Oh(this.Ho,this.Rd);this.Rd+=8}M4(v,x,z,D,E,M,B,G,H,J,P,Q,T){this.Ts();const W=this.nu;let Z=this.Jg;const Y=this.dt+this.nt;W[Z++]=v;W[Z++]=x;W[Z++]=Y+z;
W[Z++]=D;W[Z++]=E;W[Z++]=Y+M;W[Z++]=B;W[Z++]=G;W[Z++]=Y+H;W[Z++]=J;W[Z++]=P;W[Z++]=Y+Q;this.Jg=Z;T.LX(this.Ho,this.Rd);this.Rd+=8}vs(v,x,z,D,E,M,B,G,H,J,P,Q,T){this.Ts();const W=this.nu;let Z=this.Jg;const Y=this.dt+this.nt;W[Z++]=v;W[Z++]=x;W[Z++]=Y+z;W[Z++]=D;W[Z++]=E;W[Z++]=Y+M;W[Z++]=B;W[Z++]=G;W[Z++]=Y+H;W[Z++]=J;W[Z++]=P;W[Z++]=Y+Q;this.Jg=Z;T.Oh(this.Ho,this.Rd);this.Rd+=8}Y_(v,x){e.oa(g,this.vD);e.oa(l,this.RK);this.FQ();if(this.Rq){v=this.Wu(0,0,100*self.devicePixelRatio,0,0);this.Gs(v);
v=this.Ny/2;var z=this.My/2;q.set(-v,z,-v+this.Ny,z-this.My);n.Nh(q);q.set(0,0,this.Ny/this.W,this.My/this.V);this.Ip(n,q)}else{const [M,B]=this.i1(this.Od);z=this.Wu(0,0,100*self.devicePixelRatio,0,0,B);this.Gs(z);if("crop"===v&&this.Od&&x){v=this.W/2;z=this.V/2;const G=x.M();x=x.I();var D=this.Od.M(),E=this.Od.I();D=Math.min(D,G);const H=Math.min(E,x),J=Math.max(x-E,0);E=Math.max(E-x,0);q.set(-v,z-E,-v+D,z-H-E);n.Nh(q);q.set(0,J,D,H+J);q.ik(G,x);this.Ip(n,q)}else v=M/2,z=B/2,this.dQ(-v,z,v,-z)}this.Is(g);
this.Gs(l)}Nn(v){this.Vq!==v&&(this.Tc().x2(v),this.Vq=v,this.xc=0,this.Dj=null)}J5(){this.Nn(this.Fo)}Hs(v,x,z,D,E,M,B,G,H,J,P){const Q=this.Vq;var T=Q.VU;const W=!!P.length;if(T&&!Q.qY(x,z,D,E,M,B,G,H,J)||W&&!Q.pY(P)){var Z=this.Tc();Z.y2();T&&(Q.p6(x,z,D,E,M,B,G,H,J),T=Z.Qe,T[0]=M,T[1]=B,x.Oh(T,2),T[6]=G,T[7]=H,z.Oh(T,12),x=Z.tq,E.Oh(x,0),E=x[1],x[1]=x[3],x[3]=E,D.Oh(Z.sW,0),Z.Gh=J,Z.wf=Q.mu.ca?v?v.hd():null:null);W&&(Q.H5(P),d.xd(Z.OD,P));this.xc=0}}Az(){this.Tc().k2();this.xc=0}Gc(v){this.Tc().j2(v);
this.xc=0}iF(v){this.SY(v.L,v.J,v.width(),v.height())}SY(v,x,z,D){0>z||0>D||(this.Tc().i2(v,x,z,D),this.xc=0)}hw(){}Tr(){super.Tr();this.Y.flush()}OY(){this.Qo&&this.Od&&this.Od.Ej&&(this.Tc().h2(),this.xc=0)}Kn(v){v=!!v;this.pK!==v&&this.Qo&&(this.pK=v,this.Tc().v2(v),this.xc=0)}MY(){for(const v of this.MB)v.NY(this.ri)}Bp(){return!this.Y||this.Y.isContextLost()||this.sK}Ol(){super.Y3();d.$.bB.Ol();d.$.AH.Ol();d.$.hQ.Ol();for(const v of this.MB)v.Gc();this.Lw=this.hL=this.Sd=null;this.TK=0;this.Hy=
"(unavailable)";this.xq=this.Fo=this.Vq=null;for(const v of this.vy.values())v.Ol()}async HG(){this.sK=!0;await this.tA();this.sK=!1;for(const v of this.vy.values())v.HG(this);this.Pb(this.W,this.V,!0)}Zu(v,x){if(this.Bp())throw Error("context lost");this.Si();const z=d.A(d.$.bB,this);z.e9(v,x);return z}Dz(v,x){if(this.Bp())return Promise.reject("context lost");x=Object.assign({},x);const z=x.Su&&"clamp-to-edge"!==x.Su||x.Tu&&"clamp-to-edge"!==x.Tu;if(!d.Xb.ImageBitmapOptions||!this.Up()&&z)return d.Xb.ImageBitmap?
createImageBitmap(v).then(D=>d.rl(()=>this.Zu(D,x))):v instanceof Blob?d.nN(v,!0).then(D=>this.Dz(D,x)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.rl(()=>this.Zu(v,x))):d.rl(()=>this.Zu(v,x));x.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(D=>d.rl(()=>this.Zu(D,x)))}IN(v,x,z){this.Si();const D=d.A(d.$.bB,this);D.Q8(v,x,z);return D}G7(v,x){this.Si();x.aU(v,void 0)}Ri(v){v&&(v.m7(),
0<v.cd||(this.Si(),v===this.vm&&(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.vm=null),v===this.uo&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.uo=null),v.PH()))}rZ(v){let x=this.W,z=this.V,D=!0;v&&("number"===typeof v.width&&(x=v.width,D=!1),"number"===typeof v.height&&(z=v.height,D=!1));if(0>=x||0>=z)throw Error("invalid size");this.Si();const E=d.A(d.$.AH,this);E.P8(x,z,Object.assign({cX:D},v));this.Od=null;this.Lc.Xo=
null;return E}kf(v){v!==this.Od&&(v&&v.yx&&v.mT(this.W,this.V),this.Tc().A2(v),this.Od=v,this.xc=0,this.FQ())}hA(){return this.Od}i1(v){return v?[v.M(),v.I()]:[this.W,this.V]}lF(v){2>this.Td||this.Od&&0<this.Od.ym?(this.DQ(),this.xs(),this.$u(v,"stretch")):(this.Tc().f2(v,this.Od),this.xc=0)}$u(v,x="stretch"){v=v.hd();if(!v)throw Error("not a texture-backed render target");this.Ge(v);this.Y_(x,v)}zp(v){2>this.Td||(this.Tc().p2(v.Lj),this.xc=0)}FZ(v){this.kf(null);this.Si();const x=v.hd();x===this.vm&&
(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.vm=null);x===this.uo&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.uo=null);v.PH()}async Q4(v){this.Si();const x=this.Od;if(v){var z=v.M();var D=v.I();v=v.Lj}else z=this.M(),D=this.I(),v=null;const E=this.Y;E.bindFramebuffer(E.FRAMEBUFFER,v);v=new ImageData(z,D);E.readPixels(0,0,z,D,E.RGBA,E.UNSIGNED_BYTE,new Uint8Array(v.data.buffer));(()=>{E.bindFramebuffer(E.FRAMEBUFFER,
null);this.Od=null;this.Lc.Xo=null;this.kf(x)})();return v}FN(){this.Kn(!0);this.Tc().n2();this.xc=0}EN(){this.Kn(!1);this.Tc().m2();this.xc=0}DN(){this.Kn(!0);this.Tc().l2();this.xc=0}tH(v){this.Gk()&&(this.Tc().E2(v),this.xc=0)}uF(v){this.Gk()&&(this.Tc().o2(v),this.xc=0)}eea(v){const x=new Promise(z=>p.add({resolve:z,Yfa:v}));-1===w&&(w=self.requestAnimationFrame(t));return x}R2(){return!!this.nU.desynchronized}q0(){let v=0;for(const x of d.$.bB.Pfa())v+=x.IF();return v}Up(){return 2<=this.Td}Gk(){return!!this.Sd}m8(v){this.MB.add(v)}aca(v){this.MB.delete(v)}Z$(v){this.Y$([["normal",
v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.R1=class{constructor(e){d=e;Object.defineProperties(this,{yga:{value:{},writable:!1},storage:{value:new self.U1(d),writable:!1},Wra:{value:d.pm,writable:!1}});d.Ee.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Ee.addEventListener("keyup",c=>a.delete(c.key));d.Db().addEventListener("window-blur",()=>a.clear());d.pm&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}aaa(e){Object.defineProperties(this.yga,e)}addEventListener(e,c){d.Ee.addEventListener(e,c)}removeEventListener(e,c){d.Ee.removeEventListener(e,c)}get YW(){return d.pp()}random(){return d.Dn()}get Ng(){return d.Ub().ox}get keyboard(){const e=d.Uw.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get iX(){const e=d.Uw.iX;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get cN(){const e=d.Uw.cN;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.Nv("alert",{message:e+(d.pm?" [via Web Worker]":"")})}}}"use strict";self.M1=class{constructor(){}};{"use strict";const d=self.Pg;self.U1=class{constructor(a){this.wy=a.M$()}getItem(a){d.oe(a);return this.wy.getItem(a)}setItem(a,b){d.oe(a);return this.wy.setItem(a,b)}removeItem(a){d.oe(a);return this.wy.removeItem(a)}clear(){return this.wy.clear()}keys(){return this.wy.keys()}}}
{"use strict";const d=self.Pg,a=new WeakMap;self.lG=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ba(),writable:!1}});b.G().LS(this,b)}addEventListener(b,e){d.oe(b);d.Ck(e);a.get(this).Ee.addEventListener(b,e)}removeEventListener(b,e){d.oe(b);d.Ck(e);a.get(this).Ee.removeEventListener(b,e)}*bX(){for(const b of a.get(this).ka())yield b.Th()}mM(b){d.rg(void 0);d.rg(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.G();b=c.Ub().aa(b);if(!b)throw Error("invalid layer");e=c.nF(e,b,void 0,void 0,void 0);c=c.ja();c.Ze(!0);e.DB();c.Ze(!1);return e.Th()}}}
{"use strict";const d=self.Pg,a=new WeakMap;self.Q1=class{constructor(b){a.set(this,b);const e=[],c=b.Qa,f=c.Sg().length;for(let k=0;k<f;++k)e.push(new self.kG(c,k));Object.defineProperties(this,{name:{value:b.Ba(),writable:!1},index:{value:b.Ga(),writable:!1}})}addEventListener(b,e){d.oe(b);d.Ck(e);a.get(this).Ee.addEventListener(b,e)}removeEventListener(b,e){d.oe(b);d.Ck(e);a.get(this).Ee.removeEventListener(b,e)}get width(){return a.get(this).M()}set width(b){a.get(this).mf(b)}get height(){return a.get(this).I()}set height(b){a.get(this).ld(b)}set scale(b){d.fj(b);
a.get(this).Sp(b)}get scale(){return a.get(this).ac}set angle(b){d.fj(b);a.get(this).Bc(b)}get angle(){return a.get(this).ra()}set scrollX(b){d.rg(b);a.get(this).bi(b)}get scrollX(){return a.get(this).mg()}set scrollY(b){d.rg(b);a.get(this).ci(b)}get scrollY(){return a.get(this).ng()}scrollTo(b,e){d.rg(b);d.rg(e);const c=a.get(this);c.bi(b);c.ci(e)}set sX(b){d.oe(b);const e=a.get(this);if("perspective"===b)e.WQ();else if("orthographic"===b)e.TQ();else throw Error("invalid projection");}get sX(){return a.get(this).Xf?
"orthographic":"perspective"}}}
{"use strict";const d=self.j,a=self.Pg,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.A(d.Ya);self.P1=class{constructor(c){b.set(this,c);const f=[],k=c.Qa,g=k.Sg().length;for(let l=0;l<g;++l)f.push(new self.kG(k,l));Object.defineProperties(this,{name:{value:c.Ba(),writable:!1},index:{value:c.Ga(),
writable:!1},Ng:{value:c.oc().ox,writable:!1}})}get isVisible(){return b.get(this).Sc()}set isVisible(c){b.get(this).lf(c)}get opacity(){return b.get(this).ff()}set opacity(c){c=d.fa(+c,0,1);isNaN(c)||b.get(this).hj(c)}set scale(c){a.fj(c);b.get(this).UQ(c)}get scale(){return b.get(this).ac}set angle(c){a.fj(c);b.get(this).Bc(c)}get angle(){return b.get(this).Le}set oz(c){a.fj(c);b.get(this).He(c)}get oz(){return b.get(this).Ta()}set backgroundColor(c){a.TG(c);if(3>c.length)throw Error("expected 3 elements");
e.Ku(c[0],c[1],c[2]);c=b.get(this);const f=c.fm;f.Wm(e)||(f.hk(e),c.G().R())}get backgroundColor(){const c=b.get(this).fm;return[c.Xa,c.bb,c.$a]}set scrollX(c){a.rg(c);const f=b.get(this);f.Yv(!0);f.bi(c)}get scrollX(){return b.get(this).mg()}set scrollY(c){a.rg(c);const f=b.get(this);f.Yv(!0);f.ci(c)}get scrollY(){return b.get(this).ng()}scrollTo(c,f){a.rg(c);a.rg(f);const k=b.get(this);k.Yv(!0);k.bi(c);k.ci(f)}}}
{"use strict";const d=self.j,a=self.Pg,b=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.A(d.Event.Db);e.set(k,g);return g}let f=null;self.rn=class{constructor(){b.set(this,f);const k={Qc:{value:f.G().Pj,writable:!1},HM:{value:f.H().qx,writable:!1},uid:{value:f.Pc,writable:!1}};f.E$(k);f.z$(k);Object.defineProperties(this,k);f.G().LS(this,f)}static nj(k){f=k}static Xl(){return f}Cw(){const k=e.get(this);k&&(k.g(),e.delete(this));b.delete(this)}addEventListener(k,g,l){a.oe(k);
a.Ck(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.oe(k);a.Ck(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.j,a=self.Pg,b=self.rn,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.A(d.Ya);self.hs=class c extends b{constructor(){super();var f=b.Xl();e.set(this,f);const k=[];var g=f.i();if(f=g.Ne){g=g.H().Qa.Sg().length;for(let l=0;l<g;++l)k.push(new self.kG(f,l))}}get Ng(){return e.get(this).i().oc().ox}get me(){return e.get(this).i().aa().Oea}get x(){return e.get(this).i().O()}set x(f){f=
+f;const k=e.get(this).i();isNaN(f)||k.O()===f||(k.Qf(f),k.ta())}get y(){return e.get(this).i().P()}set y(f){f=+f;const k=e.get(this).i();isNaN(f)||k.P()===f||(k.ih(f),k.ta())}get oz(){return e.get(this).i().Ta()}set oz(f){f=+f;const k=e.get(this),g=k.i();isNaN(f)||g.Ta()===f||(g.He(f),k.G().R())}get width(){return e.get(this).i().M()}set width(f){f=+f;const k=e.get(this).i();isNaN(f)||k.M()===f||(k.mf(f),k.ta())}get height(){return e.get(this).i().I()}set height(f){f=+f;const k=e.get(this).i();isNaN(f)||
k.I()===f||(k.ld(f),k.ta())}get angle(){return e.get(this).i().ra()}set angle(f){f=d.ke(+f);const k=e.get(this).i();isNaN(f)||k.ra()===f||(k.Bc(f),k.ta())}uM(){e.get(this).i().pb().xha()}get isVisible(){return e.get(this).i().Sc()}set isVisible(f){f=!!f;const k=e.get(this),g=k.i();g.Sc()!==f&&(g.lf(f),k.G().R())}get opacity(){return e.get(this).i().ff()}set opacity(f){f=d.fa(+f,0,1);const k=e.get(this),g=k.i();isNaN(f)||g.ff()===f||(g.hj(f),k.G().R())}get zIndex(){return e.get(this).i().wk()}fg(f,
k){a.rg(f);a.rg(k);return e.get(this).i().Yu(+f,+k)}getParent(){const f=e.get(this).Da();return f?f.Th():null}*bz(){for(const f of e.get(this).bz())yield f.Th()}*children(){for(const f of e.get(this).children())yield f.Th()}*Vo(){for(const f of e.get(this).Vo())yield f.Th()}removeChild(f){a.UG(f,c);const k=e.get(this);f=e.get(f);k.Bk(f)}}}{"use strict";const d=new WeakMap;self.Sja=class extends self.hs{constructor(){super();d.set(this,self.rn.Xl())}focus(){d.get(this).ia.YN()}blur(){d.get(this).ia.pN()}}}
{"use strict";const d=self.j,a=self.Pg,b=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.A(d.Event.Db);e.set(k,g);return g}let f=null;self.YO=class{constructor(){b.set(this,f);const k={Qc:{value:f.G().Pj,writable:!1},behavior:{value:f.Tg().J0(),writable:!1}};Object.defineProperties(this,k)}static nj(k){f=k}static Xl(){return f}get instance(){return b.get(this).K.Th()}Cw(){const k=e.get(this);k&&(k.g(),e.delete(this));b.delete(this)}addEventListener(k,g,l){a.oe(k);a.Ck(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.oe(k);a.Ck(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.N1=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Qc:{value:a.G().Pj,writable:!1}})}}}
{"use strict";const d=self.j,a=self.Pg,b=new WeakMap;self.kG=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Sg()[this.index].Ba()}getParameter(e){a.fj(e);e=Math.floor(+e);const c=b.get(this).Vg(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.Ya?[e.Xa,e.bb,e.$a]:e}}}
{"use strict";const d=self.j,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.tY=class extends d.ga{constructor(e,c){super();var f=c.exportType;this.b=e;this.sD=new Map;this.Ot=new Map;this.hfa=new Map;this.PC="cordova"===f;this.rV=!!c.isiOSCordova;this.zx=!!c.isFileProtocol;this.Efa=c.supportedAudioFormats||{};this.oea=
new Map;this.aV=this.KU="";this.gC="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.VI=[];this.dJ=new Map;this.dM=[];this.qD=[];this.WU=!1;this.kD=this.cJ=this.Ey=0;this.$J=!1;this.gfa=d.A(d.P4,()=>this.dS(),50);this.mL=new d.XP(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [k,g]of Object.entries(e))this.sD.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.hfa.set(k,g);new self.M1(this)}g(){this.sD.clear();for(const e of this.Ot.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Ot.clear();for(const e of this.VI)e.g();d.C(this.VI);this.dJ.clear();d.C(this.qD);this.b=null}G(){return this.b}bda(e){this.KU=e}gda(e){this.aV=e}eI(e){return this.sD.has(e.toLowerCase())}kB(e){return this.sD.get(e.toLowerCase())||null}uO(e){if(!this.eI(e))return e;e=e.toLowerCase();var c=this.Ot.get(e);c||(c=this.kB(e),c=URL.createObjectURL(c),
this.Ot.set(e,c));return c}wl(e,c){c=c||this.gC;const f=this.kB(e);if(f)return Promise.resolve(f);if(d.zG(e)){const k=e.toLowerCase();return this.PC&&this.zx?this.HN(k):"local"===c?this.mL.Rc(()=>d.wl(k)):d.wl(k)}return d.wl(e)}cv(e){const c=this.kB(e);if(c)return d.yY(c);if(d.zG(e)){const f=e.toLowerCase();return this.PC&&this.zx?this.GN(f):"local"===this.gC?this.mL.Rc(()=>d.cv(f)):d.cv(f)}return d.cv(e)}dv(e){const c=this.kB(e);if(c)return d.oN(c);if(d.zG(e)){const f=e.toLowerCase();return this.PC&&
this.zx?this.kZ(f):"local"===this.gC?this.mL.Rc(()=>d.dv(f)):d.dv(f)}return d.dv(e)}async VN(e){e=await this.dv(e);return JSON.parse(e)}GH(e,c){return this.b.Nv("cordova-fetch-local-file",{filename:e,as:c})}kZ(e){return this.GH(e,"text")}async HN(e){const c=await this.GH(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.Xe(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async jZ(e){e=e.toLowerCase();var c=this.Ot.get(e);if(c)return c;c=await this.HN(e);c=URL.createObjectURL(c);this.Ot.set(e,
c);return c}GN(e){return this.GH(e,"buffer")}f1(e,c=""){if(d.nG(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.eI(e)?Promise.resolve(this.uO(e)):this.PC&&this.zx?this.jZ(c+e):Promise.resolve(c+e.toLowerCase())}Gv(e){if(e.Zy&&!a.has(e.Zy))throw Error("invalid load policy");let c=this.dJ.get(e.url);if(c)return c;c=d.A(d.ZO,this,{url:e.url,size:e.size||0,Zy:e.Zy||this.gC});this.VI.push(c);this.dJ.set(c.ek,c);this.WU||(this.Ey+=c.pn(),this.qD.push(c.uP().then(()=>
this.CR(c.pn()))));return c}async vR(){try{await Promise.all(this.qD),this.kD=1}catch(e){console.error("Error loading: ",e),this.$J=!0,this.dS()}}Z5(){this.WU=!0}CR(e){this.cJ+=e;this.gfa.HY()}dS(){const e=d.A(d.Event,"loadingprogress");this.kD=d.fa(this.cJ/this.Ey,0,1);e.progress=this.kD;this.b.Db().dispatchEvent(e)}yda(e){d.xd(this.dM,e);this.dM.length&&this.qD.push(this.Oaa())}Oaa(){if("undefined"===typeof FontFace)return Promise.resolve();const e=[];for(const [c,f,k]of this.dM)this.Ey+=k,e.push(this.Naa(c,
f).then(()=>this.CR(k)));return Promise.all(e)}async Naa(e,c){try{const f=await this.f1(c,this.KU),k=new FontFace(e,`url('${f}')`);this.b.pm?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}M2(){return!!this.Efa["audio/webm; codecs=opus"]}Rca(e){for(const [c,f,k]of e)this.oea.set(c,{fileName:c,qra:f.map(g=>({type:g[0],mra:g[1],Dra:c+g[1],fileSize:g[2]})),Xra:k})}}}
{"use strict";const d=self.j;d.sY=class extends d.ga{constructor(a,b){super();this.Nd=a;this.b=a.G();this.ek=b.url;this.bu=b.size;this.NK=b.Zy;this.Rw=null;this.vK=!1;this.vo=null}g(){this.Rw=this.b=this.Nd=this.vo=null}pn(){return this.bu}uP(){return"local"===this.NK||this.Rw?(this.vK=!0,Promise.resolve()):this.vo?this.vo:this.vo=this.Nd.wl(this.ek,this.NK).then(a=>{this.vK=!0;this.vo=null;return this.Rw=a}).catch(a=>console.error("Error loading resource: ",a))}yA(){return this.vK}dO(){return this.Rw?
Promise.resolve(this.Rw):this.vo?this.vo:this.Nd.wl(this.ek,this.NK)}}}
{"use strict";const d=self.j,a=new d.XP,b=new Set;d.ZO=class extends d.sY{constructor(e,c){super(e,c);this.kl=this.qr=null;this.cd=0;this.cV=this.eV=-1;b.add(this)}g(){this.fh();if(0!==this.cd)throw Error("released image asset which still has texture references");this.qr=null;b.delete(this);super.g()}static Hp(){for(const e of b)e.qr=null,e.kl=null,e.cd=0}zn(e,c){c=c||{};this.cd++;if(this.kl)return Promise.resolve(this.kl);if(this.qr)return this.qr;c.MW=this.b.ba.xW;return this.qr=this.dO().then(f=>
a.Rc(()=>e.Dz(f,c).then(k=>{this.qr=null;if(0===this.cd)return e.Ri(k),null;this.kl=k;this.eV=k.M();this.cV=k.I();return this.kl}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}fh(){if(0>=this.cd)throw Error("texture released too many times");this.cd--;0===this.cd&&this.kl&&(this.kl.qb().Ri(this.kl),this.kl=null)}hd(){return this.kl}M(){return this.eV}I(){return this.cV}async v3(){const e=await this.dO();return d.Xb.ImageBitmapOptions?await createImageBitmap(e,{premultiplyAlpha:"none"}):
d.Xb.ImageBitmap?await createImageBitmap(e):await d.nN(e)}}}
{"use strict";const d=self.j;function a(b,e){return b.i().ml-e.i().ml}d.Z4=class extends d.ga{constructor(b,e,c){super();this.X=e;this.T=c;this.D=[];this.Bx=!0;this.Yj=new Set;this.vx=!1}g(){d.C(this.D);this.Yj.clear()}kd(){d.C(this.D);this.Bx=!0;this.Yj.clear();this.vx=!1}E5(){this.Bx=!1}tn(){if(!this.D.length)return!0;if(this.D.length>this.Yj.size)return!1;this.YH();return!0}uA(b){this.Yj.has(b)?(this.Yj.delete(b),0===this.Yj.size&&(this.vx=!1)):(this.D.push(b),this.Bx=1===this.D.length)}$h(b){this.Yj.add(b);
this.vx=!0;50<=this.Yj.size&&this.YH()}YH(){this.vx&&(this.D.length===this.Yj.size?this.kd():(d.Mh(this.D,this.Yj),this.Yj.clear(),this.vx=!1))}h$(){this.Bx||(this.D.sort(a),this.Bx=!0)}sF(b){this.YH();this.h$();this.D.length&&b.push(this.D)}}}
{"use strict";const d=self.j;d.a5=class extends d.ga{constructor(a,b){super();this.rJ=a;this.qJ=b;this.xj=d.A(d.Lv)}g(){this.xj.g();this.xj=null}kn(a,b,e){let c=this.xj.ea(a,b);return c?c:e?(c=d.A(d.Z4,this,a,b),this.xj.Set(a,b,c),c):null}kj(a){return Math.floor(a/this.rJ)}lj(a){return Math.floor(a/this.qJ)}Tl(a,b,e){if(b)for(let c=b.L,f=b.U;c<=f;++c)for(let k=b.J,g=b.S;k<=g;++k){if(e&&e.fg(c,k))continue;const l=this.kn(c,k,!1);l&&(l.$h(a),l.tn()&&this.xj.gn(c,k))}if(e)for(let c=e.L,f=e.U;c<=f;++c)for(let k=
e.J,g=e.S;k<=g;++k)b&&b.fg(c,k)||this.kn(c,k,!0).uA(a)}KA(a,b){let e=this.kj(a.L);const c=this.lj(a.J),f=this.kj(a.U);for(a=this.lj(a.S);e<=f;++e)for(let k=c;k<=a;++k){const g=this.kn(e,k,!1);g&&g.sF(b)}}A3(a){let b=a.L;const e=a.J,c=a.U;for(a=a.S;b<=c;++b)for(let f=e;f<=a;++f){const k=this.kn(b,f,!1);k&&k.E5()}}}}
{"use strict";const d=self.j,a=new d.Rect,b=new d.Jc,e=[],c=new d.Rect,f=new d.Rect,k=self.pl,g=k.VE,l=k.mz,n=k.bp;n.create();const q=g.create(),r=l.create(),p=g.create(),w=g.create(),t=g.create(),v=d.A(d.Ps);function x(B,G){return B.i().ml-G.i().ml}function z(B,G){return B.i().Ta()-G.i().Ta()}const D=[],E=[],M=[];d.CG=class extends d.ga{constructor(B,G,H){super();this.Wj=B;this.b=B.G();this.Fa=H[0];this.Ua=G;this.ib=H[2];this.gD=!!H[3];this.fm=d.A(d.Ya);this.fm.$m(H[4].map(J=>J/255));this.so=!!H[5];
this.ve=H[6];this.we=H[7];this.Ia=d.A(d.Ya,1,1,1,H[8]);this.ID=d.A(d.Ya);this.qK=H[9];this.zfa=H[17];this.BW=H[18];this.Jfa=H[10];this.ak=H[11];this.ao=H[12];this.Rk=null;this.ac=1;this.ud=H[16];this.Di=this.Ci=this.Le=0;this.mm=!1;this.Cf=d.A(d.Rect);this.IW=d.A(d.Rect);this.Ro=d.A(d.Rect);this.br=n.create();this.zK=!0;this.OV=n.create();this.wK=!0;this.HW=d.A(d.$.I7);this.fD=!0;this.uW=[];this.Yk=[];this.cC=[];this.hV=new Map;this.D=[];this.pq=this.fM=!1;this.Qa=d.A(d.ul,this,H[15]);this.$t=null;
this.DK=[];this.YC=!1;this.dfa=d.A(d.Rect,0,0,-1,-1);this.Cea=d.A(d.Rect,0,0,-1,-1);this.Oea=new self.P1(this);this.gU();this.Xp()&&(this.$t=d.A(d.a5,this.b.Ue,this.b.Te));for(const J of H[14])B=this.b.Lf(J[1]),this.Wj.AR(B),B.qt||B.EQ(J),this.Yk.push(J),this.hV.set(J[2],J);d.xd(this.uW,this.Yk)}static Sa(B,G,H){return d.A(d.CG,B,G,H)}g(){this.b=this.Wj=null}K0(B){return this.hV.get(B)}nZ(B){const G=this.Wj.Pq;let H=0;const J=this.Yk;for(let Q=0,T=J.length;Q<T;++Q){var P=J[Q];const W=this.b.Lf(P[1]);
let Z=!0;if(!W.hG()||G)P=this.b.Qi(P,this,!0),B.push(P),W.ah()&&(Z=!1,this.cC.push(P.Pc));Z&&(J[H]=J[Q],++H)}d.Ye(J,H);this.b.ne();this.jh()}di(B,G){const H=B.i();if(H.aa()!==this)throw Error("instance added to wrong layer");this.D.push(B);0!==H.Ta()&&(this.pq=!0);G&&this.Xp()&&B.i().ta();this.jh()}Saa(B){this.D.includes(B)||(this.D.push(B),0!==B.i().Ta()&&(this.pq=!0),this.jh())}Hba(B){const G=B.i();if(G.aa()!==this)throw Error("instance added to wrong layer");this.D.unshift(B);0!==G.Ta()&&(this.pq=
!0);this.jh()}Vn(B,G){const H=this.D.indexOf(B);0>H||(G&&this.Xp()&&B.i().jT(),this.D.splice(H,1),this.jh(),this.RS())}zT(){this.pq=!0}RS(){0===this.D.length&&(this.pq=!1)}FI(B){if(B){B=new Set;for(var G of this.D){var H=G.i().ml;0<=H&&B.add(H)}G=-1;for(const J of this.D)if(H=J.i(),!(0<=H.ml)){for(++G;B.has(G);)++G;H.BB(G)}}this.D.sort(x)}g$(){for(const B of this.D)B.H().ah()||this.b.hn(B);this.b.ne();d.C(this.D);this.pq=!1;this.jh()}Pv(B,G,H,J,P){const Q=this.b.ja(),T=this.b.md,W=B.Wa,Z=[];for(const ja of this.Yk){var Y=
ja[0];if(G.fg(Y[0],Y[1])){Y=T[ja[1]];if(Y!==B)if(W){if(!B.UN(Y))continue}else continue;Y=this;var fa=this.b.Ma();this.oc()!==fa&&((Y=fa.sO(this.Ba()))||(Y=fa.cA(this.Ga())));fa=this.b.Qi(ja,Y,!1,void 0,void 0,!1,P);Y.pH(fa);Y=fa.i();Y.Jv(H,J);Y.ta();Q.Ze(!0);fa.DB();Q.Ze(!1);Z.push(fa)}}return Z}oc(){return this.Wj}Ba(){return this.Fa}Ga(){return this.Ua}G(){return this.b}zl(){return this.b.zl()}Xp(){return this.Jfa&&!this.BW}w6(){this.YC=!1}Sc(){return this.gD}lf(B){B=!!B;this.gD!==B&&(this.gD=B,
this.b.R())}Yv(B){B=!!B;if(this.mm!==B){if(this.mm=B)B=this.oc(),this.Ci=B.mg(),this.Di=B.ng();this.Kk();this.b.R()}}bi(B){var G=this.oc();const H=G.GO();G=G.HO();B>G&&(B=G);B<H&&(B=H);this.Ci!==B&&(this.Ci=B,this.mm&&(this.Kk(),this.b.R()))}ci(B){var G=this.oc();const H=G.IO();G=G.FO();B>G&&(B=G);B<H&&(B=H);this.Di!==B&&(this.Di=B,this.mm&&(this.Kk(),this.b.R()))}mg(){return this.mm?this.Ci:this.oc().mg()}ng(){return this.mm?this.Di:this.oc().ng()}dI(){const B=this.oc();return[B.aG(),B.bG()]}cG(B,
G){var H=this.IW;if(0===B)G.oa(H);else{let T=H.cp(),W=H.ep();var J=this.Z_(B);const Z=H.width()/J;H=H.height()/J;const [Y,fa]=this.dI();if(.5!==Y||.5!==fa){const ja=this.Qz();var P=this.b,Q=100/ja;J=(Y-.5)*P.Lg/Q;P=(fa-.5)*P.Kg/Q;Q=this.ra();0!==Q&&(v.set(J,P),v.rotate(Q),J=v.X,P=v.T);B=d.UE(ja,0,B);T+=d.mc(J,0,B);W+=d.mc(P,0,B)}G.set(T-Z/2,W-H/2,T+Z/2,W+H/2)}}ff(){return this.Ia.Va}hj(B){B=d.fa(B,0,1);this.Ia.Va!==B&&(this.Ia.Og(B),this.gU(),this.b.R())}gU(){this.ID.oa(this.Ia);this.ID.fz()}TF(){return this.ID}qn(){return this.Ia.Ty(1,
1,1,1)}x6(B){this.ak!==B&&(this.ak=B,this.Kk(),this.b.R())}r6(B,G){if(this.ve!==B||this.we!==G)if(this.ve=B,this.we=G,this.Kk(),this.b.R(),1!==this.ve||1!==this.we)for(const H of this.D)H.H().xI(!0)}He(B){this.ud!==B&&(this.ud=B,this.b.R())}Ta(){return this.ud}Bc(B){B=d.ke(B);this.Le!==B&&(this.Le=B,this.Kk(),this.b.R())}ra(){return d.ke(this.Wj.ra()+this.Le)}C1(){return 0<this.D.length}bI(){return this.QG()&&this.BW?(d.xd(M,this.D),M.sort((B,G)=>this.Hda(B,G)),M):this.D}Hda(B,G){var H=this.oc().rU,
J=H[0],P=H[1];H=H[2];var Q=B.i();const T=G.i();G=Q.O()-J;B=Q.P()-P;Q=Q.Ta()-H;J=T.O()-J;P=T.P()-P;H=T.Ta()-H;return J*J+P*P+H*H-(G*G+B*B+Q*Q)}L6(B){B=!!B;this.so!==B&&(this.so=B,this.b.R())}T5(B){B=!!B;this.qK!==B&&(this.qK=B,this.b.R())}c5(){return!this.G().Qm||!this.zfa}QG(){return!this.c5()}gs(){return this.QG()&&this.oc().Uea}Of(B){this.ao!==B&&(this.ao=B,this.b.R())}Ti(){return this.ao}k3(B){return this===B||this.ve===B.ve&&this.we===B.we&&this.ac===B.ac&&this.ak===B.ak&&this.Le===B.Le&&this.mg()===
B.mg()&&this.ng()===B.ng()}Uba(B){0!==B.size&&0<d.Mh(this.D,B)&&(this.RS(),this.jh())}jh(){this.YC=this.fM=!1}Jw(){if(!this.fM){this.D.sort(z);if(this.Xp())for(let B=0,G=this.D.length;B<G;++B){const H=this.D[B].i();H.BB(B);this.$t.A3(H.by)}else for(let B=0,G=this.D.length;B<G;++B)this.D[B].i().BB(B);this.fM=!0}}F3(B,G,H){var J=B.i();G=G.i();if(J.aa()!==this||G.aa()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.wk();G=G.wk();if(J===G+(H?1:-1))return!1;d.Wfa(this.D,
J);J<G&&G--;H&&G++;G===this.D.length?this.D.push(B):this.D.splice(G,0,B);this.jh();return!0}aba(B,G){const H=[];let J=0,P=0,Q=B.length,T=G.length;for(;J<Q&&P<T;){const W=B[J],Z=G[P];W.i().ml<Z.i().ml?(H.push(W),++J):(H.push(Z),++P)}for(;J<Q;++J)H.push(B[J]);for(;P<T;++P)H.push(G[P]);return H}$aa(B){const G=[],H=B.length;for(let J=0;J<H-1;J+=2)G.push(this.aba(B[J],B[J+1]));1===H%2&&G.push(B[H-1]);return G}Zaa(B){for(;1<B.length;)B=this.$aa(B);return B[0]}O$(){this.Jw();d.C(e);this.$t.KA(this.Cf,e);
return e.length?1===e.length?e[0]:this.Zaa(e):[]}oaa(){return!this.Os()&&!this.so}gR(){return this.Sc()&&0<this.ff()&&(this.C1()||!this.so)}Os(){return this.qK||!this.qn()||0!==this.Ti()||this.Qa.Av()}hA(){return this.Rk}G8(B){if(0===B.length)return!0;if(2<=B.length)return!1;B=B[0].jb;return!B.An()&&!B.Ky&&!B.vJ&&this.qn()}Z_(B){if(this.Wj.Xf)return 1;{const G=this.Qz();return G/(G-B)}}Qz(){return 100/this.nk()}Kk(){this.fD=this.wK=!0}lB(B){this.wK&&(this.C8(B,this.OV),this.wK=!1);return this.OV}C8(B,
G){const H=this.b;var J=this.oc();const P=H.mn();var Q=H.fL,T=H.gL,W=(this.mg()-Q)*this.ve+Q,Z=(this.ng()-T)*this.we+T;this.b.Tj&&(W=Math.round(W),Z=Math.round(Z));if(this.gs())g.oa(p,J.rU),g.oa(w,J.yea),g.oa(t,J.zea),J=w[0]-p[0],Z=w[1]-p[1],W=w[2]-p[2],p[0]=(p[0]-Q)*this.ve+Q,p[1]=(p[1]-T)*this.we+T,p[2]*=Math.max(this.ve,this.we),w[0]=p[0]+J,w[1]=p[1]+Z,w[2]=p[2]+W,g.set(q,P,P,1),g.multiply(p,p,q),g.multiply(w,w,q);else{Q=(W+0)*P;T=(Z+0)*P;J=J.Xf?100:this.Qz();Z=this.ra();const [fa,ja]=this.dI();
if(.5!==fa||.5!==ja){var Y=100/J;W=(fa-.5)*H.Lg*P/Y;Y=(ja-.5)*H.Kg*P/Y;0!==Z&&(v.set(W,Y),v.rotate(Z),W=v.X,Y=v.T);Q+=W;T+=Y}g.set(p,Q,T,J);g.set(w,Q,T,J-100);0===Z?g.set(t,0,1,0):g.set(t,Math.sin(Z),Math.cos(Z),0)}B.sN(G,p,w,t,H.ba.lg());1!==P&&(g.set(q,P,P,1),n.scale(G,G,q))}nda(){this.fD=this.zK=!0}mB(B){this.zK&&(this.D8(B),this.zK=!1);return this.br}D8(B){const G=this.b.ba,[H,J]=this.dI();this.Wj.Xf?B.CY(this.br,G.Ug(),G.lg()):.5===H&&.5===J?n.oa(this.br,G.hC):B.Xu(this.br,G.Ug()/G.lg(),H,J)}EI(B){B.Is(this.mB(B));
let G;G=this.lB(B);B.Gs(G)}D4(B){this.EI(B);B.Tv(this.Ta())}Vd(B,G,H){var J=this.b.ba;const P=this.Os();var Q=null;let T=null;if(this.b.sG()&&B.Ev()){const W=J.tO(this);W&&(T=W.aF(),B.tH(T))}P?(Q={Gf:this.b.Fc},"low"===J.Nj&&(Q.width=J.Ug(),Q.height=J.lg()),Q=this.b.jv(Q),B.kf(Q),this.so?B.Az():B.Gc(this.fm)):(B.kf(G),this.so||H||B.Gc(this.fm));this.Rk=Q||G;this.EI(B);B.Tv(this.Ta());B.Kn(this.QG());this.nk()>Number.EPSILON&&(this.Jw(),J=this.Xp()&&0===this.Ta()&&!this.pq,this.gs()?this.U9(B):J?this.V9(B):
this.XR(B,this.bI()));B.Tv(0);B.Jn(0);P&&(B.Kn(!1),this.W9(B,Q,G,H));T&&B.uF(T);this.Rk=null}XR(B,G){const H=this.Cf,J=this.Rk,P=this.oc().Xf,Q=this.oc().WO();let T=null;for(let W=0,Z=G.length;W<Z;++W){const Y=G[W];if(Y===T)continue;T=Y;const fa=Y.i();fa.Sc()&&fa.lP(H,Q,P)&&this.Wl(Y,fa,B,J)}}U9(B){const G=this.Rk,H=this.qw(),J=this.bI();for(let W=0,Z=J.length;W<Z;){var P=J[W],Q=P.i();if(!Q.Sc()||!Q.ls(H)){++W;continue}(!P.Lp()||0<Q.yl())&&E.push(P);var T=P.i().Mf();D.push(P);let Y=W+1;for(;Y<Z;++Y){const fa=
J[Y],ja=fa.i();if(ja.Sc()&&ja.ls(H)){if(ja.Mf()!==T)break;fa.Lp()?(0<ja.yl()&&E.push(fa),D.push(fa)):E.push(fa)}}if(1!==D.length||D[0].EP()){this.O9(B,D);for(let fa=0,ja=E.length;fa<ja;++fa)P=E[fa],Q=P.i(),Q.zB(!0),this.Wl(P,Q,B,G),Q.zB(!1)}else{this.Wl(P,Q,B,G);for(let fa=0,ja=E.length;fa<ja;++fa)Q=E[fa],Q!==P&&(T=Q.i(),T.aa().Wl(Q,T,B,G))}W=Y;d.C(D);d.C(E)}}O9(B,G){const H=this.Rk;B.FN();for(let Q=0,T=G.length;Q<T;++Q){var J=G[Q],P=J.i();P.xB(!0);this.SH(J,P,B)}B.EN();for(let Q=0,T=G.length;Q<T;++Q)J=
G[Q],P=J.i(),this.Wl(J,P,B,H),P.xB(!1);B.DN()}V9(B){var G=this.$t;const H=this.Cea,J=this.dfa,P=this.Cf;H.set(G.kj(P.L),G.lj(P.J),G.kj(P.U),G.lj(P.S));this.YC&&H.ed(J)?G=this.DK:(G=this.O$(),this.YC=!0,J.oa(H));this.XR(B,G);G!==this.DK&&d.xd(this.DK,G)}Wl(B,G,H,J){G.Av()?this.S9(B,G,H,J):this.SH(B,G,H)}SH(B,G,H){G=G.nr;H.Dj!==G&&G.nY();B.Vd(H)}S9(B,G,H,J){this.R9(B,G,H,J)&&this.EI(H)}R9(B,G,H,J){const P=G.Ne.pj;if(1===P.length){const Q=P[0],T=Q.jb;if(!T.mfa&&G.qn()&&!B.An())return this.T9(B,G,Q,T,
H),!1}B=d.PG(H,this.b,B,J,P,null);H.Tv(this.Ta());return B}T9(B,G,H,J,P){P.Nn(J);P.Of(G.Ti());J.NB&&this.b.R();let Q=0,T=0;if(J.Kfa){const [W,Z]=B.Uz();Q=1/W;T=1/Z;(J=B.Vz())?f.oa(J):f.set(0,0,0,0)}H=G.Ne.Vg(H.Ga());P.Jn(G.Ta());P.Hs(null,c,f,f,G.pb(),Q,T,this.ac,this.ra(),this.b.Kf(),H);B.Vd(P)}W9(B,G,H,J){const P=this.Qa.pj,Q=this.b;if(this.G8(P)){B.kf(H);if(1===P.length){var T=P[0];H=T.jb;B.Nn(H);f.set(0,0,1,1);T=this.Qa.Vg(T.Ga());B.Hs(null,c,f,f,this.Cf,1/Q.Ug(),1/Q.lg(),this.nk(),this.ra(),
Q.Kf(),T);H.NB&&Q.R()}else B.tg();J&&0===this.ao&&this.qn()&&0===P.length?B.lF(G):(B.Of(this.ao),B.gj(this.ID),B.$u(G));B.zp(G);Q.En(G)}else d.PG(B,Q,this,H,P)}UQ(B){this.ac!==B&&(this.ac=B,this.Wj.rz(),this.Kk(),this.b.R())}mn(){return this.nk()*this.b.mn()}Al(){return this.nk()*this.b.Al()}nk(){return(this.ac*this.Wj.ac-1)*this.ak+1}yH(){var B=this.b.fL,G=this.b.gL,H=(this.mg()-B)*this.ve+B,J=(this.ng()-G)*this.we+G;B=this.nk();G=this.b.Lg/B;B=this.b.Kg/B;H-=G/2;let P=J-B/2;this.b.Tj&&(H=Math.round(H),
P=Math.round(P));J=this.IW;J.set(H,P,H+G,P+B);G=this.ra();0!==G&&(a.oa(J),a.offset(-J.cp(),-J.ep()),b.NE(a,G),b.uM(a),a.offset(J.cp(),J.ep()),J.oa(a));G=this.ud;this.cG(G,this.Cf);this.gs()?this.GY(G,this.Ro):this.Ro.oa(this.Cf)}GY(B,G){var H=this.b.ba,J=H.qd;H=H.Yc;const [P,Q]=this.Qh(0,0,B),[T,W]=this.Qh(J,0,B),[Z,Y]=this.Qh(J,H,B),[fa,ja]=this.Qh(0,H,B);B=Math.min(P,T,Z,fa);J=Math.min(Q,W,Y,ja);H=Math.max(P,T,Z,fa);let xa=Math.max(Q,W,Y,ja);isFinite(B)||(B=-Infinity);isFinite(J)||(J=-Infinity);
isFinite(H)||(H=Infinity);isFinite(xa)||(xa=Infinity);G.set(B,J,H,xa)}Qh(B,G,H=0){return this.J8(B,G,H,this.Al())}J8(B,G,H,J){const P=this.b;var Q=P.qb();const T=this.nk();l.set(r,0,0,P.Lg/T,P.Kg/T);B/=J;G=r[3]-G/J;J=this.mB(Q);Q=this.lB(Q);return d.$.z7(B,G,H,Q,J,r,q)?[q[0],q[1]]:[NaN,NaN]}KY(B,G){const H=this.ac,J=this.ak,P=this.ve,Q=this.we,T=this.Le;this.we=this.ve=this.ak=this.ac=1;this.Le=0;this.Kk();B=this.Qh(B,G);this.ac=H;this.ak=J;this.ve=P;this.we=Q;this.Le=T;this.Kk();return B}Gp(B,G){return this.IS(B,
G,0,this.Al())}yn(B,G,H=0){return this.IS(B,G,H,this.mn()*this.zl())}IS(B,G,H,J){var P=this.b,Q=P.qb();const T=this.nk();l.set(r,0,0,P.Lg/T,P.Kg/T);P=this.mB(Q);Q=this.lB(Q);return d.$.F4(B,G,H,Q,P,r,q)?[q[0]*J,(r[3]-q[1])*J]:[NaN,NaN]}qw(){this.fD&&(this.dea(),this.fD=!1);return this.HW}dea(){var B=this.b.qb();const G=this.mB(B);B=this.lB(B);this.HW.DY(B,G)}la(){return{s:this.ac,a:this.Le,vl:this.Cf.L,vt:this.Cf.J,vr:this.Cf.U,vb:this.Cf.S,v:this.Sc(),bc:this.fm.toJSON(),t:this.so,sx:this.Ci,sy:this.Di,
hosp:this.mm,px:this.ve,py:this.we,c:this.Ia.toJSON(),sr:this.ak,fx:this.Qa.Wb(),cg:this.cC}}ua(B){this.ac=B.s;this.Le=B.a;this.Cf.set(B.vl,B.vt,B.vr,B.vb);this.gD=!!B.v;this.fm.$m(B.bc);this.so=!!B.t;B.hasOwnProperty("sx")&&(this.Ci=B.sx);B.hasOwnProperty("sy")&&(this.Di=B.sy);B.hasOwnProperty("hosp")&&(this.mm=!!B.hosp);this.ve=B.px;this.we=B.py;this.Ia.$m(B.c);this.ak=B.sr;d.xd(this.cC,B.cg);d.xd(this.Yk,this.uW);const G=new Set(this.cC);let H=0;for(let J=0,P=this.Yk.length;J<P;++J)G.has(this.Yk[J][2])||
(this.Yk[H]=this.Yk[J],++H);d.Ye(this.Yk,H);this.Qa.Ob(B.fx);this.FI(!1);this.jh()}pH(B){B.i();if(!this.D.includes(B))if(B.Nf()){const G=[...B.Vo()];G.push(B);G.sort((H,J)=>{H=H.i().uL;J=J.i().uL;return H-J});for(const H of G)this.di(H,!0)}else this.di(B,!0)}}}
{"use strict";const d=self.j,a=self.Ph,b=d.A(d.Rect),e=d.A(d.Rect),c=d.A(d.Rect),f=d.A(d.Ya),k=self.pl.VE,g=[],l=[],n=[],q=[],r=[];let p=null;function w(t,v){p!==t&&(t.D4(v),p=t)}d.sP=class extends d.ga{constructor(t,v,x){super();this.gb=t;this.b=t.G();this.Fa=x[0];this.ufa=x[1];this.tfa=x[2];this.W=x[1];this.V=x[2];this.eD=!!x[3];this.Xf=!!x[4];this.mE=x[5];this.nE=x[6];this.DU=x[7];this.td=null;this.ib=x[8];this.Ua=v;this.Di=this.Ci=0;this.ac=1;this.Le=0;this.Dt=new Set;this.Ih=new Set;this.zy=
new Set;this.kt=[];this.fK=[];this.Uea=!1;this.rU=k.create();this.yea=k.create();this.zea=k.create();this.kc=[];this.DV=new Map;this.EV=new Map;this.Qa=d.A(d.ul,this,x[11]);this.Rk=null;this.Zq={};this.Pq=!0;this.ox=new self.Q1(this);this.Ee=d.A(d.Event.Db);for(const z of x[9])t=d.CG.Sa(this,this.kc.length,z),this.kc.push(t),this.DV.set(t.Ba().toLowerCase(),t),this.EV.set(t.ib,t);for(const z of x[10]){x=this.b.Lf(z[1]);if(!x)throw Error("missing nonworld object class");x.qt||x.EQ(z);this.fK.push(z);
this.AR(x)}}g(){for(const t of this.kc)t.g();d.C(this.kc);this.zy.clear();this.b=this.gb=this.td=null}G(){return this.b}Ba(){return this.Fa}Ga(){return this.Ua}wO(){let t=this.kc[0].nk();for(let v=1,x=this.kc.length;v<x;++v){const z=this.kc[v];if(0!==z.ve||0!==z.we)t=Math.min(t,z.nk())}return t}rS(){return.5*this.b.Lg/this.wO()}sS(){return.5*this.b.Kg/this.wO()}GO(){return this.eD?-Infinity:this.rS()}HO(){return this.eD?Infinity:this.M()-this.rS()}IO(){return this.eD?-Infinity:this.sS()}FO(){return this.eD?
Infinity:this.I()-this.sS()}bi(t){const v=this.GO(),x=this.HO();t>x&&(t=x);t<v&&(t=v);this.Ci!==t&&(this.Ci=t,this.Jk(),this.b.R())}mg(){return this.Ci}ci(t){const v=this.IO(),x=this.FO();t>x&&(t=x);t<v&&(t=v);this.Di!==t&&(this.Di=t,this.Jk(),this.b.R())}ng(){return this.Di}rz(){this.bi(this.mg());this.ci(this.ng());for(const t of this.kc)t.mm&&(t.bi(t.mg()),t.ci(t.ng()))}O6(t,v){if(this.mE!==t||this.nE!==v)this.mE=t,this.nE=v,this.a3()&&(this.Ys(),this.Jk(),this.b.R())}aG(){return this.Xf?.5:this.mE}bG(){return this.Xf?
.5:this.nE}WO(){const t=this.aG(),v=this.bG();return 0>t||1<t||0>v||1<v}WQ(){this.Xf&&(this.Xf=!1,this.Ys(),this.Jk(),this.b.R())}TQ(){this.Xf||(this.Xf=!0,this.Ys(),this.Jk(),this.b.R())}a3(){return!this.Xf}Sp(t){this.ac!==t&&(this.ac=t,this.Jk(),this.rz(),this.b.R())}Bc(t){t=d.ke(t);this.Le!==t&&(this.Le=t,this.Jk(),this.b.R())}ra(){return this.Le}M(){return this.W}mf(t){!isFinite(t)||1>t||(this.W=t)}I(){return this.V}ld(t){!isFinite(t)||1>t||(this.V=t)}aa(t){return"number"===typeof t?this.cA(t):
this.sO(t.toString())}cA(t){t=d.fa(Math.floor(t),0,this.kc.length-1);return this.kc[t]}sO(t){return this.DV.get(t.toLowerCase())||null}dA(t){return this.EV.get(t)||null}Ys(){for(const t of this.kc)t.nda()}Jk(){for(const t of this.kc)t.Kk()}U0(){for(const t of this.kc)if(t.gR()&&t.oaa())return f.hk(t.fm),f.Og(1),f;f.hp(0,0,0,0);return f}nS(){return[...this.Dt]}AR(t){if(t.Ic())for(const v of t.Aj.Bm)this.Dt.add(v);else this.Dt.add(t)}S$(){return[...this.Ih]}gI(t,v){if(t===this||!v)return Promise.resolve();
t&&(d.iZ(this.Ih,t.Ih),t.Ih.clear());t=[];for(const x of this.Dt)this.Ih.has(x)||(t.push(x.Nl(v)),this.Ih.add(x));return Promise.all(t)}async BP(t){if(t.Wa)throw Error("cannot load textures for family");var v=this.b.qb();!v||v.Bp()||this.Ih.has(t)||(this.Ih.add(t),v=t.Nl(v),this.l8(v),await v,t.GA(),this.b.R())}l8(t){this.zy.add(t);t.then(()=>this.zy.delete(t)).catch(()=>this.zy.delete(t))}L7(){return Promise.all([...this.zy])}D3(t){if(t.Wa||0<t.D.length)throw Error("cannot unload textures");this.b.qb()&&
this.Ih.has(t)&&(this.Ih.delete(t),t.Ak())}Tda(t,v){if(t!==this&&v)for(const x of this.Ih)x.ah()||t.Dt.has(x)||(x.Ak(),this.Ih.delete(x))}Bw(){this.Ih.clear()}async VT(t){const v=this.b,x=this.gb,z=v.ja();this.DU&&(this.td=z.jO(this.DU),this.td.II());x.KT(this);this.W=this.ufa;this.V=this.tfa;this.Ci=v.Ue/2;this.Di=v.Te/2;this.rz();this.bba(t);this.Y8();this.Pq||this.a9();this.MR(this.kt);this.Z8();x.RY();v.ne();const D=this.b.jea;await Promise.all(D);d.C(D);if(!v.$k){for(const E of this.kt)E.S6();
for(const E of this.kt)E.YT()}d.C(this.kt);await Promise.all([...this.Dt].map(E=>E.KG(this.b.qb())));t&&(v.Db().dispatchEvent(new d.Event("beforefirstlayoutstart")),await v.mp(new d.Event("beforeprojectstart")));await this.mp(new d.Event("beforelayoutstart"));v.$k||await v.Sf(d.B.Za.F.OP,null,null);await this.mp(new d.Event("afterlayoutstart"));t&&(v.Db().dispatchEvent(new d.Event("afterfirstlayoutstart")),await v.mp(new d.Event("afterprojectstart")));z.rca(x);await this.L7();this.Ys();this.Jk();
this.Pq=!1}bba(t){for(const x of this.b.md)if(!x.Wa&&x.Yf)for(const z of x.ka()){const D=z.i();var v=D.aa();v=d.fa(v.Ga(),0,this.kc.length-1);v=this.kc[v];D.Ew(v);v.Saa(z)}if(!t)for(const x of this.kc)x.FI(!1)}Y8(){for(const t of this.kc)t.nZ(this.kt),t.yH()}a9(){let t=!1;for(const [x,z]of Object.entries(this.Zq)){const D=this.b.Zi(parseInt(x,10));if(D&&!D.Wa&&D.hG()){for(const E of z){var v=null;if(D.Yf&&(v=this.dA(E.w.l),!v))continue;v=this.b.Qi(D,v,!1,0,0,!0);v.Ob(E);t=!0;this.kt.push(v)}d.C(z)}}for(const x of this.kc)x.FI(!0),
x.jh();t&&(this.b.ne(),this.b.cT())}MR(t){for(const x of t){if(!x.Ic())continue;const z=x.i(),D=x.rp();for(const E of x.H().Aj.Bm)if(E!==x.H()){var v=E.ka();v.length>D?x.Rs(v[D]):(v=z?this.b.Qi(E,z.aa(),!0,z.O(),z.P(),!0):this.b.Qi(E,null,!0,0,0,!0),this.b.ne(),E.EB(),x.Rs(v),t.push(v))}}}Z8(){for(const t of this.fK)this.b.Lf(t[1]).Ic()||this.b.Qi(t,null,!0)}W8(){const t=[],v=this.fK;let x=0;for(let z=0,D=v.length;z<D;++z){const E=v[z],M=this.b.Lf(E[1]);M.ah()?M.Ic()&&M.Aj.y1()||t.push(this.b.Qi(E,
null,!0)):(v[x]=E,++x)}d.Ye(v,x);this.b.ne();this.MR(t)}Pv(t,v,x,z,D,E){if(x)return x.Pv(t,v,z,D,E);x=[];for(const M of this.kc)x.push(M.Pv(t,v,z,D,E));return x.flat()}async Lda(){const t=this.gb;this.b.$k||await this.b.Sf(d.B.Za.F.NP,null,null);t.PQ(!0);this.b.ja().xz();this.Pq||this.Bca();for(const v of this.kc)v.g$();for(const v of this.b.md)if(!(v.ah()||v.Yf||v.Fb().ro||v.Wa)){for(const x of v.ka())this.b.hn(x);this.b.ne()}t.PQ(!1);t.Ub()===this&&t.KT(null)}zca(t){const v=t.H().ib.toString();
this.Zq.hasOwnProperty(v)||(this.Zq[v]=[]);this.Zq[v].push(t.Wb())}Bca(){for(const t of this.kc){t.Jw();for(const v of t.D){const x=v.H();!x.ah()&&x.hG()&&this.zca(v)}}}i5(){this.Zq={};this.Pq=!0}hA(){return this.Rk}Os(){return"low"===this.b.ba.Nj||this.b.$L||"low-latency"===this.b.jt||this.Qa.Av()||this.b.qb().Ev()&&this.b.Qm}H8(t){return 0===t.length?!0:2<=t.length?!1:!t[0].jb.An()}Vd(t){var v=this.b.ba;const x=this.Os();var z=null;x?("low-latency"!==this.b.jt&&(t.kf(null),t.Az()),z={Gf:this.b.Fc,
AM:this.b.$L||this.Qa.Av()},"low"===v.Nj&&(z.width=v.Ug(),z.height=v.lg()),z=this.b.jv(z),t.kf(z)):t.kf(null);t.Gc(this.U0());this.b.Qm&&t.OY();this.Rk=z;for(var D of this.kc)D.yH(),D.gR()&&g.push(D);for(let E=0,M=g.length;E<M;){v=g[E];if(v.gs()&&!v.Os()){l.push(v);for(D=E+1;D<M;++D){const B=g[D];if(B.gs()&&!B.Os())l.push(g[D]);else break}if(2<=l.length){this.M9(t,z,l);E+=l.length;d.C(l);continue}d.C(l)}v.Vd(t,z,0===E);++E}d.C(g);x&&(t.Kn(!1),this.X9(t,z));this.Rk=null}X9(t,v){const x=this.Qa.pj,
z=this.b;if(this.H8(x)){t.kf(null);if(1===x.length){var D=x[0];const E=D.jb;t.Nn(E);e.set(0,0,1,1);c.set(0,0,z.Lg,z.Kg);D=this.Qa.Vg(D.Ga());t.Hs(null,b,e,e,c,1/z.Ug(),1/z.lg(),this.ac,this.ra(),z.Kf(),D);E.NB&&z.R()}else t.tg();0===x.length?t.lF(v):(t.YG(),t.xs(),t.$u(v));t.zp(v);z.En(v)}else d.PG(t,z,this,null,x)}M9(t,v,x){var z=this.b.ba;t.Kn(!0);for(var D of x)D.Jw(),d.Wo(n,D.bI());D=x[0];x=null;this.b.sG()&&t.Ev()&&(z=z.tO(D))&&(x=z.aF(),t.tH(x));for(let G=0,H=n.length;G<H;){D=n[G];var E=D.i(),
M=E.aa();if(E.Sc()&&E.ls(M.qw())){(!D.Lp()||0<E.yl())&&r.push(D);var B=D.i().Mf();q.push(D);for(z=G+1;z<H;++z){const J=n[z],P=J.i();if(P.Sc()&&P.ls(P.aa().qw())){if(P.Mf()!==B)break;J.Lp()?(0<P.yl()&&r.push(J),q.push(J)):r.push(J)}}if(1!==q.length||q[0].EP()){this.N9(t,v,q);for(let J=0,P=r.length;J<P;++J)D=r[J],E=D.i(),M=E.aa(),E.zB(!0),w(M,t),M.Wl(D,E,t,v),E.zB(!1)}else{w(M,t);M.Wl(D,E,t,v);for(let J=0,P=r.length;J<P;++J)E=r[J],E!==D&&(M=E.i(),B=M.aa(),w(B,t),B.Wl(E,M,t,v))}G=z;d.C(q);d.C(r)}else++G}x&&
t.uF(x);d.C(n);p=null}N9(t,v,x){t.FN();for(let M=0,B=x.length;M<B;++M){var z=x[M],D=z.i(),E=D.aa();D.xB(!0);w(E,t);E.SH(z,D,t)}t.EN();for(let M=0,B=x.length;M<B;++M)z=x[M],D=z.i(),E=D.aa(),w(E,t),E.Wl(z,D,t,v),D.xB(!1);t.DN()}la(){const t={sx:this.mg(),sy:this.ng(),s:this.ac,a:this.ra(),w:this.M(),h:this.I(),ortho:this.Xf,vpX:this.aG(),vpY:this.bG(),fv:this.Pq,persist:this.Zq,fx:this.Qa.Wb(),layers:{}};for(const v of this.kc)t.layers[v.ib.toString()]=v.la();return t}ua(t){this.Ci=t.sx;this.Di=t.sy;
this.ac=t.s;this.Le=t.a;this.W=t.w;this.V=t.h;this.Xf=!!t.ortho;t.hasOwnProperty("vpX")&&(this.mE=t.vpX);t.hasOwnProperty("vpY")&&(this.nE=t.vpY);this.Pq=!!t.fv;this.Zq=t.persist;this.Qa.Ob(t.fx);for(const [v,x]of Object.entries(t.layers))(t=this.dA(parseInt(v,10)))&&t.ua(x);this.Ys();this.Jk()}Rh(t){t.Ng=this.ox;var v=this.b;(v=v.Ib&&!v.ja().xA())&&a.sH();this.Ee.dispatchEvent(t);v&&a.$E()}mp(t){t.Ng=this.ox;return this.Ee.pM(t)}}}
{"use strict";const d=self.j;d.p3=class extends d.ga{constructor(a){super();this.b=a;this.rj=[];this.KK=new Map;this.LK=new Map;this.Nx=null;this.rL=[];this.vC=null;this.SC=0;this.Vx=null}g(){this.Vx=this.vC=this.Nx=this.b=null;d.C(this.rj);this.KK.clear();this.LK.clear();d.C(this.rL)}Sa(a){a=d.A(d.sP,this,this.rj.length,a);this.rj.push(a);this.KK.set(a.Ba().toLowerCase(),a);this.LK.set(a.ib,a)}G(){return this.b}P5(a){this.vC=a}D0(){if(this.vC)return this.vC;if(this.rj.length)return this.rj[0];throw Error("no first layout");
}Xr(a){return this.KK.get(a.toLowerCase())||null}QF(a){return this.LK.get(a)||null}V0(a){a=d.fa(Math.floor(a),0,this.rj.length-1);return this.rj[a]}oc(a){return"number"===typeof a?this.V0(a):this.Xr(a.toString())}KT(a){this.Nx=a}Ub(){return this.Nx}*jz(){this.Nx&&(yield this.Nx);this.rL.length&&(yield*this.rL)}PQ(a){if(a)this.SC++;else{if(0>=this.SC)throw Error("already unset");this.SC--}}iP(){return 0<this.SC}wz(a){this.Vx=a}RY(){this.Vx=null}ns(){return!!this.Vx}As(){const a=this.Ub();a&&a.Ys()}zs(){const a=
this.Ub();a&&a.Jk()}}}
{"use strict";const d=self.j;class a{constructor(){this.Qc=this.Ff=null;this.Lu=this.Mu=this.Ki=this.Vm=0;this.Du=new d.Rect;this.Xm=new d.Rect;this.gp=new d.Rect;this.hz=new d.Rect;this.Gu=new d.Rect;this.clearRect=new d.Rect;this.SE=new d.Rect;this.$W=[null,null];this.$o=0;this.Cr=1;this.Bu=this.Cu=this.ru=this.qu=0;this.Ym=this.jg=this.le=this.me=this.Ng=null;this.AE=this.OM=this.JE=!1;this.HE=null}Gc(){this.HE=this.Ym=this.jg=this.le=this.me=this.Ng=this.Qc=this.Ff=null}V6(g){g=g.jb;if(g.An())return!0;
if(this.le)return g.Ky&&(0!==this.jg.ra()||0>this.jg.M()||0>this.jg.I())||0!==this.qu||0!==this.ru||!this.jg.qn()||this.le.An();if(this.me)return!this.me.qn()}U6(g){g=g.jb;return g.Ky||g.vJ||this.Ng&&"low"===this.Qc.ba.Nj}Wr(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.$W;if(!l[g]){var n=this.Qc;const q=n.ba;n={Gf:n.Fc};"low"===q.Nj&&(n.width=q.Ug(),n.height=q.lg());l[g]=q.jv(n)}return l[g]}R4(){const g=this.$W,l=this.Qc.ba;g[0]&&(l.En(g[0]),g[0]=null);g[1]&&(l.En(g[1]),g[1]=
null)}}const b=[];let e=0;const c=new d.Jc;let f=!1;async function k(g,l,n){l=await d.$.AH.uZ(l,n);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",l)}d.PG=function(g,l,n,q,r,p){e===b.length&&b.push(new a);var w=b[e++];w.Ff=g;w.Qc=l;if(n instanceof d.Instance)w.le=n,w.jg=w.le.i();else if(n instanceof d.CG)w.me=n;else if(n instanceof d.sP)w.Ng=n;else throw Error("invalid effects object");n=l.ba;w.Ym=q;w.Vm=n.Ug();w.Ki=n.lg();w.Mu=w.Vm;w.Lu=w.Ki;w.$o=0;w.Cr=1;w.qu=0;w.ru=
0;w.Gu.set(0,0,w.Vm,w.Ki);w.clearRect.set(0,0,w.Vm,w.Ki);w.AE=!1;w.HE=p;w.le?(q=w.jg,w.Cu=q.aa().mn(),w.Bu=q.aa().ra(),w.Du.oa(q.pb())):w.me?(q=w.me,w.Cu=q.mn(),w.Bu=q.ra(),w.Du.oa(q.Cf)):(q=w.Ng,w.Cu=q.ac,w.Bu=q.ra(),w.Du.set(0,0,w.Vm,w.Ki));if(w.le){{for(let G=0,H=r.length;G<H;++G)q=r[G].jb,w.qu+=q.EU,w.ru+=q.FU;var t=w.jg;q=t.aa();n=q.ra();p=t.pb();var v=t.Mf();t=t.yl();let [D,E]=q.yn(p.L,p.J,v),[M,B]=q.yn(p.U,p.S,v);if(0!==n||0<t){const [G,H]=q.yn(p.U,p.J,v),[J,P]=q.yn(p.L,p.S,v);if(0<t){n=v+
t;const [Q,T]=q.yn(p.L,p.J,n),[W,Z]=q.yn(p.U,p.J,n),[Y,fa]=q.yn(p.U,p.S,n),[ja,xa]=q.yn(p.L,p.S,n);q=Math.min(D,M,G,J,Q,W,Y,ja);M=Math.max(D,M,G,J,Q,W,Y,ja);D=q;q=Math.min(E,B,H,P,T,Z,fa,xa);B=Math.max(E,B,H,P,T,Z,fa,xa);E=q}else q=Math.min(D,M,G,J),M=Math.max(D,M,G,J),D=q,q=Math.min(E,B,H,P),B=Math.max(E,B,H,P),E=q}q=w.Gu;p=w.hz;n=w.gp;v=w.clearRect;t=w.Xm;q.set(D,E,M,B);q.YM(w.Ki);p.oa(q);p.ik(w.Mu,w.Lu);p.Hr();q.EE(w.qu,w.ru);n.oa(q);n.ik(w.Mu,w.Lu);n.Hr();v.oa(q);v.nha();v.EE(w.qu+1,w.ru+1);q.fa(0,
0,w.Vm,w.Ki);v.fa(0,0,w.Vm,w.Ki);t.oa(q);t.ik(w.Mu,w.Lu);t.Hr()}}else w.Xm.set(0,0,w.Vm/w.Mu,w.Ki/w.Lu),w.gp.oa(w.Xm),w.hz.oa(w.Xm),w.Xm.Hr(),w.gp.Hr(),w.hz.Hr();g.YG();g.xs();g.Tv(0);g.Jn(0);w.JE=w.V6(r[0]);w.JE&&(q=w.Ff,q.tg(),p=w.Wr(w.$o),q.kf(p),(n=w.HE)&&n.PM&&n.PM(),q.iF(w.clearRect),w.le?(q.gj(w.jg.TF()),q.Jn(w.jg.Mf()),w.le.Vd(q),q.Jn(0)):(n=(w.me||w.Ng).hA(),w.me?q.gj(w.me.TF()):q.xs(),q.$u(n),q.zp(n),w.Qc.ba.En(n)),w.gp.SW(),w.$o=1,w.Cr=0,f&&k("Pre-draw",q,p));g.xs();q=r.length-1;w.OM=w.U6(r[q]);
for(let D=0,E=r.length;D<E;++D){n=r[D];p=n.jb;g.Nn(p);p.NB&&l.R();if(0!==D||w.JE){g.DQ();var x=void 0,z=void 0;p=w;x=n;z=D===q&&!w.OM;n=D;v=p.Ff;t=p.Qc;0===n&&p.JE&&p.le&&p.Gu.YM(p.Ki);z?(p.le?v.Of(p.jg.Ti()):p.me&&v.Of(p.me.Ti()),z=p.Ym,v.kf(z)):(z=p.Wr(p.$o),v.kf(z),v.iF(p.clearRect));x=p.le?p.jg.Ne.Vg(x.Ga()):(p.me||p.Ng).Qa.Vg(x.Ga());v.Hs(p.Ym,p.gp,p.Xm,p.hz,p.Du,1/p.Mu,1/p.Lu,p.Cu,p.Bu,t.Kf(),x);x=p.Wr(p.Cr);v.Ge(x.hd());t.ba.GQ(v);p.AE=!0;c.Nh(p.Gu);v.Ip(c,p.Xm);p.le||v.zp(x);f&&k("Bounce "+
n,v,z)}else{p=w;z=n;n=p.Ff;v=p.Qc;t=p.Wr(p.$o);n.kf(t);(x=p.HE)&&x.PM&&x.PM();n.iF(p.clearRect);if(p.le){const [M,B]=p.le.Uz();(x=p.le.Vz())?p.SE.oa(x):p.SE.set(0,0,0,0);z=p.jg.Ne.Vg(z.Ga());n.Hs(p.Ym,p.gp,p.SE,p.SE,p.Du,1/M,1/B,p.Cu,p.Bu,v.Kf(),z);n.Jn(p.jg.Mf());p.le.Vd(n);n.Jn(0);p.gp.SW();p.Gu.YM(p.Ki)}else z=(p.me||p.Ng).Qa.Vg(z.Ga()),n.Hs(p.Ym,p.gp,p.Xm,p.hz,p.Du,1/p.Vm,1/p.Ki,p.Cu,p.Bu,v.Kf(),z),p=(p.me||p.Ng).hA(),f&&k("Layer target",n,p),n.$u(p),n.zp(p),v.ba.En(p);f&&k("First bounce",n,t)}0===
w.$o?(w.$o=1,w.Cr=0):(w.$o=0,w.Cr=1)}w.OM&&(g=w.Ff,w.Ng?(g.tg(),g.kf(w.Ym),l=w.Wr(w.Cr),g.lF(l),g.zp(l)):(l=w.Qc.ba,"low"===l.Nj?(g.tg(),l.GQ(g,l.Ug(),l.lg()),w.AE=!0):g.J5(),w.le?g.Of(w.jg.Ti()):w.me&&g.Of(w.me.Ti()),g.kf(w.Ym),l=w.Wr(w.Cr),g.Ge(l.hd()),c.Nh(w.Gu),g.Ip(c,w.Xm),w.le||g.zp(l),f&&k("Post-draw",g,w.Ym)));g=w.AE;w.R4();w.Gc();e--;f=!1;return g}}
{"use strict";const d=self.j;d.q7=class extends d.ga{constructor(a){super();this.b=a;this.Cy=d.A(d.nh);this.wfa=null;this.Jo=[];this.Dy=new Map;this.Am=new Map;this.Ko=new Map;this.Ch=[];this.Eg=[];this.Cx=this.ht=this.Eq=!1;this.Km=()=>this.wba();this.Jm=()=>this.oI();this.gJ=()=>this.qB();this.JK=()=>this.dba();this.jK=b=>this.WS(b.instance);this.UI=()=>this.Aw();this.Zw=[]}g(){this.W4();this.UI=this.jK=this.JK=this.gJ=this.Jm=this.Km=null;for(const a of this.Jo)a.kh(),a.g();d.C(this.Jo);this.Jo=
null;this.Cy.g();this.Cy=null;d.C(this.Ch);this.Ch=null;d.C(this.Eg);this.Eg=null;this.Dy.clear();this.Dy=null;this.Am.clear();this.Am=null;this.Ko.clear();this.Ko=null;d.C(this.Zw);this.b=this.Zw=null}gY(){const a=this.b.Db();a.addEventListener("pretick",this.Km);a.addEventListener("tick2",this.Jm);a.addEventListener("beforelayoutchange",this.gJ);a.addEventListener("layoutchange",this.JK);a.addEventListener("instancedestroy",this.jK);a.addEventListener("afterload",this.UI)}W4(){const a=this.b.Db();
a.removeEventListener("pretick",this.Km);a.removeEventListener("tick2",this.Jm);a.removeEventListener("beforelayoutchange",this.gJ);a.removeEventListener("layoutchange",this.JK);a.removeEventListener("instancedestroy",this.jK);a.removeEventListener("afterload",this.UI)}Sa(a){this.Cy.Rc(a);a=d.qe.mZ(a,this);this.Rc(a);this.D6(a);this.Ko.set(a.Ba(),0)}mF(a){a=a.NO();var b=this.Cy.ea(a);b=d.qe.mF(`${a}:${this.Ko.get(a)}`,b,this);this.zS(a);this.Rc(b);return b}zS(a){this.Ko.set(a,this.Ko.get(a)+1)}Vca(){for(const a of this.Jo)a.Gt||
this.zS(a.NO())}N8(){for(const a of this.Ko.keys())this.Ko.set(a,0)}Rc(a){this.Jo.push(a);this.Dy.set(a.Ba().toLowerCase(),a)}$h(a){a.Gt||(d.Br(this.Jo,a),d.Br(this.Ch,a),d.Br(this.Eg,a),this.Dy.delete(a.Ba().toLowerCase()),this.X4(a),a.Ai||a.g())}Aa(a){this.b.Aa(a,this.wfa,null)}G(){return this.b}cR(a,b){this.Am.has(a)||this.Am.set(a,new Set);this.Am.get(a).add(b)}D6(a){for(const b of a.eA())this.cR(b,a)}X4(a){for(const [b,e]of this.Am.entries())e.has(a)&&(e.delete(a),0===e.size&&this.Am.delete(b))}m1(a){if(this.Am.has(a))return this.Am.get(a)}kA(a){return this.Dy.get(a.toLowerCase())||
null}V4(a){d.Br(this.Eg,a);this.xw()}xQ(a){this.Eg.includes(a)?(a.Zv(!0),a.aw(!1),a.dH(!1)):(a.Zv(!1),a.aw(!0),a.dH(!1),this.Ch.includes(a)||this.Ch.push(a));this.PS()}Ez(a){a.Zv(!1);a.aw(!1);a.VG();d.Br(this.Ch,a);this.xw()}Cz(a){a.Zv(!1);a.aw(!1);a.dH(!0)}dZ(a){this.Cz(a);a.VG()}wba(){if(!this.G().$k&&this.Eq&&!this.ht){var a=!1;for(this.Cx=!0;this.Ch.length;){var b=this.Ch.pop();b.Gd();this.Eg.push(b)}b=this.b.pp();var e=this.b.Ce;for(const c of this.Eg){if(c.Qt)continue;const f=c.ee(b,e);!a&&
f&&(a=!0)}this.Cx=!1;a&&this.G().R()}}oI(){if(!this.G().$k&&this.Eq&&!this.ht){var a;for(const b of this.Eg)b.Qt&&(a||(a=new Set),this.QS(b),a.add(b));a&&d.Mh(this.Eg,a);this.xw()}}QS(a){a.Ai||a.VO()&&a.wg&&a.qo&&a.XN()}PS(){this.Eq||(this.Eq=!0)}xw(){this.Eg.length||this.Ch.length||this.Cx||(this.Eq=!1)}qB(){for(this.ht=!0;this.Ch.length;)this.Ez(this.Ch.pop());const a=new Set;for(const b of this.Eg)b.qB()&&a.add(b);d.Mh(this.Eg,a);this.xw();for(const b of this.Jo)b.kk()}dba(){this.ht=!1}WS(a){var b=
a.H();if(b=this.m1(b))if(this.b.$k)this.Zw.push(a);else for(const e of b)e.Gt||(e.Ai?this.$h(e):e.VO()||(this.QS(e),this.$h(e)))}Aw(){for(const a of this.Zw)this.WS(a);d.C(this.Zw)}la(){return{timelinesJson:this.Gca(),scheduledTimelinesJson:this.Eca(),playingTimelinesJson:this.Cca(),hasRuntimeListeners:this.Eq,changingLayout:this.ht,isTickingTimelines:this.Cx}}ua(a){a&&(this.N8(),this.Kaa(a.timelinesJson),this.Haa(a.scheduledTimelinesJson),this.Faa(a.playingTimelinesJson),this.Eq=!a.hasRuntimeListeners,
this.ht=!!a.changingLayout,this.Cx=!!a.isTickingTimelines,this.Vca(),this.PS(),this.xw())}Gca(){return this.Jo.map(a=>a.la())}Kaa(a){for(const b of a){a=this.kA(b.name);if(!a){a=this.R$(b);if(!a)continue;a=this.kA(a);a=this.mF(a)}a.ua(b);a.H1()||this.$h(a)}}R$(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Eca(){return this.xT(this.Ch)}Haa(a){this.KS(a,this.Ch)}Cca(){return this.xT(this.Eg)}Faa(a){this.KS(a,this.Eg)}paa(a,b){for(const e of b)if(e===a.Ba())return!0;return!1}xT(a){return a.map(b=>
b.Ba())}KS(a,b){var e=new Set;for(const c of b)this.paa(c,a)||e.add(c);d.Mh(b,e);e=c=>f=>f.Ba()===c;for(const c of a)(a=this.kA(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.j;d.qe=class extends d.ga{constructor(a,b,e){super();this.b=e.G();this.Kb=e;this.xf=b;this.Fa=a;this.Sb=[];for(const c of this.xf.mA().yha())this.Sb.push(d.nR.Sa(this,c));this.ED=this.Xx=null;this.Ao=d.A(d.Fv);this.Ao.Set(0);this.Cm=1;this.$j=0;this.Cj=1;this.qo=this.rm=this.XC=!1;this.wg=!0;this.Qt=this.Ai=!1;this.it=-1;this.oo=this.Cq=this.Gt=this.IC=!1;this.yV=NaN;this.Hh=[""];this.vW="";this.LL=!1}static mZ(a,b){const e=b.Cy.ea(a[0]);a=d.A(d.qe,a[0],e,b);a.d6();return a}static mF(a,
b,e){return d.A(d.qe,a,b,e)}static get J7(){return 1}static get Ml(){return d.GM(1)}g(){if(!this.Ai){this.Kb.Ez(this);this.Kb.dZ(this);for(const a of this.Sb)a.g();d.C(this.Sb);this.Sb=null;this.Ao.g();this.xf=this.Kb=this.b=this.Ao=null;this.Ai=!0;this.ED=this.Xx=null}}G(){return this.b}YF(a,b,e){const c=[];for(const f of this.Sb){if(a!==f.Ca())continue;const k=f.Fl(e);k&&b.constructor===k.Ed().constructor&&c.push(k)}return c}H1(){return!!this.Sb.length}VA(a){this.Fa=a}Ba(){return this.Fa}NO(){return this.xf.Ba()}Zd(){return this.xf.Zd()}uv(){return this.xf.uv()}Wi(){return this.xf.Wi()}aj(){return this.xf.aj()}Ek(a){for(const b of this.Sb)b.Ek(a)}Yr(){return this.xf.Yr()}$r(){return this.xf.$r()}nn(){return this.xf.nn()}WA(a){this.Cm=
a}Yh(){return this.IsPlaying()?0<this.Cm:!0}zO(){this.Xx||(this.Xx=new Promise(a=>{this.ED=a}))}VG(){this.Xx&&(this.ED(),this.ED=this.Xx=null)}Js(a){this.Hh=d.qe.Q$(a);this.LL=!0}RP(){d.B.Vc.F.Tp(this);this.Kb.Aa(d.B.Vc.F.bma);this.Kb.Aa(d.B.Vc.F.cma);this.Kb.Aa(d.B.Vc.F.dma);this.Kb.Aa(d.B.Vc.F.Vla);d.B.Vc.F.Tp(null)}JP(){this.it=this.b.gl}XN(){this.Cq||(this.Cq=!0,d.B.Vc.F.Tp(this),this.Kb.Aa(d.B.Vc.F.Zla),this.Kb.Aa(d.B.Vc.F.$la),this.Kb.Aa(d.B.Vc.F.ama),this.Kb.Aa(d.B.Vc.F.Ula),d.B.Vc.F.Tp(null))}Zv(a){this.XC=
a}eP(){return this.it===this.b.gl}IsPlaying(a=!1){return this.eP()||this.rm&&!a?!0:this.XC}Vs(){return this.IsPlaying(!0)}aw(a){this.rm=a}CQ(a){this.wg=a;a=this.Ea();if(0>=a||a>=this.Zd())this.wg=!0}dH(a){this.Qt=a}cH(a){this.IC=a}d6(){this.Gt=!0}Ea(){return this.Ao.ea()}Ls(a){const b=this.Ea();this.Ke(a);this.CQ(!1);this.wg||this.cH(!0);if(this.Vs()||this.rm||!this.qo)this.Vs()||this.rm||this.qo?this.Vs()?this.kh():this.rm&&(this.Kb.Ez(this),this.NQ()):this.NQ();this.oB(a,!1,!0,!0,b)&&this.G().R();
this.$S()}Ke(a){0>a?this.Ao.Set(0):a>=this.Zd()?this.Ao.Set(this.Zd()):this.Ao.Set(a)}$S(){d.B.Vc&&this.constructor===d.qe&&(d.B.Vc.F.Tp(this),this.Kb.Aa(d.B.Vc.F.Wla),this.Kb.Aa(d.B.Vc.F.Xla),this.Kb.Aa(d.B.Vc.F.Yla),d.B.Vc.F.Tp(null))}Play(a=!1){return this.Ai||this.rm?!1:this.Vs()&&this.eP()?this.Kca():this.Vs()||!this.wg&&!a&&!this.IC?!1:this.Lca()}Kca(){this.cH(!1);this.Kb.V4(this);this.Kb.xQ(this);this.zO();return!0}Lca(){this.cH(!1);this.Kb.xQ(this);this.zO();return!0}kh(a=!1){this.Ai||(this.CQ(a),
this.Kb.Cz(this),this.wg&&this.VG())}kd(a=!0,b=!1){if(!this.Ai)if(!this.Vs()&&this.rm)this.Kb.Ez(this);else if(!this.wg){this.kh(!0);this.Yh()?this.Ke(0):this.Ke(this.Zd());var e=this.Ea();b=b?this.haa(e):this.oB(e,!1,!1,!0);a&&this.$S();b&&a&&this.G().R()}}qQ(){this.kd(!1,!0)}haa(a){this.oB(a,!1,!1,!0,NaN,!1,!0)}qB(){if(this.Ai)return!0;if(this.I1())return!1;this.Kb.Cz(this);this.qQ();return!0}NQ(){this.Gd(!0)}Gd(a){if(!this.Qt)if(a){this.oo=this.qo=!0;for(const b of this.Sb)b.Gd()}else if(this.Zv(!0),
this.aw(!1),this.RP(),this.wg){this.it=-1;this.$j=0;this.Cj=1;this.Cq=this.wg=!1;this.oo=this.qo=!0;this.Yh()?this.Ke(0):this.Ke(this.Zd());for(const b of this.Sb)b.Gd()}else{this.oo=!0;for(const b of this.Sb)b.sg()}}ee(a,b){if(0!==a||0!==this.yV){this.yV=a;var e=this.Ea();this.Ke(e+a*b*this.Cm);var c;this.Yr()||this.$r()?this.Yr()&&!this.$r()?c=this.Paa():!this.Yr()&&this.$r()?c=this.Fba():this.Yr()&&this.$r()&&(c=this.Qaa()):c=this.Eda();if(c){for(const f of this.Sb)f.N5();this.kh(!0);this.JP();
return!0}return this.oB(this.Ea(),!0,!1,!1,e,!0)}}oB(a,b=!1,e=!1,c=!1,f=NaN,k=!1,g=!1){let l=!1;for(var n of this.Sb)n.Vu();for(const q of this.Sb){n=a;if("number"===typeof f){const r=this.Ea()-q.og(),p=f-q.og();0>r&&0<p&&(n=q.og(),this.Ke(n))}n=q.nb(n,b,e,c,this.oo,g);!l&&n&&(l=!0)}for(const q of this.Sb)q.Uu();this.oo&&k&&(this.oo=!1);return l}Eda(){if(this.Yh()){if(this.Ea()>=this.Zd())if(this.Cj<this.nn())this.Cj++,this.Ke(0);else return this.Ke(this.Zd()),!0}else if(0>=this.Ea())if(this.Cj<this.nn())this.Cj++,
this.Ke(this.Zd());else return this.Ke(0),!0;return!1}Paa(){this.Yh()?this.Ea()>=this.Zd()&&this.Ke(0):0>=this.Ea()&&this.Ke(this.Zd());return!1}Fba(){if(this.Yh()){if(this.Ea()>=this.Zd())if(this.Ke(this.Zd()),this.WA(-1*this.Cm),1===this.$j)if(this.Cj<this.nn())this.Cj++,this.$j=0;else return!0;else 0===this.$j&&(this.$j=1)}else if(0>=this.Ea())if(this.Ke(0),this.WA(-1*this.Cm),1===this.$j)if(this.Cj<this.nn())this.Cj++,this.$j=0;else return!0;else 0===this.$j&&(this.$j=1);return!1}Qaa(){this.Yh()?
this.Ea()>=this.Zd()&&(this.Ke(this.Zd()),this.WA(-1*this.Cm)):0>=this.Ea()&&(this.Ke(0),this.WA(-1*this.Cm));return!1}kk(){for(const a of this.Sb)a.kk()}TY(){for(const a of this.Sb)a.QY()}E6(a,b){if(b)for(const e of this.Sb)if(e.Zh()){if(a){if(e.mk()!==a)continue}else if(e.B1())continue;e.a6(b);this.Kb.cR(b.H(),this);break}}VO(){return this.Sb.some(a=>a.Zh()?a.gF():!0)}I1(){return this.Sb.some(a=>a.Zh()?a.gF()?(a=a.H())?a.ah():!1:!1:!1)}Fl(a){for(const b of this.Sb)for(const e of b.Nc)if(e.Ra.Pd===
a)return e}QO(a){for(const b of this.Sb)if(a===b.Ca())return b;return null}eA(){const a=[];for(const b of this.Sb)a.push(b.H());return a.filter(b=>b)}la(){return{tracksJson:this.Ica(),name:this.Fa,playheadTime:this.Ea(),playbackRate:this.Cm,pingPongState:this.$j,currentRepeatCount:this.Cj,isPlaying:this.XC,isScheduled:this.rm,initialStateSet:this.qo,finishedTriggers:this.Cq,complete:this.wg,released:this.Ai,markedForRemoval:this.Qt,completedTick:this.it,implicitPause:this.IC,isTemplate:this.Gt,tags:this.Hh.join(" "),
stringTags:this.vW,tagsChanged:this.LL,firstTick:this.oo}}ua(a){a&&(this.Laa(a.tracksJson),this.Fa=a.name,this.Ao.Set(a.playheadTime),this.Cm=a.playbackRate,this.$j=a.pingPongState,this.Cj=a.currentRepeatCount,this.XC=!!a.isPlaying,this.rm=!!a.isScheduled,this.qo=!!a.initialStateSet,this.Cq=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.wg=!!a.complete,this.Ai=!!a.released,this.Qt=!!a.markedForRemoval,this.it=a.completedTick,this.IC=!!a.implicitPause,this.Gt=!!a.isTemplate,this.Hh=
a.tags.split(" "),this.vW=a.stringTags,this.LL=!!a.tagsChanged,this.oo=!!a.firstTick)}Ica(){return this.Sb.map(a=>a.la())}Laa(a){a.forEach((b,e)=>{this.Sb[e].ua(b)});this.Sb.filter(b=>b.gF())}static Q$(a){if(d.Ap(a))return a.slice(0);if(d.cj(a))return a.split(" ")}}}
{"use strict";const d=self.j;d.nR=class extends d.ga{constructor(a,b){super();this.Io=a;this.ec=b;this.yf=b.mA();this.zm=this.nm=NaN;this.lb=this.xh=null;this.Qq=0<b.og();this.zq=this.Et=!1;this.Uq=null;this.$c=this.ec.Yi().$c;this.Nc=[];for(const e of this.ec.gf().gha())this.Nc.push(d.fb.Sa(this,e))}static Sa(a,b){return d.A(d.nR,a,b)}g(){this.$c=null;for(const a of this.Nc)a.g();d.C(this.Nc);this.Uq=this.ec=this.lb=this.xh=this.Io=this.Nc=null}kk(){for(const a of this.Nc)a.kk();this.lb=this.xh=
null}zc(){return this.Io}G(){return this.Io.G()}T0(){return this.$c?this.$c:this.$c=this.ec.Yi().$c}Fl(a){for(const b of this.Nc)if(b.Ra.Pd===a)return b}qs(){this.xh||this.Ca()}Jl(){return this.xh?!this.xh.fP():!1}gF(){if(!this.Zh())return!1;const a=this.G().Vi(this.rv());return a?!a.fP():!1}H(){if(this.Zh()){var a=this.SF();if(-1!==a)return this.G().Lf(a)}}QY(){this.xh=null;this.nm=-1;this.lb=null;this.zm=-1}B1(){return!!this.xh}Ca(){return this.xh&&this.Jl()?this.xh:this.xh=this.G().Vi(this.rv())}a6(a){if(this.xh!==
a){this.kk();this.xh=a;this.zm=a.H().Ga();this.nm=a.Pc;this.lb=a.i();for(const k of this.hha()){const g=k.sha;switch(k.fha.Yd()){case "instance-variable":var b=a.H(),e=b.M0(k.name),c=b.qO(e);b=b.sv(e);c===k.name&&b===k.type&&g.E7(e);break;case "behavior":var f=k.iM;e=this.H();c=a.H();b=g.Sh(c);f&&b&&(f=f.Ba(),e.lv(f),c.lv(f),g.B7(b.ib))}}}}*hha(){for(const e of this.Nc){var a=e.Ed(),b=this.H();const c={fha:e,sha:a};switch(e.Yd()){case "world-instance":c.Tsa=e.Ra.Pd;break;case "instance-variable":a=
a.Vr();c.name=b.qO(a);c.type=b.sv(a);break;case "effect":b=a.HF(b.Qa);c.jra=b;break;case "behavior":b=a.Sh(b);c.iM=b;break;case "plugin":c.Psa=b.Fb()}yield c}}i(){if(this.lb&&this.Jl())return this.lb;const a=this.Ca();a&&(this.lb=a.i());return this.lb}rv(){return this.nm?this.nm:this.ec.rv()}Wi(){return this.ec.Wi()}aj(){return this.ec.aj()}mk(){return this.ec.mk()}og(){return this.ec.og()}El(){return this.ec.El()}Ek(a){for(const b of this.T0())b.Ek(a);for(const b of this.Nc)b.Ek(a)}Cl(){return this.ec.Cl()}Rl(a){this.ec.Rl(a)}SF(){return isNaN(this.zm)?
this.ec.SF():this.zm}qk(){const a=this.Ca();return a&&a.ia.Kl()?a.ia.qk():this.ec.qk()}pk(){const a=this.Ca();return a&&a.ia.Kl()?a.ia.pk():this.ec.pk()}vk(){return this.ec.vk()}Ba(){return this.ec.Ba()}Zh(){return 0===this.vk()}Gd(){this.qs();if(this.Jl()||!this.Zh()){for(var a of this.Nc)a.Gd();a=this.zc().Yh()?0:this.El();this.Uq=this.PF(a);this.zq=this.Et=!1;this.nb(a)}}sg(){this.qs();if(this.Jl()||!this.Zh()){this.Io.Yh();var a=this.Io.Ea()-this.og();this.Uq=this.PF(a);for(const b of this.Nc)b.sg()}}N5(){if(!(this.zc().wg||
(this.qs(),!this.Jl()&&this.Zh()||this.Qq))){const a=this.Io.Ea();a>=this.og()+this.El()?this.nb(this.El(),!0,!1,!0):0>=a&&this.nb(0,!0,!1,!0)}}Vu(){for(const a of this.Nc)a.Vu()}nb(a,b=!1,e=!1,c=!1,f=!1,k=!1){this.qs();if(!this.Jl()&&this.Zh()||k&&this.Zh()&&this.H().ah())return!1;a-=this.og();if(0>a)return!1;this.C3(a,b);this.CP(a,b,f);f=k=!1;for(const g of this.Nc){const l=g.nb(a,e,!1,c);k||0===(l&d.qe.J7)||(k=!0);f||0===(l&d.qe.Ml)||(f=!0)}this.B3(a,b);k&&(a=this.i())&&a.ta();return f}Uu(){for(const a of this.Nc)a.Uu()}C3(a,
b){if(b&&this.Qq&&!this.Et){if(this.zc().Yh()){if(0>a)return;for(const e of this.Nc)e.nb(0,!1,!1,!0)}else{if(a>this.El())return;for(const e of this.Nc)e.nb(this.El(),!1,!1,!0)}for(const e of this.Nc)e.Gd();this.Et=!0}}B3(a,b){if(b&&this.Qq&&!this.zq)if(this.zc().Yh()){if(a>=this.El()){for(const e of this.Nc)e.nb(this.El(),!1,!1,!0);this.zq=!0}}else if(0>=a){for(const e of this.Nc)e.nb(0,!1,!1,!0);this.zq=!0}}CP(a,b,e){!e&&b&&(a=this.PF(a),a!==this.Uq&&this.MP(a),this.Uq=a)}PF(a){const b=this.zc();
let e=this.yf.Q0(a,this.ec);return e?e:b.Yh()?this.yf.C0(a,this.ec):this.yf.B0(a,this.ec)}MP(a){if(d.B.Vc&&this.zc().constructor===d.qe){var b=this.zc();d.B.Vc.F.Tp(b);d.B.Vc.F.M6(a);a=b.Kb;a.Aa(d.B.Vc.F.Tla);a.Aa(d.B.Vc.F.MP);d.B.Vc.F.Tp(null);d.B.Vc.F.M6(null)}}aY(){return this.ec.Yi().VX()}DZ(a){this.ec.Yi().CZ(a)}qF(a){for(const b of this.Nc)b.qF(a)}Pp(){for(const a of this.Nc)a.Pp()}Oi(){this.qs();if(this.Jl()||!this.Zh())for(const a of this.Nc)a.Oi()}Pi(){this.qs();if(this.Jl()||!this.Zh()){var a=
!1;for(const b of this.Nc){const e=b.Pi();!a&&e&&(a=!0)}a&&(a=this.aY(),a.Ls(this.zc().Ea()),a.Ek("noease"),a.Rl(!0),a.Js(""))}}la(){var a=this.Ca();a=a?a.Pc:this.rv();return{propertyTracksJson:this.Dca(),lastKeyframeDataItemJson:this.Aca(),initialStateOfNestedSet:this.Et,endStateOfNestedSet:this.zq,instanceUid:a}}ua(a){a&&(this.Gaa(a.propertyTracksJson),this.Eaa(a.lastKeyframeDataItemJson),this.Baa(a.instanceUid),this.Et=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Et=a.initialStateOfNestedSet),
this.zq=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.zq=a.endStateOfNestedSet))}Aca(){return this.ec.Yi().S0(this.Uq)}Dca(){return this.Nc.map(a=>a.la())}Gaa(a){a.forEach((b,e)=>{this.Nc[e].ua(b)})}Baa(a){if(d.un(a)&&(a=this.G().Vi(a))){var b=this.zc();b.TY();b.E6(this.ec.mk(),a)}}Eaa(a){this.Uq=this.ec.Yi().R0(a)}}}
{"use strict";const d=self.j;d.fb=class extends d.ga{constructor(a,b){super();this.Bd=a;this.Ra=b;this.Id=b.gf();this.bk=this.Ed();this.ad=this.Ra.$i().ad}static Sa(a,b){return d.A(d.fb,a,b)}g(){this.Bd=null;this.bk&&(this.bk.g(),this.bk=null);this.Id=this.Ra=this.ad=null}gf(){return this.Id}zc(){return this.Bd.zc()}G(){return this.Bd.G()}Ca(){return this.Bd.Ca()}Ed(){if(this.bk)return this.bk;let a;switch(this.Ra.Yd()){case "behavior":a=new d.fb.wY(this);break;case "effect":a=new d.fb.J_(this);break;
case "instance-variable":a=new d.fb.I2(this);break;case "plugin":a=new d.fb.A4(this);break;case "world-instance":a=new d.fb.U7(this);break;case "value":a=new d.fb.H7(this)}return this.bk=a}Yd(){return this.Ra.Yd()}tv(){return this.Ra.vk()}VF(){return this.gf().Zz(this.Ra).vk()}Cl(){return this.Ra.Cl()}Rl(a){this.Ra.Rl(a)}Wi(){return this.Ra.Wi()}aj(){return this.Ra.aj()}Ek(a){for(const b of this.BO())b.Ek(a)}BO(){return this.ad?this.ad:this.ad=this.Ra.$i().ad}kk(){this.Ed().kk()}df(){return this.Ed().df()}Gd(){this.Ed().Gd()}sg(){this.Ed().sg()}Vu(){this.Ed().Vu()}nb(a,
b=!1,e=!1,c=!1){var f=this.Ra;let k=this.Id.UF(a,f);k?f=this.Id.lO(a,f):(k=this.Id.MF(a,f),f=this.Id.LF(a,f));return this.Ed().nb(a,k,f,b,e,c)}Uu(){this.Ed().Uu()}static MO(a,b){const e=b.Ra;b=b.Id;let c=b.UF(a,e);c||(c=b.MF(a,e));return c}static p0(a,b){const e=b.Ra;b=b.Id;return b.UF(a,e)?b.lO(a,e):b.LF(a,e)}dY(){return this.Ra.$i().WX()}qF(a){this.Ra.$i().EZ(a)}Pp(){this.Ed().Pp()}Oi(){if(this.Ed().Oi()){const a=this.Id.Zz(this.Ra),b=this.Ed().df();a.yQ(b)}}Pi(){const a=this.Ed().Pi();a&&this.eY();
this.Ed().Bz();return a}eY(){const a=this.zc().Ea(),b=this.Ed(),e=d.fb.MO(a,this),c=this.dY();c.dR(e.vk());c.Ls(a);c.Ek(e.ln());c.Rl(!0);c.hh(b.pA());c.yQ(b.df())}la(){return{sourceAdapterJson:this.Ed().la()}}ua(a){a&&this.Ed().ua(a.sourceAdapterJson)}}}
{"use strict";const d=self.j.fb;d.dj=class{constructor(a){this.na=a;this.Em=null}g(){this.Em&&(this.Em.g(),this.Em=null);this.na=null}Fl(){return this.na}kk(){this.Em&&this.Em.kk()}Wg(){return this.Em?this.Em:this.Em=this.b9()}Vr(){}Ga(){return this.Vr()}xv(){}Gd(){this.Wg().Gd()}sg(){this.Wg().sg()}Vu(){this.Wg().Mr()}nb(a,b,e,c,f,k){const g=d.dj.rO(this.na)(a,b,e,this.na);return f?g:this.Wg().lp(a,g,b,e,c,k)}Uu(){this.Wg().Kr()}Pp(){var a=this.Wg();a.Bi=a.df()}Bz(){this.Wg().Bz()}df(){return this.Wg().df()}Oi(){return this.Wg().Oi()}Pi(){return this.Wg().Pi()}pA(){return d.dj.pA(this.na)}b9(){const a=
this.na.tv();switch(this.na.VF()){case "combo":case "boolean":case "text":case "string":return new d.qg.FP(this);case "numeric":case "number":case "angle":return"combo"===a?new d.qg.FP(this):new d.qg.J3(this);case "color":case "offsetColor":return new d.qg.WY(this)}}la(){return{propertyAdapterJson:this.Wg().la()}}ua(a){a&&this.Wg().ua(a.propertyAdapterJson)}static pA(a){const b=a.Bd.zc().Ea(),e=d.MO(b,a),c=d.p0(b,a);return d.dj.rO(a)(b,e,c,a)}static $d(){let a=(void 0).aj();"combo"===(void 0).tv()&&
(a="absolute");switch(a){case "relative":return NaN}}static rO(a){switch(a.VF()){case "numeric":return d.EG.nb;case "angle":return d.kN.nb;case "boolean":return d.qN.nb;case "color":return d.AN.nb;case "text":return d.lR.nb}}static q1(a){switch(a.VF()){case "numeric":return d.EG.Ul;case "angle":return d.kN.Ul;case "boolean":return d.qN.Ul;case "color":return d.AN.Ul;case "text":return d.lR.Ul}}}}{"use strict";const d=self.j;class a extends d.fb.dj{constructor(b){super(b)}}d.fb.U7=a}
{"use strict";const d=self.j;class a extends d.fb.dj{constructor(b){super(b);this.Jy=NaN}Vr(){return this.na.Ra.Eh[0]}Ga(){return this.Jy?this.Jy:super.Ga()}xv(){return this.na.Bd.Ca()}E7(b){this.na.Ra.Eh[0]!==b&&(this.Jy=b)}nb(b,e,c,f,k,g){if(this.Wg().vN(e.$d()))return super.nb(b,e,c,f,k,g)}la(){return Object.assign(super.la(),{index:this.Jy})}ua(b){b&&(super.ua(b),this.Jy=b.index)}}d.fb.I2=a}
{"use strict";const d=self.j;class a extends d.fb.dj{constructor(b){super(b);this.ib=NaN}Vr(){return this.na.Ra.Eh[1]}xv(){var b=this.na.Ra,e=this.ib?this.ib:b.Eh[0];b=this.na.Bd.Ca();e=b.cO(e);return b.nd[e].ia}Sh(b){return b.Oz(this.na.Ra.Eh[2])}B7(b){this.na.Ra.Eh[0]!==b&&(this.ib=b)}nb(b,e,c,f,k,g){const l=this.na.Bd.Ca();if(this.Sh(l.H()))return super.nb(b,e,c,f,k,g)}la(){return Object.assign(super.la(),{sid:this.ib})}ua(b){b&&(super.ua(b),this.ib=b.sid)}}d.fb.wY=a}
{"use strict";const d=self.j;class a extends d.fb.dj{constructor(b){super(b)}Vr(){return this.na.Ra.Eh[1]}xv(){const b=this.na.Bd.i().Ne,e=this.HF(b.Qa).Ga();return b.Dv(e)?b.Vg(e):null}HF(b){return b.Bl(this.na.Ra.Eh[0])}nb(b,e,c,f,k,g){if(this.laa())return super.nb(b,e,c,f,k,g)}laa(){const b=this.na.Bd.i().Ne,e=this.HF(b.Qa);if(e)return b.Dv(e.Ga())}}d.fb.J_=a}
{"use strict";const d=self.j;class a extends d.fb.dj{constructor(b){super(b)}Vr(){return this.na.Ra.Eh[0]}xv(){return this.na.Bd.Ca().ia}nb(b,e,c,f,k,g){var l=this.na.Bd;const n=l.H().Fb();l=l.Ca().H().Fb();if(n===l)return super.nb(b,e,c,f,k,g)}}d.fb.A4=a}
{"use strict";const d=self.j;class a extends d.fb.dj{constructor(b){super(b);this.Jd=0;this.JC=!1}Gd(){const b=this.na.gf();let e=this.na.Ra;e=b.Zz(e);this.Jd=e.Ac()}sg(){}$d(){this.JC||this.na.nb(0);return this.Jd}nb(b,e,c){const f=d.fb.EG.nb;this.Jd=f(b,e,c,this.na);this.JC=!0}Pp(){}Bz(){}df(){return this.Jd}Oi(){return!1}Pi(){return!1}la(){return{value:this.Jd,init:this.JC}}ua(b){b&&(this.Jd=b.value,this.JC=b.hasOwnProperty("init")?b.init:!0)}}d.fb.H7=a}"use strict";
function hc(d,a,b){return d.na.zc().Yh()?a():b()}function ic(d,a,b){return"relative"===d.na.aj()?a():b()}function jc(d,a,b){d.At?(d.At=!1,a()):b()}function kc(d){if(d.gu)return d.gu;d.gu=d.bk.xv();return d.gu}function lc(d,a,b,e,c,f){switch(d.na.Yd()){case "behavior":return a();case "effect":return b();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function mc(d,a=!1){const b=[];for(const e of d){d=e.Bd.og();for(const c of e.BO())a&&0===c.Ea()?b.push({time:d+c.Ea(),value:c.gi}):a||b.push({time:d+c.Ea(),value:c.gi})}return b.sort((e,c)=>e.time-c.time)}function nc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.j.fb.qg=class{constructor(d){this.bk=d;this.na=d.Fl();this.lb=this.na.Bd.i();this.Pd=this.na.Ra.Pd;this.At=!1;this.gu=this.Bi=null}g(){this.gu=this.Bi=this.lb=this.na=this.bk=null}kk(){this.gu=this.Bi=this.lb=null}Fl(){return this.na}i(){return this.lb?this.lb:this.lb=this.na.Bd.i()}Gd(){}sg(){}Bz(){this.Bi=null}df(){}Oi(){}Pi(){}vN(d){return typeof this.Yl()===typeof d}Mr(){}lp(){}Kr(){}Zp(){return hc(this,()=>{const d=this.na.Ra;return this.na.gf().Zz(d)},()=>{const d=this.na.Ra;return this.na.gf().sp(d)}).gi}eB(){const d=
this.na.zc().Ea()-this.na.Bd.og();return hc(this,()=>{const a=this.na.Ra;return this.na.gf().MF(d,a)},()=>{const a=this.na.Ra,b=this.na.gf(),e=b.LF(d,a);return e?e:b.sp(a)}).gi}hB(){}ei(){return this.bk.Ga()}la(){return{firstAbsoluteUpdate:this.At,saveState:this.Bi}}ua(d){d&&(this.At=d.firstAbsoluteUpdate,this.Bi=d.saveState)}};
{"use strict";const d=self.j,a=new Map,b=[0,0,0];class e extends d.fb.qg{constructor(c){super(c)}Gd(){}sg(){}df(){const c=this.na.Yd(),f=kc(this),k=this.ei();switch(c){case "behavior":return this.CB(f.Gb(k));case "effect":return this.CB(f[k]);case "plugin":return this.CB(f.Gb(k));case "world-instance":return this.CB(this.Yl())}}Oi(){const c=this.Zp();return!this.LR(c,this.Yl())}Pi(){return d.Fe(this.Bi)?!1:!this.LR(this.Bi,this.Yl())}LR(c,f){return c.Wm(f)}Zp(){const c=super.Zp();return this.iB(c)}eB(){const c=
super.eB();return this.iB(c)}hB(){}CB(c){return d.vn(c,d.Ya)?c.toArray().slice(0,3):c.slice(0,3)}iB(c){return d.vn(c,d.Ya)?c:new d.Ya(c[0],c[1],c[2],1)}vN(){return!0}Mr(){var c=this.na.Ca();a.has(c)||a.set(c,new Map);c=a.get(c);const f=this.na.Yd();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.Pd)||c.set(this.Pd,{lz:!1,color:new d.Ya(0,0,0,1)})}vS(c,f,k){c=a.get(c).get(f).get(k);c.lz=!0;return c.color}lp(c,f){var k=this.na.zc(),g=this.na.Bd;c=this.na.Ca();var l=this.na.Ed();const n=this.na.Yd();
l=k.YF(c,l,this.Pd);if(1<l.length){if(l=mc(l,!0),k=k.Ea(),k=nc(k,l))if(l=k.time-g.og(),0===l)this.vS(c,n,this.Pd).JW(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];g=f[1];f=f[2];l=this.na.nb(l,!1,!0);k=d.Ya.rF(k,l[0]);g=d.Ya.rF(g,l[1]);f=d.Ya.rF(f,l[2]);this.vS(c,n,this.Pd).JW(k,g,f)}}else this.Mk(f[0],f[1],f[2]);return d.qe.Ml}Kr(){const c=this.na.Ca();if(a.has(c)){var f=a.get(c),k=this.na.Yd();if(f.has(k)){var g=f.get(k);if(g.has(this.Pd)){var l=g.get(this.Pd),n=l.color;l.lz&&this.Mk(n.Xa,n.bb,n.$a);
0===g.size&&f.delete(k);0===f.size&&a.delete(c)}}}}Yl(){const c=this.na.Yd(),f=kc(this),k=this.ei();switch(c){case "behavior":return this.iB(f.Gb(k));case "effect":return f[k].clone();case "plugin":return this.iB(f.Gb(k));case "world-instance":return this.i().Ia.clone()}}Mk(c,f,k){const g=this.na.Yd(),l=kc(this),n=this.ei();switch(g){case "behavior":b[0]=c;b[1]=f;b[2]=k;l.Md(n,b);break;case "effect":l[n].Ku(c,f,k);break;case "plugin":b[0]=c;b[1]=f;b[2]=k;l.Md(n,b);break;case "world-instance":this.i().N6(c,
f,k)}}la(){}ua(){}}d.fb.qg.WY=e}
{"use strict";const d=self.j;class a extends d.fb.qg{constructor(b){super(b)}Gd(){}sg(){}df(){return this.Yl()}Oi(){return this.Zp()!==this.df()}Pi(){return d.Fe(this.Bi)?!1:this.Bi!==this.df()}lp(b,e){const c=d.fb.dj.q1(this.na);var f=this.na;const k=f.Bd,g=f.Yd();var l=f.zc();const n=k.Ca();f=f.Ed();l=l.YF(n,f,this.Pd);1<l.length&&(l=mc(l),b=nc(b+k.og(),l))&&(e=b.value);if(c(this.ei(),kc(this),e,g))switch(this.Mk(e),g){case "plugin":return d.qe.Ml}}Yl(){const b=this.na.Yd(),e=kc(this),c=this.ei();
switch(b){case "behavior":return e.Gb(c);case "effect":return e[c];case "instance-variable":return e.ef(c);case "plugin":return e.Gb(c)}}Mk(b){const e=this.na.Yd(),c=kc(this),f=this.ei();switch(e){case "behavior":c.Md(f,b);break;case "effect":c[f]=b;break;case "instance-variable":c.Ln(f,b);break;case "plugin":c.Md(f,b)}}}d.fb.qg.FP=a}
{"use strict";const d=self.j,a=new Map,b=(c,f,k,g,l)=>a.set(c,{rha:f,Mfa:k,xga:g,round:l});b("offsetX",(c,f)=>c.Iv(f),(c,f)=>c.Qf(f),c=>c.O(),!0);b("offsetY",(c,f)=>c.Kv(f),(c,f)=>c.ih(f),c=>c.P(),!0);b("offsetWidth",(c,f)=>c.HP(f),(c,f)=>c.mf(f),c=>c.M(),!0);b("offsetHeight",(c,f)=>c.GP(f),(c,f)=>c.ld(f),c=>c.I(),!0);b("offsetAngle",(c,f)=>c.M3(f),(c,f)=>c.Bc(f),c=>c.ra(),!1);b("offsetOpacity",(c,f,k,g)=>{k=c.ff()+f;0===g.Zc?(1<k?g.Zc+=k-1:0>k&&(g.Zc+=k),c.N3(f)):(c=c.ff()+f,0<f&&0<g.Zc?1<c&&(g.Zc+=
c-1):0<f&&0>g.Zc?(g.Zc+=f,0<g.Zc&&(g.Zc=0)):0>f&&0<g.Zc?(g.Zc+=f,0>g.Zc&&(g.Zc=0)):0>f&&0>g.Zc&&0>c&&(g.Zc+=c))},(c,f)=>{c.hj(f)},c=>c.ff(),!1);b("offsetOriginX",(c,f)=>c.O3(f),(c,f)=>c.Qp(f),c=>c.Vh(),!1);b("offsetOriginY",(c,f)=>c.P3(f),(c,f)=>c.Rp(f),c=>c.Wh(),!1);b("offsetZElevation",(c,f)=>c.Q3(f),(c,f)=>c.He(f),c=>c.Ta(),!0);b("offsetScaleX",(c,f,k)=>{const g=0>c.M()?-1:1;c.HP(k.qk()*g*f)},(c,f,k)=>{c.mf(k.qk()*f)},(c,f)=>{const k=0>c.M()?-1:1;if(c.vp()){var g=c.Da(),l=f.zc().QO(g.Ca());l?g=
g.M()/l.qk():(l=g.Ca().ia,g=l.Kl()?g.M()/l.qk():1);return c.M()*k/(f.qk()*g)}return c.M()*k/f.qk()},!1);b("offsetScaleY",(c,f,k)=>{const g=0>c.I()?-1:1;c.GP(k.pk()*g*f)},(c,f,k)=>{c.ld(k.pk()*f)},(c,f)=>{const k=0>c.I()?-1:1;if(c.up()){var g=c.Da(),l=f.zc().QO(g.Ca());l?g=g.I()/l.pk():(l=g.Ca().ia,g=l.Kl()?g.I()/l.pk():1);return c.I()*k/(f.pk()*g)}return c.I()*k/f.pk()},!1);class e extends d.fb.qg{constructor(c){super(c);this.Zc=this.$b=0;this.kK=this.mK=this.lK=null;this.jW=!1;this.ur=d.vn(this.na.zc(),
d.w7)?new d.fb.qg.L3(this):new d.fb.qg.K3(this);c=this.na.Ra.Pd;"world-instance"===this.na.Yd()&&(c=a.get(c),this.lK=c.xga,this.mK=c.rha,this.kK=c.Mfa,this.jW=c.round)}g(){this.kK=this.mK=this.lK=this.ur=null;super.g()}QQ(c){this.$b=c}Gd(){const c=this.ur.Gd();"number"===typeof c&&(this.$b=c);this.Zc=0}sg(){const c=this.ur.sg();"number"===typeof c&&(this.$b=c)}df(){return this.Yl()}Oi(){return this.Zp()!==this.df()}Pi(){return d.Fe(this.Bi)?!1:this.Bi!==this.df()}Mr(){this.ur.Mr()}lp(c,f,k,g,l,n,
q){return this.ur.lp(c,f,k,g,l,n,q)}Kr(){this.ur.Kr()}Yl(){const c=kc(this),f=this.ei(),k=this.na.Bd,g=this.i();return lc(this,()=>c.Gb(f),()=>c[f],()=>c.ef(f),()=>c.Gb(f),()=>this.lK(g,k))}Mk(c){const f=kc(this),k=this.ei(),g=this.na.Bd,l=this.i();lc(this,()=>f.GG(k,c),()=>f[k]+=c,()=>f.b6(k,c),()=>f.GG(k,c),()=>this.mK(l,c,g,this))}ST(c){const f=kc(this),k=this.ei(),g=this.na.Bd,l=this.i();lc(this,()=>f.Md(k,c),()=>f[k]=c,()=>f.Ln(k,c),()=>f.Md(k,c),()=>this.kK(l,c,g))}Ws(c,f,k,g,l,n){this.ur.Ws(c,
f,k,g,l,n)}Vl(c,f,k){c=(c.toString().split(".")[1]||"").length;const g=this.Yl();this.Mk((0===c?this.jW?Math.round(g):g:d.toFixed(g,c))-g,f,k)}la(){return Object.assign(super.la(),{v:this.$b,a:this.Zc})}ua(c){c&&(super.ua(c),this.$b=c.v,this.Zc=c.a)}}d.fb.qg.J3=e}
{"use strict";const d=self.j,a=new Map;class b{constructor(e){this.Se=e}g(){this.Se=null}Gd(){const e=this.Se,c=this.Se.Fl();return ic(e,()=>hc(e,()=>0,()=>d.fb.dj.pA(c)),()=>{})}sg(){}Mr(){const e=this.Se,c=this.Se.Fl(),f=c.Ra.Pd;ic(e,()=>{},()=>{var k=c.Ca();a.has(k)||a.set(k,new Map);k=a.get(k);const g=c.Yd();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(f)||k.set(f,{lz:!1,value:0})})}uS(e,c,f){e=a.get(e).get(c).get(f);e.lz=!0;return e}lp(e,c,f,k,g,l){const n=this.Se,q=this.Se.Fl(),r=q.Ra.Pd;ic(n,
()=>{const p=n.$b;n.Mk(c-p,f,k);l&&this.Ws(e,f,k,g,p,c);n.QQ(c)},()=>{var p=q.zc(),w=q.Bd;const t=q.Ca();var v=q.Ed();const x=q.Yd();v=p.YF(t,v,r);if(1<v.length){if(v=mc(v,!0),p=p.Ea(),p=nc(p,v))w=p.time-w.og(),0===w?this.uS(t,x,r).value+=c:0>w||(w=q.nb(w,!1,!0),this.uS(t,x,r).value+=c-w)}else n.ST(c)});return lc(n,()=>{},()=>d.qe.Ml,()=>{},()=>d.qe.Ml,()=>d.qe.Ml)}Kr(){const e=this.Se,c=this.Se.Fl(),f=c.Ra.Pd;ic(e,()=>{},()=>{const k=c.Ca();if(a.has(k)){var g=a.get(k),l=c.Yd();if(g.has(l)){var n=
g.get(l);if(n.has(f)){var q=n.get(f),r=q.value;q.lz&&e.ST(r);n.delete(f);0===n.size&&g.delete(l);0===g.size&&a.delete(k)}}}})}Ws(e,c,f,k,g,l){const n=this.Se;k||(c&&e===c.Ea()?n.Vl(c.Ac(),c,f):f&&e===f.Ea()?n.Vl(f.Ac(),c,f):0===l-g&&n.Vl(c.Ac(),c,f))}}d.fb.qg.K3=b}
{"use strict";const d=self.j;class a{constructor(b){this.Se=b}g(){this.Se=null}Gd(){const b=this.Se;b.At=!0;return this.hB(b.Zp())}sg(){const b=this.Se;if(b.Zp()!==b.eB())return b.At=!0,this.hB(b.eB())}Mr(){}lp(b,e,c,f,k,g){const l=this.Se,n=l.$b;ic(l,()=>{l.Mk(e-n,c,f);g&&this.Ws(b,c,f,k,n,e)},()=>{jc(l,()=>{l.Mk(n,c,f)},()=>{l.Mk(e-n,c,f);g&&this.Ws(b,c,f,k,n,e)})});l.QQ(e);return lc(l,()=>{},()=>d.qe.Ml,()=>{},()=>d.qe.Ml,()=>d.qe.Ml)}Kr(){}hB(b){return b-this.Se.df()}Ws(b,e,c,f,k,g){const l=this.Se;
f?e&&b===e.Ea()?l.Vl(e.Ac(),e,c):c&&b===c.Ea()?l.Vl(c.Ac(),e,c):c||l.Vl(e.Ac(),e,c):e&&b===e.Ea()?l.Vl(e.Ac(),e,c):c&&b===c.Ea()?l.Vl(c.Ac(),e,c):0===g-k&&l.Vl(e.Ac(),e,c)}}d.fb.qg.L3=a}
{"use strict";const d=self.j,a=self.av;d.fb.EG=class{constructor(){}static Ul(b,e,c,f){let k;switch(f){case "behavior":k=e.Gb(b);break;case "effect":k=e[b];break;case "instance-variable":k=e.ef(b);break;case "plugin":k=e.Gb(b)}return k===c?!1:!0}static nb(b,e,c,f){if(!c)return c=f.Ra,c=f.gf().sp(c),c.Ac();var k=f.Wi();"default"===k&&(k="continuous");"combo"===f.tv()&&(k="discrete");if("discrete"===k)return e.Ac();if("continuous"===k||"step"===k){"step"===k&&(k=f.zc().uv(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var g=e.Ea();const l=c.Ea();k=e.Ac();const n=c.Ac();if(k===n)return k;b=d.normalize(b,g,l);const q=e.ln();e=e.zF("cubic-bezier");c=c.zF("cubic-bezier");e&&e.uy&&c&&c.oC?(g=l-g,g=a.tp(q)(g*b,0,1,g),g=a.tp("cubicbezier")(g,k,k+e.GL,n+c.HJ,n)):g=a.tp(q)((l-g)*b,k,n-k,l-g);return"integer"===f.tv()?Math.floor(g):g}}}}
{"use strict";const d=self.j;d.fb.kN=class{constructor(){}static Ul(a,b,e,c){let f;switch(c){case "behavior":f=b.Gb(a);break;case "effect":f=b[a];break;case "instance-variable":f=b.ef(a);break;case "plugin":f=b.Gb(a)}return f===e?!1:!0}static nb(a,b,e,c){if(!e)return b=c.Ra,b=c.gf().sp(b),b.Ac();var f=c.Wi();"default"===f&&(f="continuous");"combo"===c.tv()&&(f="discrete");if("discrete"===f)return b.Ac();if("continuous"===f||"step"===f){"step"===f&&(c=c.zc().uv(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.Ea(),g=e.Ea();c=b.Ac();e=e.Ac();if(f=b.zF("angle")){const l=f.qL;if(c===e&&0===l)return c;a=d.normalize(a,k,g);b=self.av.tp(b.ln())(a,0,1,1);switch(f.AJ){case "closest":return d.gM(c,e,b,l);case "clockwise":return d.Tfa(c,e,b,l);case "anti-clockwise":return d.Sfa(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,k,g);b=self.av.tp(b.ln());return d.gM(c,e,b(a,0,1,1))}}}}}"use strict";
self.j.fb.qN=class{constructor(){}static Ul(d,a,b,e){let c;switch(e){case "behavior":c=a.Gb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.ef(d);break;case "plugin":c=a.Gb(d)}return!!c===!!b?!1:!0}static nb(d,a,b,e){return b?a.Ac()?1:0:(d=e.Ra,d=e.gf().sp(d),d.Ac()?1:0)}};
{"use strict";const d=self.j,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.fb.AN=class{constructor(){}static Ul(c,f,k,g){let l;switch(g){case "behavior":l=f.Gb(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.ef(c);break;case "plugin":l=f.Gb(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(e.IE(k),a[0]=Math.floor(255*e.Xa),a[1]=Math.floor(255*e.bb),a[2]=Math.floor(255*e.$a));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.IE(l),b[0]=Math.floor(255*e.Xa),b[1]=Math.floor(255*e.bb),b[2]=Math.floor(255*
e.$a));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static nb(c,f,k,g){if(!k)return f=g.Ra,f=g.gf().sp(f),f=f.Ac(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;var l=g.Wi();"default"===l&&(l="continuous");if("discrete"===l)return f=f.Ac(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.zc().uv(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.Ea();l=k.Ea();var n=f.Ac(),q=k.Ac();const r=d.normalize(c,g,l);c=n[0];k=n[1];n=n[2];const p=q[0],w=q[1];q=q[2];f=self.av.tp(f.ln());g=l-g;
l=g*r;a[0]=c===p?c:f(l,c,p-c,g);a[1]=k===w?k:f(l,k,w-k,g);a[2]=n===q?n:f(l,n,q-n,g);return a}}}}"use strict";self.j.fb.lR=class{constructor(){}static Ul(d,a,b,e){let c;switch(e){case "behavior":c=a.Gb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.ef(d);break;case "plugin":c=a.Gb(d)}return c===b?!1:!0}static nb(d,a,b,e){return b?a.Ac():(d=e.Ra,d=e.gf().sp(d),d.Ac())}};
{"use strict";const d=self.j;d.nh=class{constructor(){this.By=new Map}g(){for(const a of this.By.values())a.g();this.By.clear();this.By=null}Rc(a){a=new d.p7(a);this.By.set(a.Ba(),a)}ea(a){return this.By.get(a)}static kw(a,b,e,c){if(b)for(const f of b)d.nh.NR("create",f,a,e,c)}static vw(a,b,e,c){a.length?b.forEach((f,k)=>{a[k].ua(f)}):b.forEach(f=>{d.nh.NR("load",f,a,e,c)})}static NR(a,b,e,c,f){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}else if("object"===
typeof c)switch(c=c.map.get(b[c.tX]),a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}switch(a){case "load":k.ua(b);e.push(k);break;case "create":"function"!==typeof k.Cl||k.Cl()?e.push(k):k.g()}}}}
{"use strict";const d=self.j;d.p7=class{constructor(a){this.Fa="";this.eE=NaN;this.aE=0;this.Gg=this.Ag="default";this.DD=this.tD=!1;this.au=1;this.yf=null;a&&(this.Fa=a[0],this.eE=a[1],this.aE=a[2],this.Ag=a[3],this.Gg=a[4],this.tD=!!a[6],this.DD=!!a[7],this.au=a[8],this.yf=new d.mR(a[5],this))}g(){this.yf.g();this.yf=null}mA(){this.yf||(this.yf=new d.mR(null,this));return this.yf}Ba(){return this.Fa}VA(a){this.Fa=a}Zd(){return this.eE}uv(){return this.aE}Wi(){return this.Ag}aj(){return this.Gg}Yr(){return this.tD}$r(){return this.DD}nn(){return this.au}la(){return{trackDataJson:this.yf.la(),
name:this.Fa,totalTime:this.eE,step:this.aE,interpolationMode:this.Ag,resultMode:this.Gg,loop:this.tD,pingPong:this.DD,repeatCount:this.au}}ua(a){a&&(this.mA().ua(a.trackDataJson),this.Fa=a.name,this.eE=a.totalTime,this.aE=a.step,this.Ag=a.interpolationMode,this.Gg=a.resultMode,this.tD=a.loop,this.DD=a.pingPong,this.au=a.repeatCount)}}}
{"use strict";const d=self.j;class a{constructor(b,e){this.yf=e;this.Wn=this.MC=null;this.zm=this.nm=NaN;this.Gg=this.Ag="default";this.vh=!1;this.Id=this.Uj=null;this.uf="";this.Rt=null;this.HL=0;this.rD=this.yf.xf.Zd();this.za=0;this.Fa="";b&&(b[0]&&(this.MC=b[0],this.nm=b[0][2],this.zm=b[0][1]),this.Ag=b[1],this.Gg=b[2],this.vh=!!b[3],b[6]&&(this.uf=b[6]),b[7]&&(this.Rt=b[7],this.HL=b[7][0],this.rD=b[7][1]),b[8]&&(this.Wn=b[8]),b[8]&&(this.Wn=b[8]),b[9]&&(this.za=b[9]),b[10]&&(this.Fa=b[10]),this.Uj=
new d.rP(b[4],this),this.Id=new d.ZP(b[5],this))}g(){this.yf=this.MC=null;this.Uj&&(this.Uj.g(),this.Uj=null);this.Id&&(this.Id.g(),this.Id=null);this.Rt=null}mA(){return this.yf}Yi(){this.Uj||(this.Uj=new d.rP(null,this));return this.Uj}gf(){this.Id||(this.Id=new d.ZP(null,this));return this.Id}SF(){return this.zm}rv(){return this.nm}Wi(){return this.Ag}aj(){return this.Gg}Cl(){return this.vh}Rl(b){this.vh=!!b}mk(){return this.uf}og(){return this.HL}El(){return this.rD}qk(){return this.Wn[0]}pk(){this.Wn||
(this.Wn=[]);return this.Wn[1]}vk(){return this.za}Ba(){return this.Fa}la(){return{keyframeDataJson:this.Uj.la(),propertyTrackDataJson:this.Id.la(),instanceData:this.MC,additionalInstanceData:this.Wn,instanceUid:this.nm,objectClassIndex:this.zm,interpolationMode:this.Ag,resultMode:this.Gg,enabled:this.vh,id:this.uf,nestedData:this.Rt,type:this.za,name:this.Fa}}ua(b){b&&(this.MC=b.instanceData,this.nm=b.instanceUid,this.zm=b.objectClassIndex,this.Ag=b.interpolationMode,this.Gg=b.resultMode,this.vh=
b.enabled,this.uf=b.id,this.za=b.type?b.type:0,this.za=b.name?b.name:"",this.rD=this.yf.xf.Zd(),b.nestedData&&(this.Rt=b.nestedData,this.HL=this.Rt[0],this.rD=this.Rt[1]),b.additionalInstanceData&&(this.Wn=b.additionalInstanceData),this.Yi().ua(b.keyframeDataJson),this.gf().ua(b.propertyTrackDataJson))}}d.mR=class{constructor(b,e){this.xf=e;this.rr=[];this.Gx=new Map;d.nh.kw(this.rr,b,a,this)}g(){this.xf=null;for(const b of this.rr)b.g();d.C(this.rr);this.rr=null;this.Gx.clear();this.Gx=null}Q0(b,
e){const c=this.Gx.get(e);if(c&&c.has(b))return c.get(b);for(const f of e.Yi().fX())if(f.Ea()===b)return c||this.Gx.set(e,new Map),this.Gx.get(e).set(b,f),f}B0(b,e){for(const c of e.Yi().fX())if(c.Ea()>=b)return c}C0(b,e){for(const c of e.Yi().Oga())if(c.Ea()<=b)return c}*yha(){for(const b of this.rr)yield b}la(){return{trackDataItemsJson:this.rr.map(b=>b.la())}}ua(b){b&&d.nh.vw(this.rr,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,e){this.Id=e;this.TD="";this.za=this.Pd=this.Eh=null;this.SK=this.WK=NaN;this.Gg=this.Ag="default";this.vh=!1;this.el=null;b&&(this.TD=b[0][0],this.Eh=b[0].slice(1),this.Pd=b[1],this.za=b[2],this.WK=b[3],this.SK=b[4],this.Ag=b[5],this.Gg=b[6],this.vh=!!b[7],this.el=new d.YP(b[8],this))}g(){this.el.g();this.Eh=this.Id=this.el=null}gf(){return this.Id}$i(){this.el||(this.el=new d.YP(null,this));return this.el}Yd(){return this.TD}vk(){return this.za}dR(b){this.za=
b}Wi(){return this.Ag}aj(){return this.Gg}Cl(){return this.vh}Rl(b){this.vh=!!b}la(){return{propertyKeyframeDataJson:this.el.la(),sourceAdapterId:this.TD,sourceAdapterArguments:this.Eh,property:this.Pd,type:this.za,min:this.WK,max:this.SK,interpolationMode:this.Ag,resultMode:this.Gg,enabled:this.vh}}ua(b){b&&(this.TD=b.sourceAdapterId,this.Eh=b.sourceAdapterArguments,this.Pd=b.property,this.za=b.type,this.WK=b.min,this.SK=b.max,this.Ag=b.interpolationMode,this.Gg=b.resultMode,this.vh=b.enabled,this.$i().ua(b.propertyKeyframeDataJson))}}
d.ZP=class{constructor(b,e){this.ec=e;this.dr=[];this.Zx=new Map;d.nh.kw(this.dr,b,a,this)}g(){this.ec=null;for(const b of this.dr)b.g();d.C(this.dr);this.dr=null;this.Zx.clear();this.Zx=null}Zz(b){return b.$i().ad[0]}sp(b){return b.$i().ad.Xe(-1)}UF(b,e){const c=this.Zx.get(e);if(c&&c.has(b))return c.get(b);const f=e.$i();for(const k of f.RM())if(k.Ea()===b)return c||this.Zx.set(e,new Map),this.Zx.get(e).set(b,k),k}lO(b,e){e=e.$i();for(const c of e.RM())if(c.Ea()>b)return c}LF(b,e){e=e.$i();for(const c of e.RM())if(c.Ea()>=
b)return c}MF(b,e){e=e.$i();for(const c of e.eha())if(c.Ea()<=b)return c}*gha(){for(const b of this.dr)yield b}la(){return{propertyTrackDataItemsJson:this.dr.map(b=>b.la())}}ua(b){b&&d.nh.vw(this.dr,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,e){this.Uj=e;this.dd=-1;this.Gj="noease";this.Hj=!1;this.Mx=this.Hh=null;b&&(this.dd=b[0],this.Gj=b[1],this.Hj=!!b[2],this.Hh=(b=b[3])?b.split(" "):[],this.Mx=new Set(this.Hh.map(c=>c.toLowerCase())))}g(){this.Uj=null;d.C(this.Hh);this.Hh=null;this.Mx.clear();this.Mx=null}Yi(){return this.Uj}Ea(){return this.dd}Ls(b){this.dd=b}ln(){return this.Gj}Ek(b){this.Gj=b}Cl(){return this.Hj}Rl(b){this.Hj=!!b}Js(b){this.Hh=b?b.split(" "):[];this.Mx=new Set(this.Hh.map(e=>
e.toLowerCase()))}la(){return{time:this.dd,ease:this.Gj,enable:this.Hj,tags:this.Hh}}ua(b){b&&(this.dd=b.time,this.Gj=b.ease,this.Hj=b.enable,this.Hh=b.tags,this.Mx=new Set(this.Hh.map(e=>e.toLowerCase())))}}d.rP=class{constructor(b,e){this.ec=e;this.$c=[];d.nh.kw(this.$c,b,a,this)}g(){this.ec=null;for(const b of this.$c)b.g();d.C(this.$c);this.$c=null}VX(){const b=new a(null,this);this.$c.push(b);return b}CZ(b){for(const e of this.$c){if(!b(e))continue;const c=this.$c.indexOf(e);-1!==c&&(e.g(),this.$c.splice(c,
1))}this.a7()}a7(){this.$c.sort((b,e)=>b.Ea()-e.Ea())}S0(b){return this.$c.indexOf(b)}R0(b){return this.$c[b]}*fX(){for(const b of this.$c)yield b}*Oga(){for(let b=this.$c.length-1;0<=b;b--)yield this.$c[b]}la(){return{keyframeDataItemsJson:this.$c.map(b=>b.la())}}ua(b){b&&d.nh.vw(this.$c,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,e){this.el=e;this.gi=this.Jd=null;this.za="";this.dd=NaN;this.Gj="noease";this.Hj=!1;this.qj=null;b&&(this.Jd=b[0][0],this.gi=b[0][1],this.za=b[0][2],this.dd=b[1],this.Gj=b[2],this.Hj=!!b[3],this.qj=null,b[4]&&(this.qj=new d.iY(b[4],this)))}g(){this.el=null;this.qj&&(this.qj.g(),this.qj=null)}$d(){return this.Jd}hh(b){"color"===this.za&&d.un(b)?(this.Jd[0]=d.WF(b),this.Jd[1]=d.OF(b),this.Jd[2]=d.BF(b)):this.Jd=b}yQ(b){"color"===this.za&&d.un(b)?(this.gi[0]=
d.WF(b),this.gi[1]=d.OF(b),this.gi[2]=d.BF(b)):this.gi=b}Ac(){const b=this.el.Ra.aj();if("relative"===b)return this.$d();if("absolute"===b)return this.gi}vk(){return this.za}dR(b){this.za=b}Ea(){return this.dd}Ls(b){this.dd=b}ln(){return this.Gj}Ek(b){this.Gj=b}Cl(){return this.Hj}Rl(b){this.Hj=!!b}zF(b){if(this.qj)for(const e of this.qj.Nfa())if(e.mk()===b)return e}la(){const b=this.qj;return{addonDataJson:b?b.la():b,value:this.Jd,aValue:this.gi,type:this.za,time:this.dd,ease:this.Gj,enable:this.Hj}}ua(b){b&&
(b.addonDataJson&&this.qj.Kqa(b.addonDataJson),this.Jd=b.value,this.gi=b.aValue,this.za=b.type,this.dd=b.time,this.Gj=b.ease,this.Hj=b.enable)}}d.YP=class{constructor(b,e){this.Ra=e;this.ad=[];d.nh.kw(this.ad,b,a,this)}g(){this.Ra=null;for(const b of this.ad)b.g();d.C(this.ad);this.ad=null}WX(){const b=new a(null,this);this.ad.push(b);return b}EZ(b){for(const e of this.ad){if(!b(e))continue;const c=this.ad.indexOf(e);-1!==c&&(e.g(),this.ad.splice(c,1))}this.b7()}b7(){this.ad.sort((b,e)=>b.Ea()-e.Ea())}*RM(){for(const b of this.ad)yield b}*eha(){for(let b=
this.ad.length-1;0<=b;b--)yield this.ad[b]}la(){return{propertyKeyframeDataItemsJson:this.ad.map(b=>b.la())}}ua(b){b&&d.nh.vw(this.ad,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(c,f){this.qj=f;this.uf=c[0];this.jm=c[1]}g(){this.jm=this.qj=null}mk(){return this.uf}la(){return{id:this.uf,data:this.jm}}ua(c){c&&(this.uf=c.id,this.jm=c.data)}}class b extends a{constructor(c,f){super(c,f);this.GL=this.jm[0];this.uy=!!this.jm[1];this.HJ=this.jm[2];this.oC=!!this.jm[3]}g(){super.g()}la(){return Object.assign(super.la(),{startAnchor:this.GL,startEnable:!!this.uy,endAnchor:this.HJ,endEnable:!!this.oC})}ua(c){c&&(super.ua(c),this.GL=
c.startAnchor,this.uy=!!c.startEnable,this.HJ=c.endAnchor,this.oC=!!c.endEnable)}}class e extends a{constructor(c,f){super(c,f);this.AJ=this.jm[0];this.qL=this.jm[1]}g(){super.g()}la(){return Object.assign(super.la(),{direction:this.AJ,revolutions:this.qL})}ua(c){c&&(super.ua(c),this.AJ=c.direction,this.qL=c.revolutions)}}d.iY=class{constructor(c){this.kq=[];d.nh.kw(this.kq,c,{tX:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}g(){for(const c of this.kq)c.g();d.C(this.kq);this.kq=null}*Nfa(){for(const c of this.kq)yield c}la(){return{addonDataItemsJson:this.kq.map(c=>
c.la())}}ua(c){c&&d.nh.vw(this.kq,c.addonDataItemsJson,{tX:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.j;let a=0;d.w7=class extends d.qe{constructor(b,e){super(`tween-${a++}`,b,e);this.uf="";this.xU=!1;this.gK="start-value";this.TV=this.SV=null}Ca(){var b=this.Sb;if(b&&b.length&&(b=b[0])){var e=b.Ca();return b.Jl()?e:null}}mk(){return this.uf}RP(){if(this.TV)for(const b of this.TV)b(this);if(!this.wg)for(const b of this.Sb)b.Pi()}JP(){this.it=this.b.gl}XN(){if(!this.Cq&&(this.Cq=!0,this.SV))for(const b of this.SV)b(this)}Ls(b){this.RR();super.Ls(b)}Gd(b){if(!this.qo&&"current-state"===
this.gK)for(const e of this.Sb)e.Oi();super.Gd(b)}kh(b=!1){super.kh(b);if(!this.wg)for(const e of this.Sb)e.Pp()}kd(b=!0,e=!1){this.RR();super.kd(b,e)}RR(){for(const b of this.Sb){const e=c=>{c=c.Ea();const f=this.Zd();return 0!==c&&c!==f};b.DZ(e);b.qF(e)}}qB(){if(this.Ai)return!0;const b=this.Ca();if(b&&b.H().ah())return!1;this.Kb.Cz(this);this.qQ();return!0}CP(){}ee(){const b=this.Ca();super.ee(this.G().pp(b),1)}la(){const b=super.la();return Object.assign(b,{tweenDataItemJson:this.xf.la(),id:this.uf,
destroyInstanceOnComplete:this.xU,initialValueMode:this.gK})}ua(b){b&&(this.xf.ua(b.tweenDataItemJson),super.ua(b),this.uf=b.id,this.xU=b.destroyInstanceOnComplete,this.gK=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.j,a=self.av;d.oR=class extends d.ga{constructor(b){super();this.Fa=b[0];this.Gi=[];for(const e of b[1])b=d.pR.Sa(this,e),this.Gi.push(b);this.Yx=new Map;this.fE=new Map;this.Gba();a.UX(this.Fa,(e,c,f,k)=>this.nb(e,c,f,k))}static Sa(b){return d.A(d.oR,b)}g(){for(const b of this.Gi)b.g();d.C(this.Gi);this.Gi=null;this.Yx.clear();this.Yx=null;this.fE.clear();this.fE=null}o1(b){const e=this.fE.get(b);if(e)return e;for(const c of this.Gi)if(c.Af===b)return this.fE.set(b,c),c}F0(b){for(const e of this.Gi)if(e.Af>
b)return e}E0(b){for(const e of this.Gi)if(e.Af>=b)return e}G0(b){for(let e=this.Gi.length-1;0<=e;e--){const c=this.Gi[e];if(c.Af<=b)return c}}nb(b,e,c,f){var k=b/f;(b=this.o1(k))?f=this.F0(k):(b=this.G0(k),f=this.E0(k));k=d.Uga(k,b.Af,f.Af,f.Af-b.Af);const g=b.Af,l=b.Ly,n=b.Af+b.tW,q=b.Ly+b.Dfa,r=f.Af+f.CU,p=f.Ly+f.Jea,w=f.Af;f=f.Ly;f=a.tp("spline")(k,g,l,n,q,r,p,w,f,this.Yx.get(b));f+=b.Ly;return(1-f)*e+f*(e+c)}Gba(){this.Yx.clear();for(let e=0;e<this.Gi.length-1;e++){var b=this.Gi[e];if(!b.uy)continue;
const c=this.Gi[e+1];this.Yx.set(b,a.f0(b.Af,b.Af+b.tW,c.Af+c.CU,c.Af))}}}}{"use strict";const d=self.j;d.pR=class extends d.ga{constructor(a,b){super();this.Af=b[0];this.Ly=b[1];this.tW=b[2];this.Dfa=b[3];this.CU=b[4];this.Jea=b[5];this.uy=b[6];this.oC=b[7]}g(){}static Sa(a,b){return d.A(d.pR,a,b)}}}{"use strict";const d=self.j;d.u7=class extends d.ga{constructor(a){super();this.b=a;this.gE=[]}g(){for(const a of this.gE)a.g();d.C(this.gE);this.gE=null}Sa(a){this.gE.push(d.oR.Sa(a))}}}
{"use strict";const d=self.j;d.Z6=class extends d.ga{constructor(a){super();this.N=a;this.kb=[];this.kb.push(d.A(d.oH,this));this.Ua=0;this.Bj=this.kb[0]}g(){for(const a of this.kb)a.g();d.C(this.kb);this.N=this.Bj=null}H(){return this.N}Z(){return this.Bj}Gc(){this.Z().Gc()}H4(){var a=this.kb,b=++this.Ua;b===a.length?(b=d.A(d.oH,this),a.push(b),this.Bj=b):(a=a[b],a.kd(),this.Bj=a)}I4(){const a=this.kb,b=++this.Ua;b===a.length&&a.push(d.A(d.oH,this));const e=a[b];e.hZ(a[b-1]);this.Bj=e}Ha(){this.Bj=
this.kb[--this.Ua]}Kp(a){const b=this.kb;for(let e=0,c=b.length;e<c;++e)b[e].Kp(a)}}}
{"use strict";const d=self.j;d.oH=class extends d.ga{constructor(a){super();this.kb=a;this.N=this.kb.H();this.fe=this.N.G().gd();this.cc=!0;this.D=[];this.vc=[]}g(){this.yz();this.fe=this.N=this.kb=null}yz(){d.C(this.D);d.C(this.vc)}H(){return this.N}fG(){return this.cc?!!this.N.D.length:!!this.D.length}ka(){return this.cc?this.N.ka():this.D}w1(){return!!this.vc.length}v0(){const a=this.ka();return a.length?a:this.vc}kd(){this.cc=!0;d.C(this.vc)}Gc(){this.cc=!0}hZ(a){a.cc?this.kd():(this.cc=!1,d.xd(this.D,
a.D),d.C(this.vc))}bq(a){this.D.push(a)}Un(a){this.vc.push(a)}Je(a){this.cc=!!a}Fk(a){this.cc=!1;d.C(this.D);this.D.push(a)}Sv(a){this.cc=!1;d.xd(this.D,a)}bw(a){this.cc=!1;d.C(this.D);for(const b of a)this.D.push(b)}iN(a,b){for(const e of b)a.has(e)||this.vc.push(e)}s7(a){for(const b of a)this.D.push(b);d.Mh(this.vc,a)}Bn(a){a&&(this.fe.bf().Eb().he?(this.cc&&(d.C(this.D),d.xd(this.vc,a.H().ka()),this.cc=!1),a=this.vc.indexOf(a),-1!==a&&(this.D.push(this.vc[a]),this.vc.splice(a,1))):this.Fk(a))}Kp(a){d.Mh(this.D,
a);d.Mh(this.vc,a)}}}
{"use strict";const d=self.j;d.P_=class extends d.ga{constructor(a){super();this.ya=a;this.b=this.ya.G();this.kb=[];this.kb.push(d.A(d.TN,this,null));this.Ua=0;this.qC=[]}g(){for(const a of this.kb)a.g();d.C(this.kb);d.C(this.qC);this.b=this.ya=null}ja(){return this.ya}G(){return this.b}bf(){return this.kb[this.Ua]}Na(a){var b=this.kb;const e=++this.Ua;if(e===b.length)return a=d.A(d.TN,this,a),b.push(a),a;b=b[e];b.kd(a);return b}Ha(){--this.Ua}J4(a){this.qC.push(a)}B4(){this.qC.pop()}m0(){const a=this.qC;
return 0===a.length?null:a.Xe(-1)}}}
{"use strict";const d=self.j;d.TN=class extends d.ga{constructor(a,b){super();this.kb=a;this.b=this.kb.G();this.Ww=b;this.ug=this.hm=0;this.GJ=this.Tq=!1;this.LJ=null;this.UJ=this.OU=0}g(){this.kd(null);this.b=this.kb=null}kd(a){this.Ww=a;this.ug=this.hm=0;this.GJ=this.Tq=!1}sI(a,b){this.Ww=a;this.hm=0;this.ug=b}rQ(){this.ug=this.hm=0}Eb(){return this.Ww}gh(a){this.Ww=a}In(a){this.hm=a}NA(a){this.ug=a}Mn(a){this.Tq=!!a}Es(a){this.GJ=!!a}O5(a){this.LJ=a}g2(a,b){this.OU=a;this.UJ=b}SA(a){this.UJ=a}zk(){const a=
this.Ww;return a.bD?!0:this.hm<a.jc.length-1?!!a.Dd().length:!1}}}{"use strict";const d=self.j;d.x3=class extends d.ga{constructor(a){super();this.ya=a;this.b=this.ya.G();this.kb=[];this.Ua=-1;this.Bj=null;this.KC=[]}g(){d.C(this.kb);this.b=this.ya=null}jda(a){this.KC=a;a=this.KC.slice(0);this.kb.push(a);this.Ua=0;this.Bj=a}ja(){return this.ya}G(){return this.b}Ur(){return this.Bj}Na(){const a=++this.Ua,b=this.kb;a===b.length?b.push(this.KC.slice(0)):d.xd(b[a],this.KC);this.Bj=b[a]}Ha(){this.Bj=this.kb[--this.Ua]}}}
{"use strict";const d=self.j;d.z3=class extends d.ga{constructor(a){super();this.ya=a;this.b=this.ya.G();this.kb=[];this.Ua=-1}g(){d.C(this.kb);this.b=this.ya=null}ja(){return this.ya}G(){return this.b}kP(){return 0<=this.Ua}Ur(){return this.kb[this.Ua]}Na(){++this.Ua;if(this.Ua===this.kb.length){var a=d.A(d.y3,this);this.kb.push(a);return a}a=this.kb[this.Ua];a.kd();return a}Ha(){--this.Ua}V_(a){const b=this.kb;for(let e=this.Ua;0<=e;--e){const c=b[e];if(c.Ba()===a)return c}return null}}}
{"use strict";const d=self.j;d.y3=class extends d.ga{constructor(a){super();this.$f=a;this.Fa="";this.Ua=0;this.Dc=!1}kd(){this.Fa="";this.Ua=0;this.Dc=!1}VA(a){this.Fa=a}Ba(){return this.Fa}Uc(a){this.Ua=a}Ga(){return this.Ua}kh(){this.Dc=!0}}}{"use strict";const d=self.j;d.rY=class extends d.ga{constructor(){super();this.kb=[];this.Ua=-1}g(){d.C(this.kb)}Ur(){return this.kb[this.Ua]}Na(){++this.Ua;if(this.Ua===this.kb.length){const a=[];this.kb.push(a);return a}return this.kb[this.Ua]}Ha(){--this.Ua}}}
{"use strict";const d=self.j;function a(b,e){return b.Ga()-e.Ga()}d.O_=class extends d.ga{constructor(b){super();this.b=b;this.Kw=[];this.xL=new Map;this.YI=[];this.SU=new Map;this.mJ=new Map;this.tJ=new Map;this.IB=new Map;this.jU=new Map;this.JJ=new Map;this.rfa=0;this.XI=[];this.mea=[];this.GV=[];this.SJ=new Map;this.fe=d.A(d.P_,this);this.Hd=d.A(d.x3,this);this.$f=d.A(d.z3,this);this.QL=[];this.LD=[];this.KD=[];this.lJ=this.lm=this.Hm=0;this.Hg=[];this.RB=[];self.c3_callFunction=(e,c)=>this.pB(e,
c)}g(){this.xz();this.fe.g();this.fe=null;this.Hd.g();this.Hd=null;d.C(this.LD);d.C(this.KD);this.b=null;d.C(this.Kw);this.xL.clear()}Sa(b){b=d.A(d.N_,this,b);this.Kw.push(b);this.xL.set(b.Ba().toLowerCase(),b)}q8(b){this.QL.push(b)}Qb(){for(const b of this.SJ.values())b.Qb(!1);for(const b of this.Kw)b.Qb();for(const b of this.Kw)b.II();for(const b of this.QL)b.Qb(!1);d.C(this.QL);this.Hd.jda(this.GV)}G(){return this.b}jO(b){return this.xL.get(b.toLowerCase())||null}Sba(b){this.YI.push(b);this.SU.set(b.RU,
b)}Pba(b){this.mJ.set(b.ib,b)}Oba(b){this.tJ.set(b.ib,b)}Nba(b){this.IB.set(b.ib,b)}Rba(b){this.SJ.set(b.BC.toLowerCase(),b)}Qba(b){this.JJ.set(b.ib,b);b.ah()?this.XI.push(b):this.mea.push(b)}fB(b){2<=b.length&&b.sort(a);let e=this.jU.get(b.length);e||(e=[],this.jU.set(b.length,e));for(let f=0,k=e.length;f<k;++f){const g=e[f];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(b);return b}K$(b){this.GV.push(b.Lq);return this.rfa++}gd(){return this.fe}If(){return this.gd().bf()}Eb(){return this.If().Eb()}kg(){const b=
this.If();return b.Eb().fO(b.hm)}ov(){const b=this.If();return b.Eb().ZN(b.ug)}c0(b){const e=[];for(b=b.ds();b;)d.Wo(e,b.eS()),b=b.ds();return e}oS(b){const e={};for(const c of this.c0(b))e[c.Xi()]=c.qS();return Object.create(Object.prototype,e)}JF(b){return this.JJ.get(b)||null}r0(b){return this.mJ.get(b)||null}a0(b){return this.IB.get(b)||null}aA(b){return this.SJ.get(b.toLowerCase())||null}e5(){for(const b of this.XI)b.j5()}iO(b){return this.SU.get(b.toLowerCase())||null}s0(b){return(b=this.mJ.get(b))&&
b.Rj?b:null}f5(){for(const b of this.YI)b.g5()}lT(){for(const b of this.Kw)b.gca()}q5(b){this.lT();this.Hm++;for(const e of b.jz())if(b=e.td)this.b.Ov(e),b.qa(),this.b.Mv();this.Hm--}async xZ(b){this.lT();this.Hm++;for(const e of this.v9(b))await this.b.Qr(e);this.Hm--}*v9(b){for(const e of b.jz())if(b=e.td)this.b.Ov(e),yield*b.mb(),this.b.Mv()}Iw(b,e,c,f){let k=!1;if(!b.Ub())return this.MG(e,c,f);this.lm++;for(const g of b.jz())if(b=g.td){this.b.Ov(g);for(const l of b.fC){const n=l.Iw(e,c,f);k=k||
n}b=b.Iw(e,c,f);k=k||b;this.b.Mv()}this.lm--;return k}*mw(b,e,c,f){let k=!1;if(!b.Ub())return this.MG(e,c,f);this.lm++;for(const g of b.jz())if(b=g.td){this.b.Ov(g);for(const l of b.fC){const n=yield*l.mw(e,c,f);k=k||n}b=yield*b.mw(e,c,f);k=k||b;this.b.Mv()}this.lm--;return k}MG(b,e,c){this.LD.push([b,e,c]);return!1}N4(b,e,c){let f=null;const k=new Promise(g=>f=g);this.KD.push([b,e,c,f]);return k}*qca(){if(this.b.Bv())throw Error("should not be in breakpoint");const b=this.b.gb;for(;this.KD.length;){const [e,
c,f,k]=this.KD.shift(),g=yield*this.mw(b,e,c,f);k(g)}}async uQ(){for(const b of this.qca())await this.b.Qr(b)}vG(){return 0<this.lm}rw(){return++this.lm}ow(){--this.lm}e3(){return 0<this.Hm}xA(){return this.e3()||this.vG()}rca(b){for(const [e,c,f]of this.LD)this.Iw(b,e,c,f);d.C(this.LD)}Ze(b){b?this.lJ++:this.lJ--}jP(){return 0<this.lJ}Or(b){for(let e=0,c=b.length;e<c;++e)b[e].Eo.Gc()}eh(b){for(let e=0,c=b.length;e<c;++e)b[e].Eo.H4()}ae(b){for(let e=0,c=b.length;e<c;++e)b[e].Eo.I4()}Bb(b){for(let e=
0,c=b.length;e<c;++e)b[e].Eo.Ha()}ZE(){const b=d.A(d.XG,this);this.Hg.push(b);return b}s5(){if(this.Hg.length){var b=this.If(),e=!1;this.Hm++;for(let c=0,f=this.Hg.length;c<f;++c){const k=this.Hg[c];k.TT()&&k.ica(b);k.jy&&(e=!0)}e&&this.bS();this.Hm--}}async zZ(){if(this.Hg.length){var b=this.If(),e=!1;this.Hm++;for(let c=0,f=this.Hg.length;c<f;++c){const k=this.Hg[c];k.TT()&&await k.p9(b);k.jy&&(e=!0)}e&&this.bS();this.Hm--}}bS(){const b=d.Vfa(this.Hg,e=>e.jy);for(const e of b)e.g()}xz(){for(const b of this.Hg)b.g();
d.C(this.Hg)}U4(b){for(const e of this.Hg)e.Kp(b)}XE(b){this.RB.push(b)}zz(){d.C(this.RB)}g1(){const b=Promise.all(this.RB);this.RB=[];return b}la(){return{groups:this.yca(),cnds:this.xca(),acts:this.wca(),vars:this.Jca(),waits:this.Fca()}}ua(b){this.Aaa(b.groups);this.uaa(b.cnds);this.taa(b.acts);this.Maa(b.vars);this.Iaa(b.waits)}yca(){const b={};for(const e of this.YI)b[e.ib.toString()]=e.ks();return b}Aaa(b){for(const [e,c]of Object.entries(b))(b=this.s0(parseInt(e,10)))&&b.Fs(c)}xca(){const b=
{};for(const [e,c]of this.tJ){const f=c.la();f&&(b[e.toString()]=f)}return b}uaa(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.tJ)f.ua(e.get(c)||null)}wca(){const b={};for(const [e,c]of this.IB){const f=c.la();f&&(b[e.toString()]=f)}return b}taa(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.IB)f.ua(e.get(c)||null)}Jca(){const b={};for(const [e,c]of this.JJ)c.wb||!c.ah()&&!c.si||(b[e.toString()]=
c.$d());return b}Maa(b){for(const [e,c]of Object.entries(b))(b=this.JF(parseInt(e,10)))&&b.hh(c)}Fca(){return this.Hg.filter(b=>!b.b3()).map(b=>b.la())}Iaa(b){this.xz();for(const e of b)(b=d.XG.U8(this,e))&&this.Hg.push(b)}xF(b){for(;b;)if(b=b.ds(),b instanceof d.hv)return b;return null}pB(b,e){Array.isArray(e)||(e=[]);b=this.aA(b.toLowerCase());if(!b)return null;if(!b.jd())return b.FF();var c=b.wh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].Lq);while(e.length<c.length)}c=b.Jf();return c.sQ(c.Ld(),
b.Co,b.FF(),...e)}}}
{"use strict";const d=self.j;d.N_=class extends d.ga{constructor(a,b){super();this.ya=a;this.b=a.G();this.Fa=b[0];this.pC=[];this.jE=new Map;this.IU=new Map;this.Kea=new Map;this.mx=!1;this.mW=[];this.fC=[];this.kU=new Set;for(const e of b[1])this.OR(e,null,this.pC);this.Zj=this.b.Ib?{type:"sheet",name:this.Fa,kz:0,children:[]}:null}g(){this.b=this.ya=null}OR(a,b,e){switch(a[0]){case 0:case 3:this.S8(a,b,e);break;case 1:this.T8(a,b,e);break;case 2:this.X8(a,b,e);break;case 4:this.V8(a,b);break;case 5:this.c9(a,
b,e);break;default:throw Error("invalid event type");}}S8(a,b,e){a=d.jn.Sa(this,b,a);if(a.he){e.push(a);e=a.jc;for(let c=0,f=e.length;c<f;++c)e[c].Fp()&&this.BS(a,c)}else a.Fp()?this.BS(a,0):e.push(a)}V8(a,b){a=d.hv.Sa(this,b,a);this.ya.Rba(a)}T8(a,b,e){a=d.Kz.Sa(this,b,a);e.push(a)}X8(a,b,e){a=d.SN.Sa(this,b,a);e.push(a)}c9(a,b,e){a=d.Jz.Sa(this,b,a);e.push(a)}BS(a,b){a.he||this.ya.q8(a);var e=a.fO(b),c=e.Oa,f=e.H();if(e.lV){var k=this.IU.get(f);k||(k=new Map,this.IU.set(f,k));e=e.x0().toLowerCase();
f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([a,b])}else k=this.jE.get(f),k||(k={DM:new Map,Py:new Map},this.jE.set(f,k)),(f=e.Sh())?(e=k.Py.get(f),e||(e=new Map,k.Py.set(f,e))):e=k.DM,k=e.get(c),k||(k=[],e.set(c,k)),k.push([a,b])}Qb(){const a=this.pC;for(let b=0,e=a.length;b<e;++b)a[b].Qb(b<e-1&&a[b+1]instanceof d.jn&&a[b+1].wA())}o8(a){this.mW.push(a)}II(){d.C(this.fC);this.zR(this);this.kU.clear()}zR(a){const b=a.fC,e=a.kU;for(const c of this.mW){const f=c.tx;c.Mb&&
a!==f&&!e.has(f)&&(e.add(f),f.zR(a),b.push(f))}}ja(){return this.ya}G(){return this.b}Ba(){return this.Fa}dT(a,b){this.Kea.set(b,a)}gca(){this.mx=!1}qa(){if(!this.mx){var a=this.b,b=a.oG(),e=b?performance.now():0;this.mx=!0;var c=this.ja(),f=c.If();for(const k of this.pC)k.qa(f),c.Or(k.Dd()),c.zz(),a.ne();f.kd(null);b&&(this.Zj.kz+=performance.now()-e)}}*mb(){if(!this.mx){this.mx=!0;var a=this.b,b=this.ja(),e=b.If();for(const c of this.pC)yield*c.mb(e),b.Or(c.Dd()),b.zz(),a.ne();e.kd(null)}}Iw(a,
b,e){if(b){const c=b.H();this.GI(a,b,c,e);for(const f of c.pi)this.GI(a,b,f,e)}else return this.GI(a,b,null,null)}GI(a,b,e,c){e=this.jE.get(e);if(!e)return!1;c=c?e.Py.get(c):e.DM;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [f,k]of c)c=this.aS(b,f,k),a=a||c;return a}*mw(a,b,e){if(b){const c=b.H();yield*this.OH(a,b,c,e);for(const f of c.pi)yield*this.OH(a,b,f,e)}else return yield*this.OH(a,b,null,null)}*OH(a,b,e,c){e=this.jE.get(e);if(!e)return!1;c=c?e.Py.get(c):e.DM;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [f,k]of c)c=f.$e()?this.aS(b,f,k):yield*this.j9(b,f,k),a=a||c;return a}aS(a,b,e){const c=this.b,f=this.ya,k=f.Eb(),g=f.gd(),l=f.lm;let n=!1;k&&f.eh(k.Ld());f.eh(b.Ld());const q=1<l;q&&f.Hd.Na();const r=g.Na(b);a&&(b.jc[e].H().Z().Fk(a),a.Ic()&&a.ij());a=!0;if(b.Da()){const p=b.tr;for(let w=0,t=p.length;w<t;++w)if(!p[w].tQ(r)){a=!1;break}}a&&(c.Il(),b.he?b.r5(r,e):b.qa(r),n=r.Tq);g.Ha();q&&f.Hd.Ha();f.Bb(b.Ld());k&&f.Bb(k.Ld());k||1!==l||(f.zz(),f.jP()||c.ne());return n}*j9(a,
b,e){const c=this.b,f=this.ya,k=f.Eb(),g=f.gd(),l=f.lm;let n=!1;k&&f.eh(k.Ld());f.eh(b.Ld());const q=1<l;q&&f.Hd.Na();const r=g.Na(b);a&&(b.jc[e].H().Z().Fk(a),a.Ic()&&a.ij());a=!0;if(b.Da()){const p=b.tr;for(let w=0,t=p.length;w<t;++w)if(!(yield*p[w].KN(r))){a=!1;break}}a&&(c.Il(),b.he?yield*b.yZ(r,e):yield*b.mb(r),n=r.Tq);g.Ha();q&&f.Hd.Ha();f.Bb(b.Ld());k&&f.Bb(k.Ld());k||1!==l||(f.zz(),f.jP()||c.ne());return n}}}
{"use strict";const d=self.j,a=[];function b(){return!0}function*e(){return!0}d.jn=class extends d.ga{constructor(c,f,k){super();this.td=c;this.b=c.G();this.Mc=f;this.xe=null;this.fe=this.b.ja().gd();this.vf=[];this.cu=[];this.ix=this.dD=this.bD=this.XU=!1;this.he=!!k[2];this.RC=!1;this.tr=null;this.jc=[];this.ph=[];this.Fi=[];this.oj=b;this.Yp=e;this.tK=this.Rj=!1;this.RU="";this.TC=!1;this.Zj=this.bC=null;this.ib=k[4];this.tt=k[5];this.td.dT(this,this.tt);this.Pa=this.b.Ib?{vd:k[3][0],yM:k[3][1],
OW:!1,jM:!1,kM:!1,PW:!1}:null;this.ja().Pba(this);3===k[0]&&this.baa(k[1]);c=0;for(var g of k[6])f=d.CN.Sa(this,g,c++),this.jc.push(f),this.ER(f.H());c=0;for(const l of k[7])g=d.pz.Sa(this,l,c++),this.ph.push(g);if(9===k.length){k=k[8];for(const l of k)this.td.OR(l,this,this.Fi)}this.jc.length&&(this.RC=null===this.jc[0].H()&&this.jc[0].Oa===d.B.Za.F.RN);0===this.jc.length&&(this.jc=a);0===this.ph.length&&(this.ph=a);0===this.Fi.length&&(this.Fi=a)}static Sa(c,f,k){return d.A(d.jn,c,f,k)}baa(c){this.Rj=
!0;this.TC=this.tK=!!c[0];this.RU=c[1].toLowerCase();this.bC=[];this.ja().Sba(this);this.b.Ib&&(this.Zj={type:"group",name:c[1],kz:0,children:[]})}g8(c){this.bC.push(c)}yR(c,f){for(const k of c.Aj.Bm)f.includes(k)||f.push(k)}FR(c,f){if(c)if(f.includes(c)||f.push(c),c.Wa)for(const k of c.no)k.Ic()&&this.yR(k,f);else c.Ic()&&this.yR(c,f)}ER(c){this.FR(c,this.vf)}k8(c){this.FR(c,this.cu)}z5(){this.vf=this.b.md}Qb(c){this.ix=!!c;this.W$();this.X$();for(const k of this.jc)k.Qb();if(0<this.ph.length){c=
!1;for(var f of this.ph)f.Qb(),f.E1()&&(c=!0);c?(this.oj=this.kca,this.Yp=this.r9):(this.oj=this.jca,this.Yp=this.q9)}f=this.Fi;for(let k=0,g=f.length;k<g;++k)f[k].Qb(k<g-1&&f[k+1]instanceof d.jn&&f[k+1].wA());this.Pa&&this.Vda();this.Zj&&this.L$().Zj.children.push(this.Zj)}L$(){let c=this.Da();for(;c;){if(c.Rj)return c;c=c.Da()}return this.td}Vda(){const c=this.Pa;c.OW=this.jc.every(f=>f.$e());c.jM=this.ph.every(f=>f.$e());c.kM=this.Fi.every(f=>f.$e());c.PW=c.OW&&c.jM&&c.kM}W$(){if(this.Rj){var c=
this.Da();for(this.dD=!0;c;){if(!c.Rj){this.dD=!1;break}c=c.Da()}}}V$(){var c=this.b.md;if(this.vf===c)this.cu=c;else{this.cu=d.wE(this.vf);for(c=this.Da();c;){for(var f of c.vf)this.k8(f);c=c.Da()}f=this.ja();this.vf=f.fB(this.vf);this.cu=f.fB(this.cu)}}X$(){if(this.x1()){this.tr=[];for(var c=this.Da();c;)this.tr.push(c),c=c.Da();this.tr.reverse()}}ew(){this.bD=!0;this.Mc&&this.Mc.ew()}Dd(){return this.vf}Ld(){this.XU||(this.XU=!0,this.V$());return this.cu}G1(c){return this.vf.includes(c)}ja(){return this.td.ja()}G(){return this.b}Da(){return this.Mc}pda(c){this.xe=
c}ds(){return this.xe||this.Mc}pG(){return this.Pa&&this.Pa.yM}Cp(){return this.pG()&&this.Pa.vd}wA(){return this.RC}ks(){return this.TC}g5(){this.Fs(this.tK)}Fs(c){c=!!c;if(!this.Rj)throw Error("not a group");if(this.TC!==c){this.TC=c;for(const f of this.bC)f.qR();this.bC.length&&(c=this.b.Ma().td)&&c.II()}}Fp(){return this.jc.length&&this.jc[0].Fp()}V2(){return this.xe&&this.xe instanceof d.hv}x1(){return this.V2()||this.jc.some(c=>c.Fp())}fO(c){c=Math.floor(c);if(0>c||c>=this.jc.length)throw new RangeError("invalid condition index");
return this.jc[c]}U2(c){let f=c.Ga();if(0===f)return!0;for(--f;0<=f;--f)if(this.jc[f].H()===c.H())return!1;return!0}ZN(c){c=Math.floor(c);if(0>c||c>=this.ph.length)throw new RangeError("invalid action index");return this.ph[c]}U$(c){c=Math.floor(c);return 0<=c&&c<this.ph.length}eS(){return this.Fi.filter(c=>c instanceof d.Kz)}tQ(c){c.gh(this);let f=!1;const k=this.jc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.In(g);if(n.VC)throw Error("trigger cannot be used as sub-event to a loop");if(n.qa())f=
!0;else if(!this.he)return!1}return this.he?f:!0}r5(c,f){c.gh(this);this.jc[f].qa()&&(this.oj(c,0)&&this.Zl(),c.Mn(!0))}*KN(c){c.gh(this);let f=!1;const k=this.jc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.In(g);if(n.VC)throw Error("trigger cannot be used as sub-event to a loop");if(n.$e()?n.qa():yield*n.mb())f=!0;else if(!this.he)return!1}return this.he?f:!0}*yZ(c,f){c.gh(this);f=this.jc[f];if(f.$e()?f.qa():yield*f.mb())(this.Fz()?this.oj(c,0):yield*this.Yp(c,0))&&(this.Gz()?this.Zl():yield*this.lw()),
c.Mn(!0)}qa(c){c.gh(this);this.RC||c.Es(!1);this.he?this.pca(c):this.vB(c)}*mb(c){if(this.Cp()||this.b.yc())yield this;c.gh(this);this.RC||c.Es(!1);this.he?yield*this.C9(c):yield*this.LH(c)}pca(c){const f=this.jc;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var g=f[l];g.Fp()||(c.In(l),g=g.qa(),k=k||g)}c.Mn(k);k&&(this.oj(c,0)&&this.Zl(),this.ix&&c.Es(!0))}*C9(c){const f=this.jc;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var g=f[l];g.Fp()||(c.In(l),g=g.$e()?g.qa():yield*g.mb(),k=k||g)}c.Mn(k);
k&&((this.Fz()?this.oj(c,0):yield*this.Yp(c,0))&&(this.Gz()?this.Zl():yield*this.lw()),this.ix&&c.Es(!0))}vB(c){const f=this.jc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.In(k);if(!l.qa()){c.Mn(!1);return}}c.Mn(!0);this.oj(c,0)&&this.Zl();c.Tq&&this.ix&&c.Es(!0)}*LH(c){const f=this.jc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.In(k);if(l.$e()?!l.qa():!(yield*l.mb())){c.Mn(!1);return}}c.Mn(!0);(this.Fz()?this.oj(c,0):yield*this.Yp(c,0))&&(this.Gz()?this.Zl():yield*this.lw());c.Tq&&this.ix&&
c.Es(!0)}jca(c,f){const k=this.ph;for(let g=f,l=k.length;g<l;++g)f=k[g],c.NA(g),f.qa();return!0}*q9(c,f){const k=this.ph;for(let g=f,l=k.length;g<l;++g)f=k[g],c.NA(g),f.$e()?f.qa():yield*f.mb();return!0}kca(c,f){const k=this.ja(),g=this.ph;for(let l=f,n=g.length;l<n;++l){f=g[l];c.NA(l);const q=f.qa();if(f.uN()&&!0===q)return!1;f.Zg()&&q instanceof Promise&&k.XE(q)}return!0}*r9(c,f){const k=this.ja(),g=this.ph;for(let l=f,n=g.length;l<n;++l){f=g[l];c.NA(l);let q;q=f.$e()?f.qa():yield*f.mb();if(f.uN()&&
!0===q)return!1;f.Zg()&&q instanceof Promise&&k.XE(q)}return!0}hca(c){this.oj(c,c.ug)&&this.Zl()}*o9(c){if(yield*this.Yp(c,c.ug))yield*this.lw()}Zl(){if(this.Fi.length){var c=this.Rj&&this.b.oG(),f=c?performance.now():0,k=this.fe,g=k.Na(this);this.bD?this.uca(g):this.tca(g);k.Ha();c&&(this.Zj.kz+=performance.now()-f)}}uca(c){const f=this.Rj,k=this.dD,g=this.ja(),l=this.Fi;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],w=p.Dd(),t=!k||!f&&n<r;t&&g.ae(w);p.qa(c);t?g.Bb(w):g.Or(w)}}tca(c){const f=
this.Fi;for(let k=0,g=f.length;k<g;++k)f[k].qa(c)}*lw(){if(this.Fi.length){var c=this.fe,f=c.Na(this);this.bD?yield*this.F9(f):yield*this.E9(f);c.Ha()}}*F9(c){const f=this.Rj,k=this.dD,g=this.ja(),l=this.Fi;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],w=p.Dd(),t=!k||!f&&n<r;t&&g.ae(w);yield*p.mb(c);t?g.Bb(w):g.Or(w)}}*E9(c){const f=this.Fi;for(let k=0,g=f.length;k<g;++k)yield*f[k].mb(c)}jf(c,f){this.b.Il();f.rQ();const k=this.jc;if(!this.he)for(let g=c.hm+1,l=k.length;g<l;++g)if(c=k[g],f.In(g),
!c.qa())return!1;this.oj(f,0)&&this.Zl();return!0}*Rg(c,f){this.b.Il();f.rQ();const k=this.jc;if(!this.he)for(let g=c.hm+1,l=k.length;g<l;++g)if(c=k[g],f.In(g),c.$e()?!c.qa():!(yield*c.mb()))return!1;(this.Fz()?this.oj(f,0):yield*this.Yp(f,0))&&(this.Gz()?this.Zl():yield*this.lw());return!0}$e(){return!this.Cp()&&!this.b.yc()&&this.Pa.PW}Fz(){return!this.b.yc()&&this.Pa.jM}Gz(){return!this.b.yc()&&this.Pa.kM}EH(c){if(this.Da()){const f=this.tr;for(let k=0,g=f.length;k<g;++k)if(!f[k].tQ(c))return!1}return!0}*PR(c){if(this.Da()){const f=
this.tr;for(let k=0,g=f.length;k<g;++k)if(!(yield*f[k].KN(c)))return!1}return!0}$R(c,f,k){0<f.length?k?(f=f.map(g=>g.ea(0)),c.Hd.Na(),this.xe.Xv(f)):this.xe.M_(f):k&&c.Hd.Na()}o5(c,f){let k,g;const l=0<c.length;var n=this.b;const q=this.fe,r=n.ja(),p=1<r.rw();this.$R(r,f,p);l&&r.eh(c);f=q.Na(this);this.EH(f)&&(n.Il(),f.gh(this),(n=this.xe.Zg())&&([g,k]=this.xe.rH()),this.vB(f),n&&this.xe.Hv(g));q.Ha();p&&r.Hd.Ha();l&&r.Bb(c);r.ow();return k}*vZ(c,f){let k,g;if(this.Cp()||this.b.yc())yield this;const l=
0<c.length;var n=this.b;const q=this.fe,r=n.ja(),p=1<r.rw();this.$R(r,f,p);l&&r.eh(c);f=q.Na(this);if(yield*this.PR(f))n.Il(),f.gh(this),(n=this.xe.Zg())&&([g,k]=this.xe.rH()),yield*this.LH(f),n&&this.xe.Hv(g);q.Ha();p&&r.Hd.Ha();l&&r.Bb(c);r.ow();return k}p5(c){const f=this.Ld(),k=0<f.length,g=this.b,l=this.fe,n=g.ja(),q=1<n.rw();q&&n.Hd.Na();this.xe.Xv(c);k&&n.eh(f);c=l.Na(this);this.EH(c)&&(g.Il(),c.gh(this),this.vB(c));l.Ha();q&&n.Hd.Ha();k&&n.Bb(f);n.ow()}*wZ(c){if(this.Cp()||this.b.yc())yield this;
const f=this.Ld(),k=0<f.length,g=this.b,l=this.fe,n=g.ja(),q=1<n.rw();q&&n.Hd.Na();this.xe.Xv(c);k&&n.eh(f);c=l.Na(this);if(yield*this.PR(c))g.Il(),c.gh(this),yield*this.LH(c);l.Ha();q&&n.Hd.Ha();k&&n.Bb(f);n.ow()}sQ(c,f,k,...g){let l,n;const q=0<c.length,r=this.b,p=this.fe,w=r.ja(),t=1<w.rw();t&&w.Hd.Na();0<g.length&&this.xe.Xv(g);q&&w.eh(c);g=p.Na(this);g.g2(f,k);p.J4(g);r.Cs(!1);this.EH(g)&&(r.Il(),g.gh(this),(f=this.xe.Zg())&&([n,l]=this.xe.rH()),this.vB(g),f&&this.xe.Hv(n));r.Cs(!0);p.Ha();p.B4();
t&&w.Hd.Ha();q&&w.Bb(c);w.ow();return l||g.UJ}}}
{"use strict";const d=self.j,a=[];let b=!1;d.Jz=class extends d.ga{constructor(e,c,f){super();const k=e.G(),g=e.ja();this.td=e;this.ya=g;this.b=e.G();this.Mc=c;this.Oa=k.Uh(f[1]);this.tt=f[2];this.td.dT(this,this.tt);this.Pa=k.Ib?{vd:f[3][0],yM:f[3][1]}:null}static Sa(e,c,f){return d.A(d.Jz,e,c,f)}Qb(){const e=this.Oa,c=this.b.ja().oS(this);this.Oa=e.bind(null,this.b.Pj,c)}Da(){return this.Mc}ds(){return this.Mc}pG(){return this.Pa&&this.Pa.yM}Cp(){return this.pG()&&this.Pa.vd}wA(){return!1}Dd(){return a}Ld(){return this.Mc?
this.Mc.Ld():a}qa(e){e.gh(this);this.ya.XE(this.vca())}async vca(){try{await this.Oa()}catch(e){console.error(`Unhandled exception running script %c${this.td.Ba()}, event ${this.tt}:`,"font-size: 1.2em; font-weight: bold;",e),self.Ph&&self.Ph.kda(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*mb(e){e.gh(this);if(this.Cp()||this.b.yc())yield this;
this.qa(e)}$e(){return!this.Cp()&&!this.b.yc()}static t1(){return b}static V5(){b=!0}}}
{"use strict";const d=self.j;d.hv=class extends d.ga{constructor(a,b,e){super();this.td=a;this.b=a.G();this.Mc=b;const c=e[1];this.BC=c[0];this.Co=c[1];this.wh=c[2].map(f=>d.Kz.Sa(a,this,f));this.Ka=c[3];this.hK=[];this.wx=c[4];this.nfa=0;this.Vw=-1;this.Nw=new Map;this.re=d.jn.Sa(a,b,e);this.re.pda(this)}static Sa(a,b,e){return d.A(d.hv,a,b,e)}Qb(){for(const a of this.wh)a.Qb();this.re.Qb(!1)}eS(){return this.wh}Tba(a){this.hK.push(a)}M_(a){const b=this.wh;for(let e=0,c=b.length;e<c;++e)b[e].hh(a[e].ea(0))}Xv(a){const b=
this.wh;for(let e=0,c=b.length;e<c;++e)b[e].hh(a[e])}LY(){return this.wh.map(a=>a.$d())}Da(){return this.Mc}ds(){return this.Mc}jd(){return this.Ka}FF(){switch(this.Co){case 0:return null;case 2:return"";default:return 0}}Jf(){return this.re}Zg(){return this.wx}rH(){const a=this.nfa++;this.Vw=a;let b;const e=new Promise(c=>b=c);this.Nw.set(a,{resolve:b,LM:0});return[a,e]}Hv(a){const b=this.Nw.get(a);0===b.LM&&(b.resolve(),this.Nw.delete(a));this.Vw=-1}x4(){this.Nw.get(this.Vw).LM++;return this.Vw}m5(a){this.Vw=
a;this.Nw.get(a).LM--}}}
{"use strict";const d=self.j,a=[];d.Kz=class extends d.ga{constructor(b,e,c){super();const f=b.ja();this.td=b;this.ya=f;this.b=b.G();this.Mc=e;this.Hd=f.Hd;this.Fa=c[1];this.za=c[2];this.Lq=c[3];this.si=!!c[4];this.wb=!!c[5];this.Xea=e instanceof d.hv;this.ib=c[6];this.Fx=this.b.Xi(c[8]);this.Cfa=k=>this.hh(k);this.Afa=()=>this.$d();this.ZU=!this.Mc||this.si||this.wb;this.Jd=this.Lq;this.QK=-1;this.dP()&&(this.Jd=this.Jd?1:0);!this.xG()||this.si||this.wb||(this.QK=f.K$(this));f.Qba(this)}static Sa(b,
e,c){return d.A(d.Kz,b,e,c)}Qb(){if(this.xG()&&!this.si&&!this.wb&&!this.Xea){const b=this.ya.xF(this);b&&b.Tba(this)}}Ba(){return this.Fa}Xi(){return this.Fx}Da(){return this.Mc}ds(){return this.Da()}ah(){return!this.Da()}xG(){return!this.ah()}xn(){return 0===this.za}cj(){return 1===this.za}dP(){return 2===this.za}wA(){return!1}Dd(){return a}qa(){!this.xG()||this.si||this.wb||this.hh(this.Lq)}$e(){return!0}*mb(b){this.qa(b)}hh(b){this.xn()?"number"!==typeof b&&(b=parseFloat(b)):this.cj()?"string"!==
typeof b&&(b=b.toString()):this.dP()&&(b=b?1:0);this.ZU?this.Jd=b:this.Hd.Ur()[this.QK]=b}$d(){return this.ZU?this.Jd:this.Hd.Ur()[this.QK]}j5(){this.Jd=this.Lq}qS(){return{configurable:!1,enumerable:!0,get:this.Afa,set:this.Cfa}}}}
{"use strict";const d=self.j,a=[];d.SN=class extends d.ga{constructor(b,e,c){super();const f=b.ja();this.td=b;this.ya=f;this.b=b.G();this.Mc=e;this.tx=null;this.Qea=c[1];this.Mb=!0}static Sa(b,e,c){return d.A(d.SN,b,e,c)}Qb(){this.tx=this.ya.jO(this.Qea);this.td.o8(this);let b=this.Da();for(;b;)b instanceof d.jn&&b.Rj&&b.g8(this),b=b.Da();this.qR();this.b.Ib&&this.td.Zj.children.push(this.tx.Zj)}Da(){return this.Mc}Dd(){return a}qa(){const b=!!this.Da(),e=this.b.md;b&&this.ya.eh(e);this.tx.qa();b&&
this.ya.Bb(e)}*mb(){const b=!!this.Da(),e=this.b.md;b&&this.ya.eh(e);yield*this.tx.mb();b&&this.ya.Bb(e)}$e(){return!1}qR(){let b=this.Da();for(;b;){if(b instanceof d.jn&&b.Rj&&!b.ks()){this.Mb=!1;return}b=b.Da()}this.Mb=!0}}}
{"use strict";const d=self.j;d.op=class extends d.ga{constructor(g){super();this.wc=g;this.b=g.G()}Qb(){}static oZ(g,l){return d.A([f,e,c,k,a,b][l[0]],g,l)}};class a extends d.op{constructor(g,l){super(g);this.Ae=this.b.vv();this.Oa=this.b.Uh(l[1]);this.Oa!==d.B.Za.Cd.random&&this.Oa!==d.B.Za.Cd.Zfa||this.wc.nH()}}class b extends d.op{constructor(g,l){super(g);this.gx=null;this.BC=l[1];this.wc.nH()}Qb(){const g=this.b.ja();this.gx=g.aA(this.BC);this.BC=null;const l=this.gx.Jf();this.ho=[...new Set([...this.wc.Jf().Ld(),
...l.Ld()])];this.ho=g.fB(this.ho)}}class e extends d.op{constructor(g,l){super(g);this.N=this.b.Lf(l[1]);this.Oa=this.b.Uh(l[2]);this.pL=!!l[3];this.fe=this.b.ja().gd();this.wc.lI(this.N)}Sr(){const g=this.N,l=g.Z().v0();var n=l.length;if(0===n)return this.pL?"":0;var q=this.wc.SD;q>=n?n=q%n:(0>q&&(q<=-n&&(q%=n),0>q&&(q+=n)),n=q);this.fe.bf().O5(g);return this.Oa.apply(l[n].ia,[])}}class c extends d.op{constructor(g,l){super(g);this.N=this.b.Lf(l[1]);this.pL=!!l[2];this.wc.lI(this.N)}}class f extends d.op{constructor(g,
l){super(g);this.N=this.b.Lf(l[1]);this.od=this.N.Oz(l[2]);this.vj=this.N.lv(l[2]);this.Oa=this.b.Uh(l[3]);this.pL=!!l[4];this.fe=this.b.ja().gd();this.wc.lI(this.N)}}class k extends d.op{constructor(g,l){super(g);this.lo=null;this.IJ=l[1]}Qb(){this.lo=this.b.ja().JF(this.IJ)}}}
{"use strict";const d=self.j;d.hf=class extends d.ga{constructor(z,D,E){super();this.wc=z;this.Ua=E;this.za=D;this.ea=null;this.wb=this.Bf=!1}static Sa(z,D,E){const M=D[0];return d.A([b,e,q,f,g,c,l,b,f,f,r,p,q,t,e,n,k,w,v,x][M],z,M,E,D)}Qb(){}nH(){this.Bf=!0}lI(z){this.Bf||!z||z.Fb().ro||(this.Bf=!0)}Ga(){return this.Ua}G(){return this.wc.G()}Jf(){return this.wc.Jf()}};function a(z){z=self.zY[z];if(!z)throw Error("invalid expression number");return z}class b extends d.hf{constructor(z,D,E,M){super(z,
D,E);this.SD=0;z=M[1];this.KJ=z[0];this.St=[];this.rC=null;for(let B=1,G=z.length;B<G;++B)this.St.push(d.op.oZ(this,z[B]));this.St.length?this.ea=this.u0:(this.ea=a(this.KJ),this.wb=!0)}Ik(){if(0>=this.St.length)throw new RangeError("invalid numbered node");return this.St[0]}Qb(){for(var z of this.St)z.Qb();z=a(this.KJ);this.rC=this.St.length?z(this):z}u0(z){this.SD=z;return this.rC()}}class e extends b{constructor(z,D,E,M){super(z,D,E,M);this.ea=this.k1;14===D&&(this.Jf().z5(),this.wc instanceof
d.pz&&this.Jf().ew())}k1(z){this.SD=z;z=this.rC();return"string"===typeof z?z:""}D$(){return a(this.KJ)()}}class c extends b{constructor(z,D,E,M){super(z,D,E,M);this.ea=this.aa;this.wb=!1}aa(z){this.SD=z;z=this.rC();return this.G().Ma().aa(z)}}class f extends d.hf{constructor(z,D,E,M){super(z,D,E);this.Bea=M[1];this.ea=this.l0;this.wb=!0}l0(){return this.Bea}}class k extends d.hf{constructor(z,D,E,M){super(z,D,E);this.sea=M[1];this.ea=this.g0;this.wb=!0}g0(){return this.sea}}class g extends d.hf{constructor(z,
D,E,M){super(z,D,E);this.N=this.G().Lf(M[1]);this.ea=this.H;z=this.Jf();z.ER(this.N);this.wc instanceof d.pz?z.ew():z.Da()&&z.Da().ew();this.wb=!0}H(){return this.N}}class l extends d.hf{constructor(z,D,E,M){super(z,D,E);this.Wj=this.G().gb.Xr(M[1]);this.ea=this.oc;this.wb=!0}oc(){return this.Wj}}class n extends d.hf{constructor(z,D,E,M){super(z,D,E);this.Io=this.G().Kb.kA(M[1]);this.ea=this.zc;this.wb=!0}zc(){return this.Io}}class q extends d.hf{constructor(z,D,E,M){super(z,D,E);this.Lea=M[1];this.ea=
this.y0;this.wb=!0}y0(){return this.Lea}}class r extends d.hf{constructor(z,D,E,M){super(z,D,E);this.iV=M[1];(z=this.wc.H())&&z.Wa?(this.ea=this.w0,this.nH()):(this.ea=this.L0,this.wb=!0)}L0(){return this.iV}w0(z){z=z||0;const D=this.wc.H();var E=D.Z();const M=E.ka();if(M.length)z=M[z%M.length].H();else if(E.w1())E=E.vc,z=E[z%E.length].H();else if(0<D.D.length)E=D.ka(),z=E[z%E.length].H();else return 0;return this.iV+z.kO(D.Jj)}}class p extends d.hf{constructor(z,D,E,M){super(z,D,E);this.IJ=M[1];
this.lo=null;this.ea=this.t0;this.wb=!0}Qb(){this.lo=this.G().ja().JF(this.IJ)}t0(){return this.lo}}class w extends d.hf{constructor(z,D,E,M){super(z,D,E);this.MU=M[1];this.gx=null;this.ea=this.H0;this.wb=!0}Qb(){this.gx=this.G().ja().aA(this.MU);this.MU=null}H0(){return this.gx}}class t extends d.hf{constructor(z,D,E,M){super(z,D,E);this.KL=[];this.GW=[];this.wb=!0;for(let B=1,G=M.length;B<G;++B)z=d.hf.Sa(this.wc,M[B],0),this.KL.push(z),this.GW.push(0),z.wb||(this.wb=!1);this.ea=this.p1}Qb(){for(const z of this.KL)z.Qb()}p1(){const z=
this.KL,D=this.GW;for(let E=0,M=z.length;E<M;++E)D[E]=z[E].ea(0);return D}}class v extends d.hf{constructor(z,D,E,M){super(z,D,E);this.Hea=M[1];this.ea=this.ln;this.wb=!0}ln(){return this.Hea}}class x extends d.hf{constructor(z,D,E,M){super(z,D,E);this.xea=M[1];this.ea=this.l1;this.wb=!0}l1(){return this.xea}}}
{"use strict";const d=self.j;function a(c,f){for(let k=0,g=c.length;k<g;++k)f[k]=c[k].ea(0)}const b=[],e=function(){};d.CN=class extends d.ga{constructor(c,f,k){super();this.re=c;this.b=c.G();this.Ua=k;this.Oa=this.b.Uh(f[1]);this.AK=0<f[3];this.lV=2===f[3];this.VC=!!f[4];this.Sj=!!f[5];this.si=!!f[6];this.ib=f[7];this.mV=this.re.he;this.od=this.N=null;this.vj=-1;this.Ae=null;this.mb=this.qa=e;this.La=[];this.xb=[];this.em=!1;this.Hi=this.Jb=null;this.Pa=this.b.Ib?{vd:f[8][0],eg:f[8][1]}:null;-1===
f[0]?this.Ae=this.b.vv():(this.N=this.b.Lf(f[0]),f[2]&&(this.od=this.N.Oz(f[2]),this.vj=this.N.lv(f[2])),this.re.Da()&&this.re.Da().ew());if(10===f.length){c=f[9];for(let g of c)this.La.push(d.hf.Sa(this,g,this.La.length)),this.xb.push(0)}0===this.La.length&&(this.xb=this.La=b);this.re.ja().Oba(this)}static Sa(c,f,k){return d.A(d.CN,c,f,k)}Qb(){for(const c of this.La)c.Qb(),c.Bf&&(this.em=!0);this.lV?(this.qa=this.lca,this.mb=this.w9):this.Ae?(this.DI(),this.mb=this.NH):this.N.Fb().ro?(this.BI(),
this.mb=this.MH):this.si?(this.qa=this.sca,this.mb=this.D9):(this.qa=this.sT,this.mb=this.x9)}DI(){this.Hw(this.Ae,this.Ae,this.vI)}BI(){const c=this.N.Fb(),f=this.N.Gl().ia;this.Hw(c,f,this.uI)}Hw(c,f,k){const g=this.Oa,l=this.Sj,n=this.La;if(0===n.length){const q=c.Rn(g,f);this.qa=l?function(){return d.xor(q(),l)}:q}else if(1===n.length){const q=n[0];if(!l&&q.wb)this.qa=c.hS(g,f,q.ea(0));else{const r=c.Rn(g,f);this.qa=function(){return d.xor(r(q.ea(0)),l)}}}else if(2===n.length){const q=n[0],r=
n[1];if(!l&&q.wb&&r.wb)this.qa=c.iS(g,f,q.ea(0),r.ea(0));else{const p=c.Rn(g,f);this.qa=function(){return d.xor(p(q.ea(0),r.ea(0)),l)}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(!l&&q.wb&&r.wb&&p.wb)this.qa=c.jS(g,f,q.ea(0),r.ea(0),p.ea(0));else{const w=c.Rn(g,f);this.qa=function(){return d.xor(w(q.ea(0),r.ea(0),p.ea(0)),l)}}}else this.qa=k}H(){return this.N}Sh(){return this.od}Jf(){return this.re}G(){return this.b}Ga(){return this.Ua}gO(){return this.Ga()}Fp(){return this.AK}$e(){return!this.Pa.vd&&
!this.b.yc()&&!this.Pa.eg}Xd(){this.Jb||(this.Jb=new Map);return this.Jb}yv(){this.Hi||(this.Hi=new Map);return this.Hi}vI(){const c=this.xb;a(this.La,c);return d.xor(this.Oa.apply(this.Ae,c),this.Sj)}*NH(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){var c=this.xb;a(this.La,c);c=this.Oa.apply(this.Ae,c);d.wn(c)&&(c=yield*c);return d.xor(c,this.Sj)}return this.qa()}uI(){const c=this.xb;a(this.La,c);const f=this.N.Gl().ia;return d.xor(this.Oa.apply(f,c),this.Sj)}*MH(){if(this.Pa.vd||this.b.yc())yield this;
if(this.Pa.eg){var c=this.xb;a(this.La,c);const f=this.N.Gl().ia;c=this.Oa.apply(f,c);d.wn(c)&&(c=yield*c);return d.xor(c,this.Sj)}return this.qa()}lca(){return!0}*w9(){if(this.Pa.vd||this.b.yc())yield this;return!0}sca(){var c=this.xb;a(this.La,c);c=this.Oa.apply(this.od||this.N,c);this.N.nc();return c}*D9(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){var c=this.xb;a(this.La,c);c=this.Oa.apply(this.od||this.N,c);d.wn(c)&&(c=yield*c);this.N.nc();return c}return this.qa()}sT(){const c=this.La,
f=this.xb,k=this.N.Z();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Bf||(f[g]=n.ea(0))}return k.cc?this.mca(k):this.nca(k)}*x9(){if(this.Pa.vd||this.b.yc())yield this;return this.sT()}VH(c){const f=this.La,k=this.xb;for(let g=0,l=f.length;g<l;++g){const n=f[g];n.Bf&&(k[g]=n.ea(c))}}mca(c){const f=this.N,k=f.Wa,g=f.Jj,l=this.vj,n=0<=l,q=f.ka(),r=this.em,p=this.xb,w=this.Oa,t=this.Sj,v=this.mV&&!this.AK;c.yz();for(let z=0,D=q.length;z<D;++z){const E=q[z];r&&this.VH(z);var x=void 0;n?(x=k?E.H().qp(g):
0,x=w.apply(E.nd[l+x].ia,p)):x=w.apply(E.ia,p);d.xor(x,t)?c.bq(E):v&&c.Un(E)}f.gv(!0);c.Je(!1);f.nc();return c.fG()}nca(c){const f=this.N;var k=f.Wa;const g=f.Jj,l=f.Ic(),n=this.vj,q=0<=n,r=this.em,p=this.xb,w=this.Oa,t=this.Sj,v=this.mV&&!this.AK,x=c.D,z=c.vc,D=v&&!this.re.U2(this),E=D?z:x;let M=0,B=!1;for(let H=0,J=E.length;H<J;++H){const P=E[H];r&&this.VH(H);var G=void 0;q?(G=k?P.H().qp(g):0,G=w.apply(P.nd[n+G].ia,p)):G=w.apply(P.ia,p);d.xor(G,t)?(B=!0,D?(x.push(P),l&&P.Lba()):(E[M]=P,l&&P.rda(M),
++M)):D?(E[M]=P,l&&P.qda(M),++M):v&&(z.push(P),l&&P.Kba())}d.Ye(E,M);l&&f.Sda(D,M);k=B;D&&!B&&(B=this.Cba(x));f.gv(k||v);return v?B:c.fG()}Cba(c){var f=this.N;const k=f.Wa;f=f.Jj;const g=this.em,l=this.vj,n=0<=l,q=this.xb,r=this.Oa,p=this.Sj;for(let t=0,v=c.length;t<v;++t){var w=c[t];g&&this.VH(t);if(n){const x=k?w.H().qp(f):0;w=r.apply(w.nd[l+x].ia,q)}else w=r.apply(w.ia,q);if(d.xor(w,p))return!0}return!1}Qv(c,f){return this.La[c].ea(f)}x0(){const c=this.La;if(!c.length)throw Error("no parameters");
return c[0].D$()}la(){if(!this.Jb||!this.Jb.size)return null;const c={};for(const [f,k]of this.Jb.entries()){let g=k;"collmemory"===f&&(g=[...k.entries()].map(l=>[l[0].Pc,l[1].Pc,l[2]]));c[f]=g}return{ex:c}}ua(c){this.Jb&&(this.Jb.clear(),this.Jb=null);if(c){var f=this.b,k=c.ex;if(k){c=this.Xd();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.A(d.Lv,l.map(n=>[f.Vi(n[0]),f.Vi(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.j;function a(f,k){for(let g=0,l=f.length;g<l;++g)k[g]=f[g].ea(0)}const b=[],e=function(){},c=function*(){};d.pz=class extends d.ga{constructor(f,k,g){super();this.re=f;this.b=f=f.G();this.Ua=g;this.ib=4<=k.length?k[3]:-1;this.HB=5<=k.length?k[4]:0;this.od=this.N=this.Oa=null;this.vj=-1;this.Ae=null;this.XB="";this.ho=this.WB=null;this.mb=this.qa=e;this.La=[];this.xb=[];this.em=!1;this.Hi=this.Jb=null;const l=(g=-3===k[0])?k[2]:k[5];this.Pa=f.Ib||g?{vd:l[0],eg:l[1],index:l[2]}:
null;-1===k[0]?(this.Ae=f.vv(),this.Oa=f.Uh(k[1])):-2===k[0]?this.XB=k[1]:g?(this.Oa=f.Uh(k[1]),this.qa=this.WG,this.mb=this.AZ,this.HB=1):(this.Oa=f.Uh(k[1]),this.N=f.Lf(k[0]),k[2]&&(this.od=this.N.Oz(k[2]),this.vj=this.N.lv(k[2])));if(7===k.length){k=k[6];for(const n of k)this.La.push(d.hf.Sa(this,n,this.La.length)),this.xb.push(0)}0===this.La.length&&(this.xb=this.La=b);this.re.ja().Nba(this)}static Sa(f,k,g){return d.A(d.pz,f,k,g)}Qb(){for(var f of this.La)f.Qb(),f.Bf&&(this.em=!0);if(this.Ae)this.DI(),
this.mb=this.NH;else if(this.XB)this.Sca(),this.XB="";else if(this.qa===this.WG){f=this.Oa;const k=this.b.ja().oS(this.re);this.Oa=f.bind(null,this.b.Pj,k)}else this.od?this.Zg()?(this.qa=this.qT,this.mb=this.t9):(this.qa=this.pT,this.mb=this.s9):this.N.Fb().ro?(this.BI(),this.mb=this.MH):this.Zg()?(this.qa=this.uT,this.mb=this.z9):this.La.length?this.La.every(k=>k.Bf)?(this.qa=this.tT,this.mb=this.y9):this.em?(this.qa=this.wT,this.mb=this.B9):this.La.every(k=>k.wb)?(a(this.La,this.xb),this.qa=this.tI,
this.mb=this.QR):(this.qa=this.vT,this.mb=this.A9):(this.qa=this.tI,this.mb=this.QR)}DI(){this.Hw(this.Ae,this.Ae,this.vI)}BI(){const f=this.N.Fb(),k=this.N.Gl().ia;this.Hw(f,k,this.uI)}Sca(){const f=this.re.ja(),k=f.aA(this.XB);k.jd()?(this.WB=k.Jf(),this.ho=[...new Set([...this.re.Ld(),...this.WB.Ld()])],this.ho=f.fB(this.ho),this.qa=d.jn.prototype.o5.bind(this.WB,this.ho,this.La),this.mb=this.u9):(this.qa=e,this.mb=c)}Hw(f,k,g){const l=this.Oa,n=this.La;if(0===n.length)this.qa=f.Rn(l,k);else if(1===
n.length){const q=n[0];if(q.wb)this.qa=f.hS(l,k,q.ea(0));else{const r=f.Rn(l,k);this.qa=function(){return r(q.ea(0))}}}else if(2===n.length){const q=n[0],r=n[1];if(q.wb&&r.wb)this.qa=f.iS(l,k,q.ea(0),r.ea(0));else{const p=f.Rn(l,k);this.qa=function(){return p(q.ea(0),r.ea(0))}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(q.wb&&r.wb&&p.wb)this.qa=f.jS(l,k,q.ea(0),r.ea(0),p.ea(0));else{const w=f.Rn(l,k);this.qa=function(){return w(q.ea(0),r.ea(0),p.ea(0))}}}else this.qa=g}Zg(){return 1===this.HB}uN(){return 2===
this.HB}E1(){return 0!==this.HB}H(){return this.N}Jf(){return this.re}G(){return this.b}Ga(){return this.Ua}gO(){return this.Pa.index}$e(){return!this.Pa.vd&&!this.b.yc()&&!this.Pa.eg}Xd(){this.Jb||(this.Jb=new Map);return this.Jb}yv(){this.Hi||(this.Hi=new Map);return this.Hi}vI(){const f=this.xb;a(this.La,f);return this.Oa.apply(this.Ae,f)}*NH(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){const f=this.xb;a(this.La,f);return yield*this.Oa.apply(this.Ae,f)}return this.qa()}*u9(){if(this.Pa.vd||
this.b.yc())yield this;return yield*this.WB.vZ(this.ho,this.La)}uI(){const f=this.xb;a(this.La,f);return this.Oa.apply(this.N.Gl().ia,f)}*MH(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){const f=this.xb;a(this.La,f);return yield*this.Oa.apply(this.N.Gl().ia,f)}return this.qa()}tI(){const f=this.xb,k=this.N.Z().ka();for(let g=0,l=k.length;g<l;++g)this.Oa.apply(k[g].ia,f)}*QR(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){const f=this.xb,k=this.N.Z().ka();for(let g=0,l=k.length;g<l;++g)yield*this.Oa.apply(k[g].ia,
f)}else this.tI()}vT(){const f=this.xb;a(this.La,f);const k=this.N.Z().ka();for(let g=0,l=k.length;g<l;++g)this.Oa.apply(k[g].ia,f)}*A9(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){const f=this.xb;a(this.La,f);const k=this.N.Z().ka();for(let g=0,l=k.length;g<l;++g)yield*this.Oa.apply(k[g].ia,f)}else this.vT()}tT(){const f=this.La,k=this.xb,g=this.Oa,l=this.N.Z().ka();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,w=f.length;p<w;++p)k[p]=f[p].ea(n);g.apply(r.ia,k)}}*y9(){if(this.Pa.vd||
this.b.yc())yield this;if(this.Pa.eg){const f=this.La,k=this.xb,g=this.Oa,l=this.N.Z().ka();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,w=f.length;p<w;++p)k[p]=f[p].ea(n);yield*g.apply(r.ia,k)}}else this.tT()}wT(){const f=this.La,k=this.xb,g=this.Oa,l=this.N.Z().ka();for(let q=0,r=f.length;q<r;++q){var n=f[q];n.Bf||(k[q]=n.ea(0))}for(let q=0,r=l.length;q<r;++q){n=l[q];for(let p=0,w=f.length;p<w;++p){const t=f[p];t.Bf&&(k[p]=t.ea(q))}g.apply(n.ia,k)}}*B9(){if(this.Pa.vd||this.b.yc())yield this;
if(this.Pa.eg){const k=this.La,g=this.xb,l=this.Oa,n=this.N.Z().ka();for(let q=0,r=k.length;q<r;++q){var f=k[q];f.Bf||(g[q]=f.ea(0))}for(let q=0,r=n.length;q<r;++q){f=n[q];for(let p=0,w=k.length;p<w;++p){const t=k[p];t.Bf&&(g[p]=t.ea(q))}yield*l.apply(f.ia,g)}}else this.wT()}pT(){var f=this.N;const k=f.Wa,g=f.Jj,l=this.La,n=this.em,q=this.xb,r=this.Oa,p=this.vj;f=f.Z().ka();for(let v=0,x=l.length;v<x;++v){var w=l[v];w.Bf||(q[v]=w.ea(0))}for(let v=0,x=f.length;v<x;++v){w=f[v];if(n)for(let z=0,D=l.length;z<
D;++z){var t=l[z];t.Bf&&(q[z]=t.ea(v))}t=k?w.H().qp(g):0;r.apply(w.nd[p+t].ia,q)}}*s9(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){var f=this.N;const l=f.Wa,n=f.Jj,q=this.La,r=this.em,p=this.xb,w=this.Oa,t=this.vj;f=f.Z().ka();for(let v=0,x=q.length;v<x;++v){var k=q[v];k.Bf||(p[v]=k.ea(0))}for(let v=0,x=f.length;v<x;++v){k=f[v];if(r)for(let z=0,D=q.length;z<D;++z){var g=q[z];g.Bf&&(p[z]=g.ea(v))}g=l?k.H().qp(n):0;yield*w.apply(k.nd[t+g].ia,p)}}else this.pT()}uT(){const f=this.La,k=this.xb,
g=this.Oa,l=this.N.Z().ka(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let w=0,t=f.length;w<t;++w)k[w]=f[w].ea(q);n.push(g.apply(p.ia,k))}return Promise.all(n)}*z9(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){const f=this.La,k=this.xb,g=this.Oa,l=this.N.Z().ka(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let w=0,t=f.length;w<t;++w)k[w]=f[w].ea(q);n.push(yield*g.apply(p.ia,k))}return Promise.all(n)}return this.uT()}qT(){var f=this.N;const k=f.Wa,g=f.Jj,l=this.La,n=this.xb,
q=this.Oa,r=this.vj;f=f.Z().ka();const p=[];for(let w=0,t=f.length;w<t;++w){const v=f[w];for(let z=0,D=l.length;z<D;++z)n[z]=l[z].ea(w);const x=k?v.H().qp(g):0;p.push(q.apply(v.nd[r+x].ia,n))}return Promise.all(p)}*t9(){if(this.Pa.vd||this.b.yc())yield this;if(this.Pa.eg){var f=this.N;const k=f.Wa,g=f.Jj,l=this.La,n=this.xb,q=this.Oa,r=this.vj;f=f.Z().ka();const p=[];for(let w=0,t=f.length;w<t;++w){const v=f[w];for(let z=0,D=l.length;z<D;++z)n[z]=l[z].ea(w);const x=k?v.H().qp(g):0;p.push(yield*q.apply(v.nd[r+
x].ia,n))}return Promise.all(p)}return this.qT()}async WG(){try{await this.Oa()}catch(f){console.error(`Unhandled exception running script %c${this.re.td.Ba()}, event ${this.re.tt}, action ${this.gO()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.Ph&&self.Ph.kda(this),d.Jz.t1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Jz.V5())}}*AZ(){if(this.Pa.vd||
this.b.yc())yield this;return this.WG()}la(){return this.Jb&&this.Jb.size?{ex:d.wH(this.Jb)}:null}ua(f){this.Jb&&(this.Jb.clear(),this.Jb=null);f&&(f=f.ex)&&(this.Jb=d.yF(f))}}}
{"use strict";const d=self.j,a=new d.Ya;function b(K,N){return d.compare(this.i().O(),K,N)}function e(K,N){return d.compare(this.i().P(),K,N)}function c(){const K=this.i(),N=K.aa();return N.gs()?K.ls(N.qw()):K.lP(N.Cf,K.oc().WO(),K.oc().Xf)}function f(){var K=this.i();const N=K.oc();K=K.pb();return 0>K.U||0>K.S||K.L>N.M()||K.J>N.I()}function k(K,N,U){const ba=this.Z(),ha=ba.ka();if(!ha.length)return!1;let ia=ha[0];var ka=ia.i();let ua=ia,ma=d.WW(ka.O(),ka.P(),N,U);for(let va=1,wa=ha.length;va<wa;++va)if(ia=
ha[va],ka=ia.i(),ka=d.WW(ka.O(),ka.P(),N,U),0===K&&ka<ma||1===K&&ka>ma)ma=ka,ua=ia;ba.Bn(ua);return!0}function g(K){const N=this.i();N.O()!==K&&(N.Qf(K),N.ta())}function l(K){const N=this.i();N.P()!==K&&(N.ih(K),N.ta())}function n(K,N){const U=this.i();U.wF(K,N)||(U.pe(K,N),U.ta())}function q(K,N){if(K&&(K=K.yO(this.K))){var [U,ba]=K.Dl(N);N=this.i();if(N.O()!==U||N.P()!==ba)N.pe(U,ba),N.ta()}}function r(K){if(0!==K){var N=this.i();N.Jv(N.EF()*K,N.ZF()*K);N.ta()}}function p(K,N){if(0!==N){var U=this.i();
K=d.cb(K);U.Jv(Math.cos(K)*N,Math.sin(K)*N);U.ta()}}function w(){return this.i().O()}function t(){return this.i().P()}function v(){return this.b.pp(this.K)}function x(K,N){return d.compare(this.i().M(),K,N)}function z(K,N){return d.compare(this.i().I(),K,N)}function D(K){const N=this.i();N.M()!==K&&(N.mf(K),N.ta())}function E(K){const N=this.i();N.I()!==K&&(N.ld(K),N.ta())}function M(K,N){const U=this.i();if(U.M()!==K||U.I()!==N)U.Pb(K,N),U.ta()}function B(){return this.i().M()}function G(){return this.i().I()}
function H(){return this.i().pb().L}function J(){return this.i().pb().J}function P(){return this.i().pb().U}function Q(){return this.i().pb().S}function T(K,N){return d.Um(this.i().ra(),d.cb(N))<=d.cb(K)}function W(K){return d.dg(this.i().ra(),d.cb(K))}function Z(K,N){K=d.cb(K);N=d.cb(N);const U=this.i().ra();return d.dg(N,K)?d.dg(U,K)&&!d.dg(U,N):!(!d.dg(U,K)&&d.dg(U,N))}function Y(K){const N=this.i();K=d.ke(d.cb(K));isNaN(K)||N.ra()===K||(N.Bc(K),N.ta())}function fa(K){if(!isNaN(K)&&0!==K){var N=
this.i();N.Bc(N.ra()+d.cb(K));N.ta()}}function ja(K){if(!isNaN(K)&&0!==K){var N=this.i();N.Bc(N.ra()-d.cb(K));N.ta()}}function xa(K,N){const U=this.i(),ba=U.ra();K=d.hM(ba,d.cb(N),d.cb(K));isNaN(K)||ba===K||(U.Bc(K),U.ta())}function Ka(K,N,U){const ba=this.i(),ha=ba.ra();N-=ba.O();U-=ba.P();K=d.hM(ha,Math.atan2(U,N),d.cb(K));isNaN(K)||ha===K||(ba.Bc(K),ba.ta())}function Ta(K,N){const U=this.i(),ba=U.ra();K-=U.O();N-=U.P();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.Bc(N),U.ta())}function Pa(){return d.Ud(this.i().ra())}
function Ua(K,N){return d.compare(d.LE(100*this.i().ff()),K,N)}function db(){return this.i().Sc()}function Qa(K){const N=this.i();K=2===K?!N.Sc():0!==K;N.Sc()!==K&&(N.lf(K),this.b.R())}function La(K){K=d.fa(K/100,0,1);const N=this.i();N.ff()!==K&&(N.hj(K),this.b.R())}function Ya(K){a.Iu(K);K=this.i();K.Ia.Wm(a)||(K.eR(a),this.b.R())}function Va(){const K=this.i().Ia;return d.IA(K.Xa,K.bb,K.$a,K.Va)}function gb(){return d.LE(100*this.i().ff())}function ub(K){return K?this.i().aa()===K:!1}function vb(K){const N=
this.Z(),U=N.ka();if(!U.length)return!1;let ba=U[0];for(let ha=1,ia=U.length;ha<ia;++ha){const ka=U[ha],ua=ka.i(),ma=ba.i(),va=ua.aa().Ga(),wa=ma.aa().Ga();if(0===K){if(va>wa||va===wa&&ua.wk()>ma.wk())ba=ka}else if(va<wa||va===wa&&ua.wk()<ma.wk())ba=ka}N.Bn(ba);return!0}function hb(K,N,U){const ba=this.i();K=0===K?ba.Ta():ba.Mf();return d.compare(K,N,U)}function wb(){this.i().c8()}function xb(){this.i().a8()}function yb(K){K&&this.i().b8(K)}function zb(K,N){K=0===K;N&&(N=N.KF(this.Ca()))&&this.i().Z7(N,
K)}function Ab(K){const N=this.i();N.Ta()!==K&&(N.He(K),this.b.R())}function Bb(){return this.i().aa().Ga()}function Cb(){return this.i().aa().Ba()}function ib(){return this.i().wk()}function Db(){return this.i().Ta()}function Eb(){return this.i().Mf()}function Fb(K,N){if(N=this.H().Qa.Bl(N)){N=N.Ga();K=1===K;var U=this.i().Ne;U.Dv(N)!==K&&(U.JQ(N,K),U.Pn(),this.b.R())}}function Gb(K,N,U){var ba=this.H().Qa.Bl(K);if(ba){K=ba.Ga();var ha=this.i().Ne,ia=ha.Vg(K);N=Math.floor(N);if(!(0>N||N>=ia.length)){ba=
ba.jb.fA(N);if("color"===ba){a.Iu(U);N=ia[N];if(a.Wm(N))return;N.hk(a)}else{"percent"===ba&&(U/=100);if(ia[N]===U)return;ia[N]=U}ha.Dv(K)&&this.b.R()}}}const jb=d.A(d.Rect),Wa=[],kb=[];let lb=!1,Za=null,mb=!1;const Na=new Set;function nb(K,N,U,ba){N.Pc<U.Pc?K.Set(N,U,ba):K.Set(U,N,ba)}function pa(K,N,U){N.Pc<U.Pc?K.gn(N,U):K.gn(U,N)}function Ja(K,N,U){return N.Pc<U.Pc?K.ea(N,U):K.ea(U,N)}function Hb(K,N,U,ba){if(!N)return!1;K=K.Ca();const ha=0!==U||0!==ba,ia=K.i(),ka=K.G(),ua=ka.rh;var ma=ka.kg();
const va=ma.Jf().he;var wa=ma.H();ma=ma.Sj;const Ga=N.Z();wa=wa!==N;Za=N;lb=wa&&!ma;mb=!1;let Ma=0,Ba=0,la=!1;Ga.cc?(jb.oa(ia.pb()),jb.offset(U,ba),ua.Tz(ia.aa(),N,jb,kb),N=kb):va?ka.Q2()&&!Ga.vc.length&&Ga.D.length?N=Ga.D:(N=Ga.vc,mb=!0):N=Ga.D;ha&&(Ma=ia.O(),Ba=ia.P(),ia.Jv(U,ba),ia.ta());for(const da of N)if(ua.Vp(K,da)){la=!0;if(ma)break;wa&&Na.add(da)}ha&&(ia.pe(Ma,Ba),ia.ta());d.C(kb);return la}function Nb(K,N){if(lb){if(N){{K=K.G().Eb().he;N=Za.Z();const U=N.D,ba=N.vc;N.cc?(N.bw(Na),K&&(d.C(ba),
N.iN(Na,Za.ka()))):K?mb?N.s7(Na):(N.iN(Na,U),N.bw(Na)):N.bw(Na);Za.nc()}}Na.clear();Za=null;lb=!1}}function Ob(K){if(this.b.Pe)return Pb.call(this,K);if(!K)return!1;var N=this.b;const U=N.rh,ba=N.ja(),ha=ba.gd();var ia=ba.kg();const ka=ia.H();var ua=ia.Xd(),ma=ia.yv();ia=ha.bf();const va=N.gl,wa=va-1,Ga=ia.Eb(),Ma=ha.Na(Ga);let Ba=ua.get("collmemory");Ba||(Ba=d.A(d.Lv),ua.set("collmemory",Ba));ma.get("collisionCreatedDestroyCallback")||(ma.set("collisionCreatedDestroyCallback",!0),N.Db().addEventListener("instancedestroy",
Oa=>{Ba.MN(Oa.instance)}));N=K.Z();ua=ka.Z().ka();ma=null;for(let Oa=0;Oa<ua.length;++Oa){const Aa=ua[Oa];N.cc?(U.Tz(Aa.i().aa(),K,Aa.i().pb(),Wa),ma=Wa,U.jN(Aa,K,ma)):ma=N.ka();for(let fb=0;fb<ma.length;++fb){const Ia=ma[fb];if(U.Vp(Aa,Ia)||U.yN(Aa,Ia)){var la=Ja(Ba,Aa,Ia),da=!1,na=-2;"number"===typeof la&&(da=!0,na=la);la=!da||na<wa;nb(Ba,Aa,Ia,va);la&&(la=Ga.Dd(),ba.ae(la),na=ka.Z(),da=K.Z(),na.Je(!1),da.Je(!1),ka===K?(da=na.D,d.C(da),da.push(Aa),da.push(Ia),ka.nc()):(na=na.D,da=da.D,d.C(na),d.C(da),
na.push(Aa),da.push(Ia),ka.nc(),K.nc()),Ga.jf(ia,Ma),ba.Bb(la))}else pa(Ba,Aa,Ia)}d.C(Wa)}ha.Ha();return!1}function*Pb(K){if(!K)return!1;var N=this.b;const U=N.rh,ba=N.ja(),ha=ba.gd(),ia=ha.bf(),ka=N.gl,ua=ka-1,ma=ia.Eb(),va=ha.Na(ma);var wa=ba.kg();const Ga=wa.H();var Ma=wa.Xd();wa=wa.yv();let Ba=Ma.get("collmemory");Ba||(Ba=d.A(d.Lv),Ma.set("collmemory",Ba));wa.get("collisionCreatedDestroyCallback")||(wa.set("collisionCreatedDestroyCallback",!0),N.Db().addEventListener("instancedestroy",Oa=>{Ba.MN(Oa.instance)}));
N=K.Z();Ma=Ga.Z().ka();wa=null;for(let Oa=0;Oa<Ma.length;++Oa){const Aa=Ma[Oa];N.cc?(U.Tz(Aa.i().aa(),K,Aa.i().pb(),Wa),wa=Wa,U.jN(Aa,K,wa)):wa=N.ka();for(let fb=0;fb<wa.length;++fb){const Ia=wa[fb];if(U.Vp(Aa,Ia)||U.yN(Aa,Ia)){var la=Ja(Ba,Aa,Ia),da=!1,na=-2;"number"===typeof la&&(da=!0,na=la);la=!da||na<ua;nb(Ba,Aa,Ia,ka);la&&(la=ma.Dd(),ba.ae(la),na=Ga.Z(),da=K.Z(),na.Je(!1),da.Je(!1),Ga===K?(da=na.D,d.C(da),da.push(Aa),da.push(Ia),Ga.nc()):(na=na.D,da=da.D,d.C(na),d.C(da),na.push(Aa),da.push(Ia),
Ga.nc(),K.nc()),yield*ma.Rg(ia,va),ba.Bb(la))}else pa(Ba,Aa,Ia)}d.C(Wa)}ha.Ha();return!1}function Qb(K){return Hb(this,K,0,0)}function Rb(K,N,U){return Hb(this,K,N,U)}function ob(){return this.i().xk()}function pb(){return this.i().Nf()}function qb(K,N){const U=this.Z().ka();if(0===U.length)return!1;const ba=K.Z();var ha=ba.ka();if(0===ha.length)return!1;ha=new Set(ha);const ia=new Set;for(let ua=0,ma=U.length;ua<ma;++ua){var ka=U[ua];if(1===N)for(const va of ka.bz())va.Nr(K)&&ha.has(va)&&ia.add(va);
else{if(0===N){if(ka=ka.Da(),null===ka)continue}else ka=ka.lA();ka.Nr(K)&&ha.has(ka)&&ia.add(ka)}}if(0===ia.size)return!1;ba.bw(ia);K.nc();return!0}function rb(K,N){const U=this.Z().ka();if(0===U.length)return!1;const ba=K.Z();var ha=ba.ka();if(ba.cc){var ia=[...this.b.wM(K)];0<ia.length&&(ha=ha.concat(ia))}if(0===ha.length)return!1;ha=new Set(ha);ia=new Set;for(let ka=0,ua=U.length;ka<ua;++ka){const ma=U[ka];2===N&&!ma.Nf()&&ma.Nr(K)&&ha.has(ma)&&ia.add(ma);for(const va of 0===N?ma.children():ma.Vo())2===
N&&va.Nf()||va.Nr(K)&&ha.has(va)&&ia.add(va)}if(0===ia.size)return!1;ba.bw(ia);K.nc();return!0}function eb(K,N){const U=this.Z().ka();if(0===U.length)return!1;const ba=K.Z();var ha=ba.ka();if(ba.cc){var ia=[...this.b.wM(K)];0<ia.length&&(ha=ha.concat(ia))}if(0===ha.length)return!1;ha=new Set(ha);ia=[];for(let ka=0,ua=U.length;ka<ua;++ka){const ma=U[ka].DF(N);null!==ma&&ma.Nr(K)&&ha.has(ma)&&ia.push(ma)}if(0===ia.length)return!1;ba.Sv(ia);K.nc();return!0}function h(K,N){return d.compare(this.K.Sz(),
K,N)}function m(K,N,U,ba,ha,ia,ka,ua){const ma=this.K,va=this.b.ov().H();for(const wa of K.LW(ma,va)){if(!wa.Fb().wW)break;ma.cn(wa,{Ou:N,Pu:U,Jr:ba,Ir:ha,Nu:ia,Qu:ka,Ry:ua})}}function u(K){const N=this.K,U=this.b.ov().H();for(const ba of K.LW(N,U))N.Bk(ba)}function y(){this.K.xk()&&this.K.Da().Bk(this.K)}function A(){return this.K.Sz()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.i();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.MA(),U.ta()):U.oF(K,N)}function F(K,N,U,ba,ha,ia,ka,ua){const ma=
this.i();ma.RQ(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ha,oz:ia,IX:ka,JX:ua})&&ma.ta()}function I(){const K=this.i();return K.pg()?K.bj().Wk:0}function L(){const K=this.i();return K.pg()?K.bj().jl:0}function O(K){const N=this.i();K=2===K?!N.Sc():0!==K;N.Sc()!==K&&N.lf(K)}function R(K,N){this.M5(K,N)}function S(K,N){this.L5(K,""+N)}function X(K){this.T4(K)}function V(){this.YN()}function ea(){this.pN()}function ca(){return this.FJ}function aa(K){this.$l(0!==K)}function ta(){return this.Ka}function oa(K,
N,U){return d.compare(this.Ca().ef(K),N,U)}function ra(K){return!!this.Ca().ef(K)}function sa(K,N){const U=this.Z(),ba=U.ka();if(!ba.length)return!1;let ha=ba[0],ia=ha,ka=ha.ef(N);for(let ua=1,ma=ba.length;ua<ma;++ua){ha=ba[ua];const va=ha.ef(N);if(0===K&&va<ka||1===K&&va>ka)ka=va,ia=ha}U.Bn(ia);return!0}function qa(K){if(this.b.kg().Sj){{const ba=this.Z();if(ba.cc){ba.Je(!1);ba.yz();var N=this.ka();for(let ha=0,ia=N.length;ha<ia;++ha){var U=N[ha];U.Pc===K?ba.Un(U):ba.bq(U)}this.nc();K=!!ba.D.length}else{N=
ba.D;U=0;for(let ha=0,ia=N.length;ha<ia;++ha){const ka=N[ha];N[U]=ka;ka.Pc===K?ba.Un(ka):++U}d.Ye(N,U);this.nc();K=!!N.length}}}else K=Ca(this,K);return K}function Ca(K,N){N=K.G().Vi(N);if(!N)return!1;const U=K.Z();if(!U.cc&&!U.D.includes(N))return!1;if(K.Wa){if(N.H().dF(K))return U.Bn(N),K.nc(),!0}else if(N.H()===K)return U.Bn(N),K.nc(),!0;return!1}function Da(){this.b.hn(this.K)}function Ea(){return!0}function Fa(){return!0}function Ha(K,N){this.Ca().Ln(K,N)}function Ra(K,N){const U=this.Ca(),ba=
U.ef(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.Ln(K,ba+N)}function Sa(K,N){const U=this.Ca(),ba=U.ef(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.Ln(K,ba-N))}function za(K,N){this.Ca().Ln(K,N?1:0)}function Ib(K){const N=this.Ca();N.Ln(K,0===N.ef(K)?1:0)}function Jb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.Ca();K.rB("state");K.Ob(N,"state")}
function oc(){return JSON.stringify(this.Ca().Wb("state"))}function pc(){return this.Ca().H().Ba()}function qc(){const K=this.b.If().LJ;let N=K.D.length;for(const U of this.b.wM(K))++N;return N}function rc(){return this.b.If().LJ.Z().ka().length}function sc(){return this.K.rp()}function tc(){return this.K.Pc}d.TX=function(K,N){const U=K[1],ba=K[4],ha=K[5],ia=K[6],ka=K[7],ua=K[8],ma=K[10],va=K[11],wa=K[12],Ga=K[13],Ma=K[14],Ba=K[15],la=N.F,da=N.Ja,na=N.Cd;K[3]&&(la.BN=b,la.Zia=e,la.Jka=c,la.Kka=f,
la.qma=k,da.Qf=g,da.ih=l,da.$oa=n,da.v6=q,da.Cla=r,da.Bla=p,na.W7=w,na.X7=t,na.YW=v);ba&&(la.Wia=x,la.YY=z,da.mf=D,da.ld=E,da.Pb=M,na.S7=B,na.XO=G,na.kia=H,na.mia=J,na.lia=P,na.jia=Q);ha&&(la.kY=T,la.N2=W,la.cP=Z,da.Bc=Y,da.Kna=fa,da.Lna=ja,da.Mna=xa,da.Nna=Ka,da.cpa=Ta,na.jY=Pa);ia&&(la.Sc=db,la.ZY=Ua,da.lf=Qa,da.hj=La,da.hoa=Ya,na.Opacity=gb,na.Hia=Va);ka&&(la.Y2=ub,la.yma=vb,la.bZ=hb,da.Fla=wb,da.Dla=xb,da.Ela=yb,da.Eqa=zb,da.He=Ab,na.bla=Bb,na.ala=Cb,na.Dqa=ib,na.Y7=Db,na.Tpa=Eb);ua&&(da.K5=Fb,
da.koa=Gb);Ga&&(la.xk=ob,la.Nf=pb,la.wma=qb,la.pma=rb,la.uma=eb,la.Nia=h,da.cn=m,da.Bk=u,da.Sma=y,na.Eia=A);Ma&&(da.Voa=C,da.RQ=F,na.xla=I,na.yla=L);ma&&(la.Sc=db,da.lf=O,da.coa=R,da.loa=S,da.Rma=X);va&&(la.xka=ca,da.roa=V,da.$na=ea);wa&&(la.jd=ta,da.de=aa);Ba&&(la.V3=Ob,la.Z2=Qb,la.Lka=Rb,N.W_=Nb);U||(la.jF=oa,la.nka=ra,la.rma=sa,la.oma=qa,da.OQ=Ha,da.Vha=Ra,da.Lpa=Sa,da.aoa=za,da.Rpa=Ib,la.W3=Ea,la.X3=Fa,da.NN=Da,da.DG||(da.DG=Jb),na.lN||(na.lN=oc),na.cja=qc,na.zma=rc,na.Tja=sc,na.eqa=tc,na.Rla=
pc)}}
{"use strict";const d=self.j;d.XG=class extends d.ga{constructor(a){super();this.ya=a;this.za="";this.dd=-1;this.ky="";this.aD=!1;this.Ij=null;this.ug=0;this.vf=[];this.jr=new Map;this.gm=null;this.Mw=-1;this.TJ=this.wh=null;this.jy=!1}g(){this.za="";this.dd=-1;this.ky="";this.TJ=this.wh=this.gm=this.Ij=null;this.Mw=-1;d.C(this.vf);for(const a of this.jr.values())a.g();this.jr.clear()}nj(){var a=this.ya,b=a.G().md;const e=a.If();this.Ij=e.Eb();this.ug=e.ug+1;if(a=a.xF(this.Ij))this.gm=a,this.wh=a.LY(),
this.TJ=a.hK.map(c=>c.$d()),a.Zg()&&(this.Mw=a.x4());for(const c of b)if(b=c.Z(),!b.cc||this.Ij.G1(c))this.vf.push(c),this.jr.set(c,d.A(d.iR,b))}F2(a){this.za="timer";this.nj();this.dd=this.ya.G().Kf()+a}D2(a){this.za="signal";this.nj();this.ky=a.toLowerCase()}s2(a){this.za="promise";this.nj();a.then(()=>this.gH()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.gH()})}i3(){return"timer"===this.za}g3(){return"signal"===this.za}b3(){return"promise"===
this.za}gH(){this.aD=!0}TT(){return this.i3()?this.dd<=this.ya.G().Kf():this.aD}nT(a){a.sI(this.Ij,this.ug);for(const [b,e]of this.jr.entries())e.sI(b.Z());if(a=this.gm)a.Xv(this.wh),a.hK.map((b,e)=>b.hh(this.TJ[e])),a.Zg()&&a.m5(this.Mw)}ica(a){this.nT(a);this.Ij.hca(a);this.gm&&this.gm.Zg()&&this.gm.Hv(this.Mw);this.ya.Or(this.vf);this.jy=!0}async p9(a){this.nT(a);for(const b of this.Ij.o9(a))await this.ya.G().Qr(b);this.gm&&this.gm.Zg()&&this.gm.Hv(this.Mw);this.ya.Or(this.vf);this.jy=!0}Kp(a){for(const b of this.jr.values())b.Kp(a)}la(){const a=
{},b={t:this.dd,st:this.ky,s:this.aD,ev:this.Ij.ib,sm:this.vf.map(e=>e.ib),sols:a};this.Ij.U$(this.ug)&&(b.act=this.Ij.ZN(this.ug).ib);for(const [e,c]of this.jr)a[e.ib.toString()]=c.la();return b}static U8(a,b){const e=a.G();var c=a.r0(b.ev);if(!c)return null;let f=0;if(b.hasOwnProperty("act")){var k=a.a0(b.act);if(!k)return null;f=k.Ga()}k=d.A(d.XG,a);k.dd=b.t;k.za=-1===k.dd?"signal":"timer";k.ky=b.st;k.aD=b.s;k.Ij=c;k.ug=f;for(var g of b.sm)(c=e.Zi(g))&&k.vf.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
e.Zi(parseInt(l,10)))g=d.A(d.iR,null),g.ua(a,n),k.jr.set(b,g);return k}}}{"use strict";const d=self.j;d.iR=class extends d.ga{constructor(a){super();this.N=null;this.$C=!0;this.D=[];a&&(this.N=a.H(),this.$C=a.cc,d.xd(this.D,a.D))}g(){this.N=null;d.C(this.D)}sI(a){a.Je(this.$C);d.xd(a.D,this.D)}Kp(a){d.Mh(this.D,a)}la(){return{sa:this.$C,insts:this.D.map(a=>a.Pc)}}ua(a,b){a=a.G();this.$C=!!b.sa;d.C(this.D);for(const e of b.insts)(b=a.Vi(e))&&this.D.push(b)}}}
{"use strict";const d=self.j;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Dk=class extends d.ga{constructor(b){super();this.b=b.Qc;this.ro=!!b.dX;this.Yf=!!b.Lga;this.bfa=!!b.Kga;this.lfa=!!b.Yga;this.Nea=!!b.Aga;this.wW=!!b.uha;this.Ffa=!!b.tha;this.nW=null;this.qU=new Map;this.tea=new Map;this.uea=new Map;this.vea=new Map}g(){this.b=null}G(){return this.b}Vb(){}Dp(){return this.bfa}An(){return this.lfa}gG(){return this.Nea}Rn(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.qU.get(b);if(c)return c;c=b.bind(e);this.qU.set(b,c);return c}hS(b,e,c){if(!e)throw Error("missing 'this' binding");const f=a(this.tea,b);let k=f.get(c);if(k)return k;k=b.bind(e,c);f.set(c,k);return k}iS(b,e,c,f){if(!e)throw Error("missing 'this' binding");var k=a(this.uea,b);k=a(k,c);let g=k.get(f);if(g)return g;g=b.bind(e,c,f);k.set(f,g);return g}jS(b,e,c,f,k){if(!e)throw Error("missing 'this' binding");var g=a(this.vea,b);g=a(g,c);g=a(g,f);let l=g.get(k);if(l)return l;l=b.bind(e,c,f,
k);g.set(k,l);return l}sda(b){if(!this.ro)throw Error("must be single-global plugin");this.nW=b}Gl(){if(!this.ro)throw Error("must be single-global plugin");return this.nW.Gl()}}}
{"use strict";const d=self.j;d.Qna=class extends d.Dk{constructor(a,b){super(a);this.yq=b;this.pfa=0;this.iK=new Map;this.hN("elem-focused",e=>e.jba());this.hN("elem-blurred",e=>{e&&e.iba()})}g(){super.g()}i8(a){const b=this.pfa++;this.iK.set(b,a);return b}Zba(a){this.iK.delete(a)}hN(a,b){this.b.Ni(this.yq,a,e=>{const c=this.iK.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.j;d.Hn=class extends d.ga{constructor(a){super();this.N=a;this.b=a.G();this.wi=a.Fb()}g(){this.wi=this.b=this.N=null}H(){return this.N}G(){return this.b}Fb(){return this.wi}Hc(){return this.N.Hc()}gv(){}Nl(){}Ak(){}GA(){}KG(){}Xg(){return null}}}
{"use strict";const d=self.j;d.Rv=class extends d.ga{constructor(a,b){super();this.K=a;this.yq=b;this.b=a.G();this.N=this.K.H();this.eb=this.N.eb;this.Jm=this.Km=null;this.um=this.tm=!1;this.zd=null;this.Oy=!1}g(){this.Oy=!0;this.Nk();this.hq();this.Jm=this.Km=null;this.zd&&(this.zd.g(),this.zd=null);this.eb=this.N=this.b=this.K=null}Qs(){return this.Oy}Ca(){return this.K}G(){return this.b}H(){return this.N}Fb(){return this.eb.Fb()}jA(){return this.K.Th()}Aa(a){return this.b.Aa(a,this.K,null)}Sf(a){return this.b.Sf(a,
this.K,null)}gN(a,b){this.b.Ni(this.yq,a,b)}WP(a,b){this.b.Cn(this.yq,a,b)}bT(a,b){this.b.pm?this.WP(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.yq,handler:a,data:b,responseId:null})}ee(){}Wp(){}qf(){this.tm||(this.Km||(this.Km=()=>this.ee()),this.b.Db().addEventListener("tick",this.Km),this.tm=!0)}Nk(){this.tm&&(this.b.Db().removeEventListener("tick",this.Km),this.tm=!1)}gq(){this.um||(this.Jm||(this.Jm=()=>this.Wp()),this.b.Db().addEventListener("tick2",this.Jm),
this.um=!0)}hq(){this.um&&(this.b.Db().removeEventListener("tick2",this.Jm),this.um=!1)}Wb(){return null}Ob(){}Gb(){}Md(){}GG(a,b){if(0!==b){var e=this.Gb(a);if("number"!==typeof e)throw Error("expected number");this.Md(a,e+b)}}Xg(){return null}}}
{"use strict";const d=self.j;d.ys=class extends d.Rv{constructor(a,b){super(a,b);this.lb=a.i();this.pE=this.ou=null}g(){if(this.ou){const a=this.b.Db();a.removeEventListener("webglcontextlost",this.ou);a.removeEventListener("webglcontextrestored",this.pE);this.pE=this.ou=null}this.lb=null;super.g()}TO(){if(!this.ou){this.ou=()=>this.Hp();this.pE=()=>this.JG();var a=this.b.Db();a.addEventListener("webglcontextlost",this.ou);a.addEventListener("webglcontextrestored",this.pE)}}Hp(){}JG(){}i(){return this.lb}Kl(){return!1}qk(){if(!this.Kl())throw Error("original size not known");
const a=this.Kd();if(a)return a.M()}pk(){if(!this.Kl())throw Error("original size not known");const a=this.Kd();if(a)return a.I()}Kd(){return null}Uz(){var a=this.Kd();return a&&(a=a.hd())?[a.M(),a.I()]:[100,100]}Vz(){const a=this.Kd();return a?a.Xh():null}Dl(){const a=this.K.i();return[a.O(),a.P()]}Lp(){return!0}}}
{"use strict";const d=self.j,a=d.A(d.Rect);d.Pna=class extends d.ys{constructor(b,e){super(b,e);this.nC=this.Fb().i8(this);this.kV=!0;this.pea=this.FJ=!1;this.Jt=d.A(d.Rect,0,0,-1,-1);b=this.b.ba;this.CV=b.To;this.BV=b.So;this.qf()}g(){this.Fb().Zba(this.nC);this.us("destroy");this.nC=-1;super.g()}us(b,e){e||(e={});e.elementId=this.nC;this.WP(b,e)}aT(b){b||(b={});b.elementId=this.nC;this.bT("focus",b)}RA(b){b=!!b;this.kV!==b&&(this.kV=b,this.us("set-visible",{isVisible:b}))}ee(){this.GB(!1)}Dda(){const b=
this.b.ba.$z();return"Android"===d.Fd.rs&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}GB(b){var e=this.i();const c=e.aa();var f=e.O(),k=e.P();let [g,l]=c.Gp(f,k),[n,q]=c.Gp(f+e.M(),k+e.I());f=this.b.ba;k=f.qd;const r=f.Yc;if(e.Sc()&&c.Sc()){if(!this.Dda()){if(0>=n||0>=q||g>=k||l>=r){this.RA(!1);return}1>g&&(g=1);1>l&&(l=1);n>=k&&(n=k-1);q>=r&&(q=r-1)}a.set(g,l,n,q);e=f.To;k=f.So;!b&&a.ed(this.Jt)&&this.CV===e&&this.BV===k?this.RA(!0):(this.Jt.oa(a),this.CV=e,this.BV=k,this.RA(!0),b=null,this.pea&&
(b=c.Al()-.2),this.us("update-position",{left:Math.round(this.Jt.L)+f.mv(),top:Math.round(this.Jt.J)+f.nv(),width:Math.round(this.Jt.width()),height:Math.round(this.Jt.height()),fontSize:b}))}else this.RA(!1)}YN(){this.aT({focus:!0})}pN(){this.aT({focus:!1})}jba(){this.FJ=!0}iba(){this.FJ=!1}M5(b,e){this.us("set-css-style",{prop:d.BY(b),val:e})}L5(b,e){this.us("set-attribute",{name:b,val:e})}T4(b){this.us("remove-attribute",{name:b})}}}
{"use strict";const d=self.j,a=self.N1;d.Mp=class extends d.ga{constructor(b){super();this.b=b.Qc;this.XK=d.A(d.bF);this.xD=d.A(d.bF);this.nx=null;this.Bfa=b.qta||null}g(){this.xD.g();this.XK.g();this.b=null}G(){return this.b}Vb(){}j8(b){this.XK.Rc(b)}eA(){return this.XK.AF()}di(b){this.xD.Rc(b)}Vn(b){this.xD.gn(b)}ka(){return this.xD.AF()}J0(){if(null===this.nx){const b=this.Bfa;if(b){if(this.nx=new b(this),!(this.nx instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.nx=new a(this)}return this.nx}}}{"use strict";const d=self.j;d.Op=class extends d.ga{constructor(a){super();this.b=a.G();this.od=a;this.N=a.H();this.uj=a.Tg();this.uj.j8(this.N)}g(){this.uj=this.N=this.od=this.b=null}Sh(){return this.od}H(){return this.N}G(){return this.b}Tg(){return this.uj}}}
{"use strict";const d=self.j;d.Np=class extends d.ga{constructor(a,b){super();this.TB=a;this.yq=b;this.K=a.K;this.b=a.G();this.od=a.Sh();this.eb=this.od.eb;this.oV=this.um=this.tm=!1;this.zd=null}g(){this.Nk();this.hq();this.Kda();this.zd&&(this.zd.g(),this.zd=null);this.eb=this.od=this.b=this.K=this.TB=null}Tg(){return this.od.Tg()}H(){return this.K.H()}i(){return this.K.i()}G(){return this.b}Sh(){return this.od}jA(){return this.TB.jA()}Aa(a){return this.b.Aa(a,this.K,this.od)}Sf(a){return this.b.Sf(a,
this.K,this.od)}ee(){}Wp(){}qf(){this.tm||(this.b.d8(this),this.tm=!0)}Nk(){this.tm&&(this.b.Wba(this),this.tm=!1)}gq(){this.um||(this.b.e8(this),this.um=!0)}hq(){this.um&&(this.b.Xba(this),this.um=!1)}Kda(){this.oV&&(this.b.Vba(this),this.oV=!1)}gN(a,b){this.b.Ni(this.yq,a,b)}Wb(){return null}Ob(){}Gb(){}Md(){}GG(a,b){if(0!==b){var e=this.Gb(a);if("number"!==typeof e)throw Error("expected number");this.Md(a,e+b)}}Xg(){return null}}}
{"use strict";const d=self.j;d.B={};d.xa={};d.z4=class extends d.ga{constructor(a){super();this.b=a;this.nea=[];this.YV=new Map;this.Ae=null;this.kea=[];this.iJ=new Map;this.uV=this.BL=null}qZ(a){const b=this.b.Uh(a[0]);if(!b)throw Error("missing plugin");d.TX(a,b);a=d.A(b,{Qc:this.b,dX:a[1],Lga:a[2],Kga:a[5],Aga:a[8],Yga:a[9],uha:a[13],tha:a[14]});a.Vb();this.nea.push(a);this.YV.set(b,a)}sZ(){this.Ae=d.A(d.B.Za,{Qc:this.b,dX:!0});this.Ae.Vb()}lZ(a){a=this.b.Uh(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{Qc:this.b});b.Vb();this.kea.push(b);this.iJ.set(a,b);!this.BL&&d.xa.jp&&b instanceof d.xa.jp?this.BL=b:!this.uV&&d.xa.Nga&&b instanceof d.xa.Nga&&(this.uV=b)}d1(a){return this.YV.get(a)||null}z1(a){return this.iJ.has(a)}bO(a){return this.iJ.get(a)||null}vv(){return this.Ae}$F(){return this.BL}}}
{"use strict";const d=self.j,a=new Set;d.Cv=class extends d.ga{constructor(){super();this.ek="";this.V=this.W=this.Ux=this.Tx=this.bu=0;this.jx=this.ZC=!1;this.Vf=null;this.Im="";this.Fg=d.A(d.Rect);this.er=d.A(d.Jc);a.add(this)}g(){this.fh();this.Vf=null;a.delete(this)}static Hp(){for(const b of a)b.Im="",b.Fg.set(0,0,0,0),b.er.Nh(b.Fg)}xP(b){this.ek=b[0];this.bu=b[1];this.Tx=b[2];this.Ux=b[3];this.W=b[4];this.V=b[5];this.ZC=b[6];this.jx=!0}yP(b,e){if(this.Vf)throw Error("already loaded asset");
this.ek=e;const c={};d.nG(e)&&(c.Zy="remote");this.FA(b,c);return this.Vf.uP()}d5(b){if(b===this)throw Error("cannot replace with self");this.fh();this.ek=b.ek;this.bu=b.bu;this.Tx=b.Tx;this.Ux=b.Ux;this.W=b.W;this.V=b.V;this.jx=b.jx;this.Vf=b.Vf;this.Im=b.Im;this.Fg=b.Fg;this.er=b.er}pn(){return this.bu}M(){return this.W}I(){return this.V}FA(b,e){if(this.Vf)throw Error("already got asset");e=Object.assign({},e,{url:this.ek,size:this.pn()});this.Vf=b.Gv(e)}yA(){return this.Vf&&this.Vf.yA()}async zn(b,
e){if(!this.Vf)throw Error("no asset");if(this.Im)throw Error("already loaded texture");this.Im="loading";b=await this.Vf.zn(b,e);if(!b)return this.Im="",null;this.Im="loaded";this.jx||(this.W=b.M(),this.V=b.I(),this.jx=!0);this.Fg.set(this.Tx,this.Ux,this.Tx+(this.ZC?this.V:this.W),this.Ux+(this.ZC?this.W:this.V));this.Fg.ik(b.M(),b.I());this.er.Nh(this.Fg);this.ZC&&this.er.lha();return b}fh(){this.Im&&(this.Vf&&this.Vf.fh(),this.Im="",this.Fg.set(0,0,0,0),this.er.Nh(this.Fg))}hd(){return this.Vf?
this.Vf.hd():null}Xh(){return this.Fg}es(){return this.er}}}
{"use strict";const d=self.j;d.mY=class extends d.ga{constructor(a){super();this.Fa=a[0];this.Fh=a[1];this.VC=!!a[2];this.au=a[3];this.hW=a[4];this.afa=!!a[5];this.ib=a[6];this.ge=a[7].map(b=>d.A(d.lY,b))}g(){for(const a of this.ge)a.g();d.C(this.ge)}vP(a){for(const b of this.ge)b.Hc().FA(a)}wP(a,b){return Promise.all(this.ge.map(e=>e.Hc().zn(a,b)))}eQ(){for(const a of this.ge)a.Hc().fh()}Ba(){return this.Fa}lk(a){a=Math.floor(a);if(0>a||a>=this.ge.length)throw new RangeError("invalid frame");return this.ge[a]}Hl(){return this.Fh}nn(){return this.au}}}
{"use strict";const d=self.j;d.lY=class extends d.ga{constructor(a){super();this.zg=d.A(d.Cv);this.zg.xP(a);this.BU=a[7];this.VV=d.A(d.Ps,a[8],a[9]);this.HC=a[10].map(b=>d.A(d.a2,this,b));this.dV=new Map;for(const b of this.HC)this.dV.set(b.Ba().toLowerCase(),b);this.sq=null;a=a[11];6<=a.length&&(this.sq=d.A(d.fn,a))}g(){this.sq&&(this.sq.g(),this.sq=null);this.zg.g();this.zg=null}Hc(){return this.zg}Vh(){return this.VV.X}Wh(){return this.VV.T}oO(a){return this.dV.get(a.toLowerCase())||null}nO(a){a=
Math.floor(a);return 0>a||a>=this.HC.length?null:this.HC[a]}qv(){return this.HC.length}}}{"use strict";const d=self.j;d.a2=class extends d.ga{constructor(a,b){super();this.Fa=b[0];this.HD=d.A(d.Ps,b[1],b[2])}g(){}Ba(){return this.Fa}O(){return this.HD.X}P(){return this.HD.T}}}
{"use strict";const d=self.j,a=self.Ph,b=self.lG;d.FG=class extends d.ga{constructor(e,c,f){super();const k=e.Uh(f[1]);this.b=e;this.wi=e.Dm.d1(k);this.eb=null;this.LC=k.Instance;this.Ua=c;this.ib=f[11];this.Fa=f[0];this.Fx=this.b.Xi(f[14]);this.Yea=!!f[9];this.Wa=!!f[2];this.xK=!!f[10];this.Qj=f[3].map(g=>({AX:g[0],type:g[1],name:g[2],Mga:e.Xi(g[3])}));this.rea=f[4];this.Iea=f[5];this.Yf=this.wi.Yf;this.Qa=null;this.$B=d.A(d.c7,e.Ue,e.Te);this.aJ=!0;this.bJ=!1;this.OJ=this.no=null;this.Jj=-1;this.NJ=
this.tC=this.uC=this.MJ=this.pi=null;this.rK=!1;this.Aj=null;this.oU=f[8].map(g=>d.mN.Sa(this,g));this.UB=[];this.jJ=new Map;this.hJ=new Map;this.EW=new Set;this.Eo=d.A(d.Z6,this);this.QB=this.PB=this.Cc=this.zg=this.Aj=this.qt=null;this.hu=0;this.Jb=new Map;this.Hi=new Map;this.D=[];this.eK=!0;this.wi.gG()&&(this.Qa=d.A(d.ul,this,f[12]));f[6]&&(this.zg=d.A(d.Cv),this.zg.xP(f[6]));if(f[7]){this.Cc=f[7].map(g=>d.A(d.mY,g));this.PB=new Map;this.QB=new Map;for(const g of this.Cc)this.PB.set(g.Ba().toLowerCase(),
g),this.QB.set(g.ib,g)}this.Wa?(this.no=[],this.OJ=new Set,this.Jj=this.b.J$()):(this.pi=[],this.MJ=new Set,this.uC=[],this.tC=[],this.NJ=[]);this.eb=d.A(k.Ie,this,f[15]);this.jV=this.qx=null;this.Ee=d.A(d.Event.Db);if(c=this.eb.Xg()){if(this.qx=new c(this),!(this.qx instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.qx=new b(this);this.b.lE&&!this.Wa&&!this.xK&&this.Yf||this.Vb();this.wi.ro&&(this.wi.sda(this),this.d9(f))}static Sa(e,c,f){return d.A(d.FG,
e,c,f)}g(){this.zg&&(this.zg.g(),this.zg=null);if(this.Cc){for(const e of this.Cc)e.g();d.C(this.Cc);this.PB.clear();this.QB.clear()}this.Eo.g();this.Eo=null;this.Jb.clear();this.Hi.clear();this.b=this.Aj=null}yaa(e){for(let c=1,f=e.length;c<f;++c){const k=this.b.Lf(e[c]);this.no.push(k);this.OJ.add(k);k.pi.push(this);k.MJ.add(this)}}Uca(e){this.rK=!0;this.Aj=e}Ic(){return this.rK}eba(){var e=0;if(!this.Wa)for(var c of this.pi)for(var f of c.oU){const l=f.Ba().toLowerCase();this.jJ.set(l,f);this.hJ.set(l,
e);this.UB.push(f);++e}for(var k of this.oU)c=k.Ba().toLowerCase(),this.jJ.set(c,k),this.hJ.set(c,e),this.UB.push(k),++e;for(var g of this.UB)this.EW.add(g.Tg().constructor);if(!this.Wa&&this.pi.length){e=this.b.GU;d.BE(this.uC,e,0);d.BE(this.tC,e,0);d.BE(this.NJ,e,0);e=[];c=g=k=0;for(const l of this.pi)if(f=l.Jj,this.uC[f]=k,k+=l.Qj.length,this.tC[f]=g,g+=l.rea,this.NJ[f]=c,c+=l.Iea,(f=l.Qa)&&this.Qa)for(const n of f.Sg())e.push(n.UY(this.Qa));this.Qa&&this.Qa.E4(e)}}d9(e){const c=this.b.I$(),f=
d.A(d.Instance,{Qc:this.b,HM:this,uid:c});f.dB(e[16],[]);this.b.Raa(c,f);this.D.push(f)}Vb(){this.Wa||this.eb.Vb()}D1(){return 0<this.hu}Nl(e){if(this.Wa)return Promise.resolve();this.hu++;return 1===this.hu?this.eb.Nl(e)||Promise.resolve():Promise.resolve()}Ak(){if(!this.Wa){this.hu--;if(0>this.hu)throw Error("released textures too many times");0===this.hu&&this.eb.Ak()}}GA(){if(this.Wa)throw Error("not applicable to family");this.eb.GA()}KG(e){return this.Wa?Promise.resolve():this.eb.KG(e)}G(){return this.b}Fb(){return this.wi}Ba(){return this.Fa}Xi(){return this.Fx}Ga(){return this.Ua}ah(){return this.Yea}sR(e){return e&&
this.EW.has(e)}O0(){return this.Qj.map(e=>e.AX)}N0(e){return this.Qj.findIndex(c=>c.AX===e)}M0(e){return this.Qj.findIndex(c=>c.name===e)}y$(){return this.Qj.map(e=>e.Mga)}sv(e){e=Math.floor(e);if(0>e||e>=this.Qj.length)throw new RangeError("invalid instance variable index");return this.Qj[e].type}qO(e){e=Math.floor(e);if(0>e||e>=this.Qj.length)throw new RangeError("invalid instance variable index");return this.Qj[e].name}Oz(e){return this.jJ.get(e.toLowerCase())||null}lv(e){e=this.hJ.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}gG(){return this.wi.gG()}tR(){return this.Qa&&this.Qa.v1()}Z(){return this.Eo.Z()}Hc(){return this.zg}EQ(e){this.qt=e}dF(e){return this.MJ.has(e)}UN(e){return this.OJ.has(e)}qp(e){return this.tC[e]}kO(e){return this.uC[e]}$N(e){if(!this.Cc)throw Error("no animations");return this.PB.get(e.toLowerCase())||null}d0(e){if(!this.Cc)throw Error("no animations");return this.QB.get(e)||null}A0(){if(!this.Cc)throw Error("no animations");return this.Cc[0].lk(0)}n0(){if(this.Cc){const e=
this.A0().Hc();return[e.M(),e.I()]}return this.zg?[this.zg.M(),this.zg.I()]:[100,100]}Gl(){if(!this.wi.ro)throw Error("not a single-global plugin");return this.D[0]}ka(){return this.D}*bX(){yield*this.D}*Ega(){yield*this.D;for(const e of this.b.om)e.H()===this&&(yield e)}di(e){this.D.push(e)}Dw(){this.eK=!0}EB(){if(this.eK&&!this.Wa){var e=this.D,c=0;for(let f=e.length;c<f;++c)e[c].DT(c);e=this.b.om;for(const f of e)f.H()===this&&f.DT(c++);this.eK=!1}}pO(e){var c=this.D;if(e<c.length)return c[e];
e-=c.length;c=this.b.om;for(const f of c)if(f.H()===this){if(0===e)return f;--e}return null}KF(e){if(e&&e.Ic()&&e.H()!==this)for(const c of e.Qd)if(c.H()===this)return c;e=this.Z().ka();return e.length?e[0]:null}yO(e){const c=this.Z().ka();return 0<c.length?c[e.rp()%c.length]:null}*LW(e,c){const f=this.Z().ka();var k=f.length;const g=c.Z(),l=c.Z().ka(),n=l.length;var q=e.rp();if(c.Wa||!g.cc)q=l.indexOf(e);e=Math.ceil(k/n);k%=n;0===k||q<k?(q*=e,k=e):(q=k*e+(q-k)*(e-1),k=e-1);for(let r=q,p=q+k;r<p;++r)yield f[r]}gv(e){this.eb.gv(e)}nc(){if(this.rK&&
!this.Wa){this.EB();var e=this.Z(),c=e.D,f=e.cc,k=this.b.If();k=k&&k.Eb()&&k.Eb().he;for(const n of this.Aj.Bm)if(n!==this){n.EB();var g=n.Z();g.Je(f);if(!f){var l=g.D;d.C(l);for(const q of c)l.push(n.pO(q.rp()));if(k){l=e.vc;g=g.vc;d.C(g);for(const q of l)g.push(n.pO(q.rp()))}}}}}Sda(e,c){for(const f of this.Aj.Bm){const k=f.Z();e?d.Ye(k.vc,c):d.Ye(k.D,c)}}yT(){this.aJ=!0}xI(e){this.bJ=!!e}bU(){if(this.aJ&&this.Yf){for(const e of this.D)e.i().eU();for(const e of this.b.om)e.H()===this&&e.i().eU();
this.aJ=!1}}Xd(){this.Jb||(this.Jb=new Map);return this.Jb}yv(){this.Hi||(this.Hi=new Map);return this.Hi}UO(){return this.sR(d.xa.Mla)}hG(){return this.sR(d.xa.jma)}la(){const e={instances:this.D.map(c=>c.Wb())};this.Jb&&this.Jb.size&&(e.ex=d.wH(this.Jb));return e}ua(e){this.Jb&&(this.Jb.clear(),this.Jb=null);var c=e.ex;c&&(this.Jb=d.yF(c));c=this.D;e=e.instances;for(let f=0,k=Math.min(c.length,e.length);f<k;++f)c[f].Ob(e[f]);for(let f=e.length,k=c.length;f<k;++f)this.b.hn(c[f]);for(let f=c.length,
k=e.length;f<k;++f){c=e[f];let g=null;if(this.Yf&&(g=this.b.Ub().dA(c.w.l),!g))continue;this.b.Qi(this.qt||this,g,!1,0,0,!0).Ob(c)}this.Dw()}Rh(e){var c=this.b;(c=c.Ib&&!c.ja().xA())&&a.sH();this.Ee.dispatchEvent(e);c&&a.$E()}}}{"use strict";const d=self.j;d.eZ=class extends d.ga{constructor(a,b){super();this.b=a;this.Bm=b;for(const e of this.Bm)e.Uca(this)}g(){this.b=null}G(){return this.b}y1(){return this.Bm.some(a=>a.Yf)}}}
{"use strict";const d=self.j,a=self.Ph,b=self.rn,e=[];let c=0;const f=new WeakMap,k=new WeakMap;d.Instance=class extends d.ga{constructor(g){super();this.b=g.Qc;this.ue=g.HM;this.Me=this.ia=this.lb=null;this.bV=0;this.Pc=g.uid;this.cW=c++;this.ma=0;this.nd=this.Wf=e;var l=this.ue.UB;0<l.length&&(this.nd=l.map((n,q)=>d.A(d.qz,{Qc:this.b,iM:n,instance:this,index:q})));this.Qd=this.ue.Ic()?[]:null;this.Ce=-1;this.Zb=null;l=this.Fb();l.An()&&(this.ma|=4);if(l.Yf)if(this.lb=d.A(d.T7,this,g.me),g.KX)this.lb.sn(g.KX);
else{this.lb.r2();const [n,q]=this.ue.n0();this.lb.Pb(n,q);this.H().tR()&&this.lb.Ne.r3()}g.aX?this.Caa(g.aX):this.waa()}g(){this.Me&&(this.Me.Cw(),this.Me=null);if(0<this.nd.length){for(var g of this.nd)g.g();d.C(this.nd)}this.ia.g();this.ia=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.Qd&&d.C(this.Qd);this.Zb&&(this.Zb.g(),this.Zb=null);this.ue=this.b=null;0<this.Wf.length&&d.C(this.Wf);this.lb&&(this.lb.g(),this.lb=null)}Caa(g){0<g.length&&(this.Wf=
[],d.xd(this.Wf,g))}waa(){const g=this.ue.Qj.length;if(0!==g){this.Wf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.Wf.push(l[this.ue.sv(n)])}}dB(g,l){if(this.ia)throw Error("already got sdk instance");for(let n=0,q=this.nd.length;n<q;++n)this.nd[n].dB(l?l[n]:null);this.ia=d.A(this.ue.LC,this,g);if(!(this.ia instanceof d.Rv))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.nd.length;n<q;++n);this.ue.jV&&this.CS()}i(){return this.lb}G(){return this.b}b0(){const g=this.Ce;return-1===
g?this.G().Ce:g}kH(g){g=+g;if(0>g||!isFinite(g))g=0;this.Ce=g}l5(){this.Ce=-1}Db(){this.Zb||(this.Zb=d.A(d.Event.Db));return this.Zb}Vd(g){this.ia.Vd(g)}Vb(g){this.ia.Vb(g)}fda(){this.ma|=2}yk(){return 0!==(this.ma&2)}jI(){this.ma|=1}fP(){return 0!==(this.ma&1)}An(){return 0!==(this.ma&4)}o6(){this.ma|=32}EP(){return 0!==(this.ma&32)}HS(){return 0!==(this.ma&8)}tda(g){this.ma=g?this.ma|8:this.ma&-9}Wv(g,l){g<<=16;this.ma=l?this.ma|g:this.ma&~g}NF(g){return 0!==(this.ma&g<<16)}Kd(){return this.ia.Kd()}Uz(){return this.ia.Uz()}Vz(){return this.ia.Vz()}Dl(g){return this.ia.Dl(g)}H(){return this.ue}Lp(){return this.ia.Lp()}Nr(g){return g.Wa?
g.UN(this.H()):this.H()===g}uR(){if(!this.Fb().wW)throw Error("object does not support scene graph");}xk(){return null!==this.Da()}Da(){var g=this.i();return g?(g=g.Da())?g.Ca():null:null}lA(){var g=this.i();return g?(g=g.lA())?g.Ca():null:null}*bz(){const g=this.i();if(g)for(const l of g.bz())yield l.Ca()}Nf(){const g=this.i();return g?g.Nf():!1}Hf(){const g=this.i();return g?g.Hf().map(l=>l.Ca()):[]}*children(){const g=this.i();if(g)for(const l of g.children())yield l.Ca()}*Vo(){const g=this.i();
if(g)for(const l of g.Vo())yield l.Ca()}Sz(){const g=this.i();return g?g.Sz():0}DF(g){const l=this.i();return l?(g=l.DF(g))?g.Ca():null:null}cn(g,l){this.uR();g.uR();this.i().cn(g.i(),l||{})}Bk(g){const l=this.i();l&&l.Bk(g.i())}Xz(){const g=this.i();return g?g.Xz():!1}S6(){var g=this.i();if(g&&(g=g.tL))for(const l of g)if(g=this.b.Vi(l[2])){const n=l[3];this.cn(g,{Ou:!!(n>>0&1),Pu:!!(n>>1&1),Jr:!!(n>>2&1),Ir:!!(n>>3&1),Nu:!!(n>>4&1),Ry:!!(n>>5&1),Qu:!!(n>>6&1)})}}Ic(){return null!==this.Qd}Rs(g){this.Qd.push(g)}F1(g){return!!this.KO(g)}KO(g){const l=
this.Qd;if(null===l||0===l.length)return!1;for(const n of l)if(n.H()===g)return n;return null}ij(){for(const g of this.Qd)g.H().Z().Fk(g)}Lba(){for(const g of this.Qd)g.H().Z().bq(g)}rda(g){for(const l of this.Qd)l.H().Z().D[g]=l}Kba(){for(const g of this.Qd)g.H().Z().Un(g)}qda(g){for(const l of this.Qd)l.H().Z().vc[g]=l}Fb(){return this.ue.Fb()}DT(g){this.bV=g}rp(){this.ue.EB();return this.bV}e0(g){if(!g)return null;for(const l of this.nd)if(l.Tg()instanceof g)return l;return null}cO(g){const l=
this.nd;for(let n=0,q=l.length;n<q;++n)if(l[n].Sh().ib===g)return n;return-1}ef(g){g|=0;const l=this.Wf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}F$(g){const l=this.Wf[g];return 0===this.ue.sv(g)?!!l:l}Ln(g,l){g|=0;const n=this.Wf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.ue.sv(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");
}}b6(g,l){if(0!==l){g|=0;var n=this.Wf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var q=n[g];if("number"===typeof q)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Xd(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}yv(){let g=k.get(this);if(g)return g;
g=new Map;k.set(this,g);return g}wS(g){const l=this.H();if(l.Ee.eG(g))return!0;for(const n of l.pi)if(n.Ee.eG(g))return!0;return this.b.Ee.eG(g)?!0:!1}DB(){const g=new Set;g.add(this);const l=this.i();if(l&&l.Nf())for(const n of this.Vo())if(g.add(n),n.Ic())for(const q of n.Qd)g.add(q);if(this.Ic())for(const n of this.Qd)g.add(n);for(const n of g.values())n.YT()}YT(){if(this.wS("instancecreate")){const g=this.H(),l=new d.Event("instancecreate");l.instance=this.Th();g.Rh(l);for(const n of g.pi)n.Rh(l);
this.b.Rh(l)}this.b.Aa(this.Fb().constructor.F.W3,this,null)}Qda(){this.b.Aa(this.Fb().constructor.F.X3,this,null)}p$(g){if(this.Me){var l=new d.Event("destroy");l.Iga=g;this.Rh(l)}if(this.wS("instancedestroy")){l=this.H();var n=new d.Event("instancedestroy");n.instance=this.Th();n.Iga=g;l.Rh(n);for(const q of l.pi)q.Rh(n);this.b.Rh(n)}}Wb(g="full"){const l={};"full"===g?l.uid=this.Pc:l.c3=!0;if("visual-state"!==g){var n=f.get(this);n&&n.size&&(l.ex=d.wH(n));-1!==this.Ce&&(l.mts=this.Ce);if(0<this.ue.Qj.length){n=
{};var q=this.ue.O0();for(let r=0,p=this.Wf.length;r<p;++r)n[q[r].toString()]=this.Wf[r];l.ivs=n}if(this.nd.length){n={};for(const r of this.nd)(q=r.Wb())&&(n[r.Sh().ib.toString()]=q);l.behs=n}}this.lb&&(l.w=this.lb.la(g));(g=this.ia.Wb())&&(l.data=g);return l}rB(g="full"){this.lb&&this.lb.rB(g)}Ob(g,l="full"){if("full"===l)this.Pc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=f.get(this);n&&(n.clear(),f.delete(this));if(n=g.ex)n=d.yF(n),f.set(this,n);this.Ce=g.hasOwnProperty("mts")?g.mts:
-1;if(n=g.ivs)for(const [p,w]of Object.entries(n))if(n=this.ue.N0(parseInt(p,10)),!(0>n||n>=this.Wf.length)){var q=w;null===q&&(q=NaN);this.Wf[n]=q}}if(this.Fb().Yf){n=g.w;var r=n.l;this.lb.aa().ib!==r&&(q=this.lb.aa(),(r=q.oc().dA(r))?(this.lb.Ew(r),q.Vn(this,!0),r.di(this,!0),r.jh(),this.lb.ta()):"full"===l&&this.b.hn(this));this.lb.ua(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [p,w]of Object.entries(l))l=this.cO(parseInt(p,10)),0>l||l>=this.nd.length||this.nd[l].Ob(w);(g=g.data)&&this.ia.Ob(g)}Th(){return this.Me||
this.CS()}CS(){var g=this.lb?self.hs:b;const l=this.ia.Xg(),n=this.ue.jV,q=n||l||g;b.nj(this);this.Me=new q;b.nj(null);if(l&&!(this.Me instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Me instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.Me}E$(g){if(0!==this.Wf.length){var l={},n=this.ue.y$();for(let q=0,r=n.length;q<r;++q)l[n[q]]=
{configurable:!1,enumerable:!0,get:d.Instance.prototype.F$.bind(this,q),set:d.Instance.prototype.Ln.bind(this,q)};l=Object.create(Object.prototype,l);g.Ura={value:l,writable:!1}}}z$(g){var l=this.nd;if(0!==l.length){var n={};for(const q of l)n[q.Sh().Xi()]={value:q.jA(),writable:!1};l=Object.create(Object.prototype,n);g.Py={value:l,writable:!1}}}Rh(g){g.instance=this.Th();var l=this.b;(l=l.Ib&&!l.ja().xA())&&a.sH();this.Th().dispatchEvent(g);l&&a.$E()}}}
{"use strict";const d=self.j;d.v5=class extends d.ga{constructor(a){super();this.wc=a;this.Mc=null;this.YB=[];this.YD=a.M();this.XD=a.I();this.JL=this.IL=1;this.AD=0}g(){this.Mc=null;d.C(this.YB)}VQ(a){this.AD=(this.Mc=a)?a.ra():0}Da(){return this.Mc}Nf(){return 0<this.YB.length}Hf(){return this.YB}A6(a){this.IL=a}B6(a){this.JL=a}rk(){return this.wc.vp()?this.Mc.M()/this.Mc.Nb.YD:1}sk(){return this.wc.up()?this.Mc.I()/this.Mc.Nb.XD:1}la(){return{sw:this.YD,sh:this.XD,sx:this.IL,sy:this.JL,psa:this.AD,
c:this.YB.map(a=>{let b="";a.wp()&&(b+="x");a.xp()&&(b+="y");a.vp()&&(b+="w");a.up()&&(b+="h");a.nA()&&(b+="a");a.oA()&&(b+="z");a.Xz()&&(b+="d");return{uid:a.Ca().Pc,f:b}})}}ua(a){this.YD=a.sw;this.XD=a.sh;this.IL=a.sx;this.JL=a.sy;this.AD=a.psa}Aw(a){const b=this.wc,e=b.G();for(const c of a.c){a=e.Vi(c.uid).i();const f=c.f,k={};k.Ou=f.includes("x");k.Pu=f.includes("y");k.Jr=f.includes("w");k.Ir=f.includes("h");k.Nu=f.includes("a");k.Qu=f.includes("z");k.Ry=f.includes("d");b.cn(a,k)}}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Jc),e=d.A(d.Event,"bboxchange",!1),c=d.A(d.Ya,0,0,0,0),f=d.A(d.fn),k=d.A(d.Ya,1,1,1,1),g=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let r=!0;d.T7=class extends d.ga{constructor(p,w){super();this.K=p;this.N=p.H();this.b=p.G();this.bl=w;this.ml=-1;this.ma=196635;this.N.Fb().Dp()&&(this.ma|=128);this.Ut=this.Tt=this.uJ=this.yL=this.Va=this.Ej=this.Oj=this.fk=this.ud=this.T=this.X=NaN;this.nJ=d.A(d.Rect);this.oJ=
d.A(d.Jc);this.ZB=l;this.by=g;this.Ei=this.ju=this.UD=null;this.uq=this.Ia=k;this.Ne=this.nr=null;this.K.H().tR()&&(this.Ne=d.A(d.H2,this.K,this));this.tL=this.Nb=null;this.uL=this.kW=NaN;this.vi=null}jI(){this.ma|=256}g(){this.nr&&(this.b.qb().fQ(this.nr),this.nr=null);this.UD=null;this.ju&&(this.ju.rX.g(),this.ju=null);this.Ei&&(this.Ei.clear(),this.Ei=null);this.MA();this.xk()&&this.Da().Bk(this);if(this.Nf()){const p=[...this.Hf()];for(const w of p)this.Bk(w)}this.uB();this.bl=this.b=this.N=this.K=
null}sn(p){r=!1;this.pe(p[0],p[1]);this.He(p[2]);this.Pb(p[3],p[4]);this.Ej=0;this.Dp()?this.Bc(p[6]):this.Va=0;c.$m(p[7]);this.wB(c);this.Qp(p[8]);this.Rp(p[9]);this.Of(p[10]);this.Ne&&this.Ne.xaa(p[12]);p[14]&&(this.tL=p[14][1],this.kW=p[14][2]);if(p[15]){var w=p[15];this.oF(w[0],w[1]);p=this.bj();w=w[2];for(let t=0,v=w.length;t<v;++t){const x=w[t];for(let z=0,D=x.length;z<D;++z){const E=x[z],M=p.Zr(z,t);M.Qf(E[0]);M.ih(E[1]);M.He(E[2]);M.lH(E[3]);M.mH(E[4])}}}r=!0;this.Zs()}r2(){this.yL=this.Va=
this.Ej=this.Oj=this.fk=this.ud=this.T=this.X=0;this.uJ=1;this.Ut=this.Tt=0;this.Zs()}G(){return this.b}H(){return this.N}Ca(){return this.K}pw(){return this.nA()?this.Da().ra()-this.Nb.AD:0}Qf(p){p=+p;if(this.wp()){const w=this.Nb;p-=this.O();const t=-this.pw();0===t?this.X+=p/w.rk():(this.X+=Math.cos(t)*p/w.rk(),this.xp()&&(this.T+=Math.sin(t)*p/w.sk()))}else this.X=p}Iv(p){p=+p;this.wp()?this.Qf(this.O()+p):this.X+=p}O(){if(this.wp()){let p=this.X;const w=this.Nb,t=this.Da(),v=this.pw();0===v?
p*=w.rk():(p=p*w.rk()*Math.cos(v),this.xp()&&(p-=this.T*w.sk()*Math.sin(v)));return t.O()+p}return this.X}ih(p){p=+p;if(this.xp()){const w=this.Nb;p-=this.P();const t=-this.pw();0===t?this.T+=p/w.sk():(this.wp()&&(this.X-=Math.sin(t)*p/w.rk()),this.T+=Math.cos(t)*p/w.sk())}else this.T=p}Kv(p){p=+p;this.xp()?this.ih(this.P()+p):this.T+=p}P(){if(this.xp()){let p=this.T;const w=this.Nb,t=this.Da(),v=this.pw();0===v?p*=w.sk():(p=p*w.sk()*Math.cos(v),this.wp()&&(p+=this.X*w.rk()*Math.sin(v)));return t.P()+
p}return this.T}pe(p,w){p=+p;w=+w;if(this.RO()){const v=this.wp(),x=this.xp(),z=this.Nb,D=p-this.O(),E=w-this.P();var t=-this.pw();if(0===t)this.X=v?this.X+D/z.rk():p,this.T=x?this.T+E/z.sk():w;else{const M=Math.sin(t);t=Math.cos(t);this.X=v?x?this.X+(t*D-M*E)/z.rk():this.X+t*D/z.rk():p;this.T=x?v?this.T+(M*D+t*E)/z.sk():this.T+t*E/z.sk():w}}else this.X=p,this.T=w}Jv(p,w){p=+p;w=+w;this.RO()?this.pe(this.O()+p,this.P()+w):(this.X+=p,this.T+=w)}wF(p,w){return this.O()===p&&this.P()===w}He(p){p=+p;
this.oA()&&(p-=this.Da().Ta());this.ud!==p&&(this.ud=p,this.iU(),p=this.aa(),0!==this.ud&&p.zT(),p.jh())}iU(){this.Zs();if(this.Nf()){const p=this.Hf();for(let w=0,t=p.length;w<t;w++){const v=p[w];v.oA()&&v.iU()}}}Q3(p){this.He(this.Ta()+p)}Ta(){return this.oA()?this.Da().Ta()+this.ud:this.ud}Mf(){return this.aa().Ta()+this.Ta()}mf(p){p=+p;this.fk=this.vp()?this.fk*(p/this.M()):p}HP(p){p=+p;this.vp()?this.mf(this.M()+p):this.fk+=p}M(){return this.vp()?this.Da().M()*this.fk:this.fk}ld(p){p=+p;this.Oj=
this.up()?this.Oj*(p/this.I()):p}GP(p){p=+p;this.up()?this.ld(this.I()+p):this.Oj+=p}I(){return this.up()?this.Da().I()*this.Oj:this.Oj}Pb(p,w){p=+p;w=+w;this.fk=this.vp()?this.fk*(p/this.M()):p;this.Oj=this.up()?this.Oj*(w/this.I()):w}yl(){return this.Ej}bH(p){if(0>p)throw new RangeError("invalid depth");this.Ej=p}DO(){if(this.xk()){const p=this.Nb;return Math.min(p.rk(),p.sk())}return 1}Dp(){return 0!==(this.ma&128)}Bc(p){p=+p;this.Dp()&&(this.nA()&&(p-=this.Da().ra()),p=d.ke(p),this.Va!==p&&(this.Va=
p,this.kI()))}M3(p){p=+p;0!==p&&this.Dp()&&(this.Va=d.ke(this.Va+p),this.kI())}kI(){this.ma|=262144;if(this.Nf()){const p=this.Hf();for(let w=0,t=p.length;w<t;w++)p[w].kI()}}ra(){return this.nA()?d.ke(this.Da().ra()+this.Va):this.Va}TS(){const p=this.ma;if(0!==(p&262144)){var w=this.ra();this.yL=Math.sin(w);this.uJ=Math.cos(w);this.ma=p&-262145}}ZF(){this.TS();return this.yL}EF(){this.TS();return this.uJ}Qp(p){this.Tt=+p}O3(p){this.Tt+=+p}Vh(){return this.Tt}Rp(p){this.Ut=+p}P3(p){this.Ut+=+p}Wh(){return this.Ut}wB(p){this.Ia.ed(p)||
(this.Ia===k?(this.Ia=d.A(d.Ya,p),this.uq=d.A(d.Ya,p),this.uq.fz()):p.Ty(1,1,1,1)?this.uq=this.Ia=k:(this.Ia.set(p),this.uq.set(p),this.uq.fz()),this.Zs())}hj(p){p=d.fa(+p,0,1);this.Ia.Uo!==p&&(c.hk(this.Ia),c.Uo=p,this.wB(c))}N3(p){this.hj(this.ff()+p)}ff(){return this.Ia.Uo}eR(p){this.Ia.Wm(p)||(c.hk(p),c.Uo=this.Ia.Uo,this.wB(c))}N6(p,w,t){c.Ku(p,w,t);this.eR(c)}TF(){return this.uq}Xz(){return 0!==(this.ma&512)}I5(p){this.pf(512,p)}wp(){return 0!==(this.ma&1024)}I6(p){this.pf(1024,p)}xp(){return 0!==
(this.ma&2048)}RO(){return 0!==(this.ma&3072)}J6(p){this.pf(2048,p)}vp(){return 0!==(this.ma&4096)}H6(p){this.pf(4096,p)}up(){return 0!==(this.ma&8192)}G6(p){this.pf(8192,p)}nA(){return 0!==(this.ma&16384)}F6(p){this.pf(16384,p)}oA(){return 0!==(this.ma&32768)}K6(p){this.pf(32768,p)}JR(){this.ma&=-65025}cn(p,w){if(p!==this&&!p.xk()&&!this.yS(p)&&!this.xS(p)){var t=p.O(),v=p.P(),x=p.M(),z=p.I(),D=p.ra(),E=p.Ta();p.MT(this);p.I6(w.Ou);p.J6(w.Pu);p.H6(w.Jr);p.G6(w.Ir);p.F6(w.Nu);p.K6(w.Qu);p.I5(w.Ry);
w.Ou&&(p.X=t-this.O(),w.Jr&&(p.X/=this.M()/this.Nb.YD));w.Pu&&(p.T=v-this.P(),w.Ir&&(p.T/=this.I()/this.Nb.XD));w.Jr&&(p.fk=x/this.M(),p.Nb.A6(p.fk));w.Ir&&(p.Oj=z/this.I(),p.Nb.B6(p.Oj));w.Nu&&(p.Va=D-this.ra());w.Qu&&(p.ud=E-this.Ta());this.f8(p);this.ta()}}Bk(p){if(p.Da()===this){var w=p.O(),t=p.P(),v=p.M(),x=p.I(),z=p.ra(),D=p.Ta();p.MT(null);p.JR();p.pe(w,t);p.Pb(v,x);p.Bc(z);p.He(D);this.Yba(p);this.ta()}}fca(){for(var p of this.children())this.Bk(p);(p=this.Da())&&p.Bk(this);this.JR()}xk(){return null!==
this.Da()}Da(){const p=this.Nb;return null!==p?p.Da():null}lA(){let p=this;for(;p.xk();)p=p.Da();return p}*bz(){let p=this.Da();for(;p;)yield p,p=p.Da()}A1(p){return this.Hf().includes(p)}Nf(){const p=this.Nb;return null!==p?p.Nf():!1}Hf(){const p=this.Nb;return null!==p?p.Hf():q}children(){return this.Hf()}*Vo(){for(const p of this.children())yield p,yield*p.Vo()}Sz(){return this.Hf().length}DF(p){const w=this.Hf();p=Math.floor(+p);return 0>p||p>=w.length?null:w[p]}JH(p){this.Nb||(this.Nb=d.A(d.v5,
this));p&&this.Nb.VQ(p)}uB(){this.Nb&&(this.Nb.g(),this.Nb=null)}MT(p){p?(p.JH(null),this.JH(p)):(this.Nb&&this.Nb.VQ(null),this.Nf()||this.uB())}xS(p){if(!this.xk())return!1;const w=this.Da();return w===p?!0:w.xS(p)}yS(p){if(this.A1(p))return!0;for(const w of this.Hf())if(w.yS(p))return!0;return!1}f8(p){this.Nb.Hf().push(p)}Yba(p){const w=this.Nb.Hf(),t=w.indexOf(p);-1!==t&&w.splice(t,1);0!==w.length||this.xk()||this.uB();p.Nf()||p.uB()}fH(p){this.uL=p}Zs(){if(r){var p=this.b.qb();this.nr&&p.fQ(this.nr);
this.nr=p.RX(0!==(this.ma&524288)?p.VD||"<point>":p.WD||"<default>",this.Ti(),this.uq,this.Ta())}}qn(){return this.Ia===k}Of(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Ti()!==p&&(this.ma=this.ma&-2080374785|p<<26,this.Zs())}Ti(){return(this.ma&2080374784)>>26}Ew(p){this.bl=p;0!==this.Ta()&&this.bl.zT()}aa(){return this.bl}oc(){return this.aa().oc()}BB(p){this.ml=p|0}wk(){this.bl.Jw();return this.ml}pf(p,w){this.ma=w?this.ma|p:this.ma&~p}Sc(){return 0!==(this.ma&1)}lf(p){this.pf(1,
p)}$g(){return 0!==(this.ma&8)}Uv(p){p=!!p;this.$g()!==p&&(this.pf(8,p),p?this.ta():this.iT())}hH(p,w){this.pf(32,p);this.Ei&&this.Ei.clear();if(w.trim()){this.Ei||(this.Ei=new Set);for(const t of w.split(" "))t&&this.Ei.add(t.toLowerCase())}else this.Ei=null}BG(p){const w=0!==(this.ma&32),t=this.Ei;if(!p||!t)return!w;for(const v of t)if(p.has(v))return w;return!w}ta(){this.ma|=65554;this.N.yT();this.b.R();this.bl.Xp()&&(this.uz(this.nJ,this.oJ,!0),this.ma&=-3,this.Yda());0!==(this.ma&4)&&this.K.Db().dispatchEvent(e);
if(null!==this.Nb){const p=this.Nb.Hf();for(let w=0,t=p.length;w<t;++w)p[w].ta()}}uz(p,w,t){const v=this.O(),x=this.P(),z=this.M(),D=this.I(),E=this.ra();p.Mi(v-this.Tt*z,x-this.Ut*D,z,D);t&&this.pg()&&this.j$(p);0===E?w.Nh(p):(p.offset(-v,-x),w.OE(p,this.ZF(),this.EF()),w.offset(v,x),w.uM(p));p.normalize()}dU(){const p=this.ma;0!==(p&2)&&(this.uz(this.nJ,this.oJ,!0),this.ma=p&-3)}pb(){this.dU();return this.nJ}Ui(){this.dU();return this.oJ}ts(p){var w=this.O(),t=this.P();w=Math.round(w)-w;t=Math.round(t)-
t;if(0===w&&0===t)return p;b.oa(p);b.offset(w,t);return b}D5(p){this.pf(4,p)}bP(){return 0!==(this.ma&4)}lP(p,w,t){return w&&0!==this.yl()?this.ls(this.aa().qw()):0===this.Ta()||t?p.FE(this.pb()):this.naa()}naa(){const p=this.aa(),w=this.Mf();if(w>=p.Qz())return!1;p.cG(w,a);return a.FE(this.pb())}ls(p){var w=this.pb();const t=w.L,v=w.U,x=w.J;w=w.S;const z=this.Mf();return p.fZ(t,x,z,v,w,z+this.yl())}xB(p){this.pf(1048576,p)}zB(p){this.pf(2097152,p)}S2(){return 0!==(this.ma&1048576)}T2(){return 0!==
(this.ma&2097152)}iH(p){this.UD=p;this.QH();this.pg()&&(this.vi.CM=null)}rA(){return null!==this.UD||this.pg()}uk(){return this.B$(this.M(),this.I(),this.ra(),this.ZF(),this.EF())}B$(p,w,t,v,x){let z=this.ju;null===z&&(this.ju=z={rX:d.A(d.fn),width:NaN,height:NaN,angle:NaN});const D=z.rX;if(z.width===p&&z.height===w&&z.angle===t)return D;const E=this.UD;if(this.pg()){const M=this.Vh(),B=this.Wh(),G=this.bj();let H=this.vi.CM;H||(E?(f.oa(E),f.offset(M,B)):f.pha(),H=G.G2(f),this.vi.CM=H);G.t7(H,D);
D.offset(-M,-B);D.eN(p,w,v,x)}else E?(D.oa(E),D.eN(p,w,v,x)):D.XM(this.Ui(),-this.O(),-this.P());z.width=p;z.height=w;z.angle=t;return D}QH(){this.t6();const p=this.ju;null!==p&&(p.width=NaN)}oF(p,w){p=Math.floor(p);w=Math.floor(w);if(!this.Ca().Fb().Ffa)throw Error("object does not support mesh");this.MA();this.vi={$M:d.A(d.$.DP,p,w),EX:d.A(d.$.DP,p,w),CM:null}}pg(){return null!==this.vi}bj(){if(!this.pg())throw Error("no mesh");return this.vi.$M}SO(){if(!this.pg())throw Error("no mesh");return this.vi.EX}UA(p){this.pf(65536,
p)}oP(){return 0!==(this.ma&65536)}t6(){this.pf(131072,!0)}j$(p){const w=this.vi.$M,t=Math.min(w.a1(),0),v=Math.min(w.b1(),0),x=Math.max(w.W0(),1),z=Math.max(w.X0(),1),D=p.width(),E=p.height();p.offsetLeft(t*D);p.offsetTop(v*E);p.aha((x-1)*D);p.$ga((z-1)*E);this.Ej=w.Y0()}MA(){this.vi&&(this.vi.$M.g(),this.vi.EX.g(),this.vi=null,this.QH())}RQ(p,w,t){p=Math.floor(p);w=Math.floor(w);var v=t.mode||"absolute";if(!n.has(v))throw Error("invalid mode");v="relative"===v;let x=t.x,z=t.y;const D=t.oz;let E=
"number"===typeof t.IX?t.IX:v?0:-1;t="number"===typeof t.JX?t.JX:v?0:-1;if(!this.pg())return!1;const M=this.bj(),B=M.Zr(p,w);if(null===B)return!1;let G=!1;"number"===typeof D&&B.Ta()!==D&&(B.He(D),G=!0);v&&(x+=p/(M.Wk-1),z+=w/(M.jl-1));-1!==E||v?(v&&(E+=p/(M.Wk-1)),E=d.fa(E,0,1)):E=B.Jh;-1!==t||v?(v&&(t+=w/(M.jl-1)),t=d.fa(t,0,1)):t=B.Lh;if(B.O()===x&&B.P()===z&&B.Jh===E&&B.Lh===t)return G;B.Qf(x);B.ih(z);B.lH(E);B.mH(t);this.QH();return!0}yk(){return this.K.yk()}Yu(p,w){return this.pb().fg(p,w)&&
this.Ui().fg(p,w)?this.yk()?void 0:this.rA()?this.uk().fg(p-this.O(),w-this.P()):!0:!1}kaa(){return 0!==(this.ma&16)}eU(){if(this.kaa()&&this.$g()&&0===(this.ma&256)){var p=this.pb(),w=this.N.$B,t=this.ZB;a.set(w.kj(p.L),w.lj(p.J),w.kj(p.U),w.lj(p.S));t.ed(a)||(p=this.K,t===l?(w.Tl(p,null,a),this.ZB=d.A(d.Rect,a)):(w.Tl(p,t,a),t.oa(a)),this.ma&=-17)}}iT(){const p=this.ZB;p!==l&&(this.N.$B.Tl(this.K,p,null),this.ZB=l)}Yda(){const p=this.aa();if(p.Xp()&&0===(this.ma&256)){var w=p.$t,t=this.pb(),v=this.by;
a.set(w.kj(t.L),w.lj(t.J),w.kj(t.U),w.lj(t.S));v.ed(a)||(t=this.K,v===g?(w.Tl(t,null,a),this.by=d.A(d.Rect,a)):(w.Tl(t,v,a),v.oa(a)),p.w6())}}jT(){const p=this.by;p!==g&&(this.aa().$t.Tl(this.K,p,null),this.by=g)}c8(){const p=this.K,w=this.bl,t=w.D;t.length&&t.Xe(-1)===p||(w.Vn(p,!1),w.di(p,!1),this.b.R())}a8(){const p=this.K,w=this.bl,t=w.D;t.length&&t[0]===p||(w.Vn(p,!1),w.Hba(p),this.b.R())}b8(p){const w=this.K,t=this.bl;if(t.oc()!==p.oc())throw Error("layer from different layout");p!==t&&(t.Vn(w,
!0),this.Ew(p),p.di(w,!0),this.b.R())}Z7(p,w){const t=this.K;let v=!1;const x=this.bl;if(p.Pc!==t.Pc){var z=p.i();if(!z)throw Error("expected world instance");z=z.aa();x.Ga()!==z.Ga()&&(x.Vn(t,!0),this.Ew(z),z.di(t,!0),v=!0);p=z.F3(t,p,!!w);(v||p)&&this.b.R()}}eda(p){this.pf(64,p)}Av(){return 0!==(this.ma&64)}la(p){const w={x:this.O(),y:this.P(),w:this.M(),h:this.I(),l:this.aa().ib,zi:this.wk()};0!==this.Ta()&&(w.ze=this.Ta());0!==this.ra()&&(w.a=this.ra());this.qn()||(w.c=this.Ia.toJSON());.5!==
this.Vh()&&(w.oX=this.Vh());.5!==this.Wh()&&(w.oY=this.Wh());0!==this.Ti()&&(w.bm=this.Ti());this.Sc()||(w.v=this.Sc());this.$g()||(w.ce=this.$g());this.bP()&&(w.be=this.bP());this.Ne&&(w.fx=this.Ne.la());const t=0!==(this.ma&32);t&&(w.sfi=t);this.Ei&&(w.sft=[...this.Ei].join(" "));this.Nb&&"visual-state"!==p&&(w.sgi=this.Nb.la());this.pg()&&(w.mesh=this.bj().Wb());return w}rB(p){"visual-state"!==p&&this.fca()}ua(p,w){r=!1;this.Qf(p.x);this.ih(p.y);this.mf(p.w);this.ld(p.h);this.BB(p.zi);this.He(p.hasOwnProperty("ze")?
p.ze:0);this.Bc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.$m(p.c):p.hasOwnProperty("o")?(c.hk(this.Ia),c.Uo=p.o):c.hp(1,1,1,1);this.wB(c);this.Qp(p.hasOwnProperty("oX")?p.oX:.5);this.Rp(p.hasOwnProperty("oY")?p.oY:.5);this.Of(p.hasOwnProperty("bm")?p.bm:0);this.lf(p.hasOwnProperty("v")?p.v:!0);this.Uv(p.hasOwnProperty("ce")?p.ce:!0);this.D5(p.hasOwnProperty("be")?p.be:!1);this.hH(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Ne&&p.hasOwnProperty("fx")&&this.Ne.ua(p.fx);
if(p.hasOwnProperty("sgi")&&"visual-state"!==w){this.JH(null);const t=this.Nb,v=p.sgi;t.ua(v);const x=this.G().Db(),z=()=>{x.removeEventListener("afterload",z);0===(this.ma&256)&&t.Aw(v)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.oF(p.cols,p.rows),this.bj().Ob(p)):this.MA();this.ta();r=!0;this.Zs()}}}
{"use strict";const d=self.j;d.mN=class extends d.ga{constructor(a,b){super();const e=a.G(),c=e.Dm,f=e.Uh(b[1]);c.z1(f)||c.lZ(b);this.b=e;this.N=a;this.uj=c.bO(f);this.eb=null;this.LC=f.Instance;this.ib=b[2];this.Fa=b[0];this.Fx=this.b.Xi(b[3]);this.eb=d.A(f.Ie,this);this.Vb()}static Sa(a,b){return d.A(d.mN,a,b)}g(){this.uj=this.b=null;this.eb.g();this.LC=this.eb=null}Vb(){this.eb.Vb()}G(){return this.b}H(){return this.N}Tg(){return this.uj}Ba(){return this.Fa}Xi(){return this.Fx}}}
{"use strict";const d=self.j,a=self.YO;d.qz=class extends d.ga{constructor(b){super();this.b=b.Qc;this.od=b.iM;this.uj=this.od.Tg();this.K=b.instance;this.Ua=b.index;this.Me=this.ia=null;this.uj.di(this.K)}g(){this.Me&&(this.Me.Cw(),this.Me=null);this.uj.Vn(this.K);this.ia.g();this.K=this.uj=this.od=this.b=this.Me=this.ia=null}dB(b){if(this.ia)throw Error("already got sdk instance");this.ia=d.A(this.od.LC,this,b);this.caa()}G(){return this.b}Sh(){return this.od}Tg(){return this.uj}ei(){return this.Ua}Wb(){return this.ia.Wb()}Ob(b){return this.ia.Ob(b)}static qH(b,
e){var c=b.K,f=e.K;const k=c.H().Ga(),g=f.H().Ga();if(k!==g)return k-g;c=c.cW;f=f.cW;return c!==f?c-f:b.TB.ei()-e.TB.ei()}caa(){const b=this.ia.Xg(),e=b||a;a.nj(this);this.Me=new e;a.nj(null);if(b&&!(this.Me instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}jA(){return this.Me}}}
{"use strict";const d=self.j;d.ul=class extends d.ga{constructor(a,b){super();this.wc=a;this.qh=[];this.pj=[];this.mC=new Map;this.ni=[];this.Xt=!0;for(const e of b)a=d.A(d.QN,this,e,this.qh.length),this.qh.push(a),this.mC.set(a.Ba().toLowerCase(),a),3<=e.length&&this.ni.push(this.hI(e[2]));this.G().h8(this)}g(){d.C(this.qh);d.C(this.pj);this.mC.clear();d.C(this.ni);this.wc=null}E4(a){if(a.length){this.qh=a.concat(this.qh);for(const b of a)this.mC.set(b.Ba().toLowerCase(),b);for(let b=0,e=this.qh.length;b<
e;++b)this.qh[b].ida(b)}}hI(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.A(d.Ya);f.$m(c);a[b]=f}}return a}G(){return this.wc.G()}Pn(){d.C(this.pj);let a=!0;for(const b of this.qh)b.Mb&&(this.pj.push(b),b.jb.Xt||(a=!1));this.Xt=a}Sg(){return this.qh}v1(){return 0<this.qh.length}Bl(a){return this.mC.get(a.toLowerCase())||null}hO(a){a=Math.floor(+a);if(0>a||a>=this.qh.length)throw new RangeError("invalid effect type index");return this.qh[a]}Dv(a){return this.hO(a).Mb}JQ(a,
b){this.hO(a).OA(b)}Av(){return 0<this.pj.length}Vg(a){return this.ni[a]}static t5(a){return a&&a instanceof d.Ya?{t:"color",v:a.toJSON()}:a}static t3(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.Ya);b.$m(a.v);return b}throw Error("invalid effect parameter type");}return a}static wQ(a){return a.map(d.ul.t5)}static zP(a){return a.map(d.ul.t3)}Wb(){return this.qh.map(a=>({name:a.Ba(),active:a.Mb,params:d.ul.wQ(this.ni[a.Ga()])}))}Ob(a){for(const b of a)if(a=this.Bl(b.name))a.OA(b.active),
this.ni[a.Ga()]=d.ul.zP(b.params);this.Pn()}}}
{"use strict";const d=self.j;d.QN=class extends d.ga{constructor(a,b,e){super();this.Qa=a;this.uf=b[0];this.Fa=b[1];this.Ua=e;this.jb=null;this.Mb=!0}g(){this.jb=this.Qa=null}UY(a){a=d.A(d.QN,a,[this.uf,this.Fa],-1);a.jb=this.jb;a.Mb=this.Mb;return a}AS(a){a=a.JO(this.uf);if(!a)throw Error("failed to find shader program '"+this.uf+"'");this.jb=a}Ba(){return this.Fa}ida(a){this.Ua=a}Ga(){return this.Ua}G(){return this.Qa.G()}OA(a){this.Mb=!!a}o0(){const a=[];for(let b=0,e=this.jb.yr.length;b<e;++b){const c=
this.jb.fA(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.Ya,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.j;d.H2=class extends d.ga{constructor(a,b){super();this.K=a;this.Lfa=b;this.Qa=a.H().Qa;this.iq=[];this.pj=[];this.Xt=!0;this.ni=[];for(const e of this.Qa.Sg())this.iq.push(!0);this.Pn()}g(){d.C(this.iq);d.C(this.pj);d.C(this.ni);this.Qa=this.K=null}xaa(a){for(const b of a)this.ni.push(this.hI(b))}hI(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.A(d.Ya);f.$m(c);a[b]=f}}return a}r3(){for(const a of this.Qa.Sg())this.ni.push(a.o0())}G(){return this.K.G()}Pn(){d.C(this.pj);
const a=this.Qa.Sg(),b=this.pj,e=this.iq;let c=!0;for(let f=0,k=a.length;f<k;++f)if(e[f]){const g=a[f];b.push(g);g.jb.Xt||(c=!1)}this.Xt=c;this.Lfa.eda(!!b.length)}Vg(a){return this.ni[a]}Dv(a){return this.iq[a]}JQ(a,b){this.iq[a]=!!b}Sg(){return this.Qa.Sg()}la(){return this.Qa.Sg().map(a=>({name:a.Ba(),active:this.iq[a.Ga()],params:d.ul.wQ(this.ni[a.Ga()])}))}ua(a){for(const b of a)if(a=this.Qa.Bl(b.name))this.iq[a.Ga()]=b.active,this.ni[a.Ga()]=d.ul.zP(b.params);this.Pn()}}}
{"use strict";const d=self.j,a=[],b=[],e=d.A(d.fn),c=d.A(d.fn),f=d.A(d.Jc);d.A(d.Rect);d.A(d.Rect);let k=null,g=null,l=null;d.VY=class extends d.ga{constructor(n){super();this.b=n;this.ay=[]}g(){this.b=null}LA(n,q){const r=n.i(),p=q.i();r&&p&&r.$g()&&p.$g()&&this.ay.push([n,q])}jN(n,q,r){for(const [p,w]of this.ay){let t;if(n===p)t=w;else if(n===w)t=p;else continue;t.Nr(q)&&(r.includes(t)||r.push(t))}}yN(n,q){if(!this.ay.length)return!1;for(const [r,p]of this.ay)if(n===r&&q===p||n===p&&q===r)return!0;
return!1}zN(){d.C(this.ay)}Vp(n,q){if(!n||!q||n===q)return!1;n=n.i();q=q.i();if(!n.$g()||!q.$g())return!1;const r=n.aa(),p=q.aa();return r.k3(p)?this.Nda(n,q):this.Mda(n,q)}Nda(n,q){if(!n.pb().FE(q.pb())||!n.Ui().xM(q.Ui())||n.yk()&&q.yk())return!1;if(n.yk())return this.vH(n,q);if(q.yk())return this.vH(q,n);if(!n.rA()&&!q.rA())return!0;const r=n.uk(),p=q.uk();return r.Wy(p,q.O()-n.O(),q.P()-n.P())}Mda(n,q){var r=n.yk(),p=q.yk();if(r&&!p)return this.kR(n,q);if(p&&!r)return this.kR(q,n);if(p||r)return!1;
p=n.aa();r=q.aa();e.oa(n.uk());c.oa(q.uk());var w=e.Oc;for(let t=0,v=w.length;t<v;t+=2){const x=t+1,z=w[x],[D,E]=p.Gp(w[t]+n.O(),z+n.P());w[t]=D;w[x]=E}n=c.Oc;for(let t=0,v=n.length;t<v;t+=2){p=t+1;w=n[p];const [x,z]=r.Gp(n[t]+q.O(),w+q.P());n[t]=x;n[p]=z}e.WM();c.WM();return e.Wy(c,0,0)}kR(n,q){var r=n.aa(),p=q.aa();k||(k=d.A(d.fn));g||(g=d.A(d.Rect));l||(l=d.A(d.Jc));var w=q.O(),t=q.P();const [v,x]=p.Gp(w,t),[z,D]=r.Qh(v,x);r=z-w;t=D-t;g.oa(q.pb());g.offset(r,t);if(!n.pb().FE(g))return!1;l.oa(q.Ui());
l.offset(r,t);if(!n.Ui().xM(l))return!1;k.oa(q.uk());p=k.Oc;for(let E=0,M=p.length;E<M;E+=2)w=E+1,p[E]+=r,p[w]+=t;k.WM();return this.vH(n,q,z,D,k,g,l)}vH(n,q,r,p,w,t,v){t=void 0!==t?t:q.pb();const x=n.O(),z=n.P();var D=n.Ca().ia;r=void 0!==r?r:q.O();p=void 0!==p?p:q.P();n=q.rA();v=void 0!==v?v:q.Ui();D.k0(t,b);for(let B=0,G=b.length;B<G;++B){var E=b[B];D=E.h1();if(t.Fga(D,x,z)&&(f.Nh(D),f.offset(x,z),f.xM(v)))if(n){var M=void 0!==w?w:q.uk();if(E=E.AO()){if(E.Wy(M,r-(x+D.L),p-(z+D.J)))return d.C(b),
!0}else if(e.XM(f,0,0),e.Wy(M,r,p))return d.C(b),!0}else if(M=E.AO()){if(e.XM(v,0,0),M.Wy(e,-(x+D.L),-(z+D.J)))return d.C(b),!0}else return d.C(b),!0}d.C(b);return!1}XA(n,q,r){const p=n.Z();var w=this.b.Eb();if(!w)throw Error("cannot call outside event");w=w.he;if(p.cc){p.Je(!1);d.C(p.D);for(var t of n.ka()){var v=t.i(),x=v.aa();const [z,D]=x.Qh(q,r,v.Mf());v.Yu(z,D)?p.bq(t):w&&p.Un(t)}}else{t=w?p.vc:p.D;v=0;for(let z=0,D=t.length;z<D;++z){x=t[z];const E=x.i(),M=E.aa(),[B,G]=M.Qh(q,r,E.Mf());E.Yu(B,
G)?w?p.bq(x):t[v++]=x:w&&(t[v++]=x)}t.length=v}n.nc();return p.fG()}Tz(n,q,r,p){n=n?1!==n.ve||1!==n.we:!1;if(q.Wa)for(const w of q.no)n||w.bJ?d.Wo(p,w.ka()):(w.bU(),w.$B.KA(r,p));else n||q.bJ?d.Wo(p,q.ka()):(q.bU(),q.$B.KA(r,p))}xO(n,q,r,p){for(const w of q)this.Tz(n,w,r,p)}j1(n,q,r){const p=this.b.$F();p&&this.xO(n,p.eA(),q,r)}BG(n,q){return n.HS()&&(!q||q.i().BG(n.Xd().get("solidTags")))}On(n){const q=n.i();this.j1(q.aa(),q.pb(),a);for(const r of a)if(this.BG(r,n)&&this.Vp(n,r))return d.C(a),r;
d.C(a);return null}aQ(n,q,r,p){p=p||50;const w=n.i(),t=w.O(),v=w.P();let x=null,z=null;for(let D=0;D<p;++D)if(w.pe(t+q*D,v+r*D),w.ta(),!this.Vp(n,x))if(x=this.On(n))z=x;else if(!x)return z&&this.K4(n,q,r,z),!0;w.pe(t,v);w.ta();return!1}K4(n,q,r,p){let w=2,t=!1;var v=!1;const x=n.i();let z=x.O(),D=x.P();for(;16>=w;)v=1/w,w*=2,x.Jv(q*v*(t?1:-1),r*v*(t?1:-1)),x.ta(),this.Vp(n,p)||this.On(n)?v=t=!0:(v=t=!1,z=x.O(),D=x.P());v&&(x.pe(z,D),x.ta())}L4(n){let q=0;const r=n.i(),p=r.O(),w=r.P();let t=0,v=this.On(n);
if(!v)return!0;for(;100>=q;){let x=0,z=0;switch(t){case 0:x=0;z=-1;q++;break;case 1:x=1;z=-1;break;case 2:x=1;z=0;break;case 3:z=x=1;break;case 4:x=0;z=1;break;case 5:x=-1;z=1;break;case 6:x=-1;z=0;break;case 7:z=x=-1}t=(t+1)%8;r.pe(Math.floor(p+x*q),Math.floor(w+z*q));r.ta();if(!this.Vp(n,v)&&(v=this.On(n),!v))return!0}r.pe(p,w);r.ta();return!1}}}
{"use strict";const d=self.j;d.c7=class extends d.ga{constructor(a,b){super();this.rJ=a;this.qJ=b;this.xj=d.A(d.Lv)}g(){this.xj.g();this.xj=null}kn(a,b,e){let c=this.xj.ea(a,b);return c?c:e?(c=d.A(d.s1,this,a,b),this.xj.Set(a,b,c),c):null}kj(a){a=Math.floor(a/this.rJ);return isFinite(a)?a:0}lj(a){a=Math.floor(a/this.qJ);return isFinite(a)?a:0}Tl(a,b,e){if(b)for(let c=b.L,f=b.U;c<=f;++c)for(let k=b.J,g=b.S;k<=g;++k){if(e&&e.fg(c,k))continue;const l=this.kn(c,k,!1);l&&(l.$h(a),l.tn()&&this.xj.gn(c,
k))}if(e)for(let c=e.L,f=e.U;c<=f;++c)for(let k=e.J,g=e.S;k<=g;++k)b&&b.fg(c,k)||this.kn(c,k,!0).uA(a)}KA(a,b){let e=this.kj(a.L);const c=this.lj(a.J),f=this.kj(a.U);a=this.lj(a.S);if(isFinite(f)&&isFinite(a))for(;e<=f;++e)for(let k=c;k<=a;++k){const g=this.kn(e,k,!1);g&&g.sF(b)}}}}{"use strict";const d=self.j;d.s1=class extends d.ga{constructor(a,b,e){super();this.X=b;this.T=e;this.D=d.A(d.bF)}g(){this.D.g();this.D=null}tn(){return this.D.tn()}uA(a){this.D.Rc(a)}$h(a){this.D.gn(a)}sF(a){d.Wo(a,this.D.AF())}}}
{"use strict";const d=self.j;d.Pma=class{constructor(){this.pga=this.oga=0;this.rect=new d.Rect;this.Sy=0}Set(a,b,e,c){this.oga=e-a;this.pga=c-b;this.rect.set(a,b,e,c);this.rect.normalize();this.Sy=0;return this}}}
{"use strict";const d=self.j,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.pl.bp,c=e.create(),f=d.A(d.Jc),k=d.A(d.Rect);d.wN=class extends d.ga{constructor(g){super();this.b=g;this.Qk=null;this.qV=!1;this.gk=this.hb=null;this.XJ="high-performance";this.co=this.bo=this.ji=this.ki=this.Yc=this.qd=this.So=this.To=0;this.wt=!0;this.Fj=this.Uk=this.xW=0;this.Gea=this.LU="letterbox-scale";this.Fea=this.Eea=0;this.hC=e.create();
this.Nj=this.cM="high";this.Ft=!1;this.Ow=[];this.kE=new Set;this.ND=self.C3_Shaders;this.yg=this.po=0;this.Bt=NaN;this.DC=null;this.IK=new Map;this.hx=NaN;this.qE=new Map;this.RD="";this.zL=1;this.oW=d.A(d.Rect);this.AL="";this.pW=this.ry=null;this.Lx=0;this.We=-1;this.wo=0;this.OK=l=>this.wo=l.progress;this.ag=null;this.bg={$y:null,ez:null,nz:null};this.EL=this.rW=this.FL=0;this.ck="fade-in";this.DL=null;this.qW=new Promise(l=>this.DL=l)}cda(g){this.XJ=g}zda(g){this.qV=!!g}async Qg(g){this.Qk=g.canvas;
this.b.Ni("runtime","window-resize",q=>this.Bba(q));this.b.Ni("runtime","fullscreenchange",q=>this.kba(q));this.b.Ni("runtime","fullscreenerror",q=>this.lba(q));this.Qk.addEventListener("webglcontextlost",q=>this.Bw(q));this.Qk.addEventListener("webglcontextrestored",()=>this.pI());this.Ft=!!g.isFullscreen;var l=navigator.gpu&&this.qV;let n=!1;if(l)try{await this.ES(!0)}catch(q){this.gk=null}if(!this.qb())try{await this.DS(!0)}catch(q){this.hb=null}this.qb()||(n=!0);if(!this.qb()&&l)try{await this.ES(!1)}catch(q){this.gk=
null}if(!this.qb())try{await this.DS(!1)}catch(q){this.hb=null}l=this.qb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.W5(n);this.Pb(g.windowInnerWidth,g.windowInnerHeight,!0);this.gk?await this.faa():this.hb&&await this.eaa();l.eH(this.wt);l.Gk()&&(this.Bt=0);g=!1;for(const q of this.b.WI){for(const r of q.Sg())r.AS(l),r.jb.Ky&&(g=!0);q.Pn()}this.b.vda(g)}async ES(g){g={powerPreference:this.XJ,depth:this.b.Qm,failIfMajorPerformanceCaveat:g};this.gk=d.A(d.$.qqa);
await this.gk.Sa(this.Qk,g)}async DS(g){g={powerPreference:this.XJ,ZW:!0,depth:this.b.Qm,failIfMajorPerformanceCaveat:g};"Android"===d.Fd.rs&&"Chromium"===d.Fd.sz&&75>d.Fd.fF&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.hX=1);"standard"===this.b.jt?g.alpha=!0:(g.alpha=!1,g.BM=!0);this.hb=d.A(d.$.Q7,this.Qk,g);await this.hb.tA()}async faa(){if(this.ND){const g=[];for(const [l,n]of Object.entries(this.ND))g.push(this.gk.pF(l,
n.Ru,d.$.rqa.Wz()));await Promise.all(g)}}async eaa(){if(this.ND){const g=[];for(const [l,n]of Object.entries(this.ND))n.src=n.vu,g.push(this.hb.pF(n,d.$.iw.Wz(),l));await Promise.all(g);this.hb.h5();this.hb.tg()}this.hb.Gk()&&(this.DC=d.A(d.$.xR,this.hb))}g(){this.Qk=this.hb=this.b=null}Bba(g){const l=this.b,n=g.devicePixelRatio;l.pm&&(self.devicePixelRatio=n);l.Xca(n);this.Ft=!!g.isFullscreen;this.Pb(g.innerWidth,g.innerHeight);l.R();l.Ib&&(l.Bv()||self.Ph.qka())&&l.OG()}kba(g){this.Ft=!!g.isFullscreen;
this.Pb(g.innerWidth,g.innerHeight,!0);this.b.R()}lba(g){this.Ft=!!g.isFullscreen;this.Pb(g.innerWidth,g.innerHeight,!0);this.b.R()}Pb(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.To!==g||this.So!==l||n){this.To=g;this.So=l;n=this.pv();"letterbox-scale"===n?this.B8(g,l):"letterbox-integer-scale"===n?this.A8(g,l):"off"===n?this.y8(g,l):this.z8(g,l);this.Xda(n);this.Qk.width=this.ki;this.Qk.height=this.ji;this.b.Cn("canvas","update-size",{marginLeft:this.bo,
marginTop:this.co,styleWidth:this.qd,styleHeight:this.Yc});g=this.qb();g.Pb(this.ki,this.ji,!0);for(var q of this.Ow)g.FZ(q);d.C(this.Ow);g.Xu(this.hC,this.Ug()/this.lg());q=this.b.gb;q.As();q.zs()}}B8(g,l){const n=this.b.zl(),q=this.b.Ue,r=this.b.Te,p=q/r;g/l>p?(this.qd=Math.round(l*p),this.Yc=l,this.bo=Math.floor((g-this.qd)/2),this.co=0):(this.qd=g,this.Yc=Math.round(g/p),this.bo=0,this.co=Math.floor((l-this.Yc)/2));this.ki=Math.round(this.qd*n);this.ji=Math.round(this.Yc*n);this.b.gw(q,r)}A8(g,
l){const n=this.b.zl();1!==n&&(g+=1,l+=1);const q=this.b.Ue,r=this.b.Te;var p=q/r;p=g/l>p?l*p*n/q:g/p*n/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.ki=Math.round(q*p);this.ji=Math.round(r*p);this.qd=this.ki/n;this.Yc=this.ji/n;this.bo=Math.max(Math.floor((g-this.qd)/2),0);this.co=Math.max(Math.floor((l-this.Yc)/2),0);this.b.gw(q,r)}z8(g,l){const n=this.b.zl();this.qd=g;this.Yc=l;this.ki=Math.round(this.qd*n);this.ji=Math.round(this.Yc*n);this.co=this.bo=0;g=this.Al();this.b.gw(this.qd/g,
this.Yc/g)}y8(g,l){const n=this.b.zl();this.qd=this.b.Lg;this.Yc=this.b.Kg;this.ki=Math.round(this.qd*n);this.ji=Math.round(this.Yc*n);this.Ft?(this.bo=Math.floor((g-this.qd)/2),this.co=Math.floor((l-this.Yc)/2)):this.co=this.bo=0;this.b.gw(this.b.Lg,this.b.Kg)}Xda(g){if("high"===this.cM)this.Uk=this.ki,this.Fj=this.ji,this.Nj="high";else{let n;if("off"===this.pv()){var l=this.b.Lg;n=this.b.Kg}else l=this.b.Ue,n=this.b.Te;this.ki<l&&this.ji<n?(this.Uk=this.ki,this.Fj=this.ji,this.Nj="high"):(this.Uk=
l,this.Fj=n,this.Nj="low","scale-inner"===g?(g=l/n,l=this.To/this.So,l<g?this.Uk=this.Fj*l:l>g&&(this.Fj=this.Uk/l)):"scale-outer"===g&&(g=l/n,l=this.To/this.So,l>g?this.Uk=this.Fj*l:l<g&&(this.Fj=this.Uk/l)))}}U5(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.LU=g;g=this.b.gb;g.As();g.zs()}$z(){return this.LU}pv(){return this.Ft?this.Gea:this.$z()}KQ(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.cM=g;this.b.gb.As()}static x$(g){switch(g){case 0:return"off";case 1:return"crop";
case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Ug(){return this.Uk}lg(){return this.Fj}eH(g){this.wt=!!g}uda(g){this.xW=g}d3(){return this.qb().Bp()}Bw(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Ow=[];this.kE.clear();this.hb.Ol();this.b.Bw()}async pI(){await this.hb.HG();await this.Jqa();for(const g of this.b.WI)for(const l of g.Sg())l.AS(this.hb);
await this.b.pI();console.log("[Construct 3] WebGL context restored")}yp(){return this.hb}zv(){return this.gk}qb(){return this.gk||this.hb}mn(){return"low"===this.Nj?1/this.b.zl():this.Al()}Al(){const g=this.pv();if("off"===g||"crop"===g)return 1;const l=this.b.Ue,n=this.b.Te,q=l/n,r=this.ki/this.ji;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.Yc/n:this.qd/l}GQ(g,l,n){l=l||this.Uk;n=n||this.Fj;const q=l/2+this.Eea,r=n/2+this.Fea;{let p=this.hC;if(l!==this.Uk||n!==this.Fj)g.Xu(c,l/n),
p=c;g.Is(p)}l=g.Wu(q,r,100*this.b.zl(),q,r,n||this.Fj);g.Gs(l)}G5(g){var l=this.qd/2;const n=this.Yc/2;g.Is(this.hC);l=g.Wu(l,n,100,l,n);g.Gs(l)}mv(){return this.bo}nv(){return this.co}jv(g){g.depth=this.b.Qm;const l=this.Ow,n=l.findIndex(r=>r.O2(g));let q;-1!==n?(q=l[n],l.splice(n,1)):q=this.qb().rZ(g);this.kE.add(q);return q}En(g){if(!this.kE.has(g))throw Error("render target not in use");this.kE.delete(g);this.Ow.push(g)}*vE(){for(const g of this.b.gb.jz())for(const l of g.kc){const n=this.IK.get(l);
n&&(yield n)}}tO(g){if(!this.qb().Gk())return null;let l=this.IK.get(g);l||(l={name:g.Ba(),aN:d.A(d.$.xR,this.hb),xE:0,gX:0},this.IK.set(g,l));return l.aN}Uda(){const g=this.qb();if(g.Gk()&&0===this.yg){this.yg=g.ri;this.hx=NaN;for(const l of this.vE())l.xE=NaN}}aea(){this.hb&&this.hb.Gk()&&this.bea();this.gk&&this.gk.Gk()&&this.cea()}bea(){if(isNaN(this.hx)&&(this.hx=this.DC.mO(this.po,this.yg),!isNaN(this.hx))){if(this.b.Ib)for(const g of this.vE())if(g.xE=g.aN.mO(this.po,this.yg),isNaN(g.xE))return;
this.DC.LN(this.yg);this.Bt=Math.min(this.hx,1);if(this.b.Ib){for(const g of this.vE())g.aN.LN(this.yg),g.gX=Math.min(g.xE,1);self.Ph.D7(this.Bt,[...this.vE()])}this.po=this.yg;this.yg=0}}cea(){if(0!==this.yg){for(var g=this.po;g<this.yg;++g){var l=this.qE.get(g);if(l&&!l.sA())return}l=this.b.Ub();g=d.bh(l.kc.length+1,0);for(var n=this.po;n<this.yg;++n){var q=this.qE.get(n);if(q){q=q.iA();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const w=q[2*r],t=q[2*r+1];g[r]=0===Number(w)||0===Number(t)?
NaN:g[r]+Number(t-w)/1E9}}}this.Bt=d.fa(g[0],0,1);if(this.b.Ib){n=[];l=l.kc;for(let r=0,p=Math.min(l.length,g.length-1);r<p;++r)n.push({name:l[r].Ba(),gX:d.fa(g[r+1],0,1)});self.Ph.D7(this.Bt,n)}for(g=this.po;g<this.yg;++g)this.qE.delete(g);this.po=this.yg;this.yg=0}}r8(g){this.qE.set(this.gk.ri,g)}bA(){return this.Bt}hR(g,l,n,q,r,p){this.RD=g;this.zL=l;this.oW.Mi(n,q,r,p);return this.ry?this.ry:this.ry=new Promise(w=>{this.pW=w})}Waa(){if(this.RD){var g=this.Qk,l=this.oW,n=d.fa(Math.floor(l.L),0,
g.width),q=d.fa(Math.floor(l.J),0,g.height),r=l.width();r=0===r?g.width-n:d.fa(Math.floor(r),0,g.width-n);l=l.height();l=0===l?g.height-q:d.fa(Math.floor(l),0,g.height-q);(0!==n||0!==q||r!==g.width||l!==g.height)&&0<r&&0<l&&(g=d.Qg(r,l),g.getContext("2d").drawImage(this.Qk,n,q,r,l,0,0,r,l));d.vz(g,this.RD,this.zL).then(p=>{this.AL=URL.createObjectURL(p);this.ry=null;this.pW(this.AL)});this.RD="";this.zL=1}}q2(g){this.hb&&(2===g?(this.ag=d.A(d.$.hQ,this.qb()),this.ag.c6(),this.ag.R5(),this.ag.S5(),
this.ag.Y5(),this.ag.R6(),this.ag.Pb(300,200)):0===g?(g=this.b.Nt)&&g.zn(this.hb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.Jaa().then(l=>{"done"===this.ck?this.hb.Ri(l):this.bg.$y=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.JS("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.ck?this.hb.Ri(l):this.bg.ez=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.JS("splash-images/splash-website-512.png").then(l=>
{"done"===this.ck?this.hb.Ri(l):this.bg.nz=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async Jaa(){var g=(new URL("splash-images/splash-logo.svg",this.b.CF())).toString();g=await d.wl(g);g=await this.b.O4(g);return await this.hb.Dz(g,{az:"high"})}async JS(g){g=(new URL(g,this.b.CF())).toString();g=await d.wl(g);return await this.hb.Dz(g,{az:"high"})}iG(){this.b.Cn("runtime","hide-cordova-splash")}h7(){this.Lx=Date.now();this.b.Db().addEventListener("loadingprogress",this.OK);this.We=
requestAnimationFrame(()=>this.YR());3!==this.b.Mt&&this.iG()}async K_(){if(this.hb){this.wo=1;var g=this.b.Mt;4===g&&await this.qW;this.qW=this.DL=null;-1!==this.We&&(cancelAnimationFrame(this.We),this.We=-1);this.b.Db().removeEventListener("loadingprogress",this.OK);this.OK=null;this.ag&&(this.ag.g(),this.ag=null);this.b.S4();this.hb.hw();this.bg.$y&&(this.hb.Ri(this.bg.$y),this.bg.$y=null);this.bg.ez&&(this.hb.Ri(this.bg.ez),this.bg.ez=null);this.bg.nz&&(this.hb.Ri(this.bg.nz),this.bg.nz=null);
this.hb.Az();this.hb.Tr();this.ck="done";this.po=this.hb.ri;3===g&&this.iG()}}YR(){if(-1!==this.We){var g=this.hb;if(g){g.hw();this.We=-1;var l=this.b.Nd.$J,n=this.b.Mt;3!==n&&(this.G5(g),g.Az(),g.xs(),g.tg(),g.Ge(null));if(0===n)this.a$(l);else if(1===n)this.gB(l,120,0);else if(2===n)this.Z9(l);else if(3!==n)if(4===n)this.b$(l);else throw Error("invalid loader style");g.Tr();this.We=requestAnimationFrame(()=>this.YR())}}}Z9(g){g?this.ag.BQ(1,0,0):this.ag.BQ(.6,.6,.6);this.ag.Ks(Math.round(100*this.wo)+
"%");g=this.qd/2;const l=this.Yc/2;f.xX(g-150,l-100,g+150,l+100);this.hb.Ge(this.ag.hd());this.hb.Ip(f,this.ag.Xh())}gB(g,l,n){const q=this.hb;q.Vv();g?q.Pf(1,0,0,1):q.Pf(.118,.565,1,1);g=this.qd/2;const r=this.Yc/2,p=l/2;k.Mi(g-p,r-4+n,Math.floor(l*this.wo),8);q.Rect(k);k.Mi(g-p,r-4+n,l,8);k.offset(-.5,-.5);k.EE(.5,.5);q.Pf(0,0,0,1);q.tP(k);k.EE(1,1);q.Pf(1,1,1,1);q.tP(k)}a$(g){var l=this.b.Nt;if(l)if(l=l.hd()){var n=l.M(),q=l.I(),r=this.qd/2,p=this.Yc/2,w=n/2;q/=2;f.xX(r-w,p-q,r+w,p+q);this.hb.Ge(l);
this.hb.Jc(f);this.gB(g,n,q+16)}else this.gB(g,120,0);else this.gB(g,120,0)}b$(g){const l=this.hb,n=this.bg.$y,q=this.bg.ez,r=this.bg.nz,p=Date.now();0===this.FL&&(this.Lx=p);const w=this.b.os()||this.b.Wea&&!this.b.P2(),t=w?0:200,v=w?0:3E3;let x=1;"fade-in"===this.ck?x=Math.min((p-this.Lx)/300,1):"fade-out"===this.ck&&(x=Math.max(1-(p-this.EL)/300,0));l.Vv();l.Pf(.231*x,.251*x,.271*x,x);k.set(0,0,this.qd,this.Yc);l.Rect(k);const z=Math.ceil(this.qd),D=Math.ceil(this.Yc);let E;256<this.Yc?(l.Pf(.302*
x,.334*x,.365*x,x),E=Math.max(.005*D,2),k.Mi(0,.8*D-E/2,z,E),l.Rect(k),g?l.Pf(x,0,0,x):l.Pf(.161*x,.953*x,.816*x,x),g=z*this.wo,k.Mi(.5*z-g/2,.8*D-E/2,g,E),l.Rect(k),l.Pf(x,x,x,x),l.tg(),q&&(g=1.5*d.fa(.22*D,105,.6*z),E=g/8,k.Mi(.5*z-g/2,.2*D-E/2,g,E),l.Ge(q),l.Rect(k)),n&&(E=g=Math.min(.395*D,.95*z),k.Mi(.5*z-g/2,.485*D-E/2,g,E),l.Ge(n),l.Rect(k)),r&&(g=1.5*d.fa(.22*D,105,.6*z),E=g/8,k.Mi(.5*z-g/2,.868*D-E/2,g,E),l.Ge(r),l.Rect(k))):(l.Pf(.302*x,.334*x,.365*x,x),E=Math.max(.005*D,2),k.Mi(0,.85*D-
E/2,z,E),l.Rect(k),g?l.Pf(x,0,0,x):l.Pf(.161*x,.953*x,.816*x,x),g=z*this.wo,k.Mi(.5*z-g/2,.85*D-E/2,g,E),l.Rect(k),l.Pf(x,x,x,x),l.tg(),n&&(E=g=.55*D,k.Mi(.5*z-g/2,.45*D-E/2,g,E),l.Ge(n),l.Rect(k)));this.FL++;"fade-in"===this.ck&&300<=p-this.Lx&&2<=this.FL&&(this.ck="wait",this.rW=p);"wait"===this.ck&&p-this.rW>=v&&1<=this.wo&&(this.ck="fade-out",this.EL=p);("fade-out"===this.ck&&p-this.EL>=300+t||w&&1<=this.wo&&500>p-this.Lx)&&this.DL()}}}
{"use strict";const d=self.j,a=self.Ph,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.vQ=class extends d.ga{constructor(c){c=Object.assign({},b,c);super();this.Qx=c.messagePort;this.qea=c.baseUrl;this.pm=!!c.isInWorker;e=c.ife;this.mo=c.exportType;this.rV=!!c.isiOSCordova;this.Wea=!!c.isFBInstantAvailable;this.sfa=c.opusWasmScriptUrl;this.UV=c.opusWasmBinaryUrl;this.Pe=this.wea=this.Ib=!("preview"!==this.mo||!c.isDebug);this.zJ=
0;this.LB=[];this.jea=[];this.lL=this.bW=this.JD="";this.Te=this.Ue=0;this.yU=self.devicePixelRatio;this.Mt=this.Kg=this.Lg=this.gL=this.fL=0;this.lE=!1;this.Zk=!0;this.$L=!1;this.Nt=null;this.Nd=d.A(d.tY,this,c);this.gb=d.A(d.p3,this);this.ya=d.A(d.O_,this);this.Dm=d.A(d.z4,this);this.rh=d.A(d.VY,this);this.Kb=d.A(d.q7,this);this.OL=d.A(d.u7,this);this.md=[];this.$K=new Map;this.aL=new Map;this.GU=0;this.lea=[];this.WI=[];this.Xw=[];this.om=[];this.NC=new Map;this.EC=!1;this.Sx=this.bL=0;this.Mq=
new Map;this.Nq=new Set;this.OC=new Set;this.yD=[];this.tV=[];this.ba=null;this.Qm=!1;this.RJ="vsync";this.jt="standard";this.Fc="trilinear";this.Tj=!1;this.YK=!0;this.yK=this.WV=!1;this.Gfa={lX:f=>{this.Gm=this.We=-1;this.ee(f)},wha:f=>{this.Gm=-1;this.ee(f,!1,"skip-render")},kha:()=>{this.We=-1;this.OG()}};this.Gm=this.We=-1;this.zt=this.gl=0;this.$U=this.UC=this.FC=!1;this.uK=!0;this.fu=0;this.yfa=()=>Math.random();this.jC=this.kC=this.mD=this.Go=0;this.Ce=1;this.NV=30;this.VJ=d.A(d.Fv);this.WJ=
d.A(d.Fv);this.bM=d.A(d.Fv);this.AC=-1;this.uD=this.wm=this.zC=this.Dq=0;this.$k=!1;this.Kx=this.ey="";this.Lt=null;this.Wq="";this.sL=this.kL=null;this.Zb=d.A(d.Event.Db);this.EJ=new Map;this.iL=new Map;this.ofa=0;this.pV=this.zU=this.AU=!1;this.aM=[];this.Bq={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",!1)};
this.Bq.instancedestroy.instance=null;this.Ee=d.A(d.Event.Db);this.FW=null;this.Zn=d.A(d.Jp,d.qz.qH);this.qq=d.A(d.Jp,d.qz.qH);this.$n=d.A(d.Jp,d.qz.qH);this.Dx=d.A(d.m3,this,c.jobScheduler);c.canvas&&(this.ba=d.A(d.wN,this));this.Qx.onmessage=f=>this._OnMessageFromDOM(f.data);this.Ni("runtime","visibilitychange",f=>this.yba(f));this.Ni("runtime","opus-decode",f=>this.fea(f.arrayBuffer));this.Ni("runtime","get-remote-preview-status-info",()=>this.N$());this.Ni("runtime","js-invoke-function",f=>this.pB(f));
this.Ni("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Zb.addEventListener("window-blur",f=>this.zba(f));this.Zb.addEventListener("window-focus",()=>this.Aba());this.Kb.gY();this.Pj=null;this.Rea=new WeakMap;this.Uw={keyboard:null,iX:null,cN:null}}static Sa(c){return d.A(d.vQ,c)}g(){d.C(this.md);this.$K.clear();this.aL.clear();this.gb.g();this.gb=null;this.ya.g();this.ya=null;this.Dm.g();this.Dm=null;this.Nd.g();this.Nd=null;this.rh.g();this.rh=null;this.Kb.g();this.Kb=null;this.OL.g();
this.OL=null;this.ba&&(this.ba.g(),this.ba=null);this.Zb.g();this.Zb=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.VS(c);else if("result"===f)this.vba(c);else throw Error(`unknown message '${f}'`);}VS(c){if(this.pV){var f=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(n&&(c=new d.Event(k),c.data=g,this.Zb.lga(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.Rh(c)}if(c=this.EJ.get(f))if(c=c.get(k)){n=null;try{n=c(g)}catch(r){console.error(`Exception in '${f}' handler '${k}':`,r);null!==q&&this.tB(q,!1,""+r);return}null!==q&&(n&&n.then?n.then(r=>this.tB(q,!0,r)).catch(r=>{console.error(`Rejection from '${f}' handler '${k}':`,r);this.tB(q,!1,""+r)}):this.tB(q,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.aM.push(c)}tB(c,
f,k){this.Qx.postMessage({type:"result",responseId:c,isOk:f,result:k})}vba(c){const f=c.responseId,k=c.isOk;c=c.result;const g=this.iL.get(f);k?g.resolve(c):g.reject(c);this.iL.delete(f)}Ni(c,f,k){let g=this.EJ.get(c);g||(g=new Map,this.EJ.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,k)}Cn(c,f,k){this.Qx.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}Nv(c,f){const k=this.ofa++,g=new Promise((l,n)=>{this.iL.set(k,{resolve:l,
reject:n})});this.Qx.postMessage({type:"event",component:"runtime",handler:c,data:f,responseId:k});return g}async sn(c){this.Ib?await a.sn(this):self.Ph&&self.Ph.fka(this);var [f]=await Promise.all([this.Nd.VN("data.json"),this.Vaa(),this.Dx.sn()]);this.vaa(f);await this.gaa(c);this.os()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.yp()?(f=this.yp(),console.info(`[C3 runtime] Hosted in ${this.pm?"worker":"DOM"}, rendering with WebGL ${f.Td} [${f.Hy}] (${f.R2()?
"desynchronized":"standard"} compositing)`)):this.zv()&&console.info(`[C3 runtime] Hosted in ${this.pm?"worker":"DOM"}, rendering with experimental WebGPU`);this.qb().aK&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.pV=!0;for(const k of this.aM)this.VS(k);d.C(this.aM);this.ba&&this.ba.h7();for(const k of c.runOnStartupFunctions)this.LB.push(this.oca(k));await Promise.all([this.Nd.vR(),
...this.LB]);d.C(this.LB);if(this.Nd.$J)this.ba&&this.ba.iG();else return this.ba&&await this.ba.K_(),await this.Zb.pM(new d.Event("beforeruntimestart")),await this.hw(),this.Qx.postMessage({type:"runtime-ready"}),this}async oca(c){try{await c(this.Pj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}vaa(c){c=c.project;this.JD=c[0];this.bW=c[16];this.lL=c[31];const f=c[39]||"loading-logo.png";this.Tj=!!c[9];this.Ue=this.Lg=c[10];this.Te=this.Kg=c[11];this.fL=this.Ue/2;this.gL=
this.Te/2;this.jt=c[36];this.RJ=c[37];"low-latency"===this.jt&&this.L2()&&77>=d.Fd.fF&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.jt="standard");this.Qm=!!c[40];this.Fc=c[14];this.lE=!!c[18];this.Mt=c[19];this.Sx=c[21];this.WV=c[22];const k=this.Nd;k.Rca(c[7]);k.bda(c[32]);k.gda(c[28]);k.yda(c[29]);if(0===this.Mt){let r="";this.os()?k.eI(f)&&
(r=k.uO(f)):r=k.aV+f;r&&(this.Nt=k.Gv({url:r}))}this.ba&&(this.ba.U5(d.wN.x$(c[12])),this.ba.KQ(c[23]?"high":"low"),this.ba.eH(0!==c[24]),this.ba.cda(c[34]),this.ba.uda(c[41]),this.ba.zda(c[13]));this.Dm.sZ();this.yD=self.rN();for(var g of c[2])this.Dm.qZ(g);this.yD=self.rN();this.Daa();for(var l of c[3])g=d.FG.Sa(this,this.md.length,l),this.md.push(g),this.$K.set(g.Ba().toLowerCase(),g),this.aL.set(g.ib,g);for(const r of c[4])this.md[r[0]].yaa(r);for(var n of c[27])l=n.map(r=>this.md[r]),this.lea.push(d.A(d.eZ,
this,l));for(const r of this.md)r.eba();for(const r of c[5])this.gb.Sa(r);(n=c[1])&&(n=this.gb.Xr(n))&&this.gb.P5(n);for(var q of c[33])this.Kb.Sa(q);for(const r of c[35])this.OL.Sa(r);this.daa();for(const r of c[6])this.ya.Sa(r);this.ya.Qb();this.$$();d.C(this.yD);this.ne();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Cn("runtime","set-target-orientation",{targetOrientation:q})}bY(c){this.LB.push(c)}J$(){return this.GU++}h8(c){this.WI.push(c)}async gaa(c){this.ba&&(await this.ba.Qg(c),
this.ba.q2(this.Mt))}async Vaa(){if(!this.Nd.M2()){var c=null;try{c=this.rV&&this.Nd.zx?await this.Nd.GN(this.UV):await this.Nd.cv(this.UV)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.ZX(c):this.YX();await this.$X([this.sfa])}}async fea(c){return await this.YE("OpusDecode",{arrayBuffer:c},[c])}async hw(){this.FC=!0;this.Go=Date.now();if(this.lE){for(var c of this.md)c.Wa||c.xK||!c.Yf||c.Vb();this.Nd.vR().then(()=>{this.Zk=!1;this.YS()})}else this.Zk=
!1;this.Nd.Z5();this.Ib&&a.Ona(e);for(const f of this.gb.rj)f.W8();c=this.gb.D0();await c.gI(null,this.qb());await c.VT(!0);this.Dq=performance.now();this.lE||this.YS();(await this.Nv("before-start-ticking")).isSuspended?this.fu++:this.ee()}YS(){this.Aa(d.B.Za.F.j4,null,null);this.Cn("runtime","register-sw")}Uh(c){c=Math.floor(c);const f=this.yD;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}Daa(){for(const c of self.AY){const f=d.first(Object.keys(c));this.tV.push(f)}}Xi(c){c=
Math.floor(c);const f=this.tV;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}CF(){return this.qea}ja(){return this.ya}gd(){return this.ya.gd()}If(){return this.ya.If()}Eb(){return this.ya.Eb()}kg(){return this.ya.kg()}Q2(){return 0===this.If().hm}ov(){return this.ya.ov()}vv(){return this.Dm.vv()}Lf(c){c=Math.floor(c);if(0>c||c>=this.md.length)throw new RangeError("invalid index");return this.md[c]}RF(c){return this.$K.get(c.toLowerCase())||null}Zi(c){return this.aL.get(c)||
null}*Ofa(){for(const c of this.md)c.Wa||(yield*c.bX())}Db(){return this.Zb}Rh(c){c.Qc=this.Pj;const f=this.Ib&&!this.ya.xA();f&&a.sH();this.Ee.dispatchEvent(c);f&&a.$E()}mp(c){c.Qc=this.Pj;return this.Ee.pM(c)}q6(c,f){if(this.Ue!==c||this.Te!==f)this.Ue=c,this.Te=f,c=this.gb,c.As(),c.zs()}gw(c,f){if(this.Lg!==c||this.Kg!==f)this.Lg=c,this.Kg=f,c=this.gb,c.As(),c.zs()}Xca(c){this.yU=c}zl(){return this.yU}Ug(){return this.ba?this.ba.Ug():this.Lg}lg(){return this.ba?this.ba.lg():this.Kg}mn(){return this.ba?
this.ba.mn():1}Al(){return this.ba?this.ba.Al():1}mv(){return this.ba?this.ba.mv():0}nv(){return this.ba?this.ba.nv():0}i0(){return this.ba?this.ba.qd:0}h0(){return this.ba?this.ba.Yc:0}$z(){return this.ba?this.ba.$z():"off"}jv(c){return this.ba?this.ba.jv(c):null}En(c){this.ba&&this.ba.En(c)}vda(c){this.$L=!!c}bA(){return this.ba?this.ba.bA():NaN}wG(){return"nearest"!==this.Fc}S4(){this.Nt&&(this.Nt.g(),this.Nt=null)}Ub(){return this.gb.Ub()}Gv(c){return this.Nd.Gv(c)}nF(c,f,k,g,l){return this.Qi(c,
f,!1,k,g,!1,l)}Qi(c,f,k,g,l,n,q){var r=null;let p=null;c instanceof d.FG?(p=c,p.Wa&&(r=p.no,p=r[Math.floor(this.Dn()*r.length)]),r=p.qt):(r=c,p=this.Lf(r[1]));c=p.Fb().Yf;if(this.Zk&&c&&!p.xK)return null;const w=f;c||(f=null);var t=k&&!n&&r&&!this.Mq.has(r[2])?r[2]:this.Sx++;const v=r?r[0]:null,x=d.A(d.Instance,{Qc:this,HM:p,me:f,KX:v,aX:r?r[3]:null,uid:t});this.Mq.set(t,x);t=null;c&&(t=x.i(),"undefined"!==typeof g&&"undefined"!==typeof l&&(t.Qf(g),t.ih(l)),p.yT());f&&(q||f.di(x,!0),1===f.ve&&1===
f.we||p.xI(!0),f.oc().BP(p));this.bL++;if(p.Ic()&&!k&&!n){for(var z of p.Aj.Bm){if(z===p)continue;const M=this.Qi(z,w,!1,t?t.O():g,t?t.P():l,!0,!1);x.Rs(M)}for(var D of x.Qd){D.Rs(x);for(var E of x.Qd)D!==E&&D.Rs(E)}}c&&!k&&q&&this.HH(x,v,t,f,g,l);if(p.Ic()&&!k&&!n&&q)for(const M of x.Qd)if(z=M.i())D=M.Fb(),E=M.H().qt[0],D.Yf?this.HH(M,E,z,f,z.O(),z.P()):this.HH(M,E,z,f);if(q&&!n&&!k&&x.Ic())for(const M of x.Qd)for(const B of M.Qd)x===B&&w.Vn(M,!0);!n&&q&&("undefined"===typeof g&&(g=v[0]),"undefined"===
typeof l&&(l=v[1]),f=t.lA(),g=g-t.O()+f.O(),l=l-t.P()+f.P(),f.pe(g,l));p.Dw();l=r?d.wE(r[5]):null;r=r?r[4].map(M=>d.wE(M)):null;c&&v&&v[13]&&x.fda();x.dB(l,r);this.om.push(x);this.EC=!0;this.Ib&&a.gka(x);return x}HH(c,f,k,g,l,n){var q=k.kW,r=k.tL;c.i().fH(q);if(r){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof n&&(n=f[1]);q=new Set;k=f[0];f=f[1];for(const x of r){var p=x[1],w=x[2];r=x[3];var t=!!x[4];const z=x[5];w=this.gb.QF(x[0]).aa(p).K0(w);p=this.Lf(w[1]);var v=c.F1(p);const D=q.has(p);
v&&!D&&t?(t=c.KO(p),v=l+w[0][0]-k,w=n+w[0][1]-f,t.i().pe(v,w),t.i().fH(z),c.cn(t,{Ou:!!(r>>0&1),Pu:!!(r>>1&1),Jr:!!(r>>2&1),Ir:!!(r>>3&1),Nu:!!(r>>4&1),Ry:!!(r>>5&1),Qu:!!(r>>6&1)}),q.add(p)):(p=this.Qi(w,g,!1,l+w[0][0]-k,n+w[0][1]-f,!1,!0),p.i().fH(z),c.cn(p,{Ou:!!(r>>0&1),Pu:!!(r>>1&1),Jr:!!(r>>2&1),Ir:!!(r>>3&1),Nu:!!(r>>4&1),Ry:!!(r>>5&1),Qu:!!(r>>6&1)}))}}}hn(c){if(!this.Nq.has(c)){var f=c.H(),k=this.NC.get(f);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.NC.set(f,k);this.Ib&&
a.hka(c);c.jI();this.EC=!0;if(c.Ic())for(const g of c.Qd)this.hn(g);for(const g of c.children())g.Xz()&&this.hn(g);this.gb.iP()||this.$k||(f=this.ja(),f.Ze(!0),c.Qda(),f.Ze(!1));c.p$(this.gb.iP())}}ne(){this.EC&&(this.r$(),this.s$(),this.EC=!1,this.R())}r$(){for(const c of this.om){const f=c.H();f.di(c);for(const k of f.pi)k.di(c),k.Dw()}d.C(this.om)}s$(){this.Zb.Ds(!0);for(const [c,f]of this.NC.entries())this.t$(c,f),f.clear();this.NC.clear();this.Zb.Ds(!1)}t$(c,f){for(const g of f){var k=this.Bq.instancedestroy;
k.instance=g;this.Zb.dispatchEvent(k);this.Mq.delete(g.Pc);if(k=g.i())k.iT(),k.jT(),k.jI();this.Nq.add(g);this.bL--}d.Mh(c.ka(),f);c.Dw();this.OC.add(c);0===c.ka().length&&c.xI(!1);for(const g of c.pi)d.Mh(g.ka(),f),g.Dw(),this.OC.add(g);if(c.Fb().Yf){c=new Set([...f].map(g=>g.i().aa()));for(const g of c)g.Uba(f)}}*wM(c){for(const f of this.om)c.Wa?f.H().dF(c)&&(yield f):f.H()===c&&(yield f)}I$(){return this.Sx++}Raa(c,f){this.Mq.set(c,f)}Bw(){this.Zb.dispatchEvent(d.A(d.Event,"webglcontextlost"));
this.fw(!0);for(var c of this.md)!c.Wa&&c.D1()&&c.Ak();(c=this.Ub())&&c.Bw();d.Cv.Hp();d.ZO.Hp()}async pI(){await this.Ub().gI(null,this.yp());this.Zb.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.fw(!1);this.R()}yba(c){this.fw(c.hidden)}zba(c){this.os()&&this.WV&&!d.Fd.yG&&!c.data.parentHasFocus&&(this.fw(!0),this.yK=!0)}Aba(){this.yK&&(this.fw(!1),this.yK=!1)}kT(){const c=this.Gfa;"vsync"===this.RJ?-1===this.We&&(this.We=self.requestAnimationFrame(c.lX)):"unlimited-tick"===this.RJ?(-1===
this.Gm&&(this.Gm=d.SG(c.wha)),-1===this.We&&(this.We=self.requestAnimationFrame(c.kha))):-1===this.Gm&&(this.Gm=d.SG(c.lX))}I8(){-1!==this.We&&(self.cancelAnimationFrame(this.We),this.We=-1);-1!==this.Gm&&(d.JY(this.Gm),this.Gm=-1)}Ep(){return 0<this.fu}fw(c){var f=this.Ep();this.fu+=c?1:-1;0>this.fu&&(this.fu=0);c=this.Ep();!f&&c?(console.log("[Construct 3] Suspending"),this.I8(),this.Zb.dispatchEvent(d.A(d.Event,"suspend")),this.Aa(d.B.Za.F.r4,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),
this.Dq=this.mD=f=performance.now(),this.wm=this.uD=this.zC=this.AC=0,this.Zb.dispatchEvent(d.A(d.Event,"resume")),this.Aa(d.B.Za.F.o4,null,null),this.Bv()||this.ee(f))}d8(c){this.Zn.Rc(c)}e8(c){this.$n.Rc(c)}Wba(c){this.Zn.$h(c)}Vba(c){this.qq.$h(c)}Xba(c){this.$n.$h(c)}t8(){this.Zn.ai(!0);for(const c of this.Zn)c.ee();this.Zn.ai(!1)}s8(){this.qq.ai(!0);for(const c of this.qq);this.qq.ai(!1)}u8(){this.$n.ai(!0);for(const c of this.$n)c.Wp();this.$n.ai(!1)}*g9(){this.Zn.ai(!0);for(const c of this.Zn){const f=
c.ee();d.wn(f)&&(yield*f)}this.Zn.ai(!1)}*f9(){this.qq.ai(!0);for(const c of this.qq)d.wn(void 0)&&(yield*void 0);this.qq.ai(!1)}*h9(){this.$n.ai(!0);for(const c of this.$n){const f=c.Wp();d.wn(f)&&(yield*f)}this.$n.ai(!1)}async ee(c,f,k){this.$U=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.FC&&(!this.Ep()||f||g)&&(f=performance.now(),this.UC=!0,this.Yaa(c||0),c=this.j7(),this.Pe&&await c,c=this.Zb.mga(this.Bq.pretick),c instanceof Promise&&await c,c=this.i7(),
this.Pe&&await c,this.cba()&&await this.T$(),this.gb.ns()&&await this.Taa(),c=this.k7(),this.Pe&&await c,k&&this.OG(),this.Ep()||g||this.kT(),this.gl++,this.zt++,this.UC=!1,this.wm+=performance.now()-f)}async j7(){const c=this.ya,f=this.Ib;this.ne();c.Ze(!0);this.Ov(this.Ub());f&&a.Ms();this.Pe?await c.zZ():c.s5();f&&a.XX();this.Mv();c.Ze(!1);this.ne();c.Ze(!0)}async i7(){const c=this.Ib,f=this.Pe,k=this.Zb,g=this.Bq,l=this.FW;c&&a.Ms();f?await this.Hz(this.g9()):this.t8();f?await this.Hz(this.f9()):
this.s8();c&&a.SX();c&&a.Ms();f?await this.JN(g.tick):k.dispatchEvent(g.tick);c&&a.cY();this.ya.Ze(!1);this.Rh(l.tick)}async k7(){const c=this.ya,f=this.Zb,k=this.Bq,g=this.Ib,l=this.Pe;g&&a.Ms();l?await c.xZ(this.gb):c.q5(this.gb);g&&a.XX();this.rh.zN();this.fT();this.uK=!1;c.Ze(!0);g&&a.Ms();l?await this.Hz(this.h9()):this.u8();g&&a.SX();g&&a.Ms();l?await this.JN(k.tick2):f.dispatchEvent(k.tick2);g&&a.cY();c.Ze(!1);l&&await c.uQ()}fT(){if(0!==this.Nq.size){var c=this.Zb;c.Ds(!0);for(const f of this.OC)f.Eo.Kp(this.Nq);
this.OC.clear();this.ya.U4(this.Nq);for(const f of this.Nq)f.g();this.Nq.clear();c.Ds(!1)}}async Taa(){const c=this.gb;let f=0;for(;c.ns()&&10>f++;)await this.UR(c.Vx)}Yaa(c){let f=0;0!==this.mD&&(f=Math.max(c-this.mD,0)/1E3,.5<f&&(f=0),this.kC=Math.min(f,1/this.NV));this.mD=c;this.jC=this.kC*this.Ce;this.VJ.Rc(this.jC);this.WJ.Rc(f*this.Ce);this.bM.Rc(this.kC);this.ba&&this.ba.aea();1E3<=c-this.Dq&&(this.Dq+=1E3,1E3<=c-this.Dq&&(this.Dq=c),this.zC=this.AC,this.AC=0,this.uD=Math.min(this.wm/1E3,1),
this.wm=0,this.ba&&this.ba.Uda(),this.Ib&&a.iqa());this.AC++}async UR(c){const f=this.Zb,k=this.gb.Ub();await k.Lda();k.Tda(c,this.qb());k===c&&this.ya.xz();this.rh.zN();this.fT();f.dispatchEvent(this.Bq.beforelayoutchange);d.rl.LQ(!0);await c.gI(k,this.qb());d.rl.LQ(!1);await c.VT(!1);f.dispatchEvent(this.Bq.layoutchange);this.R();this.uK=!0;this.ne()}R(){this.YK=!0}yp(){return this.ba?this.ba.yp():null}zv(){return this.ba?this.ba.zv():null}qb(){return this.ba?this.ba.qb():null}OG(){const c=this.ba;
if(c&&!c.d3()){var f=this.qb(),k=f.Gk(),g=k&&f.Ev();k=k&&!1;g&&f.MY();if(this.YK){var l=this.gb.Ub();f.hw();var n=this.Ib;n&&a.Ms();this.YK=!1;var q=null;g&&(q=c.DC.aF(),f.tH(q));g=null;k&&(g=f.wpa(2*(1+l.kc.length)),f.V7(0));this.Qm&&"low"===c.Nj?f.Q5(c.Ug(),c.lg()):f.B5();this.dca(this.qb(),l);q&&f.uF(q);k&&(f.V7(1),this.ba.r8(g));f.Tr();n&&(a.Uha(),a.jqa());c&&c.Waa()}else f.d2()}}dca(c,f){c.tg();c.YG();c.Pf(1,1,1,1);c.kf(null);c.Ge(null);c.Kn(this.Qm);f.Vd(c)}Aa(c,f,k){if(!this.FC)return!1;var g=
!this.UC&&!this.ya.vG();let l=0;g&&(l=performance.now());const n=this.Ib;n&&this.Cs(!1);c=this.ya.Iw(this.gb,c,f,k);g&&(g=performance.now()-l,this.wm+=g,n&&a.Xha(g));n&&this.Cs(!0);return c}async Sf(c,f,k){if(!this.Pe)return this.Aa(c,f,k);if(!this.FC)return!1;if(this.Bv())return this.ya.N4(c,f,k);if(!this.Ub())return this.ya.MG(c,f,k);const g=performance.now();c=this.ya.mw(this.gb,c,f,k);for(f=c.next();!f.done;)await this.Qr(f.value),f=c.next();this.Ep()||this.ya.vG()||(await this.ya.uQ(),this.$U&&
!this.UC&&this.kT());this.wm+=performance.now()-g;return f.value}Ov(c){this.Xw.push(c)}Mv(){if(!this.Xw.length)throw Error("layout stack empty");this.Xw.pop()}Ma(){return this.Xw.length?this.Xw.Xe(-1):this.Ub()}pp(c){return c&&-1!==c.Ce?this.kC*c.Ce:this.jC}kH(c){if(isNaN(c)||0>c)c=0;this.Ce=c}SQ(c){this.NV=d.fa(c,1,120)}Kf(){return this.VJ.ea()}I0(){return this.WJ.ea()}dG(){return this.bM.ea()}Il(){++this.zt}Vi(c){if(this.$k)throw Error("cannot call while loading state - wait until afterload event");
return this.Mq.get(c)||null}cT(){this.Mq.clear();for(const c of this.md)if(!c.Wa)for(const f of c.ka())this.Mq.set(f.Pc,f)}os(){return"preview"===this.mo}P2(){return"cordova"===this.mo}L2(){return"Android"===d.Fd.rs&&("cordova"===this.mo||"playable-ad"===this.mo||"instant-games"===this.mo)}$F(){return this.Dm.$F()}u6(c){c=!!c;this.Tj!==c&&(this.Tj=c,this.gb.zs(),this.R())}u5(c){this.ey=c}s3(c){this.Kx=c}DG(c){this.Lt=c}cba(){return!(!this.ey&&!this.Kx&&null===this.Lt)}async T$(){this.ey&&(this.ne(),
await this.J9(this.ey),this.FH());this.Kx&&(await this.I9(this.Kx),this.FH(),this.Ib&&a.xpa());if(null!==this.Lt){this.ne();try{await this.VR(this.Lt),this.Wq=this.Lt,await this.Sf(d.B.Za.F.PP,null),this.Wq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Sf(d.B.Za.F.QP,null)}this.FH()}}FH(){this.Kx=this.ey="";this.Lt=null}M$(){this.kL||(this.kL=localforage.mM({name:"c3-localstorage-"+this.lL,description:this.JD}));return this.kL}pS(){this.sL||(this.sL=
localforage.mM({name:"c3-savegames-"+this.lL,description:this.JD}));return this.sL}async J9(c){const f=await this.Hca();try{await this.pS().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+f.length+" chars)"),this.Wq=f,await this.Sf(d.B.Za.F.p4,null),this.Wq=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Sf(d.B.Za.F.q4,null)}}async I9(c){try{const f=await this.pS().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
f.length+" chars)");await this.VR(f);this.Wq=f;await this.Sf(d.B.Za.F.PP,null);this.Wq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.Sf(d.B.Za.F.QP,null)}}async Hca(){const c={c3save:!0,version:1,rt:{time:this.Kf(),timeRaw:this.I0(),walltime:this.dG(),timescale:this.Ce,tickcount:this.gl,execcount:this.zt,next_uid:this.Sx,running_layout:this.Ub().ib,start_time_offset:Date.now()-this.Go},types:{},layouts:{},events:this.ya.la(),timelines:this.Kb.la(),user_script_data:null};
for(var f of this.md)f.Wa||f.UO()||(c.types[f.ib.toString()]=f.la());for(const k of this.gb.rj)c.layouts[k.ib.toString()]=k.la();f=this.KH("save");f.saveData=null;await this.mp(f);c.user_script_data=f.saveData;return JSON.stringify(c)}async VR(c){var f=this.gb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Zb.dispatchEvent(d.A(d.Event,"beforeload"));
for(var k of this.Ofa())k.rB();this.$k=!0;k=c.rt;this.VJ.Set(k.time);k.hasOwnProperty("timeRaw")&&this.WJ.Set(k.timeRaw);this.bM.Set(k.walltime);this.Ce=k.timescale;this.gl=k.tickcount;this.zt=k.execcount;this.Go=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Ub().ib)if(g=f.QF(g))await this.UR(g);else return;for(const [l,n]of Object.entries(c.types))g=this.Zi(parseInt(l,10)),!g||g.Wa||g.UO()||g.ua(n);this.ne();this.cT();this.$k=!1;this.Sx=k.next_uid;for(const [l,n]of Object.entries(c.layouts))(k=
f.QF(parseInt(l,10)))&&k.ua(n);this.ya.ua(c.events);for(const l of this.md)if(!l.Wa&&l.Ic())for(const n of l.ka()){k=n.rp();for(const q of l.Aj.Bm)if(q!==l){g=q.ka();if(0>k||k>=g.length)throw Error("missing sibling instance");n.Rs(g[k])}}this.Kb.ua(c.timelines);f.As();f.zs();this.Zb.dispatchEvent(d.A(d.Event,"afterload"));f=this.KH("load");f.saveData=c.user_script_data;await this.mp(f);this.R()}async $X(c){c=(await Promise.all(c.map(f=>this.Nd.wl(f)))).map(f=>URL.createObjectURL(f));this.Dx.c2(c)}YX(){this.Dx.w5()}ZX(c){this.Dx.x5(c)}YE(c,
f,k){return this.Dx.YE(c,f,k)}J2(c,f){this.Cn("runtime","invoke-download",{url:c,filename:f})}async O4(c){var f=f||2048;var k=k||2048;return this.pm?(await this.Nv("raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}ws(){this.AU||(this.AU=!0,this.Cn("runtime","enable-device-orientation"))}Fn(){this.zU||(this.zU=!0,this.Cn("runtime","enable-device-motion"))}Dn(){return this.yfa()}N$(){const c=
this.yp();return{fps:this.zC,cpu:this.uD,gpu:this.bA(),layout:this.Ub()?this.Ub().Ba():"",renderer:c?c.Hy:"<unavailable>"}}Bv(){return this.Ib?a.Bv():!1}Qr(c){return this.Pe?a.Qr(c):Promise.resolve()}yc(){return this.Pe?a.tia():!1}Cs(c){c?this.zJ--:this.zJ++;this.Wda()}Wda(){this.Pe=this.Ib&&this.wea&&0===this.zJ}oG(){return this.Ib&&a.oG()}sG(){return this.Ib&&this.qb().Gk()&&a.sG()}async Hz(c){if(c)for(const f of c)await this.Qr(f)}JN(c){return this.Hz(this.Zb.nga(c))}pB(c){return this.ya.pB(c.name,
c.params)}KH(c){c=d.A(d.Event,c,!1);c.Qc=this.Pj;return c}daa(){var c={};for(const f of this.md)c[f.Xi()]={value:f.qx,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Pj=new self.R1(this,c);this.FW={tick:this.KH("tick")}}$$(){const c={};for(const f of this.ja().XI)c[f.Xi()]=f.qS();this.Pj.aaa(c)}LS(c,f){this.Rea.set(c,f)}};self.C3_CreateRuntime=d.vQ.Sa;self.C3_InitRuntime=(c,f)=>c.sn(f)}
{"use strict";const d=self.j;d.m3=class extends d.ga{constructor(a,b){super();this.b=a;this.Sq=new Map;this.qfa=0;this.ux=b.inputPort;b.outputPort.onmessage=e=>this.XS(e);this.HV=b.maxNumWorkers;this.Ex=1;this.TU=this.xx=!1}async sn(){}c2(a){this.ux.postMessage({type:"_import_scripts",scripts:a})}w5(){this.ux.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}x5(a){this.ux.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}YE(a,b,e){e||(e=[]);const c=this.qfa++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((f,k)=>{this.Sq.set(c,{resolve:f,progress:void 0,reject:k,lM:!1})});this.ux.postMessage(a,e);this.NS();return b}XS(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.pba(e,a.result);break;case "progress":this.oba(e,a.progress);break;case "error":this.nba(e,a.error);break;case "ready":this.qba();break;default:throw Error(`unknown message from worker '${b}'`);}}pba(a,b){const e=this.Sq.get(a);if(!e)throw Error("invalid job ID");
e.lM||e.resolve(b);this.Sq.delete(a)}oba(a,b){a=this.Sq.get(a);if(!a)throw Error("invalid job ID");!a.lM&&a.progress&&a.progress(b)}nba(a,b){const e=this.Sq.get(a);if(!e)throw Error("invalid job ID");e.lM||e.reject(b);this.Sq.delete(a)}qba(){this.xx&&(this.xx=!1,this.Ex++,this.Ex<this.HV?this.NS():this.ux.postMessage({type:"_no_more_workers"}))}async NS(){if(!(this.Ex>=this.HV||this.xx||this.TU||this.Sq.size<=this.Ex))try{this.xx=!0,(await this.b.Nv("create-job-worker")).outputPort.onmessage=a=>this.XS(a)}catch(a){this.TU=
!0,this.xx=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Ex} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.water={vu:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nprecision mediump float;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nconst float PI = 3.1415926535897932;\nuniform float speed;\nuniform float speed_x;\nuniform float speed_y;\nuniform float intensity;\nconst float steps = 8.0;\nuniform float frequency;\nuniform float angle; // better when a prime\nuniform float delta;\nuniform float intence;\nuniform float emboss;\nfloat col(vec2 coord)\n{\nfloat delta_theta = 2.0 * PI / angle;\nfloat col = 0.0;\nfloat theta = 0.0;\nfor (float i = 0.0; i < steps; i++)\n{\nvec2 adjc = coord;\ntheta = delta_theta*i;\nadjc.x += cos(theta)*seconds*speed + seconds * speed_x;\nadjc.y -= sin(theta)*seconds*speed - seconds * speed_y;\ncol = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n}\nreturn cos(col);\n}\nvoid main(void)\n{\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nvec2 p = tex, c1 = p, c2 = p;\nfloat cc1 = col(c1);\nc2.x += (1.0 / pixelSize.x) / delta;\nfloat dx = emboss*(cc1-col(c2))/delta;\nc2.x = p.x;\nc2.y += (1.0 / pixelSize.y) / delta;\nfloat dy = emboss*(cc1-col(c2))/delta;\nc1.x += dx;\nc1.y = -(c1.y+dy);\nfloat alpha = 1.+dot(dx,dy)*intence;\nc1.y = -c1.y;\nc1 = clamp(c1, 0.0, 1.0);\ngl_FragColor = texture2D(samplerFront, mix(srcStart, srcEnd, c1)) * alpha;\n}",Ru:"",
tu:40,uu:40,su:!1,Eu:!1,Fu:!1,pu:!0,parameters:[["speed",0,"percent"],["speed_x",0,"percent"],["speed_y",0,"percent"],["intensity",0,"float"],["frequency",0,"float"],["angle",0,"float"],["delta",0,"float"],["intence",0,"float"],["emboss",0,"percent"]]};
self.C3_Shaders.vignette={vu:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp float d = distance(tex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",Ru:"",
tu:0,uu:0,su:!1,Eu:!1,Fu:!0,pu:!1,parameters:[["vignetteStart",0,"percent"],["vignetteEnd",0,"percent"]]};
self.C3_Shaders.radialblur={vu:"precision mediump float;\nvarying vec2 vTex;\nuniform sampler2D samplerFront;\nuniform vec2 srcStart;\nuniform vec2 srcEnd;\nuniform float layerScale;\nuniform float intensity;\nuniform float radius;\nvoid main(void)\n{\nvec2 dir = ((srcStart + srcEnd) / 2.0 - vTex) / (length(srcEnd - srcStart) / 2.0);\nfloat dist = sqrt(dir.x*dir.x + dir.y*dir.y);\ndir = dir/dist;\nvec4 front = texture2D(samplerFront, vTex);\nvec4 sum = front;\nfloat scaledRadius = radius * layerScale;\nsum += texture2D(samplerFront, vTex + dir * -0.08 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.08 * scaledRadius);\nsum /= 11.0;\nfloat t = dist * 2.2;\nt = clamp(t, 0.0, 1.0);\ngl_FragColor = mix(front, mix(front, sum, t), intensity);\n}",Ru:"",
tu:50,uu:50,su:!1,Eu:!1,Fu:!1,pu:!1,parameters:[["radius",0,"percent"],["intensity",0,"percent"]]};
self.C3_Shaders.glowvertical={vu:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelHeight = pixelSize.y;\nmediump float halfPixelHeight = pixelHeight / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",Ru:"",
tu:0,uu:8,su:!1,Eu:!1,Fu:!1,pu:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.glowhorizontal={vu:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",Ru:"",
tu:8,uu:0,su:!1,Eu:!1,Fu:!1,pu:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.noise={vu:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform highmedp float seconds;\nuniform lowp float intensity;\nuniform lowp float noiseColor;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nhighmedp float seconds_mod = mod(seconds, 10.0);\nmediump vec3 noise = vec3(fract(sin(dot(vTex.xy, vec2(12.9898,78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.yx, vec2(12.9898,-78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.xy, vec2(-12.9898,-78.233)) + seconds_mod) * 43758.5453));\nnoise = mix(vec3(noise.r), noise, noiseColor);\nfront.rgb += (noise * intensity) - (intensity / 2.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",Ru:"",
tu:0,uu:0,su:!1,Eu:!1,Fu:!0,pu:!0,parameters:[["intensity",0,"percent"],["noiseColor",0,"percent"]]};
{"use strict";const d=self.j;let a=null,b="",e="",c=[],f="",k="",g="";const l=d.A(d.rY);function n(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.B.Za=class extends d.Dk{constructor(q){super(q);this.$f=this.b.ja().$f;this.fe=this.b.ja().gd();this.rx=this.Jq=0;this.NU=new Map}g(){super.g()}R(){this.b.R()}Aa(q){this.b.Aa(q,null,null)}gA(q,r){a&&q===b&&r===e||(a=new RegExp(q,r),b=q,e=r);a.lastIndex=0;return a}CO(q,r,p){if(q===f&&r===k&&
p===g)return c;const w=this.gA(r,p);c=q.match(w);f=q;k=r;g=p;return c}async iI(q,r){if(r.length){this.Jq+=r.length;var p=[];for(const w of r)p.push(q.BP(w));await d.G4(p,()=>{this.rx++});this.rx++;this.rx===this.Jq&&(this.b.Aa(d.B.Za.F.e4,null,null),this.Jq=this.rx=0)}}$T(q,r){for(const p of r)0===p.D.length&&q.D3(p)}mS(){return l}eca(q){var r=this.b.ja();const p=r.gd(),w=p.bf(),t=w.Eb(),v=t.Dd();var x=w.zk();const z=p.Na(t),D=r.$f,E=D.Na();if(x)for(x=0;x<q&&!E.Dc;++x)r.ae(v),E.Uc(x),t.jf(w,z),r.Bb(v);
else for(r=0;r<q&&!E.Dc;++r)E.Uc(r),t.jf(w,z);p.Ha();D.Ha();return!1}*n9(q){var r=this.b.ja();const p=r.gd(),w=p.bf(),t=w.Eb(),v=t.Dd();var x=w.zk();const z=p.Na(t),D=r.$f,E=D.Na();if(x)for(x=0;x<q&&!E.Dc;++x)r.ae(v),E.Uc(x),yield*t.Rg(w,z),r.Bb(v);else for(r=0;r<q&&!E.Dc;++r)E.Uc(r),yield*t.Rg(w,z);p.Ha();D.Ha();return!1}gea(){var q=this.b.ja();const r=q.gd(),p=r.bf(),w=p.Eb(),t=w.Dd();var v=p.zk();const x=r.Na(w),z=q.$f,D=z.Na();if(v)for(v=0;!D.Dc;++v)q.ae(t),D.Uc(v),w.jf(p,x)||D.kh(),q.Bb(t);else for(q=
0;!D.Dc;++q)D.Uc(q),w.jf(p,x)||D.kh();r.Ha();z.Ha();return!1}*G9(){var q=this.b.ja();const r=q.gd(),p=r.bf(),w=p.Eb(),t=w.Dd();var v=p.zk();const x=r.Na(w),z=q.$f,D=z.Na();if(v)for(v=0;!D.Dc;++v)q.ae(t),D.Uc(v),(yield*w.Rg(p,x))||D.kh(),q.Bb(t);else for(q=0;!D.Dc;++q)D.Uc(q),(yield*w.Rg(p,x))||D.kh();r.Ha();z.Ha();return!1}u$(q,r,p){var w=this.b.ja();const t=w.gd(),v=t.bf(),x=v.Eb(),z=x.Dd(),D=v.zk(),E=t.Na(x),M=w.$f,B=M.Na();B.VA(q);if(p<r)if(D)for(q=r;q>=p&&!B.Dc;--q)w.ae(z),B.Uc(q),x.jf(v,E),w.Bb(z);
else for(w=r;w>=p&&!B.Dc;--w)B.Uc(w),x.jf(v,E);else if(D)for(q=r;q<=p&&!B.Dc;++q)w.ae(z),B.Uc(q),x.jf(v,E),w.Bb(z);else for(w=r;w<=p&&!B.Dc;++w)B.Uc(w),x.jf(v,E);t.Ha();M.Ha();return!1}*k9(q,r,p){var w=this.b.ja();const t=w.gd(),v=t.bf(),x=v.Eb(),z=x.Dd(),D=v.zk(),E=t.Na(x),M=w.$f,B=M.Na();B.VA(q);if(p<r)if(D)for(q=r;q>=p&&!B.Dc;--q)w.ae(z),B.Uc(q),yield*x.Rg(v,E),w.Bb(z);else for(w=r;w>=p&&!B.Dc;--w)B.Uc(w),yield*x.Rg(v,E);else if(D)for(q=r;q<=p&&!B.Dc;++q)w.ae(z),B.Uc(q),yield*x.Rg(v,E),w.Bb(z);
else for(w=r;w<=p&&!B.Dc;++w)B.Uc(w),yield*x.Rg(v,E);t.Ha();M.Ha();return!1}v$(q){var r=this.b.ja();const p=r.gd(),w=p.bf(),t=w.Eb(),v=t.Dd();var x=w.zk();const z=p.Na(t),D=r.$f,E=D.Na(),M=q.Ic(),B=q.Z(),G=l.Na();d.xd(G,B.ka());if(x)for(let H=0,J=G.length;H<J&&!E.Dc;++H)r.ae(v),x=G[H],q.Z().Fk(x),M&&x.ij(),E.Uc(H),t.jf(w,z),r.Bb(v);else{B.Je(!1);q=B.D;d.C(q);q.push(null);for(let H=0,J=G.length;H<J&&!E.Dc;++H)r=G[H],q[0]=r,M&&r.ij(),E.Uc(H),t.jf(w,z)}p.Ha();D.Ha();d.C(G);l.Ha();return!1}*l9(q){var r=
this.b.ja();const p=r.gd(),w=p.bf(),t=w.Eb(),v=t.Dd();var x=w.zk();const z=p.Na(t),D=r.$f,E=D.Na(),M=q.Ic(),B=q.Z(),G=l.Na();d.xd(G,B.ka());if(x)for(let H=0,J=G.length;H<J&&!E.Dc;++H)r.ae(v),x=G[H],q.Z().Fk(x),M&&x.ij(),E.Uc(H),yield*t.Rg(w,z),r.Bb(v);else{B.Je(!1);q=B.D;d.C(q);q.push(null);for(let H=0,J=G.length;H<J&&!E.Dc;++H)r=G[H],q[0]=r,M&&r.ij(),E.Uc(H),yield*t.Rg(w,z)}p.Ha();D.Ha();d.C(G);l.Ha();return!1}w$(q,r){var p=this.b.ja();const w=p.gd(),t=p.kg(),v=w.bf(),x=v.Eb(),z=x.Dd(),D=v.zk(),
E=w.Na(x),M=p.$f,B=M.Na(),G=q.Ic(),H=q.Z(),J=l.Na();d.C(J);const P=H.ka();for(let Q=0,T=P.length;Q<T;++Q)J.push([P[Q],t.Qv(1,Q)]);J.sort(n);1===r&&J.reverse();if(D)for(let Q=0,T=J.length;Q<T&&!B.Dc;++Q)p.ae(z),r=J[Q][0],q.Z().Fk(r),G&&r.ij(),B.Uc(Q),x.jf(v,E),p.Bb(z);else{H.Je(!1);q=H.D;d.C(q);q.push(null);for(let Q=0,T=J.length;Q<T&&!B.Dc;++Q)p=J[Q][0],q[0]=p,G&&p.ij(),B.Uc(Q),x.jf(v,E)}w.Ha();M.Ha();d.C(J);l.Ha();return!1}*m9(q,r){var p=this.b.ja();const w=p.gd(),t=p.kg(),v=w.bf(),x=v.Eb(),z=x.Dd(),
D=v.zk(),E=w.Na(x),M=p.$f,B=M.Na(),G=q.Ic(),H=q.Z(),J=l.Na();d.C(J);const P=H.ka();for(let Q=0,T=P.length;Q<T;++Q)J.push([P[Q],t.Qv(1,Q)]);J.sort(n);1===r&&J.reverse();if(D)for(let Q=0,T=J.length;Q<T&&!B.Dc;++Q)p.ae(z),r=J[Q][0],q.Z().Fk(r),G&&r.ij(),B.Uc(Q),yield*x.Rg(v,E),p.Bb(z);else{H.Je(!1);q=H.D;d.C(q);q.push(null);for(let Q=0,T=J.length;Q<T&&!B.Dc;++Q)p=J[Q][0],q[0]=p,G&&p.ij(),B.Uc(Q),yield*x.Rg(v,E)}w.Ha();M.Ha();d.C(J);l.Ha();return!1}jB(q,r){let p=this.NU.get(q);if(p)return p;if(!r)return null;
p={Yo:null,TE:new Map};this.NU.set(q,p);return p}H9(q,r,p,w,t){r.Jf().p5(p);w&&q.Bb(t)}*i9(q,r,p,w,t){yield*r.Jf().wZ(p);w&&q.Bb(t)}}}{"use strict";const d=self.j;d.B.Za.Ie=class extends d.ga{constructor(a){super();this.N=a;this.b=a.G();this.wi=a.Fb()}Vb(){}g(){this.wi=this.b=this.N=null}}}{"use strict";const d=self.j;d.B.Za.Instance=class extends d.ga{constructor(a){super();this.K=a;this.N=this.K.H();this.eb=this.N.eb;this.b=this.K.G()}g(){this.b=this.eb=this.N=this.K=null}}}
{"use strict";const d=self.j,a=[];d.B.Za.F={R_(){return!0},OP(){return!0},NP(){return!0},r4(){return!0},o4(){return!0},Ep(){return this.b.Ep()},RN(){const b=this.b.If();return b.GJ?!1:!b.Tq},v7(){const b=this.b.kg().Xd();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.b.gl;b.set("TriggerOnce_lastTick",c);return this.b.uK||e!==c-1},Q_(b){const e=this.b.kg().Xd(),c=e.get("Every_lastTime")||0,f=this.b.Kf();e.has("Every_seconds")||e.set("Every_seconds",
b);const k=e.get("Every_seconds");if(f>=c+k)return e.set("Every_lastTime",c+k),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",b),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},ks(b){return(b=this.b.ja().iO(b))&&b.ks()},os(){return this.b.os()},yG(){return d.Fd.yG},j4(){return!0},U3(){return!0},rja(){return!0},p4(){return!0},q4(){return!0},PP(){return!0},QP(){return!0},Sla(b){return!!this.b.Vi(b)},Ika(b){switch(b){case 0:return"browser"===d.Fd.kF;case 1:return"iOS"===
d.Fd.rs;case 2:return"Android"===d.Fd.rs;case 8:return"cordova"===d.Fd.kF;case 9:return"scirra-arcade"===this.b.mo;case 10:return"nwjs"===d.Fd.kF;case 13:return"windows-uwp"===this.b.mo;default:return!1}},Qma(b,e,c){return this.gA(e,c).test(b)},Iia(b,e,c){return d.compare(b,e,c)},Lia(b,e,c){return b>=e&&b<=c},aZ(b,e,c){return d.compare(b.$d(),e,c)},Mia(b){return!!b.$d()},Tia(b,e){const c=this.b.Kf();return 0===b?(b=this.b.kg().Xd(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},Gka(b){return isNaN(b)},kY(b,e,c){return d.Um(d.cb(b),d.cb(c))<=d.cb(e)},N2(b,e){return d.dg(d.cb(b),d.cb(e))},cP(b,e,c){b=d.cb(b);e=d.cb(e);c=d.cb(c);return d.dg(c,e)?d.dg(b,e)&&!d.dg(b,c):!(!d.dg(b,e)&&d.dg(b,c))},Qka(b,e){return"number"===typeof b?0===e:1===e},uja(b){return!!b},mma(b,e,c,f){if(!b)return!1;const k=this.mS(),g=k.Na(),l=b.Z();d.xd(g,l.ka());l.cc&&d.C(l.vc);const n=this.b.kg();let q=0;for(let r=0,p=g.length;r<p;++r){const w=g[r];g[q]=w;e=n.Qv(1,r);f=n.Qv(3,
r);d.compare(e,c,f)?++q:l.Un(w)}d.Ye(g,q);l.Sv(g);e=!!g.length;d.C(g);k.Ha();b.nc();return e},nma(b,e){if(!b)return!1;const c=this.mS(),f=c.Na(),k=b.Z();d.xd(f,k.ka());k.cc&&d.C(k.vc);const g=this.b.kg();let l=0;for(let n=0,q=f.length;n<q;++n){const r=f[n];f[l]=r;(e=g.Qv(1,n))?++l:k.Un(r)}d.Ye(f,l);k.Sv(f);e=!!f.length;d.C(f);c.Ha();b.nc();return e},tma(b,e){if(!b)return!1;const c=b.Z(),f=c.ka();e=Math.floor(e);if(e>=f.length)return!1;c.Bn(f[e]);b.nc();return!0},xma(b){if(!b)return!1;const e=b.Z(),
c=e.ka(),f=Math.floor(this.b.Dn()*c.length);if(f>=c.length)return!1;e.Bn(c[f]);b.nc();return!0},lma(b){if(!b||!b.D.length)return!1;b.Z().Je(!0);b.nc();return!0},vma(b,e,c){if(!b)return!1;const f=b.Z();var k=f.ka();const g=this.b.Eb().he,l=this.b.kg().Sj;f.cc?(d.xd(a,k),f.yz(),f.Je(!1)):g?(d.xd(a,f.vc),d.C(f.vc)):(d.xd(a,f.D),d.C(f.D));for(let n=0,q=a.length;n<q;++n)k=a[n],d.xor(k.i().Yu(e,c),l)?f.bq(k):f.Un(k);b.nc();return d.xor(!!f.D.length,l)},sma(b){if(!b)return!1;var e=b.Wa;let c=null;const f=
this.b.om;for(let k=f.length-1;0<=k;--k){const g=f[k];if(e){if(g.H().dF(b)){c=g;break}}else if(g.H()===b){c=g;break}}c||(e=b.ka(),e.length&&(c=e.Xe(-1)));if(!c)return!1;b.Z().Bn(c);b.nc();return!0},Tma(b){return this.b.Pe?this.n9(b):this.eca(b)},sqa(){return this.b.Pe?this.G9():this.gea()},Aja(b,e,c){return this.b.Pe?this.k9(b,e,c):this.u$(b,e,c)},Bja(b){return this.b.Pe?this.l9(b):this.v$(b)},Cja(b,e,c){return this.b.Pe?this.m9(b,c):this.w$(b,c)},cla(b){return b?b.Sc():!1},$ka(b){return b?!b.D.length:
!1},Zka(b,e,c){return b?d.compare(100*b.ff(),e,c):!1},e4(){return!0},Dka(){return 0<this.Jq}}}
{"use strict";const d=self.j;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const e=[],c=[],f=d.A(d.Rect),k=d.A(d.Ya);d.B.Za.Ja={P6(g,l){g.hh(l)},hY(g,l){g.xn()&&"number"!==typeof l&&(l=parseFloat(l));g.hh(g.$d()+l)},l7(g,l){g.xn()&&g.hh(g.$d()-l)},boa(g,l){g.hh(!!l)},Spa(g){g.hh(!g.$d())},Gna(){this.b.ja().e5()},pZ(g,l,n,q,r){g&&l&&(n=this.b.nF(g,l,n,q,r))&&(r&&l.pH(n),l=this.b.ja(),l.Ze(!0),n.DB(),l.Ze(!1),g.Z().Fk(n),n.Ic()&&n.ij())},eja(g,l,n,q,r){g&&
l&&(g=this.b.RF(g))&&d.B.Za.Ja.pZ.call(this,g,l,n,q,r)},Pv(g,l,n,q,r,p,w,t,v,x){if(g){var z=this.b.Ma();if(p&&(z=this.b.gb.Xr(p),!z))return;p=null;if("number"!==typeof w||0<=w)if(p=z.aa(w),!p)return;f.set(l,n,q,r);l=z.Pv(g,f,p,t,v,x);g.Z().Sv(l);g.nc()}},zpa(){const g=this.$f;g.kP()&&g.Ur().kh()},Fs(g,l){(g=this.b.ja().iO(g))&&(0===l?g.Fs(!1):1===l?g.Fs(!0):g.Fs(!g.ks()))},bpa(g){this.b.kH(g)},Xoa(g,l){0>l&&(l=0);if(g){g=g.Z().ka();for(const n of g)n.kH(l)}},Jna(g){if(g){g=g.Z().ka();for(const l of g)l.l5()}},
zH(g){if(!(0>g))return this.b.ja().ZE().F2(g),!0},mqa(g){this.b.ja().ZE().D2(g);return!0},M7(){const g=this.b.ja();g.ZE().s2(g.g1());return!0},mpa(g){g=g.toLowerCase();for(const l of this.b.ja().Hg)l.g3()&&l.ky===g&&l.gH()},async hR(g,l,n,q,r,p){const w=this.b.ba;w&&(this.R(),await w.hR(0===g?"image/png":"image/jpeg",l/100,n,q,r,p),await this.b.Sf(d.B.Za.F.U3,null))},doa(g,l){if(!(0>=g||0>=l)){this.b.gw(g,l);var n=this.b.Ma();n.rz();for(const q of n.kc)q.yH();if(n=this.b.ba)"off"!==n.pv()&&this.b.q6(g,
l),n.Pb(n.To,n.So,!0),this.b.R()}},soa(g){const l=this.b.ba;l&&"off"!==l.pv()&&(l.KQ(0!==g?"high":"low"),l.Pb(l.To,l.So,!0))},Pp(g){this.b.u5(g)},ola(g){this.b.s3(g)},pla(g){this.b.DG(g)},uoa(){},Hna(){for(const g of this.b.gb.rj)g.i5()},Zoa(g){this.b.u6(0!==g)},SQ(g){this.b.SQ(g)},ppa(g,l){if(g){var n=g.Z().ka(),q=this.b.Ma(),r=g.Wa;g=g.Jj;for(let w=0,t=n.length;w<t;++w){var p=n[w];const v=p.i();if(!v)continue;let x;x=r?p.ef(l+p.H().kO(g)):p.ef(l);e.push([v.aa().Ga(),v.wk()]);c.push([p,x])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let w=0,t=e.length;w<t;++w)n=c[w][0],r=q.cA(e[w][0]),g=e[w][1],p=r.D,p[g]!==n&&(p[g]=n,n.i().Ew(r),r.jh(),l=!0);l&&this.b.R();d.C(e);d.C(c)}}},r1(g){if(!this.b.Zk){var l=this.b.gb;l.ns()||l.wz(g)}},Oja(g){if(!this.b.Zk){var l=this.b.gb;l.ns()||(g=l.Xr(g))&&l.wz(g)}},Lla(g){if(!this.b.Zk){var l=this.b.gb;if(!l.ns()){var n=l.rj,q=n.indexOf(l.Ub());g&&0===q||(g||q!==n.length-1)&&l.wz(n[q+(g?-1:1)])}}},k5(){if(!this.b.Zk){var g=this.b.gb;g.ns()||(g.wz(g.Ub()),this.b.ja().f5())}},g6(g,
l){g&&g.lf(l)},f6(g,l){g&&g.hj(l/100)},Hoa(g,l){g&&g.UQ(l)},Ioa(g,l){g&&g.x6(l)},Boa(g,l){g&&g.Bc(d.cb(+l))},Joa(g,l,n){g&&(g.Yv(!0),g.bi(l),g.ci(n))},Ina(g){g&&g.Yv(!1)},Goa(g,l,n){g&&g.r6(l/100,n/100)},Loa(g,l){g&&g.He(+l)},Coa(g,l){g&&(k.Iu(l),k.fa(),g=g.fm,g.Wm(k)||(g.hk(k),this.R()))},Koa(g,l){g&&g.L6(l)},Doa(g,l){g&&g.Of(l)},e6(g,l,n){g&&(g=g.Qa,n=g.Bl(n))&&(l=1===l,n.Mb!==l&&(n.OA(l),g.Pn(),this.b.R()))},Eoa(g,l,n,q){if(g&&(g=g.Qa,l=g.Bl(l))&&(g=g.Vg(l.Ga()),n=Math.floor(n),!(0>n||n>=g.length))){var r=
l.jb.fA(n);if("color"===r){k.Iu(q);n=g[n];if(k.Wm(n))return;n.hk(k)}else{"percent"===r&&(q/=100);if(g[n]===q)return;g[n]=q}l.Mb&&this.b.R()}},Foa(g,l){g&&g.T5(l)},Qoa(g){this.b.Ma().Sp(+g)},Moa(g){this.b.Ma().Bc(d.cb(+g))},Noa(g,l){const n=this.b.Ma().Qa;if(l=n.Bl(l))g=1===g,l.Mb!==g&&(l.OA(g),n.Pn(),this.b.R())},Ooa(g,l,n){var q=this.b.Ma().Qa;if(g=q.Bl(g))if(q=q.Vg(g.Ga()),l=Math.floor(l),!(0>l||l>=q.length)){var r=g.jb.fA(l);if("color"===r){k.Iu(n);l=q[l];if(k.Wm(l))return;l.hk(k)}else{"percent"===
r&&(n/=100);if(q[l]===n)return;q[l]=n}g.Mb&&this.b.R()}},Roa(g,l){this.b.Ma().O6(g/100,l/100)},Poa(g){const l=this.b.Ma();0===g?l.WQ():l.TQ()},Vna(g){this.b.Ma().bi(g)},Wna(g){this.b.Ma().ci(g)},Tna(g,l){const n=this.b.Ma();n.bi(g);n.ci(l)},Una(g){if(g&&(g=g.KF())&&(g=g.i())){var l=this.b.Ma();l.bi(g.O());l.ci(g.P())}},async u3(g){const l=this.b.Ub();l&&g&&!this.b.Zk&&await this.iI(l,g.Wa?g.no:[g])},async nla(g){await d.B.Za.Ja.u3.call(this,this.b.RF(g))},gqa(g){const l=this.b.Ub();l&&g&&this.$T(l,
g.Wa?g.no:[g])},x7(g){d.B.Za.Ja.x7.call(this,this.b.RF(g))},hqa(){const g=this.b.Ub();if(g){var l=g.S$();this.$T(g,l)}},async lla(g){const l=this.b.Ub();g&&l&&!this.b.Zk&&await this.iI(l,g.nS())},async mla(g){const l=this.b.Ub();(g=this.b.gb.Xr(g))&&l&&!this.b.Zk&&await this.iI(l,g.nS())},SA(g){const l=this.fe.m0();if(l)switch(l.OU){case 1:"number"===typeof g&&l.SA(g);break;case 2:"string"===typeof g&&l.SA(g);break;case 3:l.SA(g)}},rla(g,l,n){var q=this.jB(g.toLowerCase(),!0);const r=q.TE,p=l.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.Yo)&&0!==q.Co!==(0!==n.Co)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,n)},sla(g,l){const n=this.jB(g.toLowerCase(),!0);n.Yo&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(n.TE.values())||n.Yo;q&&
0!==q.Co!==(0!==l.Co)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.Yo=l},xia(g,l,n){n=Math.floor(n);var q=this.jB(g.toLowerCase(),!1);if(q){var r=q.TE.get(l.toLowerCase());if(!r)if(q.Yo)r=q.Yo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(r.jd())if(0!==r.Co)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.b;l=g.ja();var p=l.Eb();q=p.Ld();var w=0<q.length;w&&l.eh(q);var t=[];if(p=l.xF(p)){p=p.wh;for(let v=n,x=p.length;v<x;++v)t.push(p[v].$d())}n=r.wh;for(let v=t.length,x=n.length;v<x;++v)t.push(n[v].Lq);return g.Pe?this.i9(l,r,t,w,q):this.H9(l,r,t,w,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.j;d.B.Za.Cd={Vra:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},ora:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},an(a){return a.toString()},Yy(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.b.Dn()*a:this.b.Dn()*(b-a)+a},Zfa(...a){return a[Math.floor(this.b.Dn()*a.length)]},Osa(){return Math.PI},Tra(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},ota(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.cb(a))},cos(a){return Math.cos(d.cb(a))},tan(a){return Math.tan(d.cb(a))},asin(a){return d.Ud(Math.asin(a))},acos(a){return d.Ud(Math.acos(a))},atan(a){return d.Ud(Math.atan(a))},exp(a){return Math.exp(a)},Sga(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b<f&&(b=f)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b>f&&(b=f)}return b},fa(a,b,e){return d.fa(a,b,e)},Sy(a,b,e,c){return d.Ef(a,b,e,c)},angle(a,b,e,c){return d.Ud(d.je(a,b,e,c))},mc(a,b,e){return d.mc(a,b,e)},UE(a,b,e){return d.UE(a,b,e)},KE(a,b,e,c){return d.KE(a,b,e,c)},UW(a,b,e,c,f){return d.UW(a,
b,e,c,f)},TW(a,b,e){return d.TW(a,b,e)},Mqa(a,b){return d.Ud(d.Um(d.cb(a),d.cb(b)))},Nqa(a,b,e){return d.Ud(d.gM(d.cb(a),d.cb(b),e))},Oqa(a,b,e){return d.Ud(d.hM(d.cb(a),d.cb(b),d.cb(e)))},Ata(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},Kta(a,b){return(a|0)^1<<(b|0)},Nra(a,b){return(a|0)&1<<(b|0)?1:0},Esa(){return"\n"},Rta(a){return"string"===typeof a?a.toUpperCase():""},xsa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},Lta(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Mta(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.bv(b),"i")):-1},nra(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.bv(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.bv(b),"gi"),e):"string"===typeof a?a:""},$sa(a,b,e){b=this.gA(b,e);return a?a.search(b):-1},Zsa(a,b,e,c){b=this.gA(b,e);return a?a.replace(b,c):""},Ysa(a,b,e){return(a=this.CO(a.toString(),b,e))?a.length:0},Xsa(a,b,e,c){c=Math.floor(c);a=this.CO(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},eua(a,b){let e=0>a?"-":"";0>a&&(a=-a);e+="0".repeat(Math.max(b-
a.toString().length,0));return e+a.toString()},Tta(a){return encodeURIComponent(a)},Sta(a){return decodeURIComponent(a)},YW(){return this.b.jC},Ita(){return this.b.Ce},bua(){return(Date.now()-this.b.Go)/1E3},Pta(){return Date.now()},time(){return this.b.Kf()},Hta(){return this.b.gl},Isa(){return this.b.bL},rra(){return this.b.zC},ara(){return this.b.uD},Ora(){return this.b.bA()},dua(){return this.b.ba.ki},cua(){return this.b.ba.ji},Msa(){return this.b.Ue},Lsa(){return this.b.Te},Ksa(){return this.b.Ue},
Jsa(){return this.b.Te},rta(){return this.b.Ma().mg()},sta(){return this.b.Ma().ng()},qsa(){return this.b.Ma().Ba()},rsa(){return this.b.Ma().ac},nsa(){return d.Ud(this.b.Ma().ra())},ssa(){return this.b.Ma().M()},osa(){return this.b.Ma().I()},Yta(a){return(a=this.b.Ma().aa(a))?a.Ro.L:0},$ta(a){return(a=this.b.Ma().aa(a))?a.Ro.J:0},Zta(a){return(a=this.b.Ma().aa(a))?a.Ro.U:0},Wta(a){return(a=this.b.Ma().aa(a))?a.Ro.S:0},aua(a){return(a=this.b.Ma().aa(a))?a.Ro.width():0},Xta(a){return(a=this.b.Ma().aa(a))?
a.Ro.height():0},Wqa(a,b,e){return(a=this.b.Ma().aa(a))?a.Qh(b,e)[0]:0},Xqa(a,b,e){return(a=this.b.Ma().aa(a))?a.Qh(b,e)[1]:0},jsa(a,b,e){return(a=this.b.Ma().aa(a))?a.Gp(b,e)[0]:0},ksa(a,b,e){return(a=this.b.Ma().aa(a))?a.Gp(b,e)[1]:0},fsa(a){return(a=this.b.Ma().aa(a))?a.ac:0},asa(a){return(a=this.b.Ma().aa(a))?d.Ud(a.Le):0},csa(a){return(a=this.b.Ma().aa(a))?100*a.ff():0},gsa(a){return(a=this.b.Ma().aa(a))?a.ak:0},hsa(a){return(a=this.b.Ma().aa(a))?a.mg():0},isa(a){return(a=this.b.Ma().aa(a))?
a.ng():0},dsa(a){return(a=this.b.Ma().aa(a))?100*a.ve:0},esa(a){return(a=this.b.Ma().aa(a))?100*a.we:0},lsa(a){return(a=this.b.Ma().aa(a))?a.Ta():0},bsa(a){return(a=this.b.Ma().aa(a))?a.Ga():-1},Vqa(){const a=this.b.ba;return a?a.AL:""},wsa(a){const b=this.$f;return b.kP()?a?(a=b.V_(a))?a.Ga():0:b.Ur().Ga():0},pta(){return this.b.Wq},Uqa(a,b,...e){var c=this.jB(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var f=c.TE.get(b.toLowerCase());
if(!f)if(c.Yo)f=c.Yo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=f.Co;const k=f.FF();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.jd())return k;a=this.b.ja();b=a.Eb().Ld();const g=0<b.length;g&&a.eh(b);const l=f.wh;for(let n=e.length,q=l.length;n<q;++n)e.push(l[n].Lq);
f=f.Jf();e=f.sQ(f.Ld(),c,k,...e);g&&a.Bb(b);return e},vsa(){return this.b.Nd.kD},Rra(){return 0===this.Jq?1:this.rx/this.Jq},Ff(){return this.b.zv()?"webgpu":"webgl"},cta(){return this.b.zv()?"<unavailable>":this.b.yp().Hy},Sra(){let a=this.b.qb().q0();return Math.round(100*a/1048576)/100},dta(a,b,e){return d.v4(a,b,e)},gta(a,b,e){return d.VP(a/100,b/100,e/100)},eta(a,b,e,c){return d.IA(a/100,b/100,e/100,c/100)},hta(a,b,e){return d.VP(a/255,b/255,e/255)},fta(a,b,e,c){return d.IA(a/255,b/255,e/255,
c/255)},Rsa(){return this.b.JD},Ssa(){return this.b.bW},cra(){return this.b.Eb().td.Ba()},bra(){return this.b.Eb().tt}}}{"use strict";const d=self.j;d.B.Lb=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Lb.Ie=class extends d.Hn{constructor(a){super(a);this.Cc=a.Cc}g(){d.C(this.Cc);super.g()}Vb(){for(const a of this.Cc)a.vP(this.b)}Nl(a){const b={Gf:this.b.Fc};return Promise.all(this.Cc.map(e=>e.wP(a,b)))}Ak(){for(const a of this.Cc)a.eQ()}GA(){this.cU()}cU(){for(const a of this.N.Ega())a.ia.HI()}gv(a){d.B.Lb.W_(this,a)}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Jc),e=d.A(d.Ps);d.B.Lb.Instance=class extends d.ys{constructor(f,k){super(f);let g=!0,l="",n=0,q=!0;k&&(g=!!k[0],l=k[1],n=k[2],q=k[3]);this.Yb=this.N.$N(l)||this.N.Cc[0];this.Cb=d.fa(n,0,this.Yb.ge.length-1);this.tf=this.Yb.lk(this.Cb);k=this.tf.Hc();this.mt=k.hd();this.wJ=k.Xh();this.Yw=k.es();this.TO();f.Wv(2,!0);f.Wv(1,0<=this.Yb.Hl());this.Sk=Math.abs(this.Yb.Hl());this.lt=this.Yb.hW;this.OB=d.A(d.Fv);this.Ok=this.Mj=0;this.lU="";this.Tw=-1;this.gt=
"";this.sU=0;f=this.i();this.pJ=f.Ui();f.lf(g);f.Uv(q);f.Qp(this.tf.Vh());f.Rp(this.tf.Wh());f.iH(this.tf.sq);f.ta();1===this.N.Cc.length&&1===this.N.Cc[0].ge.length||0===this.Sk||this.qf()}g(){this.OB=this.mt=this.tf=this.Yb=null;super.g()}Kd(){return this.tf.Hc()}Kl(){return!0}Hp(){this.mt=null}JG(){this.HI()}Vd(f){var k=this.mt;null!==k&&(f.Ge(k),k=this.i(),k.pg()?this.TH(k,f):this.UH(k,f))}UH(f,k){let g=this.pJ;this.b.Tj&&(g=f.ts(g));k.JA(g,this.Yw)}TH(f,k){const g=f.SO();if(f.oP()){f.uz(a,b,
!1);let l=b;this.b.Tj&&(l=f.ts(l));g.tN(f.bj(),l,this.Yw);f.UA(!1)}g.Vd(k)}kv(){return this.OB.ea()}vA(){return this.K.NF(2)}Bs(f){this.K.Wv(2,f)}zA(){return this.K.NF(1)}$v(f){this.K.Wv(1,f)}uG(){return this.K.NF(4)}MQ(f){this.K.Wv(4,f)}ee(){this.gt&&this.TR();0<=this.Tw&&this.RH();const f=this.Sk;if(this.vA()&&0!==f){this.OB.Rc(this.b.pp(this.K));var k=this.kv(),g=this.tf,l=g.BU/f;if(!(k<this.Mj+l)){var n=this.Yb,q=this.lt,r=n.ge.length,p=n.nn(),w=n.VC,t=n.afa;this.zA()?this.Cb++:this.Cb--;this.Mj+=
l;this.Cb>=r&&(t?(this.$v(!1),this.Cb=r-2):w?this.Cb=q:(this.Ok++,this.Ok>=p?this.XH(!1):this.Cb=q));0>this.Cb&&(t?(this.Cb=1,this.$v(!0),w||(this.Ok++,this.Ok>=p&&this.XH(!0))):w?this.Cb=q:(this.Ok++,this.Ok>=p?this.XH(!0):this.Cb=q));this.Cb=d.fa(this.Cb,0,r-1);l=n.lk(this.Cb);k>this.Mj+l.BU/f&&(this.Mj=k);this.sB(g,l)}}else this.Nk()}XH(f){this.Cb=f?0:this.Yb.ge.length-1;this.Bs(!1);this.lU=this.Yb.Ba();this.MQ(!0);this.Aa(d.B.Lb.F.S3);this.Aa(d.B.Lb.F.R3);this.MQ(!1);this.Ok=0}sB(f,k){if(f!==
k){var g=this.i(),l=f.Hc();f=k.Hc();var n=l.M();l=l.I();var q=f.M(),r=f.I();n!==q&&g.mf(g.M()*(q/n));l!==r&&g.ld(g.I()*(r/l));g.Qp(k.Vh());g.Rp(k.Wh());g.iH(k.sq);g.ta();this.tf=k;this.mt=f.hd();this.wJ=f.Xh();this.Yw=f.es();k=this.Ca().nd;for(let p=0,w=k.length;p<w;++p);this.Aa(d.B.Lb.F.b4);this.b.R()}}Ida(f){this.Bs(!0);this.Mj=this.kv();1===f&&0!==this.Cb&&(this.Tw=0,this.uG()||this.RH());this.qf()}Nca(f,k){this.gt=f;this.sU=k;this.qf();this.uG()||this.TR()}kS(){return this.gt?this.gt:this.Yb.Ba()}Oca(f){isFinite(f)&&
(this.Tw=f,this.uG()||this.RH())}Qca(f){this.Sk=Math.abs(f);this.$v(0<=f);0<this.Sk&&this.qf()}fS(){return this.zA()?this.Sk:-this.Sk}Pca(f){this.lt=f=d.fa(Math.floor(f),0,this.Yb.ge.length-1)}TR(){const f=this.tf;var k=this.N.$N(this.gt);this.gt="";!k||k===this.Yb&&this.vA()||(this.Yb=k,this.$v(0<=k.Hl()),this.Sk=Math.abs(k.Hl()),this.lt=k.hW,this.Cb=d.fa(this.Cb,0,this.Yb.ge.length-1),1===this.sU&&(this.Cb=0),this.Bs(!0),this.Mj=this.kv(),k=this.Yb.lk(this.Cb),this.sB(f,k))}RH(){const f=this.tf;
var k=this.Cb;this.Cb=d.fa(Math.floor(this.Tw),0,this.Yb.ge.length-1);this.Tw=-1;k!==this.Cb&&(k=this.Yb.lk(this.Cb),this.sB(f,k),this.Mj=this.kv())}HI(){const f=this.tf.Hc();this.mt=f.hd();this.wJ=f.Xh();this.Yw=f.es();this.i().UA(!0)}hd(){return this.mt}Xh(){return this.wJ}es(){return this.Yw}qv(){return this.tf.qv()}Dl(f){const k=this.tf,g=this.i();if("string"===typeof f)f=k.oO(f);else if("number"===typeof f)f=k.nO(f-1);else throw new TypeError("expected string or number");if(!f)return[g.O(),g.P()];
e.oa(f.HD);if(g.pg()){const [l,n]=g.bj().xH(e.X,e.T);e.set(l,n)}e.offset(-k.Vh(),-k.Wh());e.scale(g.M(),g.I());e.rotate(g.ra());e.offset(g.O(),g.P());return[e.X,e.T]}j0(){return this.i().uk().cz()}eO(f){f=Math.floor(f);const k=this.i();var g=k.uk();const l=g.cz();f===l&&(f=0);if(0>f||f>=l)return[0,0];g=g.Oc;return[g[2*f]+k.O(),g[2*f+1]+k.P()]}Wb(){const f={a:this.Yb.ib};0!==this.Mj&&(f.fs=this.Mj);var k=this.kv();0!==k&&(f.at=k);0!==this.Cb&&(f.f=this.Cb);0!==this.Sk&&(f.cas=this.Sk);1!==this.Ok&&
(f.ar=this.Ok);0!==this.lt&&(f.rt=this.lt);this.vA()||(f.ap=this.vA());this.zA()||(f.af=this.zA());k=this.i();k.$g()&&(f.ce=k.$g());return f}Ob(f){var k=this.H().d0(f.a);k&&(this.Yb=k);this.Mj=f.hasOwnProperty("fs")?f.fs:0;this.OB.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.Cb=d.fa(k,0,this.Yb.ge.length-1);this.Sk=f.hasOwnProperty("cas")?f.cas:0;this.Ok=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.lt=d.fa(k,0,this.Yb.ge.length-1);this.Bs(f.hasOwnProperty("ap")?
!!f.ap:!0);this.$v(f.hasOwnProperty("af")?!!f.af:!0);this.tf=k=this.Yb.lk(this.Cb);this.HI();const g=this.i();g.Qp(k.Vh());g.Rp(k.Wh());g.iH(k.sq);g.Uv(!!f.ce)}Gb(f){const k=this.i();switch(f){case 3:return k.$g();case 2:return d.fa(this.Cb,0,this.Yb.ge.length-1)}}Md(f,k){var g=this.i();switch(f){case 3:g.Uv(!!k);break;case 2:this.Bs(!1);f=this.Yb.ge.length-1;g=k=d.fa(k,0,f);k=this.Yb.lk(this.Cb);const l=this.Yb.lk(g);this.sB(k,l);this.Cb=d.fa(g,0,f)}}Xg(){return self.T1}};const c=new WeakMap;self.T1=
class extends self.hs{constructor(){super();c.set(this,self.rn.Xl().ia)}get animationName(){return c.get(this).kS()}get imageWidth(){return c.get(this).Kd().M()}get imageHeight(){return c.get(this).Kd().I()}}}
{"use strict";const d=self.j;d.B.Lb.F={ika(a){return d.nl(this.kS(),a)},XY(a,b){return d.compare(this.Cb,a,b)},Kia(a,b){return d.compare(this.fS(),a,b)},R3(a){return d.nl(this.lU,a)},S3(){return!0},b4(){return!0},Eka(){return 0>this.i().M()},wka(){return 0>this.i().I()},HA(){return!0},IG(){return!0},$g(){return this.i().$g()}}}
{"use strict";const d=self.j;d.B.Lb.Ja={qpa(a,b,e,c){if(a&&b){var [f,k]=this.Dl(e);if(e=this.b.nF(a,b,f,k,c)){c&&b.pH(e);a.Fb().Dp()&&(b=e.i(),b.Bc(this.i().ra()),b.ta());b=this.b.ja();b.Ze(!0);e.DB();b.Ze(!1);c=this.b.ov().Xd();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.b.zt)b=!0,c.set("Spawn_LastExec",this.b.zt);if(a!==this.H()&&(a=a.Z(),a.Je(!1),a=a.D,b&&d.C(a),a.push(e),e.Ic()))for(const g of e.Qd)e=g.H().Z(),b?e.Fk(g):(e.Je(!1),e.bq(g))}}},ypa(){this.Bs(!1)},vpa(a){this.Ida(a)},
Xna(a,b){this.Nca(a,b)},A5(a){this.Oca(a)},Zna(a){this.Qca(a)},Yna(a){this.Pca(a)},Woa(a){const b=this.i(),e=b.M();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.mf(a),b.ta())},qoa(a){const b=this.i(),e=b.I();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.ld(a),b.ta())},Sp(a){const b=this.tf.Hc(),e=this.i();var c=0>e.M()?-1:1;const f=0>e.I()?-1:1;c*=b.M()*a;a=b.I()*a*f;if(e.M()!==c||e.I()!==a)e.Pb(c,a),e.ta()},async w3(a,b){const e=this.tf.Hc(),c=this.i(),f=this.b;if(e.ek===a)0===b&&(c.Pb(e.M(),e.I()),c.ta()),this.Aa(d.B.Lb.F.HA);
else{var k=d.A(d.Cv);try{await k.yP(f,a);if(!k.yA())throw Error("image failed to load");await k.zn(f.qb(),{Gf:this.b.Fc})}catch(g){console.error("Load image from URL failed: ",g);this.Aa(d.B.Lb.F.IG);return}e.d5(k);this.eb.cU();this.Qs()||0!==b||(c.Pb(e.M(),e.I()),c.ta());f.R();this.Qs()||await this.Sf(d.B.Lb.F.HA)}},foa(a){this.i().Uv(a)},hH(a,b){this.i().hH(0===a,b)},IQ(a){this.i().Of(a);this.b.R()}}}"use strict";
self.j.B.Lb.Cd={aia(){return this.Cb},bia(){return this.Yb.ge.length},cia(){return this.Yb.Ba()},dia(){return this.fS()},fma(){return this.Yb.Hl()},$ja(d){return this.Dl(d)[0]},aka(d){return this.Dl(d)[1]},Zja(){return this.qv()},b2(){return this.Kd().M()},Z1(){return this.Kd().I()},Gma(d){return this.eO(d)[0]},Hma(d){return this.eO(d)[1]},Fma(){return this.j0()}};{"use strict";const d=self.j;d.B.Touch=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j,a=self.Pg;d.B.Touch.Ie=class extends d.Hn{constructor(e){super(e)}g(){super.g()}Vb(){}Xg(){return self.W1}};let b=null;self.W1=class extends self.lG{constructor(e){super(e);b=e;e.G().Uw.cN=this}requestPermission(e){a.oe(e);const c=b.Gl().ia;if("orientation"===e)return c.qI(0);if("motion"===e)return c.qI(1);throw Error("invalid type");}}}
{"use strict";const d=self.j;d.B.Touch.Instance=class extends d.Rv{constructor(a,b){super(a,"touch");this.Ad=new Map;this.WC=this.DW=!1;this.CC=this.mi=this.li=this.PL=this.hE=this.ku=this.MI=this.LI=this.KI=this.QI=this.OI=this.NI=this.eL=this.dL=this.cL=this.zD=0;this.BD=[];b&&(this.DW=b[0]);this.gN("permission-result",e=>this.sba(e));a=this.G().Db();this.zd=new d.Pr(d.fd.Wd(a,"pointerdown",e=>this.tba(e.data)),d.fd.Wd(a,"pointermove",e=>this.uba(e.data)),d.fd.Wd(a,"pointerup",e=>this.ZS(e.data,
!1)),d.fd.Wd(a,"pointercancel",e=>this.ZS(e.data,!0)),d.fd.Wd(a,"deviceorientation",e=>this.gba(e.data)),d.fd.Wd(a,"deviceorientationabsolute",e=>this.hba(e.data)),d.fd.Wd(a,"devicemotion",e=>this.fba(e.data)),d.fd.Wd(a,"tick2",()=>this.oI()))}g(){this.Ad.clear();super.g()}tba(a){if("mouse"===a.pointerType)if(this.DW)this.WC=!0;else return;const b=a.pointerId;if(!this.Ad.has(b)){var e=a.pageX-this.b.mv();a=a.pageY-this.b.nv();var c=performance.now(),f=this.Ad.size;this.ku=f;this.hE=b;var k=d.A(d.B.Touch.r7);
k.sn(c,e,a,b,f);this.Ad.set(b,k);this.Aa(d.B.Touch.F.l4);this.Aa(d.B.Touch.F.TP);this.li=e;this.mi=a;this.Aa(d.B.Touch.F.u4)}}uba(a){if("mouse"!==a.pointerType||this.WC){var b=this.Ad.get(a.pointerId);if(b){var e=performance.now();2>e-b.Ea()||b.Tl(e,a.pageX-this.b.mv(),a.pageY-this.b.nv(),a.width,a.height,a.pressure)}}}ZS(a,b){if("mouse"===a.pointerType)if(this.WC)this.WC=!1;else return;const e=performance.now();a=a.pointerId;const c=this.Ad.get(a);c&&(this.ku=c.Gh,this.hE=c.mk(),this.Aa(d.B.Touch.F.k4),
this.Aa(d.B.Touch.F.SP),b||(b=c.X6(e),"single-tap"===b?(this.Aa(d.B.Touch.F.s4),this.li=c.O(),this.mi=c.P(),this.Aa(d.B.Touch.F.t4)):"double-tap"===b&&(this.Aa(d.B.Touch.F.Z3),this.li=c.O(),this.mi=c.P(),this.Aa(d.B.Touch.F.a4))),c.g(),this.Ad.delete(a))}qI(a){this.bT("request-permission",{type:a});return new Promise((b,e)=>{this.BD.push({type:a,resolve:b,reject:e})})}sba(a){const b=a.result,e=a.type;this.PL=e;a=this.BD.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.BD=
this.BD.filter(c=>c.type!==e);b?(this.Aa(d.B.Touch.F.n4),0===e?this.b.ws():this.b.Fn()):this.Aa(d.B.Touch.F.m4)}gba(a){"number"===typeof a.webkitCompassHeading?this.zD=a.webkitCompassHeading:a.absolute&&(this.zD=a.alpha);this.cL=a.alpha;this.dL=a.beta;this.eL=a.gamma}hba(a){this.zD=a.alpha}fba(a){const b=a.acceleration;b&&(this.NI=b.x,this.OI=b.y,this.QI=b.z);if(a=a.accelerationIncludingGravity)this.KI=a.x,this.LI=a.y,this.MI=a.z}oI(){const a=performance.now();let b=0;for(const e of this.Ad.values())e.Ea()<=
a-50&&e.lda(a),e.W6(a)&&(this.ku=e.Gh,this.hE=e.mk(),this.CC=b,this.Aa(d.B.Touch.F.c4),this.li=e.O(),this.mi=e.P(),this.Aa(d.B.Touch.F.d4),this.CC=0),++b}mj(a){a=Math.floor(a);for(const b of this.Ad.values()){if(0===a)return b;--a}return null}uw(a,b){return 0<=a&&0<=b&&a<this.b.i0()&&b<this.b.h0()}}}
{"use strict";const d=self.j,a=[];d.B.Touch.F={TP(){return!0},SP(){return!0},yka(){return 0<this.Ad.size},u4(b){return b&&this.uw(this.li,this.mi)?this.b.rh.XA(b,this.li,this.mi):!1},j3(b){if(!b)return!1;const e=b.Z();var c=e.ka();for(const f of c){c=f.i();const k=c.aa();for(const g of this.Ad.values()){if(!this.uw(g.O(),g.P()))continue;const [l,n]=k.Qh(g.O(),g.P(),c.Mf());if(c.Yu(l,n)){a.push(f);break}}}return a.length?(e.Sv(a),b.nc(),d.C(a),!0):!1},Uia(b,e,c){return(b=this.mj(b))?d.compare(b.Hl(),
e,c):!1},ema(){return!0},zla(){return!0},Pia(b,e,c){this.b.ws();return d.compare(0===b?this.cL:1===b?this.dL:this.eL,e,c)},Jia(b,e,c){this.b.Fn();return d.compare(0===b?this.KI:1===b?this.LI:2===b?this.MI:3===b?this.NI:4===b?this.OI:this.QI,e,c)},l4(b){b=Math.floor(b);return b===this.ku},k4(b){b=Math.floor(b);return b===this.ku},Qja(b){b=Math.floor(b);return this.Ad.size>=b+1},c4(){return!0},s4(){return!0},Z3(){return!0},d4(b){return b&&this.uw(this.li,this.mi)?this.b.rh.XA(b,this.li,this.mi):!1},
t4(b){return b&&this.uw(this.li,this.mi)?this.b.rh.XA(b,this.li,this.mi):!1},a4(b){return b&&this.uw(this.li,this.mi)?this.b.rh.XA(b,this.li,this.mi):!1},n4(b){return this.PL===b},m4(b){return this.PL===b}}}"use strict";self.j.B.Touch.Ja={Wma(d){this.qI(d)}};
{"use strict";const d=self.j;d.B.Touch.Cd={Upa(){return this.Ad.size},W7(a){const b=this.mj(this.CC);return b?b.bs(this.b.Ma(),a,!0):0},X7(a){const b=this.mj(this.CC);return b?b.bs(this.b.Ma(),a,!1):0},xqa(a,b){return(a=this.mj(a))?a.bs(this.b.Ma(),b,!0):0},zqa(a,b){return(a=this.mj(a))?a.bs(this.b.Ma(),b,!1):0},yqa(a,b){return(a=this.Ad.get(a))?a.bs(this.b.Ma(),b,!0):0},Aqa(a,b){return(a=this.Ad.get(a))?a.bs(this.b.Ma(),b,!1):0},Iha(){const a=this.mj(0);return a?a.O():0},Lha(){const a=this.mj(0);
return a?a.P():0},Jha(a){return(a=this.mj(a))?a.O():0},Mha(a){return(a=this.mj(a))?a.P():0},Kha(a){return(a=this.Ad.get(a))?a.O():0},Nha(a){return(a=this.Ad.get(a))?a.P():0},rpa(a){return(a=this.mj(a))?a.Hl():0},spa(a){return(a=this.Ad.get(a))?a.Hl():0},Zha(a){return(a=this.mj(a))?d.Ud(a.ra()):0},$ha(a){return(a=this.Ad.get(a))?d.Ud(a.ra()):0},aja(){this.b.ws();return this.zD},Yha(){this.b.ws();return this.cL},oia(){this.b.ws();return this.dL},Ija(){this.b.ws();return this.eL},Pha(){this.b.Fn();return this.KI},
Rha(){this.b.Fn();return this.LI},Tha(){this.b.Fn();return this.MI},Oha(){this.b.Fn();return this.NI},Qha(){this.b.Fn();return this.OI},Sha(){this.b.Fn();return this.QI},Wpa(){return this.ku},Vpa(){return this.hE},uqa(a){return(a=this.Ad.get(a))?a.M():0},Rja(a){return(a=this.Ad.get(a))?a.I():0},Jma(a){return(a=this.Ad.get(a))?a.aW:0}}}
{"use strict";const d=self.j;let a=-1E3,b=-1E3,e=-1E4;d.B.Touch.r7=class extends d.ga{constructor(){super();this.aW=this.V=this.W=this.pD=this.oD=this.T=this.X=this.$D=this.ZD=this.nD=this.dd=this.Go=this.Gh=this.$V=0;this.cD=this.bK=!1}g(){}sn(c,f,k,g,l){this.$V=g;this.Gh=l;this.Go=this.nD=this.dd=c;this.ZD=f;this.$D=k;this.X=f;this.T=k;this.oD=f;this.pD=k}Tl(c,f,k,g,l,n){this.nD=this.dd;this.dd=c;this.oD=this.X;this.pD=this.T;this.X=f;this.T=k;this.W=g;this.V=l;this.aW=n;!this.cD&&15<=d.Ef(this.ZD,
this.$D,this.X,this.T)&&(this.cD=!0)}mk(){return this.$V}Ea(){return this.dd}lda(c){this.nD=c}O(){return this.X}P(){return this.T}Hl(){const c=d.Ef(this.X,this.T,this.oD,this.pD),f=(this.dd-this.nD)/1E3;return 0<f?c/f:0}ra(){return d.je(this.oD,this.pD,this.X,this.T)}M(){return this.W}I(){return this.V}W6(c){return this.bK?!1:500<=c-this.Go&&!this.cD&&15>d.Ef(this.ZD,this.$D,this.X,this.T)?this.bK=!0:!1}X6(c){if(this.bK)return"";if(333>=c-this.Go&&!this.cD&&15>d.Ef(this.ZD,this.$D,this.X,this.T)){if(666>=
c-e&&25>d.Ef(a,b,this.X,this.T))return b=a=-1E3,e=-1E4,"double-tap";a=this.X;b=this.T;e=c;return"single-tap"}return""}bs(c,f,k){return"undefined"===typeof f?c.cA(0).KY(this.X,this.T)[k?0:1]:(c=c.aa(f))?c.Qh(this.X,this.T)[k?0:1]:0}}}{"use strict";const d=self.j;d.B.Keyboard=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Keyboard.Ie=class extends d.Hn{constructor(a){super(a)}g(){super.g()}Vb(){}Xg(){return self.O1}};self.O1=class extends self.lG{constructor(a){super(a);a.G().Uw.keyboard=this}}}
{"use strict";const d=self.j;d.B.Keyboard.Instance=class extends d.Rv{constructor(a){super(a);this.Ht=new Set;this.It=new Set;this.hl=0;this.Fy=this.iE="";a=this.G().Db();this.zd=new d.Pr(d.fd.Wd(a,"keydown",b=>this.mI(b.data)),d.fd.Wd(a,"keyup",b=>this.nI(b.data)),d.fd.Wd(a,"window-blur",()=>this.Xs()),d.fd.Wd(a,"keyboard-blur",()=>this.Xs()))}g(){super.g()}mI(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Ht.has(e)||(this.Ht.add(e),this.It.add(b),this.iE=e,this.hl=b,this.Fy=a,this.Aa(d.B.Keyboard.F.T3),
this.Aa(d.B.Keyboard.F.f4),this.Aa(d.B.Keyboard.F.h4),this.Aa(d.B.Keyboard.F.g4))}nI(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Ht.delete(e);this.It.delete(b);this.iE=e;this.hl=b;this.Fy=a;this.Aa(d.B.Keyboard.F.IP);this.Aa(d.B.Keyboard.F.LP);this.Aa(d.B.Keyboard.F.i4);this.Aa(d.B.Keyboard.F.KP)}Xs(){for(const a of this.It)this.It.delete(a),this.hl=a,this.Aa(d.B.Keyboard.F.IP),this.Aa(d.B.Keyboard.F.LP),this.Aa(d.B.Keyboard.F.KP);this.Ht.clear()}nP(a){return this.Ht.has(a)}Wb(){return{tk:this.hl,
tkk:this.Fy}}Ob(a){this.hl=a.tk;a.hasOwnProperty("tkk")&&(this.Fy=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.j.B.Keyboard.F={nP(a){return this.It.has(a)},f4(a){return this.hl===a},T3(){return!0},IP(){return!0},LP(a){return this.hl===a},Aka(a){a=Math.floor(a);return this.It.has(a)},g4(a){return this.hl===a},KP(a){return this.hl===a},h4(a){return this.iE===d[a]},i4(a){return this.iE===d[a]},Bka(a){return this.Ht.has(d[a])}}}"use strict";
self.j.B.Keyboard.Ja={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.j.B.Keyboard.Cd={Yka(){return this.hl},Cpa(a){return d(a)},bqa(){return this.Fy}}}{"use strict";const d=self.j;d.B.Rf=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.Rf.Ie=class extends d.Hn{constructor(a){super(a);this.Cc=a.Cc}g(){d.C(this.Cc);super.g()}Vb(){for(const a of this.Cc)a.vP(this.b)}Nl(a){const b={Gf:this.b.Fc};return Promise.all(this.Cc.map(e=>e.wP(a,b)))}Ak(){for(const a of this.Cc)a.eQ()}}}
{"use strict";const d=self.j,a=self.Pg,b=d.A(d.Jc),e=d.A(d.Ps);function c(g,l,n,q,r,p,w,t,v,x,z){q=[d.mc(g,q,x),d.mc(l,r,x),d.mc(n,p,x)];const [D,E,M]=q;l=E+(t-l);n=M+(v-n);return[d.mc(D,D+(w-g),z),d.mc(E,l,z),d.mc(M,n,z)]}d.B.Rf.Instance=class extends d.ys{constructor(g,l){super(g);this.ir=0;this.ll=15;g=!0;this.mU=this.N.Cc[0];this.oi=[!1,!0,!0,!0,!0,!0];this.sC=[0,1,2,3,4,5];this.Ar=8;this.ax=[null,null,null,null,null,null];l&&(this.ir=l[0],this.ll=l[1],g=!!l[2],this.oi[0]=!!l[3],this.oi[1]=!!l[4],
this.oi[2]=!!l[5],this.oi[3]=!!l[6],this.oi[4]=!!l[7],this.oi[5]=!!l[8],this.Ar=l[9],this.eq(0,this.b.Zi(l[10])),this.eq(1,this.b.Zi(l[11])),this.eq(2,this.b.Zi(l[12])),this.eq(3,this.b.Zi(l[13])),this.eq(4,this.b.Zi(l[14])),this.eq(5,this.b.Zi(l[15])));l=this.i();l.bH(this.ll);this.pJ=l.Ui();l.lf(g);g=this.Nz();l.Qp(g.Vh());l.Rp(g.Wh());l.ta()}g(){super.g()}Nz(){return this.mU.lk(0)}Kd(){return this.Nz().Hc()}Kl(){return!0}Vd(g){var l=this.i(),n=this.pJ;this.b.Tj&&(n=l.ts(n));const q=n.Ab,r=n.zb,
p=n.Tb,w=n.fc,t=n.qc,v=n.rc,x=n.hc,z=n.ic;var D=this.ir;const E=this.ll;var M=this.oi,B=M[0];let G=M[1],H=M[2],J=M[3],P=M[4];M=M[5];l.S2()?M=P=J=H=G=!1:l.T2()&&(B=!1);B&&this.pc(g,0,q,r,0,p,w,0,t,v,0,x,z,0,0);0===D?(H&&this.pc(g,2,q,r,E,x,z,E,x,z,0,q,r,0,0),J&&this.pc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.pc(g,4,p,w,E,q,r,E,q,r,0,p,w,0,0),M&&this.pc(g,5,x,z,E,t,v,E,t,v,0,x,z,0,0),G&&this.pc(g,1,q,r,E,p,w,E,t,v,E,x,z,E,0)):1===D?(n=(q+x)/2,l=(r+z)/2,D=(p+t)/2,B=(w+v)/2,H&&this.pc(g,2,n,l,E,n,l,E,
x,z,0,q,r,0,4),J&&this.pc(g,3,D,B,E,D,B,E,p,w,0,t,v,0,4),P&&this.pc(g,4,D,B,E,n,l,E,q,r,0,p,w,0,0),M&&this.pc(g,5,n,l,E,D,B,E,t,v,0,x,z,0,0)):2===D?(H&&this.pc(g,2,p,w,E,t,v,E,x,z,0,q,r,0,0),J&&this.pc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.pc(g,4,p,w,E,p,w,E,q,r,0,p,w,0,2),M&&this.pc(g,5,t,v,E,t,v,E,t,v,0,x,z,0,3)):3===D?(l=n.cp(),n=n.ep(),H&&this.pc(g,2,l,n,E,l,n,E,x,z,0,q,r,0,4),J&&this.pc(g,3,l,n,E,l,n,E,p,w,0,t,v,0,4),P&&this.pc(g,4,l,n,E,l,n,E,q,r,0,p,w,0,4),M&&this.pc(g,5,l,n,E,l,n,E,t,v,0,
x,z,0,4)):4===D?(H&&this.pc(g,2,p,w,E,p,w,E,x,z,0,q,r,0,2),J&&this.pc(g,3,p,w,E,p,w,E,p,w,0,t,v,0,3),P&&this.pc(g,4,p,w,E,p,w,E,q,r,0,p,w,0,2),M&&this.pc(g,5,p,w,E,p,w,E,t,v,0,x,z,0,3)):5===D&&(H&&this.pc(g,2,q,r,E,q,r,E,x,z,0,q,r,0,2),J&&this.pc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.pc(g,4,p,w,E,q,r,E,q,r,0,p,w,0,0),M&&this.pc(g,5,t,v,E,t,v,E,t,v,0,x,z,0,3),G&&this.pc(g,1,q,r,E,p,w,E,t,v,E,x,z,0,1))}pc(g,l,n,q,r,p,w,t,v,x,z,D,E,M,B){var G=null,H=null,J=!1;G=this.ax[l];if(null!==G){G=G.yO(this.Ca());
if(!G)return;l=G.ia;if(d.B.Lb&&l instanceof d.B.Lb.Instance){G=l.hd();if(null===G)return;H=l.es()}else if(d.B.mh&&l instanceof d.B.mh.Instance||d.B.G3&&l instanceof d.B.G3.Instance){let P=0,Q=0;J=this.Ar;switch(B){case 0:case 1:P=Math.hypot(p-n,w-q,(t-r)*J);Q=Math.hypot(v-p,x-w,(z-t)*J);break;case 2:P=Math.hypot(v-D,x-E,(z-M)*J);Q=Math.hypot(D-n,E-q,(M-r)*J);break;case 3:P=Math.hypot(v-D,x-E,(z-M)*J);Q=Math.hypot(v-p,x-w,(z-t)*J);break;case 4:P=Math.hypot(v-D,x-E,(z-M)*J),Q=Math.hypot((D+v)/2-n,(E+
x)/2-q,((M+z)/2-r)*J)}if(d.B.mh&&l instanceof d.B.mh.Instance){G=l.hd();if(null===G)return;l.FY(P,Q,b);J=!0}else{if(0!==B)return;l.Mca((T,W)=>{T.ik(P,Q);const Z=T.L,Y=T.J,fa=T.U;T=T.S;const [ja,xa,Ka]=c(n,q,r,p,w,t,D,E,M,Z,Y),[Ta,Pa,Ua]=c(n,q,r,p,w,t,D,E,M,fa,Y),[db,Qa,La]=c(n,q,r,p,w,t,D,E,M,fa,T),[Ya,Va,gb]=c(n,q,r,p,w,t,D,E,M,Z,T);g.M4(ja,xa,Ka,Ta,Pa,Ua,db,Qa,La,Ya,Va,gb,W)});l.Hqa(g,0,0,P,Q);l.Mca(null);return}}else return}else{l=this.sC[l];H=this.mU.lk(l).Hc();G=H.hd();if(null===G)return;H=H.es()}g.Ge(G);
3<=B||J?(J||b.oa(H),3===B?(b.yX(b.Tb),b.zX(b.zb)):4===B&&(b.yX((b.Ab+b.Tb)/2),b.zX((b.zb+b.fc)/2)),g.vs(n,q,r,p,w,t,v,x,z,D,E,M,b)):g.vs(n,q,r,p,w,t,v,x,z,D,E,M,H)}Lp(){return this.FS(0)}qv(){return this.Nz().qv()}Dl(g){const l=this.Nz(),n=this.i();if("string"===typeof g)g=l.oO(g);else if("number"===typeof g)g=l.nO(g-1);else throw new TypeError("expected string or number");if(!g)return[n.O(),n.P()];e.oa(g.HD);if(n.pg()){const [q,r]=n.bj().xH(e.X,e.T);e.set(q,r)}e.offset(-l.Vh(),-l.Wh());e.scale(n.M(),
n.I());e.rotate(n.ra());e.offset(n.O(),n.P());return[e.X,e.T]}NT(g){this.ir!==g&&(this.ir=g,this.b.R())}Bda(g){g=Math.max(g,0);this.ll!==g&&(this.ll=g,this.i().bH(g),this.b.R())}ada(g,l){l=!!l;this.oi[g]!==l&&(this.oi[g]=l,this.b.R())}FS(g){return this.oi[g]}$ca(g,l){const n=this.sC,q=this.ax;if(n[g]!==l||null!==q[g])n[g]=l,q[g]=null,this.b.R()}eq(g,l){null!==l&&l.Wa&&(l=l.no[0]);const n=this.ax;n[g]!==l&&(n[g]=l,this.b.R())}Cda(g){this.Ar!==g&&(this.Ar=g,this.b.R())}Wb(){return{s:this.ir,zh:this.ll,
fv:this.oi,fi:this.sC,fo:this.ax.map(g=>g?g.ib:-1),zf:this.Ar}}Ob(g){this.ir=g.s;this.ll=g.zh;this.i().bH(this.ll);this.oi=g.fv.slice(0);this.sC=g.fi.slice(0);g.hasOwnProperty("fo")&&(this.ax=g.fo.map(l=>this.b.Zi(l)));g.hasOwnProperty("zf")&&(this.Ar=g.zf)}Gb(){}Md(){}Xg(){return self.J1}};const f=new WeakMap,k="box prism wedge pyramid corner-out corner-in".split(" ");self.J1=class extends self.hs{constructor(){super();f.set(this,self.rn.Xl().ia)}set shape(g){a.oe(g);g=k.indexOf(g);if(-1===g)throw new TypeError("invalid shape");
f.get(this).NT(g)}get shape(){return k[f.get(this).Iqa()]}}}{"use strict";const d=self.j;d.B.Rf.F={Qia(a){return this.ir===a},$ia(a,b){return d.compare(this.ll,a,b)},uka(a){return this.FS(a)}}}"use strict";self.j.B.Rf.Ja={apa(d){this.NT(d)},ipa(d){this.Bda(d)},poa(d,a){this.ada(d,a)},noa(d,a){this.$ca(d,a)},jpa(d){this.Cda(d)},ooa(d,a){this.eq(d,a)}};"use strict";self.j.B.Rf.Cd={Cqa(){return this.ll},Fqa(){return this.Ar}};
{"use strict";const d=self.j;d.B.Gr=class extends d.Dk{constructor(a){super(a);this.vfa=this.b.Gv({url:"penumbra.png"});this.XV=null;this.b.bY(this.vfa.v3().then(b=>this.XV=b))}g(){super.g()}}}{"use strict";const d=self.j;d.B.Gr.Ie=class extends d.Hn{constructor(a){super(a)}g(){super.g()}Vb(){}Nl(){}Ak(){}}}
{"use strict";const d=self.j,a=[0,0,0],b=["all","same-tag","different-tag"],e=d.A(d.Ya),c=d.A(d.fn),f=[],k=d.A(d.Rect);d.B.Gr.Instance=class extends d.ys{constructor(g,l){super(g);g=this.i();this.Cg=g.O();this.Dg=g.P();this.yh=0;this.Re=1E3;this.Bg=0;this.Ia=d.A(d.Ya);this.wj=0;this.Ig="";this.iD=g.O();this.jD=g.P();this.Bh=null;l&&(this.yh=l[0],this.Bg=0===this.yh?l[1]:0,g=l[2],this.Ia.Ku(g[0],g[1],g[2]),this.wj=l[3],this.Ig=l[4]);this.Dh=d.A(self.T6);this.TO();this.gq()}g(){this.hT();this.Dh&&(this.Dh.g(),
this.Dh=null);this.Ia=null;super.g()}Wb(){return{lx:this.Cg,ly:this.Dg,lh:this.yh,lr:this.Bg,lkx:this.iD,lky:this.jD,sc:this.Ia.toJSON(),cf:this.wj,t:this.Ig}}Ob(g){g.hasOwnProperty("lx")&&(this.Cg=g.lx);g.hasOwnProperty("ly")&&(this.Dg=g.ly);this.yh=g.lh;this.Bg=g.lr;g.hasOwnProperty("lkx")&&(this.iD=g.lkx);g.hasOwnProperty("lky")&&(this.jD=g.lky);this.Ia.$m(g.sc);this.wj=g.cf;this.Ig=g.t}hT(){this.Bh&&(this.b.qb().Ri(this.Bh),this.Bh=null)}Hp(){this.Bh=null}JG(){}K8(g){switch(this.wj){case 0:return!0;
case 1:return d.nl(this.Ig,g);case 2:return!d.nl(this.Ig,g)}}Wp(){const g=this.i();if(this.iD!==g.O()||this.jD!==g.P())this.Cg=g.O(),this.Dg=g.P();g.aa().cG(g.Mf(),k);const l=k.cp(),n=k.ep(),q=k.width()+this.Re,r=k.height()+this.Re;if(l!==g.O()||n!==g.P()||q!==g.M()||r!==g.I())g.pe(l,n),g.Pb(q,r),g.ta();this.iD=g.O();this.jD=g.P();this.Re=15*d.Ef(k.L,k.J,k.U,k.S)}P$(){var g=this.b.Dm.bO(d.xa.Fr);if(!g)return[];var l=this.i();const n=l.aa();l=l.pb();g=g.eA();const q=[];this.b.rh.xO(n,g,l,q);return[...new Set(q)]}Zda(){this.Dh.i6(this.Cg);
this.Dh.j6(this.Dg);this.Dh.k6(this.yh);this.Dh.h6(this.Bg);this.Dh.AQ(b[this.wj]);this.Dh.Sl(this.Ig);this.Dh.n6(this.Re)}Uaa(g){if(!this.Bh){var l=this.Fb().XV,n=l.width,q=l.height,r=d.Qg(n,q),p=r.getContext("2d");p.drawImage(l,0,0,n,q);l=p.getImageData(0,0,n,q);n=l.data;q=Math.floor(255*this.Ia.Xa);var w=Math.floor(255*this.Ia.bb),t=Math.floor(255*this.Ia.$a);for(let v=0,x=n.length;v<x;v+=4)n[v]=q,n[v+1]=w,n[v+2]=t;p.putImageData(l,0,0);this.Bh=g.Zu(r,{Gf:this.b.Fc})}}Vd(g){this.Zda();this.Uaa(g);
this.Dh.s6(this.Bh);const l=this.i();e.hk(this.Ia);e.Og(l.ff());e.fz();g.gj(e);g.Vv();for(const n of this.P$())this.Q9(g,n)}Q9(g,l){var n=l.Xd();if(n.get("shadowcasterEnabled")&&this.K8(n.get("shadowcasterTag")))if(n=n.get("shadowcasterHeight"),l.yk())this.f$(g,l,n);else{l=l.i();const q=l.uk();c.oa(q);c.offset(l.O(),l.P());this.Dh.gQ(g,c,n)}}f$(g,l,n){var q=this.i().pb();l.ia.k0(q,f);q=l.i();l=q.O();q=q.P();for(let p=0,w=f.length;p<w;++p){var r=f[p];const t=r.h1();(r=r.AO())?(c.oa(r),c.offset(l+t.L,
q+t.J)):c.Nh(t,-l,-q);this.Dh.gQ(g,c,n)}d.C(f)}Gb(g){switch(g){case 0:return this.yh;case 1:return this.Bg;case 2:return a[0]=this.Ia.Xa,a[1]=this.Ia.bb,a[2]=this.Ia.$a,a.slice(0);case 3:return this.wj;case 4:return this.Ig}}Md(g,l){switch(g){case 0:this.yh=l;break;case 1:this.Bg=l;break;case 2:this.Ia.Ku(l[0],l[1],l[2]);break;case 3:this.wj=l;break;case 4:this.Ig=l}}}}"use strict";self.j.B.Gr.F={};
{"use strict";const d=self.j,a=d.A(d.Ya);d.B.Gr.Ja={Toa(b){this.yh!==b&&(this.yh=b,this.b.R())},Soa(b){a.Iu(b);a.fa();this.Ia.Wm(a)||(this.Ia.hk(a),this.hT(),this.b.R())},Sl(b){this.Ig!==b&&(this.Ig=b,this.b.R())},AQ(b){this.wj!==b&&(this.wj=b,this.b.R())}}}"use strict";self.j.B.Gr.Cd={ila(){return this.Cg},jla(){return this.Dg},n7(){return this.Ig}};
{"use strict";const d=self.j;let a=0,b=0,e=new d.Jc,c=new d.Jc;const f=new Set(["all","same-tag","different-tag"]);self.T6=class{constructor(){this.Bg=this.yh=this.Dg=this.Cg=0;this.wj="all";this.Ig="";this.Re=1E3;this.sj=[];this.eJ=[];this.De=[];this.jq=this.dm=this.vq=this.Tk=-1;this.Wt=this.Vt=this.eC=this.dC=this.KB=this.JB=this.yJ=this.xJ=this.TI=this.SI=0;this.Bh=null}g(){this.kd();this.Bh=this.De=this.eJ=this.sj=null}kd(){d.C(this.sj);d.C(this.eJ);d.C(this.De);this.jq=this.dm=this.vq=this.Tk=
-1;this.Wt=this.Vt=this.eC=this.dC=this.KB=this.JB=this.yJ=this.xJ=this.TI=this.SI=0}i6(k){this.Cg=k}j6(k){this.Dg=k}k6(k){this.yh=k}h6(k){0>k&&(k=0);this.Bg=k}AQ(k){if(!f.has(k))throw Error("invalid cast-from");this.wj=k}Sl(k){this.Ig=k}wv(){return this.Ig}n6(k){this.Re=k}s6(k){this.Bh=k}gQ(k,g,l){this.kd();this.EY(g,l);k.Vv();6<=this.De.length&&k.gZ(this.De);0<this.Bg&&this.Bh&&(-1<this.Tk&&-1<this.vq&&(k.tg(),k.Ge(this.Bh),this.WN(k,g,!0)),-1<this.dm&&-1<this.jq&&(k.tg(),k.Ge(this.Bh),this.WN(k,
g,!1)))}EY(k,g){this.Vt=k.Z0();this.Wt=k.$0();0<this.Bg?this.E8(k):this.F8(k,g)}E8(k){this.DH(k,-this.Bg);this.WH();d.xd(this.eJ,this.sj);this.vq=this.Tk;this.jq=this.dm;d.C(this.sj);this.dm=this.Tk=-1;this.DH(k,this.Bg);this.WH();-1!==this.Tk&&-1!==this.dm&&-1!==this.vq&&-1!==this.jq&&this.w8(k)}F8(k,g){this.DH(k,0);this.WH();k=k.Oc;for(let l=0,n=k.length;l<n;l+=2)this.v8(l/2,this.Cg,this.Dg,k[l],k[l+1],g)}DH(k,g){let l=this.Cg,n=this.Dg,q=l,r=n,p=0;0!==g&&(p=d.je(l,n,this.Vt,this.Wt)-Math.PI/2);
k=k.Oc;for(let t=0,v=k.length;t<v;t+=2){var w=t+2;w===v&&(w=0);let x=k[t],z=k[t+1],D=k[w];w=k[w+1];0!==g&&(q=l+Math.cos(p)*g,r=n+Math.sin(p)*g);this.sj.push(d.Um(d.je(x,z,q,r),d.je(x,z,D,w)-Math.PI/2)>=Math.PI/2)}}gS(k){k%=this.sj.length;0>k&&(k+=this.sj.length);return this.sj[k]}WH(){for(let k=0,g=this.sj.length;k<g;++k){let l=this.sj[k],n=this.gS(k-1);n&&!l&&(this.Tk=k);!n&&l&&(this.dm=k)}}v8(k,g,l,n,q,r){var p=this.gS(k-1);let w=k===this.Tk,t=k===this.dm;this.sj[k]||p?(k=d.je(g,l,n,q),p=d.Ef(g,
l,n,q),r=this.x8(g,l,n,q,r),g+=Math.cos(k)*(p+r),l+=Math.sin(k)*(p+r)):(g=n,l=q);t&&(this.De.push(n),this.De.push(q));this.De.push(g);this.De.push(l);w&&(this.De.push(n),this.De.push(q))}x8(k,g,l,n,q){return q>=this.yh?this.Re:0>=q?0:d.fa(d.Ef(k,g,l,n)/(this.yh-q)*q,0,this.Re)}w8(k){for(var g=this.vq,l,n=k.e1(),q=k.Oc;g===n&&(g=0),l=2*g,k=q[l],l=q[l+1],this.De.push(k),this.De.push(l),g!==this.dm;++g);var r=this.Bg;g=k;k=l;var p=d.je(this.Cg,this.Dg,this.Vt,this.Wt);l=this.Cg+Math.cos(p-Math.PI/2)*
r;n=this.Dg+Math.sin(p-Math.PI/2)*r;p=d.je(l,n,g,k);var w=d.Ef(l,n,g,k);l+=Math.cos(p)*(w+this.Re);n+=Math.sin(p)*(w+this.Re);p=2*this.vq;var t=q[p];q=q[p+1];p=d.je(this.Cg,this.Dg,this.Vt,this.Wt);var v=this.Cg+Math.cos(p+Math.PI/2)*r,x=this.Dg+Math.sin(p+Math.PI/2)*r;p=d.je(v,x,t,q);w=d.Ef(v,x,t,q);r=v+Math.cos(p)*(w+this.Re);p=x+Math.sin(p)*(w+this.Re);this.SI=g;this.TI=k;this.xJ=t;this.yJ=q;{v=l-g;x=n-k;let z=r-t,D=p-q,E=-z*x+v*D;0===E?g=!1:(w=(-x*(g-t)+v*(k-q))/E,E=-z*x+v*D,0===E?g=!1:(t=(z*
(k-q)-D*(g-t))/E,0<=w&&1>=w&&0<=t&&1>=t?(a=g+t*v,b=k+t*x,g=!0):g=!1))}g?(this.De.push(a),this.De.push(b),this.JB=a,this.KB=b,this.dC=a,this.eC=b):(this.De.push(l),this.De.push(n),this.De.push(r),this.De.push(p),this.JB=l,this.KB=n,this.dC=r,this.eC=p)}WN(k,g,l){var n=this.Cg,q=this.Dg,r=g.Oc;let p,w,t;l?(g=this.xJ,p=this.yJ,w=this.dC,t=this.eC):(g=this.SI,p=this.TI,w=this.JB,t=this.KB);var v=this.Bg,x=d.je(n,q,this.Vt,this.Wt),z=Math.PI/2;l&&(z=-z);n+=Math.cos(x+z)*v;q+=Math.sin(x+z)*v;z=v=0;if(l){if(l=
this.Tk!==this.vq)v=r[2*this.Tk],z=r[2*this.Tk+1]}else if(l=this.dm!==this.jq)v=r[2*this.jq],z=r[2*this.jq+1];x=l?d.je(v,z,g,p):d.je(n,q,g,p);r=g+Math.cos(x)*this.Re;let D=p+Math.sin(x)*this.Re,E=0,M=0,B=0,G=0,H=1;l&&(n=d.je(n,q,v,z),E=v+Math.cos(n)*this.Re,M=z+Math.sin(n)*this.Re,B=d.Um(x,n)/d.Um(d.je(g,p,w,t),n),n=d.Ef(v,z,g,p),n/=n+this.Re,q=d.je(0,1,B,0),x=d.Ef(0,1,B,0),G+=Math.cos(q)*n*x,H+=Math.sin(q)*n*x);e.set(g,p,w,t,r,D,r,D);c.set(G,H,1,0,B,0,B,0);k.JA(e,c);l&&(e.set(v,z,r,D,E,M,E,M),c.set(0,
1,B,0,0,0,0,0),k.JA(e,c))}}}{"use strict";const d=self.j;d.B.jj=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.jj.Ie=class extends d.Hn{constructor(a){super(a);this.tb=d.A(self.e7)}g(){super.g()}Vb(){this.Hc().FA(this.b)}Nl(a){return this.Hc().zn(a,{Gf:this.b.Fc})}Ak(){this.Hc().fh()}F7(a,b,e,c){const f=this.Hc(),k=this.tb;k.mf(f.M());k.ld(f.I());k.PA(a);k.$G(b);k.aH(e);k.jH(c);k.rR()}}}
{"use strict";const d=self.j,a=self.Pg,b=["left","center","right"],e=["top","center","bottom"];d.B.jj.Instance=class extends d.ys{constructor(k,g){super(k);this.lc="";this.ko=!0;this.vg=this.rf=16;this.eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.yj=1;this.ie=this.te=this.Ec=this.zj=0;this.Rm=!0;this.ye=null;this.il=this.lu=-1;this.Gy=0;g&&(this.lc=g[0],this.ko=g[1],this.rf=g[2],this.vg=g[3],this.eo=g[4],k=g[5],this.yj=
g[6],this.zj=g[7],this.Ec=g[8],this.te=g[9],this.ie=g[10],this.Rm=0===g[11],this.i().lf(g[12]));this.eb.F7(this.rf,this.vg,this.eo,k);this.ye=d.A(self.g7,this.eb.tb);g=this.i();this.ye.Pb(g.M(),g.I());this.oh();this.K.o6()}g(){this.Qn();this.ye.g();this.ye=null;super.g()}oh(){const k=this.ye;k&&(k.zQ(this.ko),k.Ks(this.lc),k.fR(this.Rm?"word":"character"),k.X5(b[this.te]),k.Q6(e[this.ie]),k.aR(this.zj),k.TA(this.Ec))}Vd(k){const g=this.N.Hc();var l=g.hd();if(l){k.Ge(l);l=this.i();var n=l.Ui(),q=this.ye;
q.Sp(this.yj);q.y6(l.DO());this.b.Tj&&(n=l.ts(n));q.Pb(l.M(),l.I());q.tb.C6(g.Xh());q.gj(l.Ia);q.Vd(k,n.Ab,n.zb,l.ra())}}Wb(){const k={t:this.lc,ebbc:this.ko,csc:this.yj,csp:this.zj,lh:this.Ec,ha:this.te,va:this.ie,w:this.Rm,cw:this.eb.tb.rf,ch:this.eb.tb.vg,cs:this.eb.tb.eo,sd:this.eb.tb.du};-1!==this.il&&(k.tw={st:this.lu,en:this.il,l:this.Gy});return k}Ob(k){this.Qn();this.lc=k.t;this.ko=k.ebbc;this.yj=k.csc;this.zj=k.csp;this.Ec=k.lh;this.te=k.ha;this.ie=k.va;this.Rm=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.lu=g.st;this.il=g.en;this.Gy=k.l}g=this.eb.tb;g.PA(k.cw);g.$G(k.ch);g.aH(k.cs);g.jH(k.sd);this.oh();-1!==this.il&&this.qf()}Gb(k){switch(k){case 0:return this.lc;case 1:return this.ko;case 2:return this.eb.tb.rf;case 3:return this.eb.tb.vg;case 4:return this.eb.tb.eo;case 5:return this.eb.tb.du;case 6:return this.yj;case 7:return this.zj;case 8:return this.Ec;case 9:return this.te;case 10:return this.ie;case 11:return this.Rm?1:0}}Md(k,g){switch(k){case 0:if(this.lc===g)break;this.lc=g;
this.oh();break;case 1:if(this.ko===!!g)break;this.ko=!!g;this.oh();break;case 2:this.eb.tb.PA(g);break;case 3:this.eb.tb.$G(g);break;case 4:this.eb.tb.aH(g);break;case 5:this.eb.tb.jH(g);break;case 6:if(this.yj===g)break;this.yj=g;this.oh();break;case 7:if(this.zj===g)break;this.zj=g;this.oh();break;case 8:if(this.Ec===g)break;this.Ec=g;this.oh();break;case 9:if(this.te===g)break;this.te=g;this.oh();break;case 10:if(this.ie===g)break;this.ie=g;this.oh();break;case 11:this.Rm!==(0===g)&&(this.Rm=
0===g,this.oh())}}AB(k){this.lc!==k&&(this.lc=k,this.ye.Ks(k),this.b.R())}Jda(k,g){this.AB(k);this.lu=this.b.dG();this.il=this.lu+g/this.Ca().b0();this.Gy=d.tl.jR(k).length;this.ye.QA(0);this.qf()}Qn(){this.il=this.lu=-1;this.Gy=0;this.ye.QA(-1);this.Nk()}k$(){-1!==this.il&&(this.Qn(),this.Aa(d.B.jj.F.UP),this.b.R())}oda(k){this.yj!==k&&(this.yj=k,this.ye.Sp(this.yj),this.b.R())}Tca(k){this.zj!==k&&(this.zj=k,this.ye.aR(this.zj),this.b.R())}JT(k){this.Ec!==k&&(this.Ec=k,this.ye.TA(this.Ec),this.b.R())}dda(k){this.te!==
k&&(this.te=k,this.oh(),this.b.R())}QT(k){this.ie!==k&&(this.ie=k,this.oh(),this.b.R())}Ada(k){k=!!k;this.Rm!==k&&(this.Rm=k,this.oh(),this.b.R())}ee(){var k=this.b.dG();k>=this.il?(this.Qn(),this.Aa(d.B.jj.F.UP),this.b.R()):(k=d.jha(this.lu,this.il,k,this.Gy),k=Math.floor(k),k!==this.ye.uh&&(this.ye.QA(k),this.b.R()))}Xg(){return self.S1}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.S1=class extends self.hs{constructor(){super();c.set(this,self.rn.Xl().ia)}get text(){return c.get(this).lc}set text(k){a.oe(k);
const g=c.get(this);g.Qn();g.AB(k)}set lineHeight(k){a.fj(k);c.get(this).JT(k)}get lineHeight(){return c.get(this).Ec}set verticalAlign(k){a.oe(k);k=f.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).QT(k)}get verticalAlign(){return e[c.get(this).ie]}}}{"use strict";const d=self.j;d.B.jj.F={$Y(a,b){return b?this.lc===a:d.nl(this.lc,a)},Nka(){return-1!==this.il},UP(){return!0}}}"use strict";
self.j.B.jj.Ja={Ks(d){this.Qn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.AB(d.toString())},eia(d){this.Qn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.AB(this.lc+d)},dqa(d,a){this.Qn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Jda(d.toString(),a)},cqa(){this.k$()},Sp(d){this.oda(d)},eoa(d){this.Tca(d)},TA(d){this.JT(d)},PA(d,a){let b=!1;const e=this.eb.tb;for(const c of d)if(" "===c)e.z6(a),b=!0;else if(d=e.Rz(c))d.HQ(a),b=
!0;b&&e.F5();this.b.R()},IQ(d){this.i().Of(d);this.b.R()},toa(d){this.dda(d)},dpa(d){this.QT(d)},gpa(d){this.Ada(0===d)}};{"use strict";const d=self.j;d.B.jj.Cd={Dia(a){return(a=this.eb.tb.Rz(a))?a.GF():this.eb.tb.rf},Aia(){return this.vg},Bia(){return this.yj},Cia(){return this.zj},kla(){return this.Ec},Text(){return this.lc},Dma(){return this.ko?d.tl.jR(this.lc):this.lc},Opa(){const a=this.i();this.ye.Pb(a.M(),a.I());return this.ye.PO()},Npa(){const a=this.i();this.ye.Pb(a.M(),a.I());return this.ye.OO()}}}
{"use strict";const d=self.j;self.f7=class{constructor(a,b,e,c){b=a.rf;let f=a.vg;this.tb=a;this.dW=new d.Rect(e,c,e+b,c+f);this.fl=new d.Rect;this.CJ=-1;this.hU()}g(){this.fl=this.dW=this.tb=null}hU(){let a=this.tb.M(),b=this.tb.I();this.fl.oa(this.dW);this.fl.ik(a,b);this.fl.Qga(this.tb.Xh())}Xh(){return this.fl}HQ(a){this.CJ=a}GF(){return 0>this.CJ?this.tb.rf:this.CJ}}}
{"use strict";const d=self.j,a=new d.Rect,b=new d.Jc,e=new d.Ya,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.g7=class{constructor(g){this.tb=g;this.im=this.sf=0;this.lc="";this.Oe=!1;this.tj=null;this.Df=d.A(d.jw);this.zr="word";this.eM=!1;this.te="left";this.ie="top";this.gy=this.ac=1;this.Ec=this.mr=0;this.Ia=d.A(d.Ya);this.uh=-1;this.th=0;this.Px=(l,n)=>this.zw(l,n);this.tb.p8(this)}g(){this.tb.cca(this);this.Px=this.Ia=null;this.Df.Gc();
this.tj=this.tb=this.Df=null}zw(g,l){var n=this.Wc(l,"scale"),q=(n?parseFloat(n.wd):this.ac)*this.gy;n=this.Wc(l,"scalex");n=(n?parseFloat(n.wd):1)*q;l=this.Wc(l,"scaley");l=this.tb.vg*(l?parseFloat(l.wd):1)*q+this.Ec;const r=this.tb;q=r.rf*n;const p=this.mr;if(r.Ct){let t=0,v=0;for(var w of g){g=q;const x=r.Rz(w);x?g=x.GF()*n:" "===w&&(g=r.LO()*n);v+=g;++t}return{width:v+t*p,height:l}}w=[...g].length;return{width:q*w+Math.max(w,0)*p,height:l}}Lk(){this.eM=!0;this.Df.Gc()}Pb(g,l){0>=g||0>=l||this.sf===
g&&this.im===l||(this.sf!==g&&this.Lk(),this.sf=g,this.im=l)}QA(g){this.uh=Math.floor(g)}Wc(g,l){for(let n=g.length-1;0<=n;--n){const q=g[n];if(q.tag===l)return q}return null}Sn(g,l){return!!this.Wc(g,l)}aq(){if(this.eM){!this.Oe||this.tj&&this.tj.toString()===this.lc||(this.tj=new d.tl(this.lc,{kX:!0}));var g=-this.mr;this.Df.jw(this.Oe?this.tj.DX():this.lc,this.Px,this.sf,this.zr,g);this.eM=!1}}Vd(g,l,n,q){this.aq();let r=this.th=0;const p=this.Ec,w=d.wE(this.Df.cl),t=Math.sin(q);q=Math.cos(q);
var v=w.reduce((x,z)=>x+z.height,0)-p;"center"===this.ie?r=Math.max(Math.floor(this.im/2-v/2),0):"bottom"===this.ie&&(r=Math.floor(this.im-v));for(let x=0,z=w.length;x<z;++x){v=w[x];const D=v.height;if(0<x&&r>this.im-(D-p))break;0<=r&&this.Y9(g,v,l,n,r,t,q);r+=D}}Y9(g,l,n,q,r,p,w){const t=l.height;let v=0;"center"===this.te?v=Math.max(Math.floor((this.sf-l.width)/2),0):"right"===this.te&&(v=Math.max(Math.floor(this.sf-l.width),0));for(const x of l.qM)this.P9(g,x,n,q,v,r,p,w,t),v+=x.width}P9(g,l,n,
q,r,p,w,t,v){var x=l.text,z=l.width,D=l.yd;if(-1!==this.uh){if(this.th>=this.uh)return;this.th+x.length>this.uh&&(x=x.substr(0,this.uh-this.th),z=this.zw(x,D).width);this.th+=x.length}var E=this.Wc(D,"background");if(!(d.AA(x)&&!E||this.Sn(D,"hide"))){l=this.Wc(D,"scale");var M=(l?parseFloat(l.wd):this.ac)*this.gy;l=this.Wc(D,"scalex");l=(l?parseFloat(l.wd):1)*M;var B=this.Wc(D,"scaley");M*=this.tb.vg*(B?parseFloat(B.wd):1);p+=v-this.Ec-M;v=this.Wc(D,"offsetx");r+=v?parseFloat(v.wd):0;v=this.Wc(D,
"offsety");p+=v?parseFloat(v.wd):0;E&&(g.Vv(),e.qX(E.wd),e.Og(1),g.gj(e),a.set(r,p,r+z,p+M),a.U>this.sf&&a.qha(this.sf),b.OE(a,w,t),b.offset(n,q),g.Jc(b),g.tg());(z=this.Wc(D,"color"))?(e.qX(z.wd),e.Og(this.Ia.Va)):e.oa(this.Ia);(z=this.Wc(D,"opacity"))&&e.Og(e.Va*parseFloat(z.wd)/100);e.fz();g.gj(e);z=this.tb.rf*l;D=Math.abs(this.mr);for(const G of x)if(x=this.tb.Rz(G)){E=x.GF()*l;if(r+E>this.sf+D+1E-5)break;a.set(r,p,r+z,p+M);b.OE(a,w,t);b.offset(n,q);g.Ip(b,x.Xh());r+=E+this.mr}else r+=this.tb.LO()*
l+this.mr}}zQ(g){g=!!g;this.Oe!==g&&(this.Oe=g,this.Lk())}Ks(g){this.lc!==g&&(this.lc=g,this.Lk())}fR(g){if(!k.has(g))throw Error("invalid word wrap mode");this.zr!==g&&(this.zr=g,this.Lk())}X5(g){if(!c.has(g))throw Error("invalid alignment");this.te=g}Q6(g){if(!f.has(g))throw Error("invalid alignment");this.ie=g}Sp(g){this.ac!==g&&(this.ac=g,this.Lk())}y6(g){this.gy!==g&&(this.gy=g,this.Lk())}DO(){return this.gy}aR(g){this.mr!==g&&(this.mr=g,this.Lk())}TA(g){this.Ec=g;this.Lk()}hj(g){g=d.fa(g,0,
1);this.Ia.Uo=g}gj(g){this.Ia.ed(g)||this.Ia.oa(g)}PO(){this.aq();return this.Df.vO()}OO(){this.aq();const g=this.Ec;return this.Df.cl.length*(this.tb.vg*this.ac+g)-g}}}
{"use strict";const d=self.j,a={width:256,height:256,RW:16,QW:16,characterSet:""};self.e7=class{constructor(b){b=Object.assign({},a,b);if(0>=b.width||0>=b.height||0>=b.RW||0>=b.QW)throw Error("invalid size");this.W=b.width;this.V=b.height;this.rf=b.RW;this.vg=b.QW;this.eo=b.characterSet;this.du="";this.ty=null;this.Ct=!1;this.kr=-1;this.fl=new d.Rect(0,0,1,1);this.rq=new Map;this.xo=!0;this.mq=new Set}g(){this.fl=null;this.eT();this.rq=null;this.mq&&this.mq.clear();this.mq=null}eT(){for(let b of this.rq.values())b.g();
this.rq.clear()}p8(b){this.mq.add(b)}cca(b){this.mq.delete(b)}rR(){if(this.xo){this.eT();var b=[...this.eo],e=Math.floor(this.W/this.rf),c=e*Math.floor(this.V/this.vg);for(let f=0,k=b.length;f<k&&!(f>=c);++f){let g=b[f];this.rq.set(g,d.A(self.f7,this,g,f%e*this.rf,Math.floor(f/e)*this.vg))}this.Ct=!1;this.kr=-1;if(Array.isArray(this.ty))for(let f of this.ty)if(Array.isArray(f)&&2===f.length&&(b=f[0],e=f[1],"number"===typeof b&&isFinite(b)&&"string"===typeof e&&b!==this.rf))for(let k of e)(e=this.rq.get(k))?
(e.HQ(b),this.Ct=!0):" "===k&&(this.kr=b,this.Ct=!0);this.xo=!1;for(let f of this.mq)f.Lk()}}F5(){this.Ct=!0;for(const b of this.mq)b.Lk()}Rz(b){this.rR();return this.rq.get(b)||null}mf(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.W!==b&&(this.W=b,this.xo=!0)}M(){return this.W}ld(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.V!==b&&(this.V=b,this.xo=!0)}I(){return this.V}C6(b){if(!this.fl.ed(b)){this.fl.oa(b);for(const e of this.rq.values())e.hU()}}Xh(){return this.fl}PA(b){b=
Math.floor(b);if(0>=b)throw Error("invalid size");this.rf!==b&&(this.rf=b,this.xo=!0)}$G(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.vg!==b&&(this.vg=b,this.xo=!0)}aH(b){this.eo!==b&&(this.eo=b,this.xo=!0)}jH(b){if(this.du!==b&&(this.du=b,this.xo=!0,this.ty=null,this.du.length))try{this.ty=JSON.parse(this.du)}catch(e){this.ty=null}}z6(b){0>b&&(b=-1);this.kr!==b&&(this.kr=b,0<=this.kr&&(this.Ct=!0))}LO(){return 0>this.kr?this.rf:this.kr}}}{"use strict";const d=self.j;d.B.mh=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;function a(b){switch(b){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.B.mh.Ie=class extends d.Hn{constructor(b,e){super(b);this.Tm=this.Sm="repeat";e&&(this.Sm=a(e[0]),this.Tm=a(e[1]))}g(){super.g()}Vb(){this.Hc().FA(this.b)}Nl(b){return this.Hc().zn(b,{Gf:this.b.Fc,Su:this.Sm,Tu:this.Tm})}Ak(){this.Hc().fh()}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Jc),e=d.A(d.Rect),c=d.A(d.Jc);d.B.mh.Instance=class extends d.ys{constructor(k,g){super(k);this.Gq=this.Fq=0;this.Iq=this.Hq=1;this.Xk=0;this.Yq=null;g&&(this.i().lf(!!g[0]),this.Fq=g[4],this.Gq=g[5],this.Hq=g[6],this.Iq=g[7],this.Xk=d.cb(g[8]))}g(){this.gT();super.g()}gT(){this.Yq&&(this.Yq.g(),this.Yq=null)}FY(k,g,l){var n=this.Kd();const q=n.M();n=n.I();const r=this.Fq/q,p=this.Gq/n,w=this.Xk;e.set(0,0,k/(q*this.Hq),g/(n*this.Iq));e.offset(-r,
-p);0===w?l.Nh(e):l.NE(e,-w)}Vd(k){var g=this.Kd(),l=g.hd();if(null!==l){k.Ge(l);l=g.M();g=g.I();var n=this.Fq/l,q=this.Gq/g,r=this.i();e.set(0,0,r.M()/(l*this.Hq),r.I()/(g*this.Iq));e.offset(-n,-q);r.pg()?this.TH(r,k):this.UH(r,k)}}UH(k,g){let l=k.Ui();this.b.Tj&&(l=k.ts(l));0===this.Xk?g.Ip(l,e):(c.NE(e,-this.Xk),g.JA(l,c))}TH(k,g){const l=k.SO();if(k.oP()){k.uz(a,b,!1);let n=b;this.b.Tj&&(n=k.ts(n));let q=e;0!==this.Xk&&(c.NE(e,-this.Xk),q=c);l.tN(k.bj(),n,q);k.UA(!1)}l.Vd(g)}Kd(){return this.Yq||
this.N.Hc()}Kl(){return!0}hd(){return this.Kd().hd()}Fw(){this.i().UA(!0)}FT(k){this.Fq!==k&&(this.Fq=k,this.b.R(),this.Fw())}GT(k){this.Gq!==k&&(this.Gq=k,this.b.R(),this.Fw())}HT(k){this.Hq!==k&&(this.Hq=k,this.b.R(),this.Fw())}IT(k){this.Iq!==k&&(this.Iq=k,this.b.R(),this.Fw())}ET(k){this.Xk!==k&&(this.Xk=k,this.b.R(),this.Fw())}Gb(k){switch(k){case 4:return this.Fq;case 5:return this.Gq;case 6:return this.Hq;case 7:return this.Iq;case 8:return this.Xk}}Md(k,g){switch(k){case 4:this.FT(g);break;
case 5:this.GT(g);break;case 6:this.HT(g);break;case 7:this.IT(g);break;case 8:this.ET(g)}}Xg(){return self.V1}};const f=new WeakMap;self.V1=class extends self.hs{constructor(){super();f.set(this,self.rn.Xl().ia)}get imageWidth(){return f.get(this).Kd().M()}get imageHeight(){return f.get(this).Kd().I()}}}"use strict";self.j.B.mh.F={HA(){return!0},IG(){return!0}};
{"use strict";const d=self.j;d.B.mh.Ja={xoa(a){this.FT(a)},yoa(a){this.GT(a)},zoa(a){this.HT(a/100)},Aoa(a){this.IT(a/100)},woa(a){this.ET(d.cb(a))},IQ(a){this.i().Of(a);this.b.R()},async w3(a){if(!this.Yq||this.Yq.ek!==a){var b=this.b,e=d.A(d.Cv);try{await e.yP(b,a);if(!e.yA())throw Error("image failed to load");if(this.Qs())return e.g(),null;if(!await e.zn(b.qb(),{Gf:this.b.Fc,Su:"repeat",Tu:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.Aa(d.B.mh.F.IG);return}this.Qs()?
e.g():(this.gT(),this.Yq=e,b.R(),await this.Sf(d.B.mh.F.HA))}}}}{"use strict";const d=self.j;d.B.mh.Cd={b2(){return this.Kd().M()},Z1(){return this.Kd().I()},Xja(){return this.Fq},Yja(){return this.Gq},bka(){return 100*this.Hq},cka(){return 100*this.Iq},Uja(){return d.Ud(this.Xk)}}}{"use strict";const d=self.j;d.B.dn=class extends d.Dk{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.dn.Ie=class extends d.Hn{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j,a=self.rn;function b(c,f,k){if(f<c.length)d.Ye(c,f);else if(f>c.length)if("function"===typeof k)for(var g=c.length;g<f;++g)c.push(k());else for(g=c.length;g<f;++g)c.push(k)}d.B.dn.Instance=class extends d.Rv{constructor(c,f){super(c);this.Rb=10;this.uc=this.tc=1;this.Xc=null;this.yC=[];this.PJ=[];this.QJ=[];this.Kj=-1;f&&(this.Rb=f[0],this.tc=f[1],this.uc=f[2]);this.Xc=d.bh(this.Rb,()=>d.bh(this.tc,()=>d.bh(this.uc,0)))}g(){this.Xc=null;super.g()}sl(c,f,k){c=Math.floor(c);
f=Math.floor(f);k=Math.floor(k);return 0<=c&&c<this.Rb&&0<=f&&f<this.tc&&0<=k&&k<this.uc?this.Xc[c][f][k]:0}Set(c,f,k,g){c=Math.floor(c);f=Math.floor(f);k=Math.floor(k);0<=c&&c<this.Rb&&0<=f&&f<this.tc&&0<=k&&k<this.uc&&(this.Xc[c][f][k]=g)}Pb(c,f,k){c=Math.floor(c);f=Math.floor(f);k=Math.floor(k);0>c&&(c=0);0>f&&(f=0);0>k&&(k=0);if(this.Rb!==c||this.tc!==f||this.uc!==k){this.Rb=c;this.tc=f;this.uc=k;var g=this.Xc;b(g,c,()=>d.bh(f,()=>d.bh(k,0)));for(let l=0;l<c;++l){b(g[l],f,()=>d.bh(k,0));for(let n=
0;n<f;++n)b(g[l][n],k,0)}}}M(){return this.Rb}I(){return this.tc}yl(){return this.uc}aO(){return JSON.stringify({c2array:!0,size:[this.Rb,this.tc,this.uc],data:this.Xc})}Wb(){return{size:[this.Rb,this.tc,this.uc],data:this.Xc}}Ob(c){const f=c.size;this.Rb=f[0];this.tc=f[1];this.uc=f[2];this.Xc=c.data}ZH(){return 0<=this.Kj&&this.Kj<this.yC.length?this.yC[this.Kj]:0}$H(){return 0<=this.Kj&&this.Kj<this.PJ.length?this.PJ[this.Kj]:0}aI(){return 0<=this.Kj&&this.Kj<this.QJ.length?this.QJ[this.Kj]:0}Xg(){return self.L1}};
const e=new WeakMap;self.L1=class extends a{constructor(){super();e.set(this,a.Xl().ia)}get width(){return e.get(this).M()}get height(){return e.get(this).I()}get depth(){return e.get(this).yl()}}}
{"use strict";const d=self.j;d.B.dn.F={BN(a,b,e){return d.compare(this.sl(a,0,0),b,e)},Xia(a,b,e,c){return d.compare(this.sl(a,b,0),e,c)},Yia(a,b,e,c,f){return d.compare(this.sl(a,b,e),c,f)},hia(a){const b=this.b,e=b.ja(),c=b.Eb(),f=c.Dd(),k=b.gd(),g=k.bf(),l=k.Na(c),n=++this.Kj,q=this.yC;var r=this.PJ,p=this.QJ;const w=this.Rb;var t=this.tc,v=this.uc;n===this.yC.length?(q.push(0),r.push(0),p.push(0)):(q[n]=0,r[n]=0,p[n]=0);b.Cs(!1);if(0===a)for(let M=0;M<w;++M)for(let B=0;B<t;++B)for(let G=0;G<v;++G){q[n]=
M;r[n]=B;p[n]=G;a=e;var x=c,z=f,D=g,E=l;a.ae(z);x.jf(D,E);a.Bb(z)}else if(1===a)for(D=0;D<w;++D)for(E=0;E<t;++E)q[n]=D,r[n]=E,p=e,v=c,a=f,x=g,z=l,p.ae(a),v.jf(x,z),p.Bb(a);else for(x=0;x<w;++x)q[n]=x,r=e,t=c,p=f,v=g,a=l,r.ae(p),t.jf(v,a),r.Bb(p);b.Cs(!0);this.Kj--;k.Ha();return!1},Oia(a,b){return d.compare(this.sl(this.ZH(),this.$H(),this.aI()),a,b)},bja(a){const b=this.Rb,e=this.tc,c=this.uc,f=this.Xc;for(let k=0;k<b;++k)for(let g=0;g<e;++g)for(let l=0;l<c;++l)if(f[k][g][l]===a)return!0;return!1},
tn(){return 0===this.Rb||0===this.tc||0===this.uc},Ria(a,b,e){let c=0;switch(a){case 0:c=this.Rb;break;case 1:c=this.tc;break;case 2:c=this.uc}return d.compare(c,b,e)}}}
{"use strict";const d=self.j;function a(b,e){if("number"===typeof b&&"number"===typeof e)return b-e;b=b.toString();e=e.toString();return b<e?-1:b>e?1:0}d.B.dn.Ja={Gc(b){const e=this.Rb,c=this.tc,f=this.uc,k=this.Xc;for(let g=0;g<e;++g)for(let l=0;l<c;++l)for(let n=0;n<f;++n)k[g][l][n]=b},Pb(b,e,c){this.Pb(b,e,c)},Qf(b,e){this.Set(b,0,0,e)},pe(b,e,c){this.Set(b,e,0,c)},hpa(b,e,c,f){this.Set(b,e,c,f)},Na(b,e,c){var f=this.Rb,k=this.tc;const g=this.uc,l=this.Xc;if(0===c)f=d.bh(k,()=>d.bh(g,e)),0===b?
l.push(f):l.unshift(f),this.Rb++;else if(1===c){for(k=0;k<f;++k)c=d.bh(g,e),0===b?l[k].push(c):l[k].unshift(c);this.tc++}else{for(c=0;c<f;++c)for(let n=0;n<k;++n)0===b?l[c][n].push(e):l[c][n].unshift(e);this.uc++}},Ha(b,e){const c=this.Rb;var f=this.tc,k=this.uc;const g=this.Xc;if(0===e)0!==c&&(0===b?g.pop():g.shift(),this.Rb--);else if(1===e){if(0!==f){for(f=0;f<c;++f)0===b?g[f].pop():g[f].shift();this.tc--}}else if(0!==k){for(e=0;e<c;++e)for(k=0;k<f;++k)0===b?g[e][k].pop():g[e][k].shift();this.uc--}},
n5(b){const e=this.Rb;var c=this.tc,f=this.uc;const k=this.Xc;if(0!==e&&0!==c&&0!==f)if(0===b)k.reverse();else if(1===b)for(c=0;c<e;++c)k[c].reverse();else for(b=0;b<e;++b)for(f=0;f<c;++f)k[b][f].reverse()},npa(b){const e=this.Rb;var c=this.tc,f=this.uc;const k=this.Xc;if(0!==e&&0!==c&&0!==f)if(0===b)k.sort((g,l)=>a(g[0][0],l[0][0]));else if(1===b)for(c=0;c<e;++c)k[c].sort((g,l)=>a(g[0],l[0]));else for(b=0;b<e;++b)for(f=0;f<c;++f)k[b][f].sort(a)},gn(b,e){b=Math.floor(b);if(!(0>b)){var c=this.Rb,f=
this.tc,k=this.uc,g=this.Xc;if(0===e)b>=c||(g.splice(b,1),this.Rb--);else if(1===e){if(!(b>=f)){for(f=0;f<c;++f)g[f].splice(b,1);this.tc--}}else if(!(b>=k)){for(e=0;e<c;++e)for(k=0;k<f;++k)g[e][k].splice(b,1);this.uc--}}},uA(b,e,c){e=Math.floor(e);if(!(0>e)){var f=this.Rb,k=this.tc,g=this.uc,l=this.Xc;if(0===c)e>f||(l.splice(e,0,d.bh(k,()=>d.bh(g,b))),this.Rb++);else if(1===c){if(!(e>k)){for(k=0;k<f;++k)l[k].splice(e,0,d.bh(g,b));this.tc++}}else if(!(e>g)){for(c=0;c<f;++c)for(let n=0;n<k;++n)l[c][n].splice(e,
0,b);this.uc++}}},Ska(b){let e=null;try{e=JSON.parse(b)}catch(c){console.error("[Construct 3] Failed to parse JSON: ",c);return}e.c2array&&(b=e.size,this.Rb=b[0],this.tc=b[1],this.uc=b[2],this.Xc=e.data)},Rka(b){const e=URL.createObjectURL(new Blob([this.aO()],{type:"application/json"}));this.b.J2(e,b)}}}"use strict";
self.j.B.dn.Cd={sl(d,a,b){return this.sl(d,a||0,b||0)},S7(){return this.Rb},XO(){return this.tc},nja(){return this.uc},hja(){return this.ZH()},ija(){return this.$H()},jja(){return this.aI()},gja(){return this.sl(this.ZH(),this.$H(),this.aI())},Fja(){return this.sl(0,0,0)},nia(){return this.sl(this.Rb-1,0,0)},eka(d){const a=this.Xc;for(let b=0,e=this.Rb;b<e;++b)if(a[b][0][0]===d)return b;return-1},Xka(d){const a=this.Xc;for(let b=this.Rb-1;0<=b;--b)if(a[b][0][0]===d)return b;return-1},lN(){return this.aO()}};
{"use strict";const d=self.j;d.xa.np=class extends d.Mp{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.np.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j,a=self.Pg,b=self.YO;d.xa.np.Instance=class extends d.Np{constructor(c,f){super(c);this.oy=this.ny=this.my=this.qy=this.GC=this.cy=this.Ix=this.$w=this.Iy=!1;this.sb=this.rb=0;this.Xj=200;this.Tf=600;this.xg=500;this.Xn=this.jo=3;this.Ka=this.km=!0;f&&(this.Xj=f[0],this.Tf=f[1],this.xg=f[2],this.jo=f[3],this.Xn=f[4],this.km=!!f[5],this.Ka=!!f[6]);this.Ka&&this.qf();this.km&&this.CH()}CH(){if(!this.zd){var c=this.b.Db();this.zd=new d.Pr(d.fd.Wd(c,"keydown",f=>this.mI(f.data)),
d.fd.Wd(c,"keyup",f=>this.nI(f.data)),d.fd.Wd(c,"window-blur",()=>this.Xs()),d.fd.Wd(c,"keyboard-blur",()=>this.Xs()))}}ZT(){this.zd&&(this.zd.g(),this.zd=null)}g(){super.g()}Wb(){return{dx:this.rb,dy:this.sb,e:this.Ka,ms:this.Xj,acc:this.Tf,dec:this.xg,d:this.jo,am:this.Xn,dc:this.km,ii:this.GC}}Ob(c){this.rb=c.dx;this.sb=c.dy;this.$l(c.e);this.Xj=c.ms;this.Tf=c.acc;this.xg=c.dec;this.jo=c.d;this.Xn=c.am;this.km=c.dc;this.GC=c.ii;this.oy=this.ny=this.my=this.qy=this.cy=this.Ix=this.$w=this.Iy=!1;
this.km?this.CH():this.ZT()}mI(c){switch(c.key){case "ArrowLeft":this.Ix=!0;break;case "ArrowUp":this.Iy=!0;break;case "ArrowRight":this.cy=!0;break;case "ArrowDown":this.$w=!0}}nI(c){switch(c.key){case "ArrowLeft":this.Ix=!1;break;case "ArrowUp":this.Iy=!1;break;case "ArrowRight":this.cy=!1;break;case "ArrowDown":this.$w=!1}}Xs(){this.cy=this.Ix=this.$w=this.Iy=!1}ee(){var c=this.b.pp(this.K);const f=this.b.rh;var k=this.Ix||this.ny,g=this.cy||this.oy,l=this.Iy||this.qy,n=this.$w||this.my;this.my=
this.qy=this.oy=this.ny=!1;if(this.Ka){var q=f.On(this.K);if(q&&(f.LA(this.K,q),!f.L4(this.K)))return;this.GC&&(k=g=l=n=!1);0===this.jo?k=g=!1:1===this.jo&&(l=n=!1);2===this.jo&&(l||n)&&(k=g=!1);k===g&&(0>this.rb?this.rb=Math.min(this.rb+this.xg*c,0):0<this.rb&&(this.rb=Math.max(this.rb-this.xg*c,0)));l===n&&(0>this.sb?this.sb=Math.min(this.sb+this.xg*c,0):0<this.sb&&(this.sb=Math.max(this.sb-this.xg*c,0)));var r=q=0;k&&!g&&(q=0<this.rb?-(this.Tf+this.xg):-this.Tf);g&&!k&&(q=0>this.rb?this.Tf+this.xg:
this.Tf);l&&!n&&(r=0<this.sb?-(this.Tf+this.xg):-this.Tf);n&&!l&&(r=0>this.sb?this.Tf+this.xg:this.Tf);this.rb+=q*c;this.sb+=r*c;if(0!==this.rb||0!==this.sb){g=Math.atan2(this.sb,this.rb);k=this.Xj*Math.cos(g);g=this.Xj*Math.sin(g);Math.sqrt(this.rb*this.rb+this.sb*this.sb)>this.Xj&&(this.rb=k,this.sb=g);var p=Math.abs(k)*c;n=Math.abs(g)*c;k=this.K.i();const w=k.O();l=k.P();g=k.ra();p=d.fa(this.rb*c+.5*q*c*c,-p,p);k.Iv(p);k.ta();if(q=f.On(this.K))f.aQ(this.K,0>this.rb?1:-1,0,Math.max(Math.abs(Math.floor(p)),
1))||(k.Qf(w),k.ta()),this.rb=0,f.LA(this.K,q);c=d.fa(this.sb*c+.5*r*c*c,-n,n);k.Kv(c);k.ta();if(q=f.On(this.K))f.aQ(this.K,0,0>this.sb?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(k.ih(l),k.ta()),this.sb=0,f.LA(this.K,q);c=d.LE(this.rb);r=d.LE(this.sb);0===c&&0===r||!this.K.Fb().Dp()||(1===this.Xn?k.Bc(d.cb(90*Math.round(d.Ud(Math.atan2(r,c))/90))):2===this.Xn?k.Bc(d.cb(45*Math.round(d.Ud(Math.atan2(r,c))/45))):3===this.Xn&&k.Bc(Math.atan2(r,c)));k.ta();k.ra()!=g&&(q=f.On(this.K))&&(k.Bc(g),k.ta(),
f.LA(this.K,q))}}}Gb(c){switch(c){case 0:return this.Xj;case 1:return this.Tf;case 2:return this.xg;case 3:return this.jo;case 4:return this.Xn;case 5:return this.km;case 6:return this.Ka}}Md(c,f){switch(c){case 0:this.LT(f);break;case 1:this.wI(f);break;case 2:this.AT(f);break;case 3:this.jo=f;break;case 4:this.Xn=f;break;case 5:this.BT(!!f);break;case 6:this.$l(!!f)}}WT(){this.sb=this.rb=0}oT(){this.rb*=-1;this.sb*=-1}MS(){const c=Math.hypot(this.rb,this.sb);c>this.Xj&&this.CI(c)}CI(c){c=d.fa(c,
0,this.Xj);const f=Math.atan2(this.sb,this.rb);this.rb=c*Math.cos(f);this.sb=c*Math.sin(f)}nB(){return Math.hypot(this.rb,this.sb)}LT(c){this.Xj=Math.max(c,0)}wI(c){this.Tf=Math.max(c,0)}AT(c){this.xg=Math.max(c,0)}H$(){return Math.atan2(this.sb,this.rb)}wda(c){this.rb=c;this.MS()}xda(c){this.sb=c;this.MS()}Gda(c){if(this.Ka)switch(c){case 0:this.ny=!0;break;case 1:this.oy=!0;break;case 2:this.qy=!0;break;case 3:this.my=!0}}BT(c){c=!!c;this.km!==c&&((this.km=c)?this.CH():(this.ZT(),this.Xs()))}hda(c){this.GC=
!!c}$l(c){(this.Ka=!!c)?this.qf():(this.my=this.qy=this.oy=this.ny=!1,this.Nk())}Xg(){return self.K1}};const e=new WeakMap;self.K1=class extends b{constructor(){super();e.set(this,b.Xl().ia)}stop(){e.get(this).WT()}reverse(){e.get(this).oT()}get speed(){return e.get(this).nB()}set speed(c){a.fj(c);e.get(this).CI(c)}get acceleration(){return e.get(this).Tf}set acceleration(c){a.fj(c);e.get(this).wI(c)}get isEnabled(){return e.get(this).Ka}set isEnabled(c){e.get(this).$l(!!c)}}}
{"use strict";const d=self.j;d.xa.np.F={Fka(){return 1E-10<this.nB()},Sia(a,b){return d.compare(this.nB(),a,b)},jd(){return this.Ka}}}"use strict";self.j.xa.np.Ja={kh(){this.WT()},n5(){this.oT()},voa(d){this.hda(d)},bR(d){this.CI(d)},Uoa(d){this.LT(d)},y5(d){this.wI(d)},goa(d){this.AT(d)},Y6(d){this.Gda(d)},de(d){this.$l(d)},epa(d){this.wda(d)},fpa(d){this.xda(d)},ioa(d){this.BT(!!d)}};
{"use strict";const d=self.j;d.xa.np.Cd={d7(){return this.nB()},ula(){return this.Xj},QX(){return this.Tf},mja(){return this.xg},Gla(){return d.Ud(this.H$())},kqa(){return this.rb},lqa(){return this.sb}}}{"use strict";const d=self.j;d.xa.Dr=class extends d.Mp{constructor(a){super(a);this.wL=this.QD=this.iy=this.vL=0}g(){super.g()}YQ(a){this.vL=a}$Q(a){this.iy=a}XQ(a){this.QD=a}ZQ(a){this.wL=a}}}{"use strict";const d=self.j;d.xa.Dr.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j;d.xa.Dr.Instance=class extends d.Np{constructor(a,b){super(a);this.Ka=!0;b&&(this.Ka=b[0]);this.Ka&&this.gq()}g(){super.g()}Wb(){const a=this.Tg();return{e:this.Ka,smg:a.vL,ss:a.iy,se:a.QD,smd:a.wL}}Ob(a){const b=this.Tg();b.YQ(a.smg);b.$Q(a.ss);b.XQ(a.se);b.ZQ(a.smd);(this.Ka=a.e)?this.gq():this.hq()}jd(){return this.Ka}Wp(){if(this.jd()){var a=this.Tg(),b=a.ka(),e=0,c=0,f=0;for(var k of b)(b=k.e0(d.xa.Dr))&&b.ia.jd()&&(b=k.i(),e+=b.O(),c+=b.P(),++f);k=this.K.i().oc();
var g=this.b.Kf(),l=b=0;g>=a.iy&&g<a.QD&&(b=a.vL*Math.min(this.b.Ce,1),0===a.wL&&(b*=1-(g-a.iy)/(a.QD-a.iy)),a=this.b.Dn()*Math.PI*2,g=this.b.Dn()*b,b=Math.cos(a)*g,l=Math.sin(a)*g);k.bi(e/f+b);k.ci(c/f+l)}}Gb(a){switch(a){case 0:return this.Ka}}Md(a,b){switch(a){case 0:(this.Ka=!!b)?this.gq():this.hq()}}}}"use strict";self.j.xa.Dr.F={jd(){return this.Ka}};"use strict";
self.j.xa.Dr.Ja={lpa(d,a,b){const e=this.Tg();e.YQ(d);e.$Q(this.b.Kf());e.XQ(this.b.Kf()+a);e.ZQ(b)},de(d){(this.Ka=0!==d)?this.gq():this.hq()}};"use strict";self.j.xa.Dr.Cd={};{"use strict";const d=self.j;d.xa.Lr=class extends d.Mp{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.Lr.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j;d.xa.Lr.Instance=class extends d.Np{constructor(a,b){super(a);this.oq=this.nq=2;this.bt=this.ct=0;this.Ka=!0;a=this.K.i().pb();this.rE=a.L;this.uE=a.J;this.sE=this.b.Ue-a.L;this.tE=this.b.Te-a.J;this.$x=this.b.Ue-a.U;this.Pw=this.b.Te-a.S;b&&(this.nq=b[0],this.oq=b[1],this.ct=b[2],this.bt=b[3],this.Ka=!!b[4]);b=this.b.Db();this.zd=new d.Pr(d.fd.Wd(b,"layoutchange",()=>this.rba()));this.Ka&&this.qf()}g(){super.g()}Wb(){return{xl:this.rE,yt:this.uE,xr:this.sE,yb:this.tE,
rd:this.$x,bd:this.Pw,al:this.nq,at:this.oq,ar:this.ct,ab:this.bt,e:this.Ka}}Ob(a){this.rE=a.xl;this.uE=a.yt;this.sE=a.xr;this.tE=a.yb;this.$x=a.rd;this.Pw=a.bd;this.nq=a.al;this.oq=a.at;this.ct=a.ar;this.bt=a.ab;(this.Ka=a.e)?this.qf():this.Nk()}GB(){if(this.Ka){var a=this.K.i(),b=a.aa().Cf;if(0===this.nq){var e=b.L+this.rE-a.pb().L;0!==e&&(a.Iv(e),a.ta())}else 1===this.nq&&(e=b.U-this.sE-a.pb().L,0!==e&&(a.Iv(e),a.ta()));0===this.oq?(e=b.J+this.uE-a.pb().J,0!==e&&(a.Kv(e),a.ta())):1===this.oq&&
(e=b.S-this.tE-a.pb().J,0!==e&&(a.Kv(e),a.ta()));1===this.ct&&(e=b.U-this.$x-a.pb().U,0!==e&&(a.Iv(a.Vh()*e),a.mf(Math.max(a.M()+e),0),a.ta(),this.$x=b.U-a.pb().U));1===this.bt&&(e=b.S-this.Pw-a.pb().S,0!==e&&(a.Kv(a.Wh()*e),a.ld(Math.max(a.I()+e,0)),a.ta(),this.Pw=b.S-a.pb().S))}}ee(){this.GB()}rba(){this.GB()}Gb(a){switch(a){case 0:return this.nq;case 1:return this.oq;case 2:return this.ct;case 3:return this.bt;case 4:return this.Ka}}Md(a,b){switch(a){case 0:this.nq=b;break;case 1:this.oq=b;break;
case 2:this.ct=b;break;case 3:this.bt=b;break;case 4:(this.Ka=!!b)?this.qf():this.Nk()}}}}"use strict";self.j.xa.Lr.F={jd(){return this.Ka}};"use strict";self.j.xa.Lr.Ja={de(d){this.Ka&&0===d?(this.Ka=!1,this.Nk()):this.Ka||0===d||(d=this.K.i().pb(),this.rE=d.L,this.uE=d.J,this.sE=this.b.Ue-d.L,this.tE=this.b.Te-d.J,this.$x=this.b.Ue-d.U,this.Pw=this.b.Te-d.S,this.Ka=!0,this.qf())}};"use strict";self.j.xa.Lr.Cd={};{"use strict";const d=self.j;d.xa.Gn=class extends d.Mp{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.Gn.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j;d.xa.Gn.Instance=class extends d.Np{constructor(a,b){super(a);this.cm=this.Fh=0;this.Ka=!0;b&&(this.Fh=d.cb(b[0]),this.cm=d.cb(b[1]),this.Ka=b[2]);this.Ka&&this.qf()}g(){super.g()}Wb(){return{s:this.Fh,a:this.cm,e:this.Ka}}Ob(a){this.Fh=a.s;this.cm=a.a;this.$l(a.e)}ee(){if(this.Ka){var a=this.b.pp(this.K);if(0!==a&&(0!==this.cm&&(this.Fh+=this.cm*a),0!==this.Fh)){const b=this.K.i();b.Bc(b.ra()+this.Fh*a);b.ta()}}}Gb(a){switch(a){case 0:return d.Ud(this.Fh);case 1:return d.Ud(this.cm);
case 2:return this.Ka}}Md(a,b){switch(a){case 0:this.Fh=d.cb(b);break;case 1:this.cm=d.cb(b);break;case 2:this.$l(b)}}$l(a){(this.Ka=!!a)?this.qf():this.Nk()}}}"use strict";self.j.xa.Gn.F={jd(){return this.Ka}};{"use strict";const d=self.j;d.xa.Gn.Ja={bR(a){this.Fh=d.cb(a)},y5(a){this.cm=d.cb(a)},de(a){this.$l(a)}}}{"use strict";const d=self.j;d.xa.Gn.Cd={d7(){return d.Ud(this.Fh)},QX(){return d.Ud(this.cm)}}}{"use strict";const d=self.j;d.xa.jp=class extends d.Mp{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.jp.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j;d.xa.jp.Instance=class extends d.Np{constructor(a,b){super(a);this.de(!0);b&&(this.de(b[0]),this.Js(b[1]))}g(){super.g()}de(a){this.K.tda(!!a)}jd(){return this.K.HS()}Js(a){const b=this.K.Xd();if(a.trim()){var e=b.get("solidTags");e||(e=new Set,b.set("solidTags",e));e.clear();for(const c of a.split(" "))c&&e.add(c.toLowerCase())}else b.delete("solidTags")}Wb(){return{e:this.jd()}}Ob(a){this.de(a.e)}Gb(a){switch(a){case 0:return this.jd()}}Md(a,b){switch(a){case 0:this.de(b)}}}}"use strict";
self.j.xa.jp.F={jd(){return this.jd()}};"use strict";self.j.xa.jp.Ja={de(d){this.de(d)},Js(d){this.Js(d)}};"use strict";self.j.xa.jp.Cd={};{"use strict";const d=self.j;d.xa.Pl=class extends d.Mp{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.Pl.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j;d.xa.Pl.Instance=class extends d.Np{constructor(a,b){super(a);this.dl=null;this.CD=-1;this.Ah="";this.cr=new Set;this.to=this.lC=this.io=this.ot=this.pt=this.sb=this.rb=this.Wx=this.$q=this.Ve=0;this.iC=!1;b&&(this.iC=b[0]);a=this.b.Db();this.zd=new d.Pr(d.fd.Wd(a,"instancedestroy",e=>this.mba(e.instance)),d.fd.Wd(a,"afterload",()=>this.Aw()))}g(){this.dl=null;super.g()}Gw(a){a?(this.dl=a,this.gq()):(this.dl=null,this.hq())}Tn(a,b,e){if(a&&(a=a.KF(this.K)))if(this.Ah=
b,this.Gw(a),b=this.K.i(),a=a.i(),"properties"===this.Ah){const c=this.cr;c.clear();for(const f of e)c.add(f);this.rb=b.O()-a.O();this.sb=b.P()-a.P();this.io=b.ra()-a.ra();this.to=b.ra();this.lC=b.Ta()-a.Ta();c.has("x")&&c.has("y")&&(this.$q=d.je(a.O(),a.P(),b.O(),b.P())-a.ra(),this.Ve=d.Ef(a.O(),a.P(),b.O(),b.P()));c.has("width-abs")?this.pt=b.M()-a.M():c.has("width-scale")&&(this.pt=b.M()/a.M());c.has("height-abs")?this.ot=b.I()-a.I():c.has("height-scale")&&(this.ot=b.I()/a.I())}else this.Ve=d.Ef(a.O(),
a.P(),b.O(),b.P())}Wb(){const a=this.cr,b=this.Ah,e={uid:this.dl?this.dl.Pc:-1,m:b};if("rope"===b||"bar"===b)e.pd=this.Ve;else if("properties"===b){e.ps=[...this.cr];a.has("imagepoint")?e.ip=this.Wx:a.has("x")&&a.has("y")?(e.pa=this.$q,e.pd=this.Ve):(a.has("x")&&(e.dx=this.rb),a.has("y")&&(e.dy=this.sb));a.has("angle")&&(e.da=this.io,e.lka=this.to);if(a.has("width-abs")||a.has("width-scale"))e.dw=this.pt;if(a.has("height-abs")||a.has("height-scale"))e.dh=this.ot;a.has("z")&&(e.dz=this.lC)}return e}Ob(a){const b=
a.m,e=this.cr;e.clear();this.CD=a.uid;if("number"===typeof b)this.zaa(a);else if(this.Ah=b,"rope"===b||"bar"===b)this.Ve=a.pd;else if("properties"===b){for(const c of a.ps)e.add(c);e.has("imagepoint")?this.Wx=a.ip:e.has("x")&&e.has("y")?(this.$q=a.pa,this.Ve=a.pd):(e.has("x")&&(this.rb=a.dx),e.has("y")&&(this.sb=a.dy));e.has("angle")&&(this.io=a.da,this.to=a.lka||0);if(e.has("width-abs")||e.has("width-scale"))this.pt=a.dw;if(e.has("height-abs")||e.has("height-scale"))this.ot=a.dh;e.has("z")&&(this.lC=
a.dz)}}zaa(a){const b=this.cr,e=a.msa,c=a.tsa,f=a.pa,k=a.pd;switch(a.m){case 0:this.Ah="properties";b.add("x").add("y").add("angle");this.$q=f;this.Ve=k;this.io=e-c;this.to=a.lka;break;case 1:this.Ah="properties";b.add("x").add("y");this.$q=f;this.Ve=k;break;case 2:this.Ah="properties";b.add("angle");this.io=e-c;this.to=a.lka;break;case 3:this.Ah="rope";this.Ve=a.pd;break;case 4:this.Ah="bar",this.Ve=a.pd}}Aw(){-1===this.CD?this.Gw(null):(this.Gw(this.b.Vi(this.CD)),this.CD=-1)}mba(a){this.dl===a&&
(this.Gw(null),this.iC&&this.b.hn(this.K))}Wp(){var a=this.dl;if(a){var b=a.i(),e=this.K.i(),c=this.Ah,f=!1;if("rope"===c||"bar"===c){if(a=d.Ef(e.O(),e.P(),b.O(),b.P()),a>this.Ve||"bar"===c&&a<this.Ve)f=d.je(b.O(),b.P(),e.O(),e.P()),e.pe(b.O()+Math.cos(f)*this.Ve,b.P()+Math.sin(f)*this.Ve),f=!0}else{c=this.cr;if(c.has("imagepoint")){const [k,g]=a.Dl(this.Wx);e.wF(k,g)||(e.pe(k,g),f=!0)}else if(c.has("x")&&c.has("y")){a=b.O()+Math.cos(b.ra()+this.$q)*this.Ve;const k=b.P()+Math.sin(b.ra()+this.$q)*
this.Ve;e.wF(a,k)||(e.pe(a,k),f=!0)}else a=b.O()+this.rb,c.has("x")&&a!==e.O()&&(e.Qf(a),f=!0),a=b.P()+this.sb,c.has("y")&&a!==e.P()&&(e.ih(a),f=!0);c.has("angle")&&(this.to!==e.ra()&&(this.io=d.ke(this.io+(e.ra()-this.to))),a=d.ke(b.ra()+this.io),a!==e.ra()&&(e.Bc(a),f=!0),this.to=e.ra());c.has("width-abs")&&(a=b.M()+this.pt,a!==e.M()&&(e.mf(a),f=!0));c.has("width-scale")&&(a=b.M()*this.pt,a!==e.M()&&(e.mf(a),f=!0));c.has("height-abs")&&(a=b.I()+this.ot,a!==e.I()&&(e.ld(a),f=!0));c.has("height-scale")&&
(a=b.I()*this.ot,a!==e.I()&&(e.ld(a),f=!0));c.has("z")&&(a=b.Ta()+this.lC,a!==e.Ta()&&(e.He(a),this.b.R()))}f&&e.ta()}}}}"use strict";self.j.xa.Pl.F={Mka(){return!!this.dl},vqa(){return this.iC}};"use strict";
self.j.xa.Pl.Ja={Ama(d,a){this.Tn(d,0===a?"rope":"bar")},y4(d,a,b,e,c,f,k){const g=[];a&&g.push("x");b&&g.push("y");e&&g.push("angle");k&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===f?g.push("height-abs"):2===f&&g.push("height-scale");0!==g.length&&this.Tn(d,"properties",g)},Bma(d,a,b,e,c,f){const k=["imagepoint"];b&&k.push("angle");f&&k.push("z");1===e?k.push("width-abs"):2===e&&k.push("width-scale");1===c?k.push("height-abs"):2===c&&k.push("height-scale");this.Wx=a;this.Tn(d,
"properties",k)},Yoa(d){if("rope"===this.Ah||"bar"===this.Ah)this.Ve=Math.max(d,0)},joa(d){this.iC=d},y7(){this.Gw(null);this.Ah="";this.cr.clear();this.Wx=""},Pl(d,a){switch(a){case 0:this.Tn(d,"properties",["x","y","angle"]);break;case 1:this.Tn(d,"properties",["x","y"]);break;case 2:this.Tn(d,"properties",["angle"]);break;case 3:this.Tn(d,"rope");break;case 4:this.Tn(d,"bar")}}};"use strict";self.j.xa.Pl.Cd={Cma(){return this.dl?this.dl.Pc:-1}};{"use strict";const d=self.j;d.xa.Fr=class extends d.Mp{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.Fr.Ie=class extends d.Op{constructor(a){super(a)}g(){super.g()}Vb(){}}}
{"use strict";const d=self.j;d.xa.Fr.Instance=class extends d.Np{constructor(a,b){super(a);b?(this.ld(b[0]),this.Sl(b[1]),this.de(!!b[2])):(this.ld(100),this.Sl(""),this.de(!0))}g(){super.g()}ld(a){this.K.Xd().set("shadowcasterHeight",a)}I(){return this.K.Xd().get("shadowcasterHeight")}Sl(a){this.K.Xd().set("shadowcasterTag",a)}wv(){return this.K.Xd().get("shadowcasterTag")}de(a){this.K.Xd().set("shadowcasterEnabled",!!a)}jd(){return this.K.Xd().get("shadowcasterEnabled")}Wb(){return{h:this.I(),t:this.wv(),
e:this.jd()}}Ob(a){this.ld(a.h);this.Sl(a.t);this.de(a.e)}Gb(a){switch(a){case 0:return this.I();case 1:return this.wv();case 2:return this.jd()}}Md(a,b){switch(a){case 0:this.ld(b);break;case 1:this.Sl(b);break;case 2:this.de(b)}}}}{"use strict";const d=self.j;d.xa.Fr.F={jd(){return this.jd()},YY(a,b){return d.compare(this.I(),a,b)}}}"use strict";self.j.xa.Fr.Ja={de(d){this.de(d)},ld(d){this.I()!==d&&(this.ld(d),this.b.R())},Sl(d){this.wv()!==d&&(this.Sl(d),this.b.R())}};"use strict";
self.j.xa.Fr.Cd={XO(){return this.I()},n7(){return this.wv()}};
{const d=self.j;self.rN=function(){return[d.B.Lb,d.xa.np,d.xa.Dr,d.xa.Lr,d.B.Touch,d.xa.Gn,d.B.Keyboard,d.B.Rf,d.xa.jp,d.B.Gr,d.xa.Pl,d.B.jj,d.B.mh,d.B.dn,d.xa.Fr,d.B.Za.F.ks,d.B.Za.F.aZ,d.B.Za.Ja.l7,d.B.Za.Ja.hY,d.B.Za.Ja.r1,d.B.Za.F.R_,d.B.Za.Ja.f6,d.B.Za.F.OP,d.B.Za.Ja.g6,d.B.Za.Ja.e6,d.xa.Pl.Ja.y4,d.B.jj.F.jF,d.B.Lb.F.XY,d.xa.Pl.Ja.y7,d.B.Touch.F.TP,d.B.Lb.F.jF,d.B.Touch.F.j3,d.B.Za.Ja.zH,d.B.Za.Ja.P6,d.B.Za.F.v7,d.B.Lb.Ja.A5,d.B.mh.Ja.K5,d.B.Gr.Ja.lf,d.B.Za.F.Q_,d.B.Rf.F.jF,d.B.Rf.Ja.OQ,d.B.Rf.F.bZ,
d.B.Rf.Ja.He,d.B.Rf.Cd.Y7,d.B.Lb.F.Z2,d.B.Lb.Ja.v6,d.xa.Gn.Ja.bR,d.B.Za.Ja.M7,d.xa.Gn.Ja.de,d.B.Keyboard.F.nP,d.B.Lb.Ja.lf,d.B.Lb.F.Y2,d.B.Lb.F.cP,d.B.Lb.Ja.Bc,d.xa.np.Ja.Y6,d.B.Lb.F.V3,d.B.Rf.Ja.NN,d.B.jj.F.$Y,d.B.jj.Ja.Ks,d.B.Lb.Cd.jY,d.B.Lb.Ja.OQ,d.B.Lb.Ja.NN,d.B.Za.Ja.k5,d.B.Rf.F.Sc,d.B.Rf.Ja.lf,d.B.Rf.Ja.Pb,d.B.Za.F.RN,d.B.Lb.Ja.hj,d.B.Lb.F.ZY,d.B.Lb.Cd.Opacity,d.B.Za.F.NP,d.B.Touch.F.SP,d.B.dn.F.BN,d.B.dn.Ja.Qf]};self.AY=[{"8\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439":0},
{iua:0},{Ema:0},{Sqa:0},{oua:0},{wia:0},{jua:0},{Ila:0},{gua:0},{zia:0},{tpa:0},{Pja:0},{fua:0},{Gia:0},{upa:0},{Tr:0},{kua:0},{sia:0},{Bqa:0},{ria:0},{Ala:0},{Hla:0},{Ppa:0},{hua:0},{mua:0},{Vka:0},{Gta:0},{wla:0},{lua:0},{via:0},{wqa:0},{vla:0},{Mpa:0},{fla:0},{dla:0},{ela:0},{Ypa:0},{iia:0},{Lma:0},{hla:0},{Apa:0},{gla:0},{kja:0},{Wka:0},{Xpa:0},{Pla:0},{nua:0},{"3DRot":0},{zja:0},{Qpa:0},{Hja:0},{aqa:0},{qja:0},{kpa:0},{Uka:0},{Nja:0},{fja:0},{$pa:0},{Mja:0}]}
{function d(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}self.zY=[()=>"SystemGroup",()=>"Yes",()=>0,()=>1,()=>"No",()=>100,()=>"BlackBlack",a=>{const b=a.Ik().lo;return()=>b.$d()},()=>"UI_WIN",()=>"RotateLayer",()=>"\u0420\u0430\u0434\u0438\u0430\u043b\u044c\u043d\u043e\u0435\u0420\u0430\u0437\u043c\u044b\u0442\u0438\u0435",()=>"Options",()=>2,()=>"On",()=>.1,()=>
"Off",()=>3,()=>4,()=>5,()=>"BlockLight",()=>"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435",()=>"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435",()=>"LazerEffect",()=>"\u0428\u0443\u043c",()=>"\u0412\u043e\u0434\u0430",()=>"Animation3D",()=>"Up",()=>1.5,()=>"Down",()=>-15,a=>{const b=a.Ik();return()=>b.Sr()-.5},a=>{const b=a.Ik();return()=>
b.Sr()+.5},a=>{const b=a.Ik();return()=>b.Sr()-.1},()=>8,a=>{const b=a.Ik();return()=>b.Sr()+.1},()=>"WaitPlayer",()=>"Arrow",()=>180,()=>"Rotate1",()=>-180,()=>"UI",()=>"Rotate2",()=>85,()=>95,()=>90,()=>"MoveCube",()=>175,()=>185,()=>265,()=>275,()=>270,()=>355,()=>360,()=>"LanternAndFinish",()=>"Text",a=>{const b=a.Ik().lo;return()=>d("\u0421\u043e\u0431\u0440\u0430\u043d\u043e \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u043e\u0432: ",b.$d())+" \u0438\u0437 3"},()=>"MachanicGame",a=>{const b=a.Ik();
return()=>b.Sr()},()=>"End",()=>-5,()=>32,()=>16,a=>{const b=a.Ik();return()=>b.Sr()+1},()=>"GameLevelScript",()=>6,a=>{const b=a.Ik().lo;return()=>d("\u0423 \u0432\u0430\u0441 ",b.$d())+" \u043a\u0440\u0438\u0441\u0442\u0430\u043b\u043e\u0432."},()=>"ButtonMenu",()=>"VariantLevel",()=>-14,()=>"VariantLevelBUTTON",a=>{const b=a.Ik().lo;return()=>d("\u0412\u044b \u0441\u043e\u0431\u0440\u0430\u043b\u0438 \u0432\u0441\u0435\u0433\u043e: ",b.$d())+" \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u043e\u0432"}]};
