// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Xa=this;
function $a(d){function a(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2];u=u[3];h[0]=y*F+C*I;h[1]=A*F+m*I;h[2]=y*L+C*u;h[3]=A*L+m*u;return h}function b(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function f(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=u[0],O=u[1],R=u[2],S=u[3],X=u[4];u=u[5];h[0]=y*L+C*O;h[1]=A*L+F*O;h[2]=y*R+C*S;h[3]=A*R+F*S;h[4]=y*X+C*u+I;h[5]=A*X+F*u+m;return h}function c(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-
u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];return h}function e(){var h=new pa(9);pa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=u[0],X=u[1],V=u[2],ea=u[3],ca=u[4],aa=u[5],ta=u[6],oa=u[7];u=u[8];h[0]=S*y+X*F+V*O;h[1]=S*A+X*I+V*R;h[2]=S*C+X*L+V*m;h[3]=ea*y+ca*F+aa*O;h[4]=ea*A+ca*I+aa*R;h[5]=ea*C+ca*L+aa*m;h[6]=ta*y+oa*F+u*O;h[7]=ta*A+oa*I+u*R;h[8]=ta*C+oa*L+
u*m;return h}function g(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function n(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=m[8],X=m[9],V=m[10],ea=m[11],ca=m[12],aa=m[13],ta=m[14];m=m[15];var oa=u[0],ra=u[1],sa=u[2],qa=u[3];h[0]=
oa*y+ra*I+sa*S+qa*ca;h[1]=oa*A+ra*L+sa*X+qa*aa;h[2]=oa*C+ra*O+sa*V+qa*ta;h[3]=oa*F+ra*R+sa*ea+qa*m;oa=u[4];ra=u[5];sa=u[6];qa=u[7];h[4]=oa*y+ra*I+sa*S+qa*ca;h[5]=oa*A+ra*L+sa*X+qa*aa;h[6]=oa*C+ra*O+sa*V+qa*ta;h[7]=oa*F+ra*R+sa*ea+qa*m;oa=u[8];ra=u[9];sa=u[10];qa=u[11];h[8]=oa*y+ra*I+sa*S+qa*ca;h[9]=oa*A+ra*L+sa*X+qa*aa;h[10]=oa*C+ra*O+sa*V+qa*ta;h[11]=oa*F+ra*R+sa*ea+qa*m;oa=u[12];ra=u[13];sa=u[14];qa=u[15];h[12]=oa*y+ra*I+sa*S+qa*ca;h[13]=oa*A+ra*L+sa*X+qa*aa;h[14]=oa*C+ra*O+sa*V+qa*ta;h[15]=oa*
F+ra*R+sa*ea+qa*m;return h}function q(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=y+y,L=A+A,O=C+C;m=y*I;var R=y*L;y*=O;var S=A*L;A*=O;C*=O;I*=F;L*=F;F*=O;h[0]=1-(S+C);h[1]=R+F;h[2]=y-L;h[3]=0;h[4]=R-F;h[5]=1-(m+C);h[6]=A+I;h[7]=0;h[8]=y+L;h[9]=A-I;h[10]=1-(m+S);h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h}function r(h,m){h[0]=m[12];h[1]=m[13];h[2]=m[14];return h}function p(h,m){var u=m[4],y=m[5],A=m[6],C=m[8],F=m[9],I=m[10];h[0]=Math.hypot(m[0],m[1],m[2]);h[1]=Math.hypot(u,y,A);h[2]=Math.hypot(C,
F,I);return h}function w(h,m){var u=new pa(3);p(u,m);var y=1/u[0],A=1/u[1],C=1/u[2],F=m[0]*y;u=m[1]*A;var I=m[2]*C,L=m[4]*y,O=m[5]*A,R=m[6]*C;y*=m[8];A*=m[9];m=m[10]*C;C=F+O+m;0<C?(F=2*Math.sqrt(C+1),h[3]=.25*F,h[0]=(R-A)/F,h[1]=(y-I)/F,h[2]=(u-L)/F):F>O&&F>m?(F=2*Math.sqrt(1+F-O-m),h[3]=(R-A)/F,h[0]=.25*F,h[1]=(u+L)/F,h[2]=(y+I)/F):O>m?(F=2*Math.sqrt(1+O-F-m),h[3]=(y-I)/F,h[0]=(u+L)/F,h[1]=.25*F,h[2]=(R+A)/F):(F=2*Math.sqrt(1+m-F-O),h[3]=(u-L)/F,h[0]=(y+I)/F,h[1]=(R+A)/F,h[2]=.25*F);return h}function t(h,
m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];h[9]=m[9]-u[9];h[10]=m[10]-u[10];h[11]=m[11]-u[11];h[12]=m[12]-u[12];h[13]=m[13]-u[13];h[14]=m[14]-u[14];h[15]=m[15]-u[15];return h}function v(){var h=new pa(3);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,m,u){var y=new pa(3);y[0]=h;y[1]=m;y[2]=u;return y}function D(h,m,u){h[0]=m[0]-u[0];h[1]=
m[1]-u[1];h[2]=m[2]-u[2];return h}function E(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];return h}function M(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];return h}function B(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],m[2]-h[2])}function G(h,m){var u=m[0]-h[0],y=m[1]-h[1];h=m[2]-h[2];return u*u+y*y+h*h}function H(h){var m=h[0],u=h[1];h=h[2];return m*m+u*u+h*h}function J(h,m){var u=m[0],y=m[1],A=m[2];u=u*u+y*y+A*A;0<u&&(u=1/Math.sqrt(u));h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h}function P(h,
m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]}function Q(h,m,u){var y=m[0],A=m[1];m=m[2];var C=u[0],F=u[1];u=u[2];h[0]=A*u-m*F;h[1]=m*C-y*u;h[2]=y*F-A*C;return h}function T(){var h=new pa(4);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function W(h){var m=new pa(4);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];return m}function Z(h,m,u,y){var A=new pa(4);A[0]=h;A[1]=m;A[2]=u;A[3]=y;return A}function Y(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h}function fa(h,m,u,y,A){h[0]=m;h[1]=u;h[2]=
y;h[3]=A;return h}function ja(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h}function xa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function Ka(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];h[3]=m[3]*u[3];return h}function Ta(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];h[3]=m[3]/u[3];return h}function Pa(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h}function Ua(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],
m[2]-h[2],m[3]-h[3])}function db(h,m){var u=m[0]-h[0],y=m[1]-h[1],A=m[2]-h[2];h=m[3]-h[3];return u*u+y*y+A*A+h*h}function Qa(h){return Math.hypot(h[0],h[1],h[2],h[3])}function La(h){var m=h[0],u=h[1],y=h[2];h=h[3];return m*m+u*u+y*y+h*h}function Ya(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*u+y*y+A*A+m*m;0<C&&(C=1/Math.sqrt(C));h[0]=u*C;h[1]=y*C;h[2]=A*C;h[3]=m*C;return h}function Va(h,m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]+h[3]*m[3]}function gb(h,m,u,y){var A=m[0],C=m[1],F=m[2];m=m[3];h[0]=A+
y*(u[0]-A);h[1]=C+y*(u[1]-C);h[2]=F+y*(u[2]-F);h[3]=m+y*(u[3]-m);return h}function ub(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]}function vb(h,m){var u=h[0],y=h[1],A=h[2];h=h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}function hb(){var h=new pa(4);pa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function wb(h,m,u){u*=.5;var y=Math.sin(u);h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=Math.cos(u);return h}function xb(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2];u=u[3];h[0]=y*u+m*F+A*L-C*I;h[1]=A*u+m*I+C*F-y*L;h[2]=C*u+m*L+y*I-A*F;h[3]=m*u-y*F-A*I-C*L;return h}function yb(h,m,u){u*=.5;var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+m*F;h[1]=A*u+C*F;h[2]=C*u-A*F;h[3]=m*u-y*F;return h}function zb(h,m,u){u*=.5;var y=
m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u-C*F;h[1]=A*u+m*F;h[2]=C*u+y*F;h[3]=m*u-A*F;return h}function Ab(h,m,u){u*=.5;var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+A*F;h[1]=A*u-y*F;h[2]=C*u+m*F;h[3]=m*u-C*F;return h}function Bb(h,m){var u=m[0],y=m[1],A=m[2],C=Math.sqrt(u*u+y*y+A*A);m=Math.exp(m[3]);var F=0<C?m*Math.sin(C)/C:0;h[0]=u*F;h[1]=y*F;h[2]=A*F;h[3]=m*Math.cos(C);return h}function Cb(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=Math.sqrt(u*
u+y*y+A*A);C=0<C?Math.atan2(C,m)/C:0;h[0]=u*C;h[1]=y*C;h[2]=A*C;h[3]=.5*Math.log(u*u+y*y+A*A+m*m);return h}function ib(h,m,u,y){var A=m[0],C=m[1],F=m[2];m=m[3];var I=u[0],L=u[1],O=u[2];u=u[3];var R=A*I+C*L+F*O+m*u;0>R&&(R=-R,I=-I,L=-L,O=-O,u=-u);if(1E-6<1-R){var S=Math.acos(R);var X=Math.sin(S);R=Math.sin((1-y)*S)/X;y=Math.sin(y*S)/X}else R=1-y;h[0]=R*A+y*I;h[1]=R*C+y*L;h[2]=R*F+y*O;h[3]=R*m+y*u;return h}function Db(h,m){var u=m[0]+m[4]+m[8];if(0<u)u=Math.sqrt(u+1),h[3]=.5*u,u=.5/u,h[0]=(m[5]-m[7])*
u,h[1]=(m[6]-m[2])*u,h[2]=(m[1]-m[3])*u;else{var y=0;m[4]>m[0]&&(y=1);m[8]>m[3*y+y]&&(y=2);var A=(y+1)%3,C=(y+2)%3;u=Math.sqrt(m[3*y+y]-m[3*A+A]-m[3*C+C]+1);h[y]=.5*u;u=.5/u;h[3]=(m[3*A+C]-m[3*C+A])*u;h[A]=(m[3*A+y]+m[3*y+A])*u;h[C]=(m[3*C+y]+m[3*y+C])*u}return h}function Eb(h,m,u){var y=.5*u[0],A=.5*u[1];u=.5*u[2];var C=m[0],F=m[1],I=m[2];m=m[3];h[0]=C;h[1]=F;h[2]=I;h[3]=m;h[4]=y*m+A*I-u*F;h[5]=A*m+u*C-y*I;h[6]=u*m+y*F-A*C;h[7]=-y*C-A*F-u*I;return h}function Fb(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];
h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];return h}function Gb(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=u[4],L=u[5],O=u[6],R=u[7],S=m[4],X=m[5],V=m[6];m=m[7];var ea=u[0],ca=u[1],aa=u[2];u=u[3];h[0]=y*u+F*ea+A*aa-C*ca;h[1]=A*u+F*ca+C*ea-y*aa;h[2]=C*u+F*aa+y*ca-A*ea;h[3]=F*u-y*ea-A*ca-C*aa;h[4]=y*R+F*I+A*O-C*L+S*u+m*ea+X*aa-V*ca;h[5]=A*R+F*L+C*I-y*O+X*u+m*ca+V*ea-S*aa;h[6]=C*R+F*O+y*L-A*I+V*u+m*aa+S*ca-X*ea;h[7]=F*R-y*I-A*L-C*O+m*u-S*ea-X*ca-V*aa;return h}function jb(){var h=new pa(2);pa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Wa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];return h}function kb(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];return h}function lb(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];return h}function Za(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1])}function mb(h,m){var u=m[0]-h[0];h=m[1]-h[1];return u*u+h*h}function Na(h){return Math.hypot(h[0],h[1])}function nb(h){var m=h[0];h=h[1];return m*m+h*h}var pa="undefined"!==typeof Float32Array?Float32Array:Array,Ja=Math.random,Hb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,m=arguments.length;m--;)h+=arguments[m]*arguments[m];return Math.sqrt(h)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get eia(){return pa},kna:Ja,Tta:function(h){pa=h},dua:function(h){return h*Hb},fd:function(h,m){return Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}}),Ob=Object.freeze({__proto__:null,create:function(){var h=new pa(4);pa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new pa(4);m[0]=h[0];m[1]=h[1];
m[2]=h[2];m[3]=h[3];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h},gz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},jg:function(h,m,u,y){var A=new pa(4);A[0]=h;A[1]=m;A[2]=u;A[3]=y;return A},set:function(h,m,u,y,A){h[0]=m;h[1]=u;h[2]=y;h[3]=A;return h},bY:function(h,m){if(h===m){var u=m[1];h[1]=m[2];h[2]=u}else h[0]=m[0],h[1]=m[2],h[2]=m[1],h[3]=m[3];return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*m-A*y;if(!C)return null;C=1/C;h[0]=m*C;h[1]=-y*
C;h[2]=-A*C;h[3]=u*C;return h},hX:function(h,m){var u=m[0];h[0]=m[3];h[1]=-m[1];h[2]=-m[2];h[3]=u;return h},JM:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:a,rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+C*F;h[1]=A*u+m*F;h[2]=y*-F+C*u;h[3]=A*-F+m*u;return h},scale:function(h,m,u){var y=m[1],A=m[2],C=m[3],F=u[0];u=u[1];h[0]=m[0]*F;h[1]=y*F;h[2]=A*u;h[3]=C*u;return h},VE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;
return h},NM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];return h},gn:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},MM:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},qla:function(h,m,u,y){h[2]=y[2]/y[0];u[0]=y[0];u[1]=y[1];u[3]=y[3]-h[2]*u[1];return[h,m,u]},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h},hn:b,nk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]},fd:function(h,m){var u=h[0],y=h[1],A=h[2];h=
h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},ZM:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h},$M:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},qp:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var h=
new pa(6);pa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new pa(6);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];return h},gz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},jg:function(h,m,u,y,A,C){var F=new pa(6);F[0]=h;F[1]=m;F[2]=u;F[3]=y;F[4]=A;F[5]=C;return F},set:function(h,m,u,y,A,C,F){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=
F;return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4];m=m[5];var I=u*C-y*A;if(!I)return null;I=1/I;h[0]=C*I;h[1]=-y*I;h[2]=-A*I;h[3]=u*I;h[4]=(A*m-C*F)*I;h[5]=(y*F-u*m)*I;return h},JM:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:f,rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=Math.sin(u);u=Math.cos(u);h[0]=y*u+C*L;h[1]=A*u+F*L;h[2]=y*-L+C*u;h[3]=A*-L+F*u;h[4]=I;h[5]=m;return h},scale:function(h,m,u){var y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=u[0];u=u[1];
h[0]=m[0]*L;h[1]=y*L;h[2]=A*u;h[3]=C*u;h[4]=F;h[5]=I;return h},translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=u[0];u=u[1];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=y*L+C*u+I;h[5]=A*L+F*u+m;return h},VE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;h[4]=0;h[5]=0;return h},NM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];h[4]=0;h[5]=0;return h},OM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=m[0];h[5]=m[1];return h},gn:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},MM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];return h},hn:c,ZM:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;return h},$M:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;return h},nk:function(h,m){return h[0]===
m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4];h=h[5];var I=m[0],L=m[1],O=m[2],R=m[3],S=m[4];m=m[5];return Math.abs(u-I)<=1E-6*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(y-L)<=1E-6*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(F-S)<=1E-6*Math.max(1,Math.abs(F),Math.abs(S))&&Math.abs(h-m)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(m))},qp:f,sub:c}),Qb=Object.freeze({__proto__:null,create:e,Pga:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[4];h[4]=m[5];h[5]=m[6];h[6]=m[8];h[7]=m[9];h[8]=m[10];return h},clone:function(h){var m=new pa(9);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},jg:function(h,m,u,y,A,C,F,I,L){var O=new pa(9);O[0]=
h;O[1]=m;O[2]=u;O[3]=y;O[4]=A;O[5]=C;O[6]=F;O[7]=I;O[8]=L;return O},set:function(h,m,u,y,A,C,F,I,L,O){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;return h},gz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},bY:function(h,m){if(h===m){var u=m[1],y=m[2],A=m[5];h[1]=m[3];h[2]=m[6];h[3]=u;h[5]=m[7];h[6]=y;h[7]=A}else h[0]=m[0],h[1]=m[3],h[2]=m[6],h[3]=m[1],h[4]=m[4],h[5]=m[7],h[6]=m[2],h[7]=m[5],h[8]=m[8];return h},Hu:function(h,m){var u=m[0],y=
m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];var R=m*F-I*O,S=-m*C+I*L,X=O*C-F*L,V=u*R+y*S+A*X;if(!V)return null;V=1/V;h[0]=R*V;h[1]=(-m*y+A*O)*V;h[2]=(I*y-A*F)*V;h[3]=S*V;h[4]=(m*u-A*L)*V;h[5]=(-I*u+A*C)*V;h[6]=X*V;h[7]=(-O*u+y*L)*V;h[8]=(F*u-y*C)*V;return h},hX:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];h[0]=F*m-I*O;h[1]=A*O-y*m;h[2]=y*I-A*F;h[3]=I*L-C*m;h[4]=u*m-A*L;h[5]=A*C-u*I;h[6]=C*O-F*L;h[7]=y*L-u*O;h[8]=u*F-y*C;return h},JM:function(h){var m=
h[3],u=h[4],y=h[5],A=h[6],C=h[7],F=h[8];return h[0]*(F*u-y*C)+h[1]*(-F*m+y*A)+h[2]*(C*m-u*A)},multiply:k,translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=u[0];u=u[1];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=I;h[5]=L;h[6]=S*y+u*F+O;h[7]=S*A+u*I+R;h[8]=S*C+u*L+m;return h},rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=Math.sin(u);u=Math.cos(u);h[0]=u*y+S*F;h[1]=u*A+S*I;h[2]=u*C+S*L;h[3]=u*F-S*y;h[4]=u*I-S*A;h[5]=
u*L-S*C;h[6]=O;h[7]=R;h[8]=m;return h},scale:function(h,m,u){var y=u[0];u=u[1];h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=u*m[3];h[4]=u*m[4];h[5]=u*m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},OM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=m[0];h[7]=m[1];h[8]=1;return h},VE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=-u;h[4]=m;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},NM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=m[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
Ora:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=0;h[3]=m[2];h[4]=m[3];h[5]=0;h[6]=m[4];h[7]=m[5];h[8]=1;return h},Qga:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u+u,F=y+y,I=A+A;u*=C;var L=y*C;y*=F;var O=A*C,R=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-y-A;h[3]=L-m;h[6]=O+F;h[1]=L+m;h[4]=1-u-A;h[7]=R-C;h[2]=O-F;h[5]=R+C;h[8]=1-u-y;return h},ata:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];var ta=u*I-y*F,oa=u*L-A*
F,ra=u*O-C*F,sa=y*L-A*I,qa=y*O-C*I,Ca=A*O-C*L,Da=R*ca-S*ea,Ea=R*aa-X*ea;R=R*m-V*ea;var Fa=S*aa-X*ca;S=S*m-V*ca;X=X*m-V*aa;V=ta*X-oa*S+ra*Fa+sa*R-qa*Ea+Ca*Da;if(!V)return null;V=1/V;h[0]=(I*X-L*S+O*Fa)*V;h[1]=(L*R-F*X-O*Ea)*V;h[2]=(F*S-I*R+O*Da)*V;h[3]=(A*S-y*X-C*Fa)*V;h[4]=(u*X-A*R+C*Ea)*V;h[5]=(y*R-u*S-C*Da)*V;h[6]=(ca*Ca-aa*qa+m*sa)*V;h[7]=(aa*ra-ea*Ca-m*oa)*V;h[8]=(ea*qa-ca*ra+m*ta)*V;return h},PX:function(h,m,u){h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/u;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},gn:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},MM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];return h},hn:g,ZM:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;return h},$M:function(h,m,u,y){h[0]=
m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;return h},nk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7];h=h[8];var R=m[0],S=m[1],X=m[2],V=m[3],ea=m[4],ca=m[5],aa=m[6],ta=m[7];m=m[8];return Math.abs(u-R)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(R))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(F-ea)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ea))&&Math.abs(I-ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ca))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ta)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ta))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},qp:k,sub:g}),Rb=Object.freeze({__proto__:null,
create:function(){var h=new pa(16);pa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var m=new pa(16);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=
m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},jg:function(h,m,u,y,A,C,F,I,L,O,R,S,X,V,ea,ca){var aa=new pa(16);aa[0]=h;aa[1]=m;aa[2]=u;aa[3]=y;aa[4]=A;aa[5]=C;aa[6]=F;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=R;aa[11]=S;aa[12]=X;aa[13]=V;aa[14]=ea;aa[15]=ca;return aa},set:function(h,m,u,y,A,C,F,I,L,O,R,S,X,V,ea,ca,aa){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;h[9]=R;h[10]=S;h[11]=X;h[12]=V;h[13]=ea;h[14]=ca;h[15]=aa;return h},gz:l,bY:function(h,
m){if(h===m){var u=m[1],y=m[2],A=m[3],C=m[6],F=m[7],I=m[11];h[1]=m[4];h[2]=m[8];h[3]=m[12];h[4]=u;h[6]=m[9];h[7]=m[13];h[8]=y;h[9]=C;h[11]=m[14];h[12]=A;h[13]=F;h[14]=I}else h[0]=m[0],h[1]=m[4],h[2]=m[8],h[3]=m[12],h[4]=m[1],h[5]=m[5],h[6]=m[9],h[7]=m[13],h[8]=m[2],h[9]=m[6],h[10]=m[10],h[11]=m[14],h[12]=m[3],h[13]=m[7],h[14]=m[11],h[15]=m[15];return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];var ta=
u*I-y*F,oa=u*L-A*F,ra=u*O-C*F,sa=y*L-A*I,qa=y*O-C*I,Ca=A*O-C*L,Da=R*ca-S*ea,Ea=R*aa-X*ea,Fa=R*m-V*ea,Ha=S*aa-X*ca,Ra=S*m-V*ca,Sa=X*m-V*aa,za=ta*Sa-oa*Ra+ra*Ha+sa*Fa-qa*Ea+Ca*Da;if(!za)return null;za=1/za;h[0]=(I*Sa-L*Ra+O*Ha)*za;h[1]=(A*Ra-y*Sa-C*Ha)*za;h[2]=(ca*Ca-aa*qa+m*sa)*za;h[3]=(X*qa-S*Ca-V*sa)*za;h[4]=(L*Fa-F*Sa-O*Ea)*za;h[5]=(u*Sa-A*Fa+C*Ea)*za;h[6]=(aa*ra-ea*Ca-m*oa)*za;h[7]=(R*Ca-X*ra+V*oa)*za;h[8]=(F*Ra-I*Fa+O*Da)*za;h[9]=(y*Fa-u*Ra-C*Da)*za;h[10]=(ea*qa-ca*ra+m*ta)*za;h[11]=(S*ra-R*qa-
V*ta)*za;h[12]=(I*Ea-F*Ha-L*Da)*za;h[13]=(u*Ha-y*Ea+A*Da)*za;h[14]=(ca*oa-ea*sa-aa*ta)*za;h[15]=(R*sa-S*oa+X*ta)*za;return h},hX:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];h[0]=I*(X*m-V*aa)-S*(L*m-O*aa)+ca*(L*V-O*X);h[1]=-(y*(X*m-V*aa)-S*(A*m-C*aa)+ca*(A*V-C*X));h[2]=y*(L*m-O*aa)-I*(A*m-C*aa)+ca*(A*O-C*L);h[3]=-(y*(L*V-O*X)-I*(A*V-C*X)+S*(A*O-C*L));h[4]=-(F*(X*m-V*aa)-R*(L*m-O*aa)+ea*(L*V-O*X));h[5]=u*
(X*m-V*aa)-R*(A*m-C*aa)+ea*(A*V-C*X);h[6]=-(u*(L*m-O*aa)-F*(A*m-C*aa)+ea*(A*O-C*L));h[7]=u*(L*V-O*X)-F*(A*V-C*X)+R*(A*O-C*L);h[8]=F*(S*m-V*ca)-R*(I*m-O*ca)+ea*(I*V-O*S);h[9]=-(u*(S*m-V*ca)-R*(y*m-C*ca)+ea*(y*V-C*S));h[10]=u*(I*m-O*ca)-F*(y*m-C*ca)+ea*(y*O-C*I);h[11]=-(u*(I*V-O*S)-F*(y*V-C*S)+R*(y*O-C*I));h[12]=-(F*(S*aa-X*ca)-R*(I*aa-L*ca)+ea*(I*X-L*S));h[13]=u*(S*aa-X*ca)-R*(y*aa-A*ca)+ea*(y*X-A*S);h[14]=-(u*(I*aa-L*ca)-F*(y*aa-A*ca)+ea*(y*L-A*I));h[15]=u*(I*X-L*S)-F*(y*X-A*S)+R*(y*L-A*I);return h},
JM:function(h){var m=h[0],u=h[1],y=h[2],A=h[3],C=h[4],F=h[5],I=h[6],L=h[7],O=h[8],R=h[9],S=h[10],X=h[11],V=h[12],ea=h[13],ca=h[14];h=h[15];return(m*F-u*C)*(S*h-X*ca)-(m*I-y*C)*(R*h-X*ea)+(m*L-A*C)*(R*ca-S*ea)+(u*I-y*F)*(O*h-X*V)-(u*L-A*F)*(O*ca-S*V)+(y*L-A*I)*(O*ea-R*V)},multiply:n,translate:function(h,m,u){var y=u[0],A=u[1];u=u[2];if(m===h)h[12]=m[0]*y+m[4]*A+m[8]*u+m[12],h[13]=m[1]*y+m[5]*A+m[9]*u+m[13],h[14]=m[2]*y+m[6]*A+m[10]*u+m[14],h[15]=m[3]*y+m[7]*A+m[11]*u+m[15];else{var C=m[0];var F=m[1];
var I=m[2];var L=m[3];var O=m[4];var R=m[5];var S=m[6];var X=m[7];var V=m[8];var ea=m[9];var ca=m[10];var aa=m[11];h[0]=C;h[1]=F;h[2]=I;h[3]=L;h[4]=O;h[5]=R;h[6]=S;h[7]=X;h[8]=V;h[9]=ea;h[10]=ca;h[11]=aa;h[12]=C*y+O*A+V*u+m[12];h[13]=F*y+R*A+ea*u+m[13];h[14]=I*y+S*A+ca*u+m[14];h[15]=L*y+X*A+aa*u+m[15]}return h},scale:function(h,m,u){var y=u[0],A=u[1];u=u[2];h[0]=m[0]*y;h[1]=m[1]*y;h[2]=m[2]*y;h[3]=m[3]*y;h[4]=m[4]*A;h[5]=m[5]*A;h[6]=m[6]*A;h[7]=m[7]*A;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*
u;h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},rotate:function(h,m,u,y){var A=y[0],C=y[1];y=y[2];var F=Math.hypot(A,C,y);if(1E-6>F)return null;F=1/F;A*=F;C*=F;y*=F;var I=Math.sin(u);var L=Math.cos(u);var O=1-L;u=m[0];F=m[1];var R=m[2];var S=m[3];var X=m[4];var V=m[5];var ea=m[6];var ca=m[7];var aa=m[8];var ta=m[9];var oa=m[10];var ra=m[11];var sa=A*A*O+L;var qa=C*A*O+y*I;var Ca=y*A*O-C*I;var Da=A*C*O-y*I;var Ea=C*C*O+L;var Fa=y*C*O+A*I;var Ha=A*y*O+C*I;A=C*y*O-A*I;C=y*y*O+L;h[0]=u*sa+
X*qa+aa*Ca;h[1]=F*sa+V*qa+ta*Ca;h[2]=R*sa+ea*qa+oa*Ca;h[3]=S*sa+ca*qa+ra*Ca;h[4]=u*Da+X*Ea+aa*Fa;h[5]=F*Da+V*Ea+ta*Fa;h[6]=R*Da+ea*Ea+oa*Fa;h[7]=S*Da+ca*Ea+ra*Fa;h[8]=u*Ha+X*A+aa*C;h[9]=F*Ha+V*A+ta*C;h[10]=R*Ha+ea*A+oa*C;h[11]=S*Ha+ca*A+ra*C;m!==h&&(h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h},mN:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var A=m[4],C=m[5],F=m[6],I=m[7],L=m[8],O=m[9],R=m[10],S=m[11];m!==h&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[12]=m[12],h[13]=m[13],h[14]=m[14],
h[15]=m[15]);h[4]=A*u+L*y;h[5]=C*u+O*y;h[6]=F*u+R*y;h[7]=I*u+S*y;h[8]=L*u-A*y;h[9]=O*u-C*y;h[10]=R*u-F*y;h[11]=S*u-I*y;return h},nN:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var A=m[0],C=m[1],F=m[2],I=m[3],L=m[8],O=m[9],R=m[10],S=m[11];m!==h&&(h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*u-L*y;h[1]=C*u-O*y;h[2]=F*u-R*y;h[3]=I*u-S*y;h[8]=A*y+L*u;h[9]=C*y+O*u;h[10]=F*y+R*u;h[11]=I*y+S*u;return h},oN:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);
var A=m[0],C=m[1],F=m[2],I=m[3],L=m[4],O=m[5],R=m[6],S=m[7];m!==h&&(h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*u+L*y;h[1]=C*u+O*y;h[2]=F*u+R*y;h[3]=I*u+S*y;h[4]=L*u-A*y;h[5]=O*u-C*y;h[6]=R*u-F*y;h[7]=S*u-I*y;return h},OM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=m[0];h[13]=m[1];h[14]=m[2];h[15]=1;return h},NM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=m[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},VE:function(h,m,u){var y=u[0],A=u[1];u=u[2];var C=Math.hypot(y,A,u);if(1E-6>C)return null;C=1/C;y*=C;A*=C;u*=C;C=Math.sin(m);m=Math.cos(m);var F=1-m;h[0]=y*y*F+m;h[1]=A*y*F+u*C;h[2]=u*y*F-A*C;h[3]=0;h[4]=y*A*F-u*C;h[5]=A*A*F+m;h[6]=u*A*F+y*C;h[7]=0;h[8]=y*u*F+A*C;h[9]=A*u*F-y*C;h[10]=u*u*F+m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Ura:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=m;h[6]=u;h[7]=0;h[8]=0;h[9]=-u;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Vra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=0;h[2]=-u;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=u;h[9]=0;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Wra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=0;h[4]=-u;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Rga:q,Qra:function(h,m){var u=new pa(3),
y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=y*y+A*A+C*C+F*F;0<S?(u[0]=2*(I*F+R*y+L*C-O*A)/S,u[1]=2*(L*F+R*A+O*y-I*C)/S,u[2]=2*(O*F+R*C+I*A-L*y)/S):(u[0]=2*(I*F+R*y+L*C-O*A),u[1]=2*(L*F+R*A+O*y-I*C),u[2]=2*(O*F+R*C+I*A-L*y));q(h,m,u);return h},Uga:r,gsa:p,fsa:w,Rra:function(h,m,u,y){var A=m[0],C=m[1],F=m[2],I=m[3],L=A+A,O=C+C,R=F+F;m=A*L;var S=A*O;A*=R;var X=C*O;C*=R;F*=R;L*=I;O*=I;I*=R;R=y[0];var V=y[1];y=y[2];h[0]=(1-(X+F))*R;h[1]=(S+I)*R;h[2]=(A-O)*R;h[3]=0;h[4]=(S-I)*V;h[5]=(1-
(m+F))*V;h[6]=(C+L)*V;h[7]=0;h[8]=(A+O)*y;h[9]=(C-L)*y;h[10]=(1-(m+X))*y;h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h},Sra:function(h,m,u,y,A){var C=m[0],F=m[1],I=m[2],L=m[3],O=C+C,R=F+F,S=I+I;m=C*O;var X=C*R,V=C*S;C=F*R;F*=S;var ea=I*S;I=L*O;R*=L;var ca=L*S,aa=y[0],ta=y[1];S=y[2];y=A[0];L=A[1];A=A[2];O=(1-(C+ea))*aa;var oa=(X+ca)*aa;aa*=V-R;X=(X-ca)*ta;ea=(1-(m+ea))*ta;ta*=F+I;V=(V+R)*S;F=(F-I)*S;m=(1-(m+C))*S;h[0]=O;h[1]=oa;h[2]=aa;h[3]=0;h[4]=X;h[5]=ea;h[6]=ta;h[7]=0;h[8]=V;h[9]=F;
h[10]=m;h[11]=0;h[12]=u[0]+y-(O*y+X*L+V*A);h[13]=u[1]+L-(oa*y+ea*L+F*A);h[14]=u[2]+A-(aa*y+ta*L+m*A);h[15]=1;return h},Qga:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u+u,F=y+y,I=A+A;u*=C;var L=y*C;y*=F;var O=A*C,R=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-y-A;h[1]=L+m;h[2]=O-F;h[3]=0;h[4]=L-m;h[5]=1-u-A;h[6]=R+C;h[7]=0;h[8]=O+F;h[9]=R-C;h[10]=1-u-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Sga:function(h,m,u,y,A,C,F){var I=1/(u-m),L=1/(A-y),O=1/(C-F);h[0]=2*C*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*C*L;h[6]=0;h[7]=0;h[8]=(u+m)*I;h[9]=(A+y)*L;h[10]=(F+C)*O;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*C*2*O;h[15]=0;return h},perspective:function(h,m,u,y,A){m=1/Math.tan(m/2);h[0]=m/u;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(u=1/(y-A),h[10]=(A+y)*u,h[14]=2*A*y*u):(h[10]=-1,h[14]=-2*y);return h},hta:function(h,m,u,y){var A=Math.tan(m.kua*Math.PI/180),C=Math.tan(m.Dra*Math.PI/180),F=Math.tan(m.Psa*Math.PI/180);m=Math.tan(m.Dta*Math.PI/
180);var I=2/(F+m),L=2/(A+C);h[0]=I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=L;h[6]=0;h[7]=0;h[8]=-((F-m)*I*.5);h[9]=(A-C)*L*.5;h[10]=y/(u-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*u/(u-y);h[15]=0;return h},zha:function(h,m,u,y,A,C,F){var I=1/(m-u),L=1/(y-A),O=1/(C-F);h[0]=-2*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*L;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*O;h[11]=0;h[12]=(m+u)*I;h[13]=(A+y)*L;h[14]=(F+C)*O;h[15]=1;return h},qha:function(h,m,u,y){var A=m[0],C=m[1];m=m[2];var F=y[0];var I=y[1];var L=y[2];var O=u[0];y=
u[1];var R=u[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(C-y)&&1E-6>Math.abs(m-R))return l(h);u=A-O;y=C-y;O=m-R;var S=1/Math.hypot(u,y,O);u*=S;y*=S;O*=S;R=I*O-L*y;L=L*u-F*O;F=F*y-I*u;(S=Math.hypot(R,L,F))?(S=1/S,R*=S,L*=S,F*=S):F=L=R=0;I=y*F-O*L;var X=O*R-u*F;var V=u*L-y*R;(S=Math.hypot(I,X,V))?(S=1/S,I*=S,X*=S,V*=S):V=X=I=0;h[0]=R;h[1]=I;h[2]=u;h[3]=0;h[4]=L;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=V;h[10]=O;h[11]=0;h[12]=-(R*A+L*C+F*m);h[13]=-(I*A+X*C+V*m);h[14]=-(u*A+y*C+O*m);h[15]=1;return h},$ta:function(h,
m,u,y){var A=m[0],C=m[1];m=m[2];var F=y[0],I=y[1],L=y[2];y=A-u[0];var O=C-u[1];u=m-u[2];var R=y*y+O*O+u*u;0<R&&(R=1/Math.sqrt(R),y*=R,O*=R,u*=R);var S=I*u-L*O;L=L*y-F*u;F=F*O-I*y;R=S*S+L*L+F*F;0<R&&(R=1/Math.sqrt(R),S*=R,L*=R,F*=R);h[0]=S;h[1]=L;h[2]=F;h[3]=0;h[4]=O*F-u*L;h[5]=u*S-y*F;h[6]=y*L-O*S;h[7]=0;h[8]=y;h[9]=O;h[10]=u;h[11]=0;h[12]=A;h[13]=C;h[14]=m;h[15]=1;return h},gn:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},MM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];h[9]=m[9]+u[9];h[10]=m[10]+u[10];h[11]=m[11]+u[11];h[12]=m[12]+u[12];h[13]=m[13]+u[13];h[14]=m[14]+u[14];h[15]=m[15]+u[15];return h},hn:t,ZM:function(h,m,
u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*u;h[12]=m[12]*u;h[13]=m[13]*u;h[14]=m[14]*u;h[15]=m[15]*u;return h},$M:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;h[9]=m[9]+u[9]*y;h[10]=m[10]+u[10]*y;h[11]=m[11]+u[11]*y;h[12]=m[12]+u[12]*y;h[13]=m[13]+u[13]*y;h[14]=m[14]+u[14]*
y;h[15]=m[15]+u[15]*y;return h},nk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]&&h[9]===m[9]&&h[10]===m[10]&&h[11]===m[11]&&h[12]===m[12]&&h[13]===m[13]&&h[14]===m[14]&&h[15]===m[15]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7],R=h[8],S=h[9],X=h[10],V=h[11],ea=h[12],ca=h[13],aa=h[14];h=h[15];var ta=m[0],oa=m[1],ra=m[2],sa=m[3],qa=m[4],Ca=m[5],Da=m[6],Ea=m[7],Fa=m[8],Ha=m[9],
Ra=m[10],Sa=m[11],za=m[12],Ib=m[13],Jb=m[14];m=m[15];return Math.abs(u-ta)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(y-oa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(oa))&&Math.abs(A-ra)<=1E-6*Math.max(1,Math.abs(A),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(F-qa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(qa))&&Math.abs(I-Ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Ca))&&Math.abs(L-Da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Da))&&Math.abs(O-Ea)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Ea))&&Math.abs(R-Fa)<=1E-6*Math.max(1,Math.abs(R),Math.abs(Fa))&&Math.abs(S-Ha)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ha))&&Math.abs(X-Ra)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Ra))&&Math.abs(V-Sa)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Sa))&&Math.abs(ea-za)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(za))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(Ib))&&Math.abs(aa-Jb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Jb))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},
qp:n,sub:t}),ob=function(){var h=v();return function(m,u,y,A,C,F){u||(u=3);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],C(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2];return m}}();ob=Object.freeze({__proto__:null,create:v,clone:function(h){var m=new pa(3);m[0]=h[0];m[1]=h[1];m[2]=h[2];return m},length:x,jg:z,qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];return h},set:function(h,m,u,y){h[0]=m;h[1]=u;h[2]=y;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=
m[1]+u[1];h[2]=m[2]+u[2];return h},hn:D,multiply:E,mk:M,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=
Math.round(m[1]);h[2]=Math.round(m[2]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h},pN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;return h},cz:B,ZX:G,iF:H,HX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];return h},normalize:J,lp:P,IM:Q,nc:function(h,m,u,y){var A=m[0],C=m[1];m=m[2];h[0]=A+y*(u[0]-A);h[1]=C+y*(u[1]-C);h[2]=m+y*(u[2]-m);return h},ksa:function(h,m,u,y,A,C){var F=
C*C,I=F*(2*C-3)+1,L=F*(C-2)+C,O=F*(C-1);C=F*(3-2*C);h[0]=m[0]*I+u[0]*L+y[0]*O+A[0]*C;h[1]=m[1]*I+u[1]*L+y[1]*O+A[1]*C;h[2]=m[2]*I+u[2]*L+y[2]*O+A[2]*C;return h},mra:function(h,m,u,y,A,C){var F=1-C,I=F*F,L=C*C,O=I*F;I*=3*C;F*=3*L;C*=L;h[0]=m[0]*O+u[0]*I+y[0]*F+A[0]*C;h[1]=m[1]*O+u[1]*I+y[1]*F+A[1]*C;h[2]=m[2]*O+u[2]*I+y[2]*F+A[2]*C;return h},random:function(h,m){m=m||1;var u=2*Ja()*Math.PI,y=2*Ja()-1,A=Math.sqrt(1-y*y)*m;h[0]=Math.cos(u)*A;h[1]=Math.sin(u)*A;h[2]=y*m;return h},yN:function(h,m,u){var y=
m[0],A=m[1];m=m[2];var C=u[3]*y+u[7]*A+u[11]*m+u[15];C=C||1;h[0]=(u[0]*y+u[4]*A+u[8]*m+u[12])/C;h[1]=(u[1]*y+u[5]*A+u[9]*m+u[13])/C;h[2]=(u[2]*y+u[6]*A+u[10]*m+u[14])/C;return h},Xha:function(h,m,u){var y=m[0],A=m[1];m=m[2];h[0]=y*u[0]+A*u[3]+m*u[6];h[1]=y*u[1]+A*u[4]+m*u[7];h[2]=y*u[2]+A*u[5]+m*u[8];return h},Yha:function(h,m,u){var y=u[0],A=u[1],C=u[2],F=m[0],I=m[1];m=m[2];var L=A*m-C*I,O=C*F-y*m,R=y*I-A*F;u=2*u[3];h[0]=F+L*u+2*(A*R-C*O);h[1]=I+O*u+2*(C*L-y*R);h[2]=m+R*u+2*(y*O-A*L);return h},mN:function(h,
m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=m[2]-u[2];C[0]=A[0];C[1]=A[1]*Math.cos(y)-A[2]*Math.sin(y);C[2]=A[1]*Math.sin(y)+A[2]*Math.cos(y);h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},nN:function(h,m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=m[2]-u[2];C[0]=A[2]*Math.sin(y)+A[0]*Math.cos(y);C[1]=A[1];C[2]=A[2]*Math.cos(y)-A[0]*Math.sin(y);h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},oN:function(h,m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=
m[2]-u[2];C[0]=A[0]*Math.cos(y)-A[1]*Math.sin(y);C[1]=A[0]*Math.sin(y)+A[1]*Math.cos(y);C[2]=A[2];h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},angle:function(h,m){var u=h[0],y=h[1],A=h[2],C=m[0],F=m[1],I=m[2];h=(u=Math.sqrt(u*u+y*y+A*A)*Math.sqrt(C*C+F*F+I*I))&&P(h,m)/u;return Math.acos(Math.min(Math.max(h,-1),1))},lY:function(h){h[0]=0;h[1]=0;h[2]=0;return h},gn:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},nk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]},fd:function(h,
m){var u=h[0],y=h[1];h=h[2];var A=m[0],C=m[1];m=m[2];return Math.abs(u-A)<=1E-6*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(y-C)<=1E-6*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},sub:D,qp:E,uX:M,sX:B,YX:G,jz:x,hF:H,forEach:ob});var pb=function(){var h=T();return function(m,u,y,A,C,F){u||(u=4);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],h[3]=m[y+3],C(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2],m[y+3]=
h[3];return m}}();pb=Object.freeze({__proto__:null,create:T,clone:W,jg:Z,qa:Y,set:fa,add:ja,hn:xa,multiply:Ka,mk:Ta,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);h[3]=Math.ceil(m[3]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);h[3]=Math.floor(m[3]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);h[3]=Math.min(m[3],u[3]);return h},max:function(h,m,u){h[0]=
Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);h[3]=Math.max(m[3],u[3]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);h[2]=Math.round(m[2]);h[3]=Math.round(m[3]);return h},scale:Pa,pN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},cz:Ua,ZX:db,length:Qa,iF:La,HX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=-m[3];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];h[3]=1/m[3];return h},
normalize:Ya,lp:Va,IM:function(h,m,u,y){var A=u[0]*y[1]-u[1]*y[0],C=u[0]*y[2]-u[2]*y[0],F=u[0]*y[3]-u[3]*y[0],I=u[1]*y[2]-u[2]*y[1],L=u[1]*y[3]-u[3]*y[1];u=u[2]*y[3]-u[3]*y[2];y=m[0];var O=m[1],R=m[2];m=m[3];h[0]=O*u-R*L+m*I;h[1]=-(y*u)+R*F-m*C;h[2]=y*L-O*F+m*A;h[3]=-(y*I)+O*C-R*A;return h},nc:gb,random:function(h,m){m=m||1;do{var u=2*Ja()-1;var y=2*Ja()-1;var A=u*u+y*y}while(1<=A);do{var C=2*Ja()-1;var F=2*Ja()-1;var I=C*C+F*F}while(1<=I);A=Math.sqrt((1-A)/I);h[0]=m*u;h[1]=m*y;h[2]=m*C*A;h[3]=m*
F*A;return h},yN:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];h[0]=u[0]*y+u[4]*A+u[8]*C+u[12]*m;h[1]=u[1]*y+u[5]*A+u[9]*C+u[13]*m;h[2]=u[2]*y+u[6]*A+u[10]*C+u[14]*m;h[3]=u[3]*y+u[7]*A+u[11]*C+u[15]*m;return h},Yha:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=u[0],I=u[1],L=u[2];u=u[3];var O=u*y+I*C-L*A,R=u*A+L*y-F*C,S=u*C+F*A-I*y;y=-F*y-I*A-L*C;h[0]=O*u+y*-F+R*-L-S*-I;h[1]=R*u+y*-I+S*-F-O*-L;h[2]=S*u+y*-L+O*-I-R*-F;h[3]=m[3];return h},lY:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},gn:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},nk:ub,fd:vb,sub:xa,qp:Ka,uX:Ta,sX:Ua,YX:db,jz:Qa,hF:La,forEach:pb});var qb=function(){var h=v(),m=z(1,0,0),u=z(0,1,0);return function(y,A,C){var F=P(A,C);if(-.999999>F)return Q(h,m,A),1E-6>x(h)&&Q(h,u,A),J(h,h),wb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;Q(h,A,C);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return Ya(y,y)}}(),rb=function(){var h=hb(),m=hb();return function(u,y,A,C,F,I){ib(h,y,F,I);ib(m,A,C,I);ib(u,h,m,2*I*(1-I));return u}}(),
eb=function(){var h=e();return function(m,u,y,A){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-u[0];h[5]=-u[1];h[8]=-u[2];return Ya(m,Db(m,h))}}();qb=Object.freeze({__proto__:null,create:hb,gz:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},Rta:wb,csa:function(h,m){var u=2*Math.acos(m[3]),y=Math.sin(u/2);1E-6<y?(h[0]=m[0]/y,h[1]=m[1]/y,h[2]=m[2]/y):(h[0]=1,h[1]=0,h[2]=0);return u},asa:function(h,m){h=Va(h,m);return Math.acos(2*h*h-1)},multiply:xb,mN:yb,nN:zb,oN:Ab,ora:function(h,
m){var u=m[0],y=m[1];m=m[2];h[0]=u;h[1]=y;h[2]=m;h[3]=Math.sqrt(Math.abs(1-u*u-y*y-m*m));return h},exp:Bb,pha:Cb,pow:function(h,m,u){Cb(h,m);Pa(h,h,u);Bb(h,h);return h},Wta:ib,random:function(h){var m=Ja(),u=Ja(),y=Ja(),A=Math.sqrt(1-m);m=Math.sqrt(m);h[0]=A*Math.sin(2*Math.PI*u);h[1]=A*Math.cos(2*Math.PI*u);h[2]=m*Math.sin(2*Math.PI*y);h[3]=m*Math.cos(2*Math.PI*y);return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*u+y*y+A*A+m*m;C=C?1/C:0;h[0]=-u*C;h[1]=-y*C;h[2]=-A*C;h[3]=m*C;return h},
Bga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];return h},Pra:Db,Nra:function(h,m,u,y){var A=.5*Math.PI/180;m*=A;u*=A;y*=A;A=Math.sin(m);m=Math.cos(m);var C=Math.sin(u);u=Math.cos(u);var F=Math.sin(y);y=Math.cos(y);h[0]=A*u*y-m*C*F;h[1]=m*C*y+A*u*F;h[2]=m*u*F-A*C*y;h[3]=m*u*y+A*C*F;return h},gn:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:W,jg:Z,qa:Y,set:fa,add:ja,qp:xb,scale:Pa,lp:Va,nc:gb,length:Qa,jz:Qa,iF:La,hF:La,normalize:Ya,nk:ub,fd:vb,Hta:qb,Xta:rb,
Qta:eb});rb=Object.freeze({__proto__:null,create:function(){var h=new pa(8);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var m=new pa(8);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];return m},jg:function(h,m,u,y,A,C,F,I){var L=new pa(8);L[0]=h;L[1]=m;L[2]=u;L[3]=y;L[4]=A;L[5]=C;L[6]=F;L[7]=I;return L},Tra:function(h,m,u,y,A,C,F){var I=new pa(8);I[0]=h;I[1]=m;I[2]=u;I[3]=y;A*=.5;C*=.5;F*=.5;I[4]=A*y+C*u-F*
m;I[5]=C*y+F*h-A*u;I[6]=F*y+A*m-C*h;I[7]=-A*h-C*m-F*u;return I},Rga:Eb,OM:function(h,m){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*m[0];h[5]=.5*m[1];h[6]=.5*m[2];h[7]=0;return h},VE:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},Pga:function(h,m){var u=hb();w(u,m);var y=new pa(3);r(y,m);Eb(h,u,y);return h},qa:Fb,gz:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,m,u,y,A,C,F,I,L){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=
F;h[6]=I;h[7]=L;return h},esa:Y,dsa:function(h,m){h[0]=m[4];h[1]=m[5];h[2]=m[6];h[3]=m[7];return h},Uta:Y,Sta:function(h,m){h[4]=m[0];h[5]=m[1];h[6]=m[2];h[7]=m[3];return h},Uga:function(h,m){var u=m[4],y=m[5],A=m[6],C=m[7],F=-m[0],I=-m[1],L=-m[2];m=m[3];h[0]=2*(u*m+C*F+y*L-A*I);h[1]=2*(y*m+C*I+A*F-u*L);h[2]=2*(A*m+C*L+u*I-y*F);return h},translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=.5*u[0],L=.5*u[1];u=.5*u[2];var O=m[4],R=m[5],S=m[6];m=m[7];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=F*I+A*u-
C*L+O;h[5]=F*L+C*I-y*u+R;h[6]=F*u+y*L-A*I+S;h[7]=-y*I-A*L-C*u+m;return h},mN:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-I*y-L*A-O*C;yb(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},nN:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-
I*y-L*A-O*C;zb(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},oN:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-I*y-L*A-O*C;Ab(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},Fta:function(h,m,u){var y=u[0],A=u[1],C=u[2];u=u[3];var F=m[0],I=m[1],L=
m[2],O=m[3];h[0]=F*u+O*y+I*C-L*A;h[1]=I*u+O*A+L*y-F*C;h[2]=L*u+O*C+F*A-I*y;h[3]=O*u-F*y-I*A-L*C;F=m[4];I=m[5];L=m[6];O=m[7];h[4]=F*u+O*y+I*C-L*A;h[5]=I*u+O*A+L*y-F*C;h[6]=L*u+O*C+F*A-I*y;h[7]=O*u-F*y-I*A-L*C;return h},Gta:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2],O=u[3];h[0]=y*O+m*F+A*L-C*I;h[1]=A*O+m*I+C*F-y*L;h[2]=C*O+m*L+y*I-A*F;h[3]=m*O-y*F-A*I-C*L;F=u[4];I=u[5];L=u[6];O=u[7];h[4]=y*O+m*F+A*L-C*I;h[5]=A*O+m*I+C*F-y*L;h[6]=C*O+m*L+y*I-A*F;h[7]=m*O-y*F-A*I-C*L;return h},
Eta:function(h,m,u,y){if(1E-6>Math.abs(y))return Fb(h,m);var A=Math.hypot(u[0],u[1],u[2]);y*=.5;var C=Math.sin(y),F=C*u[0]/A,I=C*u[1]/A;u=C*u[2]/A;y=Math.cos(y);A=m[0];C=m[1];var L=m[2],O=m[3];h[0]=A*y+O*F+C*u-L*I;h[1]=C*y+O*I+L*F-A*u;h[2]=L*y+O*u+A*I-C*F;h[3]=O*y-A*F-C*I-L*u;A=m[4];C=m[5];L=m[6];m=m[7];h[4]=A*y+m*F+C*u-L*I;h[5]=C*y+m*I+L*F-A*u;h[6]=L*y+m*u+A*I-C*F;h[7]=m*y-A*F-C*I-L*u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+
u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];return h},multiply:Gb,qp:Gb,scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;return h},lp:Va,nc:function(h,m,u,y){var A=1-y;0>Va(m,u)&&(y=-y);h[0]=m[0]*A+u[0]*y;h[1]=m[1]*A+u[1]*y;h[2]=m[2]*A+u[2]*y;h[3]=m[3]*A+u[3]*y;h[4]=m[4]*A+u[4]*y;h[5]=m[5]*A+u[5]*y;h[6]=m[6]*A+u[6]*y;h[7]=m[7]*A+u[7]*y;return h},Hu:function(h,m){var u=La(m);h[0]=-m[0]/u;h[1]=-m[1]/u;h[2]=-m[2]/u;h[3]=m[3]/u;h[4]=-m[4]/u;
h[5]=-m[5]/u;h[6]=-m[6]/u;h[7]=m[7]/u;return h},Bga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];h[4]=-m[4];h[5]=-m[5];h[6]=-m[6];h[7]=m[7];return h},length:Qa,jz:Qa,iF:La,hF:La,normalize:function(h,m){var u=La(m);if(0<u){u=Math.sqrt(u);var y=m[0]/u,A=m[1]/u,C=m[2]/u,F=m[3]/u,I=m[4],L=m[5],O=m[6];m=m[7];var R=y*I+A*L+C*O+F*m;h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=(I-y*R)/u;h[5]=(L-A*R)/u;h[6]=(O-C*R)/u;h[7]=(m-F*R)/u}return h},gn:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},nk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6];h=h[7];var O=m[0],R=m[1],S=m[2],X=m[3],V=m[4],ea=m[5],ca=m[6];m=m[7];return Math.abs(u-O)<=1E-6*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(y-R)<=1E-6*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(A-S)<=1E-6*Math.max(1,Math.abs(A),Math.abs(S))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(F-V)<=1E-6*Math.max(1,Math.abs(F),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(L-ca)<=1E-6*Math.max(1,Math.abs(L),Math.abs(ca))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}});eb=function(){var h=jb();return function(m,u,y,A,C,F){u||(u=2);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],C(h,h,F),m[y]=h[0],m[y+1]=h[1];return m}}();eb=Object.freeze({__proto__:null,
create:jb,clone:function(h){var m=new pa(2);m[0]=h[0];m[1]=h[1];return m},jg:function(h,m){var u=new pa(2);u[0]=h;u[1]=m;return u},qa:function(h,m){h[0]=m[0];h[1]=m[1];return h},set:function(h,m,u){h[0]=m;h[1]=u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];return h},hn:Wa,multiply:kb,mk:lb,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=
Math.min(m[1],u[1]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;return h},pN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;return h},cz:Za,ZX:mb,length:Na,iF:nb,HX:function(h,m){h[0]=-m[0];h[1]=-m[1];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];return h},normalize:function(h,m){var u=m[0],y=m[1];u=u*u+y*y;0<u&&(u=1/Math.sqrt(u));
h[0]=m[0]*u;h[1]=m[1]*u;return h},lp:function(h,m){return h[0]*m[0]+h[1]*m[1]},IM:function(h,m,u){m=m[0]*u[1]-m[1]*u[0];h[0]=h[1]=0;h[2]=m;return h},nc:function(h,m,u,y){var A=m[0];m=m[1];h[0]=A+y*(u[0]-A);h[1]=m+y*(u[1]-m);return h},random:function(h,m){m=m||1;var u=2*Ja()*Math.PI;h[0]=Math.cos(u)*m;h[1]=Math.sin(u)*m;return h},hua:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m;h[1]=u[1]*y+u[3]*m;return h},iua:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m+u[4];h[1]=u[1]*y+u[3]*m+u[5];
return h},Xha:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[3]*m+u[6];h[1]=u[1]*y+u[4]*m+u[7];return h},yN:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[4]*m+u[12];h[1]=u[1]*y+u[5]*m+u[13];return h},rotate:function(h,m,u,y){var A=m[0]-u[0];m=m[1]-u[1];var C=Math.sin(y);y=Math.cos(y);h[0]=A*y-m*C+u[0];h[1]=A*C+m*y+u[1];return h},angle:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];var A=Math.sqrt(u*u+h*h)*Math.sqrt(y*y+m*m);return Math.acos(Math.min(Math.max(A&&(u*y+h*m)/A,-1),1))},lY:function(h){h[0]=
0;h[1]=0;return h},gn:function(h){return"vec2("+h[0]+", "+h[1]+")"},nk:function(h,m){return h[0]===m[0]&&h[1]===m[1]},fd:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];return Math.abs(u-y)<=1E-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},jz:Na,sub:Wa,qp:kb,uX:lb,sX:Za,YX:mb,hF:nb,forEach:eb});d.rl=Nb;d.Usa=Ob;d.Vsa=Pb;d.Wsa=Qb;d.np=Rb;d.ota=qb;d.pta=rb;d.pua=eb;d.mF=ob;d.yz=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.gra?define(["exports"],$a):(Xa=Xa||self,$a(Xa.rl={}));
{"use strict";function d(t,v,x,z){var D=v[0]-t[0];v=v[1]-t[1];var E=z[0]-x[0],M=z[1]-x[1];if(0===E*v-M*D)return!1;z=(D*(x[1]-t[1])+v*(t[0]-x[0]))/(E*v-M*D);t=(E*(t[1]-x[1])+M*(x[0]-t[0]))/(M*D-E*v);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,v,x){return(v[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(v[1]-t[1])}function b(t,v,x){return 0<a(t,v,x)}function f(t,v,x){return 0<=a(t,v,x)}function c(t,v,x){return 0>=a(t,v,x)}var ab=[],bb=[];function e(t,v){var x=v[0]-t[0];t=v[1]-t[1];return x*x+t*t}function k(t,v){var x=
t.length;return t[0>v?v%x+x:v%x]}function g(t,v,x,z){for(;x<z;x++)t.push(v[x])}function l(t,v){var x=k(t,v-1),z=k(t,v);t=k(t,v+1);return 0>a(x,z,t)}var cb=[],sb=[];function n(t,v,x,z){z=z||[];z.length=0;if(v<x)for(var D=v;D<=x;D++)z.push(t[D]);else{for(D=0;D<=x;D++)z.push(t[D]);for(D=v;D<t.length;D++)z.push(t[D])}return z}function q(t){for(var v=[],x,z,D=[],E=Number.MAX_VALUE,M=0;M<t.length;++M)if(l(t,M))for(var B=0;B<t.length;++B){a:{z=t;var G=M,H=B;if(f(k(z,G+1),k(z,G),k(z,H))&&c(k(z,G-1),k(z,G),
k(z,H)))x=!1;else{x=e(k(z,G),k(z,H));for(var J=0;J!==z.length;++J)if((J+1)%z.length!==G&&J!==G&&f(k(z,G),k(z,H),k(z,J+1))&&c(k(z,G),k(z,H),k(z,J))){cb[0]=k(z,G);cb[1]=k(z,H);sb[0]=k(z,J);sb[1]=k(z,J+1);var P=[0,0];var Q=cb[1][1]-cb[0][1];var T=cb[0][0]-cb[1][0];var W=Q*cb[0][0]+T*cb[0][1];var Z=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var fa=Z*sb[0][0]+Y*sb[0][1];var ja=Q*Y-Z*T;0>=Math.abs(ja-0)||(P[0]=(Y*W-T*fa)/ja,P[1]=(Q*fa-Z*W)/ja);ja=P;if(e(k(z,G),ja)<x){x=!1;break a}}x=!0}}if(x){x=q(n(t,M,
B,D));z=q(n(t,B,M,D));for(G=0;G<z.length;G++)x.push(z[G]);x.length<E&&(v=x,E=x.length,v.push([k(t,M),k(t,B)]))}}return v}function r(t,v){if(0===v.length)return[t];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){t=[t];for(var x=0;x<v.length;x++)for(var z=v[x],D=0;D<t.length;D++){var E=r(t[D],z);if(E){t.splice(D,1);t.push(E[0],E[1]);break}}return t}z=v;x=t.indexOf(z[0]);D=t.indexOf(z[1]);return-1!==x&&-1!==D?[n(t,x,D),n(t,D,x)]:!1}function p(t,v,x,z,
D){var E=v[1]-t[1];v=t[0]-v[0];t=E*t[0]+v*t[1];var M=z[1]-x[1];z=x[0]-z[0];x=M*x[0]+z*x[1];var B=E*z-M*v;return Math.abs(B-0)<=(D||0)?[0,0]:[(z*t-v*x)/B,(E*x-M*t)/B]}function w(t,v,x,z,D,E,M){E=E||100;M=M||0;D=D||25;v="undefined"!==typeof v?v:[];x=x||[];z=z||[];var B=[0,0],G=[0,0],H=[0,0],J,P=0,Q=0,T=0,W=[],Z=[];if(3>t.length)return v;M++;if(M>E)return console.warn("quickDecomp: max level ("+E+") reached."),v;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var fa=J=Number.MAX_VALUE;for(var ja=
0;ja<t.length;++ja){if(b(k(t,Y-1),k(t,Y),k(t,ja))&&c(k(t,Y-1),k(t,Y),k(t,ja-1))){H=p(k(t,Y-1),k(t,Y),k(t,ja),k(t,ja-1));var xa=k(t,Y+1);var Ka=k(t,Y);0>a(xa,Ka,H)&&(xa=e(t[Y],H),xa<J&&(J=xa,G=H,Q=ja))}b(k(t,Y+1),k(t,Y),k(t,ja+1))&&c(k(t,Y+1),k(t,Y),k(t,ja))&&(H=p(k(t,Y+1),k(t,Y),k(t,ja),k(t,ja+1)),b(k(t,Y-1),k(t,Y),H)&&(xa=e(t[Y],H),xa<fa&&(fa=xa,B=H,P=ja)))}if(Q===(P+1)%t.length)H[0]=(G[0]+B[0])/2,H[1]=(G[1]+B[1])/2,z.push(H),Y<P?(g(W,t,Y,P+1),W.push(H),Z.push(H),0!==Q&&g(Z,t,Q,t.length),g(Z,t,0,
Y+1)):(0!==Y&&g(W,t,Y,t.length),g(W,t,0,P+1),W.push(H),Z.push(H),g(Z,t,Q,Y+1));else{Q>P&&(P+=t.length);B=Number.MAX_VALUE;if(P<Q)return v;for(ja=Q;ja<=P;++ja)if(f(k(t,Y-1),k(t,Y),k(t,ja))&&c(k(t,Y+1),k(t,Y),k(t,ja))){xa=e(k(t,Y),k(t,ja));if(Q=xa<B)a:{Q=t;G=Y;H=ja;for(fa=0;fa!==Q.length;++fa)if(fa!==G&&fa!==H&&(fa+1)%Q.length!==G&&(fa+1)%Q.length!==H&&d(k(Q,G),k(Q,H),k(Q,fa),k(Q,fa+1))){Q=!1;break a}Q=!0}Q&&(B=xa,T=ja%t.length)}Y<T?(g(W,t,Y,T+1),0!==T&&g(Z,t,T,t.length),g(Z,t,0,Y+1)):(0!==Y&&g(W,t,
Y,t.length),g(W,t,0,T+1),g(Z,t,T,Y+1))}W.length<Z.length?(w(W,v,x,z,D,E,M),w(Z,v,x,z,D,E,M)):(w(Z,v,x,z,D,E,M),w(W,v,x,z,D,E,M));return v}v.push(t);return v}self.kta={Bra:function(t){var v=q(t);return 0<v.length?r(t,v):[t]},qta:w,vsa:function(t){var v;for(v=0;v<t.length-1;v++)for(var x=0;x<v-1;x++)if(d(t[v],t[v+1],t[x],t[x+1]))return!1;for(v=1;v<t.length-2;v++)if(d(t[0],t[t.length-1],t[v],t[v+1]))return!1;return!0},vta:function(t,v){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var D=k(t,z-1);var E=
k(t,z),M=k(t,z+1),B=v;B?(ab[0]=E[0]-D[0],ab[1]=E[1]-D[1],bb[0]=M[0]-E[0],bb[1]=M[1]-E[1],D=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<B):D=0===a(D,E,M);D&&(t.splice(z%t.length,1),x++)}return x},wta:function(t,v){for(var x=t.length-1;1<=x;--x)for(var z=t[x],D=x-1;0<=D;--D){var E=z,M=t[D],B=v;Math.abs(E[0]-M[0])<=(B||0)&&Math.abs(E[1]-M[1])<=(B||0)&&t.splice(x,1)}},Tsa:function(t){for(var v=0,x=1;x<t.length;++x)if(t[x][1]<t[v][1]||t[x][1]===
t[v][1]&&t[x][0]>t[v][0])v=x;if(b(k(t,v-1),k(t,v),k(t,v+1)))return!1;v=[];x=t.length;for(var z=0;z!==x;z++)v.push(t.pop());for(z=0;z!==x;z++)t[z]=v[z];return!0}}}{"use strict";const d=self.j=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Iu=!1;d.UM=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Sg={}}
{"use strict";const d=self.j;d.yQ=class{constructor(a){this.Vfa=a;this.La=new Map;this.aca()}aca(){var a=this.Vfa;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.bca(b)}bca(a){if(a)if(a.includes("=")){var b=a.indexOf("="),f=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.La.set(f,a)}else this.La.set(a,null)}BA(a){return this.La.has(a)}ea(a){a=this.La.get(a);return"undefined"===typeof a?null:a}};d.zQ=new d.yQ(location.search);
d.Ola=new d.yQ(location.hash);d.zQ.ea("mode")}
{"use strict";const d=self.j,a=navigator.userAgent;let b={oha:/linux|openbsd|freebsd|netbsd/i.test(a),yga:/CrOS/.test(a),nF:/trident|iemobile|msie|tizen/i.test(a),$ra:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),jX:/bb10/i.test(a),Oga:/edge\//i.test(a),dY:/trident/i.test(a),webkit:/webkit/i.test(a),Mha:/safari\//i.test(a),xga:/chrome\//i.test(a),zga:/chromium\//i.test(a),Cga:/crosswalk|xwalk/i.test(a),bta:/nwjs/i.test(a),nga:/amazonwebappplatform/i.test(a),cia:/wv\)/.test(a),oga:/android/i.test(a),
wha:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Kb=/android\s+[0-9.]+/i.exec(a),Lb=/OPR\/[0-9.]+/.exec(a),Mb=/tizen\s+[0-9.]+/i.exec(a),Sb=/iphone\s+os\s+[0-9_]+/i.exec(a),Tb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Ub=/windows\s+phone\s+[0-9.]+/i.exec(a),Vb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Wb=/chrome\/[0-9.]+/i.exec(a),Xb=/chromium\/[0-9.]+/i.exec(a),Yb=/nwjs\/[0-9.]+/i.exec(a),Zb=/firefox\/[0-9.]+/i.exec(a),$b=/msie\s+[0-9.]+/i.exec(a),ac=/edge\/[0-9.]+/i.exec(a),
bc=/edg\/[0-9.]+/i.exec(a),cc=/silk\/[0-9.]+/i.exec(a);let f="(unknown)",c="(unknown)",e="(unknown)",k="(unknown)",g="(unknown)",l="browser",n=!1,q=!1,r=new Map;function p(t,v,x){!0===v?(x(),r.set(t,!0)):v&&v.length&&(x(v[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{f="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{f="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",b.oha,()=>{f="Linux"});p("isChromeOS",b.yga,()=>{f="Chrome OS"});p("isAndroid",!b.nF&&Kb,t=>{f="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Mb,t=>{f="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!b.nF&&Sb,t=>{f="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!b.nF&&Tb,t=>{f="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Ub,t=>{f="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Vb,t=>{f="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",b.jX,()=>{f="Blackberry";c="10";e="stock";g="webkit"});p("isChrome",!b.Oga&&!b.opera&&Wb,t=>{e="Chrome";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Lb,t=>{e="Opera";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Xb,t=>{g=e="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",Zb,t=>{e="Firefox";g="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",$b,
t=>{e="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==e&&b.dY,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(e="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",ac,t=>{g=e="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",bc,t=>{e="Edge";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",b.Mha&&!b.wha&&!b.xga&&!b.zga&&!b.Zra&&!b.jX,()=>{e="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
x=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);v&&v.length&&(e="Chrome for iOS",(v=v[0].split("/")[1])&&(k=v));x&&x.length&&(e="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",cc,t=>{e="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",b.Cga,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Yb,t=>{l="nwjs";e="NW.js";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",b.nga,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===e&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>e="stock");p("isAndroidWebview","Chrome"===e&&"browser"===l&&b.cia,()=>l="webview");p("isFirefoxOS","Firefox"===e&&"(unknown)"===f,()=>f="Firefox OS");p("isAndroidFallback","(unknown)"===f&&!b.nF&&b.oga,()=>f="Android");p("isTridentFallback",
"(unknown)"===f&&b.dY,()=>g="Trident");p("isWebkitFallback","(unknown)"===f&&b.webkit,()=>g="WebKit");p("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===l,()=>n=!0);q="nwjs"===l;const w="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(f="iOS",c=k,q=n=!1);d.Hd={Cs:f,lma:c,wF:e,Sia:k,xF:parseFloat(k),Ez:g,CF:l,Pka:n,QG:!n,Qka:q,Lka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Hka:"Mac OS X"===f||"iOS"===f,Wka:w,$ka:"Linux"===f}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(w){return new Promise((t,v)=>{w.onsuccess=()=>t(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((t,v)=>{w.oncomplete=()=>t();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function e(w,t){return g(w,t)}function k(w,t){return g(w,t,!0)}async function g(w,t,v=!1,
x=!0){const z=await l(w);try{const D=z.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return t(D)}catch(D){if(x&&"InvalidStateError"===D.name)return d.delete(w),g(w,t,v,!1);throw D;}}function l(w){q(w);let t=d.get(w);t instanceof Promise||(t=n(w),d.set(w,t),t.catch(()=>d.delete(w)));return t}async function n(w){q(w);const t=indexedDB.open(w,2);t.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${w}`,
x)}});return f(t)}function q(w){if("string"!==typeof w)throw new TypeError("expected string");}function r(w,t){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];v.onsuccess=D=>{if(D=D.target.result){switch(t){case "entries":z.push([D.key,D.value]);break;case "keys":z.push(D.key);break;case "values":z.push(D.value)}D.continue()}else x(z)}})}class p{constructor(w){q(w);this.name=w}async ready(){await l(this.name)}set(w,t){q(w);return k(this.name,async v=>{var x=v.objectStore("keyvaluepairs").put(t,
w);x=f(x);v=c(v);await Promise.all([v,x])})}get(w){q(w);return e(this.name,async t=>{var v=t.objectStore("keyvaluepairs").get(w);v=f(v);t=c(t);[,t]=await Promise.all([t,v]);return t})}delete(w){q(w);return k(this.name,async t=>{var v=t.objectStore("keyvaluepairs").delete(w);v=f(v);t=c(t);await Promise.all([t,v])})}clear(){return k(this.name,async w=>{var t=w.objectStore("keyvaluepairs").clear();t=f(t);w=c(w);await Promise.all([w,t])})}keys(){return e(this.name,async w=>{if(b){var t=w.objectStore("keyvaluepairs").getAllKeys();
t=f(t)}else t=r(w,"keys");w=c(w);[,w]=await Promise.all([w,t]);return w})}values(){return e(this.name,async w=>{if(a){var t=w.objectStore("keyvaluepairs").getAll();t=f(t)}else t=r(w,"values");w=c(w);[,w]=await Promise.all([w,t]);return w})}entries(){return e(this.name,async w=>{var t=r(w,"entries");w=c(w);[,t]=await Promise.all([w,t]);return t})}}self.N3=p}"use strict";
{const d=self.N3,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function e(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(n=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>n(p.data);q.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.L=l;b.set(this,new Map)}Gw(l){if(!f)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);f=!0;break}}async pV(l){l=
b.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async LW(l,n){n=await k(n);b.get(this).set(l,n)}GW(l){b.get(this).delete(l)}RU(){b.get(this).clear()}UV(){return Array.from(b.get(this).keys())}async getItem(l,n){e(n);if(f)return await this.pV(l);let q;try{q=await this.L.get(l)}catch(r){this.Gw(r);if(f)return await this.pV(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,n,q){e(q);"undefined"===
typeof n&&(n=null);if(f)await this.LW(l,n);else try{await this.L.set(l,n)}catch(r){if(this.Gw(r),f)await this.LW(l,n);else throw r;}}async removeItem(l,n){e(n);if(f)this.GW(l);else try{await this.L.delete(l)}catch(q){this.Gw(q),f?this.GW(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){e(l);if(f)this.RU();else try{await this.L.clear()}catch(n){this.Gw(n),f?this.RU():console.error("Error clearing storage: ",n)}}async keys(l){e(l);if(f)return this.UV();l=[];try{l=await this.L.keys()}catch(n){this.Gw(n);
if(f)return this.UV();console.error("Error getting storage keys: ",n)}return l}ready(l){e(l);return f?Promise.resolve(!0):this.L.ready()}HM(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.j;d.Yb={};d.Yb.Lqa=(()=>{try{if("Safari"===d.Hd.wF||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Yb.Lja="undefined"!==typeof HTMLDialogElement;d.Yb.sna=!!self.requestIdleCallback;d.Yb.ImageBitmap=!!self.createImageBitmap;d.Yb.ImageBitmapOptions=!1;if(d.Yb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Yb.ImageBitmapOptions=!0}).catch(()=>{d.Yb.ImageBitmapOptions=!1})}catch(a){d.Yb.ImageBitmapOptions=!1}d.Yb.cja=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Hd.wF);d.Yb.Gma=!(!navigator.permissions||!navigator.permissions.query);d.Yb.wQ="undefined"!==typeof Proxy;d.Yb.Mja="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Yb.Gz="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Yb.Sja="function"===typeof fetch;d.Yb.Ima=!!(self.isSecureContext&&"Opera"!==d.Hd.wF&&navigator.storage&&navigator.storage.persist);d.Yb.Ypa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var dc;if("undefined"===typeof document||"iOS"===d.Hd.Cs)dc=!1;else{var ec=document.documentElement;dc=!!(ec.requestFullscreen||ec.msRequestFullscreen||ec.mozRequestFullScreen||ec.webkitRequestFullscreen)}d.Yb.cka=dc;d.Yb.tka="undefined"!==typeof self.ImageDecoder;d.Yb.gma=!!self.showOpenFilePicker;
d.Yb.hma=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.j;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.lv(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,f){return b.reduce((c,e)=>{0<f&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,f-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.$e||(Array.prototype.$e=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.$e||(String.prototype.$e=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,
c)=>a({usage:f,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.j;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.$z())}}
{"use strict";const d=self.j,a=self.Sg;d.Fn=function(f){return"number"===typeof f};d.Cn=function(f){return d.Fn(f)&&isFinite(f)};d.ug=function(f){if(!d.Fn(f))throw new TypeError("expected number");};d.KQ=function(){};d.Ona=function(f,c,e){if(!d.Fn(f)||isNaN(f)||c>f||e<f)throw new RangeError("number outside of range");};d.Ana=function(...f){for(let c of f);};d.hj=function(f){if(!d.Cn(f))throw new TypeError("expected finite number");};d.HQ=function(){};d.xna=function(...f){for(let c of f);};d.ej=function(f){return"string"===
typeof f};d.qe=function(f){if(!d.ej(f))throw new TypeError("expected string");};d.MQ=function(){};d.Cna=function(...f){for(let c of f);};d.LP=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.aoa=function(f){if(!d.LP(f))throw new TypeError("expected simple object");};d.Yna=function(f){if(!d.Je(f)&&!d.LP(f))throw new TypeError("expected simple object");};d.KP=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.FQ=function(f){if(!d.KP(f))throw new TypeError("expected object");
};d.LQ=function(){};d.Bna=function(...f){for(let c of f);};d.IG=function(f){return d.Dn(f,Blob)&&"string"===typeof f.name};d.Mna=function(f){if(!d.IG(f))throw new TypeError("expected file");};d.Wna=function(){};d.Kp=function(f){return Array.isArray(f)};d.kH=function(f){if(!d.Kp(f))throw new TypeError("expected array");};d.GQ=function(){};d.wna=function(...f){for(let c of f);};d.l3=function(f){return d.Kp(f)?f.length?d.Kp(f[0])?!0:!1:!0:!1};d.vna=function(f){if(!d.l3(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.Kp(c))throw new TypeError("expected 2d array");};d.Pna=function(){};d.JG=function(f){return"function"===typeof f};d.Gk=function(f,c){if(!d.JG(f))throw new TypeError("expected function");if(!d.Je(c)&&f!==c)throw new TypeError("expected same function reference");};d.IQ=function(){};d.yna=function(...f){for(let c of f);};d.Ena=function(f,...c){if(!d.JG(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let e of c)if(!d.Je(e)&&
f===e)return;throw new TypeError("expected same function reference");};d.Qna=function(...f){if(!d.Je(f))for(let c of f);};d.Dn=function(f,c){return f instanceof c};d.IP=function(f,...c){for(let e of c)if(d.Dn(f,e))return!0;return!1};d.lH=function(f,c){if(!d.Dn(f,c))throw new TypeError("unexpected type");};d.JQ=function(){};d.zna=function(f,...c){for(let e of c);};d.Fna=function(f,...c){if(!d.IP(f,...c))throw new TypeError("unexpected type");};d.Gna=function(f,...c){if(!d.Je(f)&&!d.IP(f,...c))throw new TypeError("unexpected type");
};d.Ika=function(f,c){for(let e of f)if(!d.Dn(e,c))return!1;return!0};d.Jka=function(f){for(let c of f)if(!d.Cn(c))return!1;return!0};d.Hna=function(f){for(let c of f);};d.Rna=function(f){if(!d.Je(f))for(let c of f);};d.Ina=function(f){for(let c of f);};d.Sna=function(f){if(!d.Je(f))for(let c of f);};d.Mka=function(f,c){return d.Je(f)||!d.ej(f.nodeName)?!1:!c||d.pl(f.nodeName,c)};d.Jna=function(f,c){if(d.Je(f)||!d.ej(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.pl(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Tna=function(){};d.LG=function(f,c){return d.Je(f)||!d.ej(f.tagName)?!1:!c||d.pl(f.tagName,c)};d.Nna=function(f,c){if(d.Je(f)||!d.ej(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.pl(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Xna=function(){};d.CP=function(f){return d.LG(f,"img")||d.LG(f,"canvas")||d.LG(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.Kna=function(f){if(!d.CP(f))throw new TypeError("expected drawable");
};d.Una=function(){};d.DP=function(f){return f instanceof ImageData?!0:d.CP(f)};d.Lna=function(f){if(!d.DP(f))throw new TypeError("expected drawable or image data");};d.Vna=function(f){if(!d.Je(f)&&!d.DP(f))throw new TypeError("expected drawable or image data");};d.H3=function(f){return"string"===typeof f||f instanceof d.BG||f instanceof d.wl};d.boa=function(f){if(!d.H3(f))throw new TypeError("expected string-like");};d.Zna=function(){};d.Dna=function(...f){for(let c of f);};d.$na=function(){throw Error("must be overridden");
};d.kma=function(){throw Error("not yet implemented");};d.Oka=function(f,...c){if("undefined"===typeof f)return!1;for(let e of c){if("undefined"===typeof f[e])return!1;f=f[e]}return!0};d.Je=function(f){return"undefined"===typeof f||null===f};d.Dia=function(f){let c=f[0].constructor;for(let e of f)if(e.constructor!==c)return!1;return c};d.Eia=function(f,c){for(let e of f)if(!(e instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.mla=function(f){return d.Dn(f,b)};d.coa=function(){};
d.Kqa=function(f){d.m8(f,b)};d.Jqa=function(f,...c){if(!d.l8(f,...c))throw new TypeError("unexpected type");};d.l8=function(f,...c){for(const e of c)if(d.SR(f,e))return!0;return!1};d.m8=function(f,c){if(!d.SR(f,c))throw new TypeError("unexpected type");};d.SR=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};a.ug=d.ug;a.KQ=d.KQ;a.hj=d.hj;a.HQ=d.HQ;a.qe=d.qe;a.MQ=d.MQ;a.FQ=d.FQ;a.LQ=d.LQ;a.kH=d.kH;a.GQ=d.GQ;a.Gk=d.Gk;a.IQ=d.IQ;a.lH=d.lH;a.JQ=d.JQ;a.Je=
d.Je}
{"use strict";const d=self.j,a=new Map;d.lna=function(r,...p){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);a.set(r,-1)}))};d.$z=function(){return Error().stack};d.Ija=function(){debugger};d.tra=function(r,p){return r&&r instanceof p?r:null};d.ql=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.Fn(r)?"<number>":d.ej(r)?"<string>":d.Kp(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.JG(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.WE=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let b=new Map,f=new Map,c=new WeakMap,e=new WeakMap;d.bs={};const k=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.$z())}d.bs.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||g(`Accessed missing property '${p}' from defended object '${d.ql(r)}', returning undefined`);e.has(r)&&"symbol"!==typeof p&&!k.has(p)&&g(`Accessed property '${p}' on a released object '${d.ql(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);return r[p]};d.bs.set=function(r,p,w){p in r||b.has(r)||g(`Set non-existent property '${p}' to '${w}' on defended object '${d.ql(r)}'`);
{var t=d.WE(r[p]);let v=d.WE(w);t="null"===t||"null"===v?!0:"undefined"===t||"undefined"===v?!1:t===v}t||b.has(r)||g(`Set '${d.WE(r[p])}' property '${p}' to type '${d.WE(w)}' on defended object '${d.ql(r)}'`);e.has(r)&&g(`Set property '${p}' on a released object '${d.ql(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);r[p]=w;return!0};d.bs.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.ql(r)}'`);};d.bs.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.ql(r)}'`);};d.bs.Fra=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.ql(r)}'`);};let l=-1;function n(){l=-1;if(0<b.size||0<f.size){let r=[...new Set([...b.keys()].map(p=>d.ql(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
f.clear()}}d.ia=class{constructor(){if(d.UM&&d.Yb.wQ){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.bs);b.set(r,p);f.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(n));return p}}};d.Ega=function(r){if(d.UM&&d.Yb.wQ&&r instanceof d.ia){if(!f.has(r))return r;let p=f.get(r);f.delete(r);b.delete(p);return r}return d.Iu?Object.seal(r):r};d.A=function(r,...p){let w;try{w=new r(...p)}catch(x){throw f.clear(),b.clear(),x;}if(d.UM){p=w;var t=new Set;for(v in p)t.add(v);var v=t;if(p=
q.get(r)){t=[];for(let x of p.values())v.has(x)?v.delete(x):t.push(x);d.hp(t,[...v]);t.length&&console.warn(`[Defence] '${d.ql(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,v)}return d.Ega(w)};d.g=function(r){(r=c.get(r))&&e.set(r,d.$z())};d.hq=function(){let r=c.get(void 0);return r?!!e.get(r):!1};let q=new Map;d.Fma=class{constructor(r){this.Fa="";r&&this.start(r)}start(r){this.Fa=r;performance.mark(this.Fa+"-Start")}end(){performance.mark(this.Fa+"-End");performance.measure(this.Fa,
this.Fa+"-Start",this.Fa+"-End")}next(r){this.end();this.Fa=r;performance.mark(this.Fa+"-Start")}}}
{"use strict";const d=self.j,a=2*Math.PI,b=Math.PI/180,f=180/Math.PI;d.wrap=function(e,k,g){e=Math.floor(e);k=Math.floor(k);g=Math.floor(g);return e<k?(e=g-(k-e)%(g-k),e===g?0:e):k+(e-k)%(g-k)};d.rha=function(e,k,g,l){return(e-k)*(l-0)/(g-k)};d.normalize=function(e,k,g){return(e-k)/(g-k)};d.fa=function(e,k,g){return e<k?k:e>g?g:e};d.me=function(e){e%=a;0>e&&(e+=a);return e};d.eb=function(e){return e*b};d.Wd=function(e){return e*f};d.Jf=function(e,k,g,l){return Math.hypot(g-e,l-k)};d.tX=function(e,
k,g,l){e=g-e;k=l-k;return e*e+k*k};d.le=function(e,k,g,l){return Math.atan2(l-k,g-e)};d.Zm=function(e,k){if(e===k)return 0;e=Math.sin(e)*Math.sin(k)+Math.cos(e)*Math.cos(k);return 1<=e?0:-1>=e?Math.PI:Math.acos(e)};d.CM=function(e,k,g){let l=Math.sin(e),n=Math.cos(e),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+n*r)>g?0<n*q-l*r?d.me(e+g):d.me(e-g):d.me(k)};d.fg=function(e,k){return 0>=Math.cos(e)*Math.sin(k)-Math.sin(e)*Math.cos(k)};d.BM=function(e,k,g,l=0){let n=d.Zm(e,k);l*=a;return d.fg(k,
e)?d.me(e+(n+l)*g):d.me(e-(n+l)*g)};d.qga=function(e,k,g,l=0){const n=d.Zm(e,k);l*=a;return d.fg(k,e)?d.me(e+(n+l)*g):d.me((a-n+l)*g)};d.pga=function(e,k,g,l=0){const n=d.Zm(e,k);l*=a;return d.fg(k,e)?d.me((-a+n-l)*g):d.me(e-(n+l)*g)};d.nc=function(e,k,g){return e+g*(k-e)};d.lF=function(e,k,g){return e===k?0:(g-e)/(k-e)};d.Hha=function(e,k,g,l){return d.nc(0,l,d.lF(e,k,g))};d.cF=function(e,k,g,l){return d.nc(d.nc(e,k,l),d.nc(k,g,l),l)};d.rX=function(e,k,g,l,n){return d.nc(d.cF(e,k,g,n),d.cF(k,g,l,
n),n)};d.qX=function(e,k,g){return(e+k+(e-k)*Math.cos(g*Math.PI))/2};d.sl=function(e){return 0<e&&0===(e-1&e)};d.aN=function(e){--e;for(let k=1;32>k;k<<=1)e|=e>>k;return e+1};d.Ita=function(e,k){return Math.round(e*k)/k};d.Kra=function(e,k){return Math.floor(e*k)/k};d.dF=function(e){return Math.round(1E6*e)/1E6};d.toFixed=function(e,k){e=e.toFixed(k);for(k=e.length-1;0<=k&&"0"===e.charAt(k);--k);0<=k&&"."===e.charAt(k)&&--k;return 0>k?e:e.substr(0,k+1)};d.T4=function(e,k,g){return d.fa(e,0,255)|d.fa(k,
0,255)<<8|d.fa(g,0,255)<<16};d.SA=function(e,k,g,l){e=d.fa(Math.floor(1024*e),-8192,8191);k=d.fa(Math.floor(1024*k),-8192,8191);g=d.fa(Math.floor(1024*g),-8192,8191);l=d.fa(Math.floor(1023*l),0,1023);0>e&&(e+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*e+16777216*k+1024*g+l)};d.rQ=function(e,k,g){return d.SA(e,k,g,1)};d.nG=function(e){if(0<=e)return(e&255)/255;e=Math.floor(-e/274877906944);8191<e&&(e-=16384);return e/1024};d.fG=function(e){if(0<=e)return((e&65280)>>8)/255;e=Math.floor(-e%
274877906944/16777216);8191<e&&(e-=16384);return e/1024};d.TF=function(e){if(0<=e)return((e&16711680)>>16)/255;e=Math.floor(-e%16777216/1024);8191<e&&(e-=16384);return e/1024};d.z0=function(e){return 0===e&&0>1/e?0:0<=e?1:Math.floor(-e%1024)/1023};d.Xga=function(e,k){e=Math.floor(e);for(k=Math.floor(k);0!==k;){let g=k;k=e%k;e=g}return e};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.bsa=function(e,k){e=Math.floor(e);k=Math.floor(k);if(e===k)return[1,1];for(var g of c){let l=
e/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=e/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.Xga(e,k);return[e/g,k/g]};d.Pta=function(e,k,g,l,n,q,r,p){var w=Math.min(e,g),t=Math.max(n,r);if(Math.max(e,g)<Math.min(n,r)||w>t)return!1;w=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||w>t)return!1;w=n-e+r-g;t=q-k+p-l;e=g-e;k=l-k;n=r-n;q=p-q;p=Math.abs(k*n-q*e);return Math.abs(n*t-q*w)>p?!1:Math.abs(e*t-k*w)<=p};d.dn=function(e,k,g,l,n,q,r,p,w,t,v,x){const z=Math.max(w,v);if(q<
Math.min(w,v)||n>z)return!1;n=Math.max(t,x);if(p<Math.min(t,x)||r>n)return!1;r=w-e+v-g;p=t-k+x-l;e=g-e;k=l-k;w=v-w;t=x-t;x=Math.abs(k*w-t*e);return Math.abs(w*p-t*r)>x?!1:Math.abs(e*p-k*r)<=x};d.eF=function(e,k,g,l,n){const q=Math.min(e,g),r=Math.max(e,g),p=Math.min(k,l),w=Math.max(k,l),t=n.rb,v=n.mb,x=n.Vb,z=n.hc,D=n.tc,E=n.uc,M=n.ic;n=n.jc;return d.dn(e,k,g,l,q,r,p,w,t,v,x,z)||d.dn(e,k,g,l,q,r,p,w,x,z,D,E)||d.dn(e,k,g,l,q,r,p,w,D,E,M,n)||d.dn(e,k,g,l,q,r,p,w,M,n,t,v)};d.Ota=function(e,k,g,l,n){const q=
Math.min(e,g),r=Math.max(e,g),p=Math.min(k,l),w=Math.max(k,l);let t=0;for(let v=n.length-4;t<=v;t+=2)if(d.dn(e,k,g,l,q,r,p,w,n[t],n[t+1],n[t+2],n[t+3]))return!0;return d.dn(e,k,g,l,q,r,p,w,n[t],n[t+1],n[0],n[1])};d.Gha=function(e,k,g,l,n,q,r,p){g-=e;q=p-q;const w=g*q-(l-k)*(r-n);if(0===w)return 2;l=((k-l)*(r-e)+g*(p-k))/w;return 0<l&&1.000001>l?(q*(r-e)+(n-r)*(p-k))/w:2};d.rz=function(e,k,g,l,n,q,r,p,w){const t=(r-n)*w;w*=p-q;return d.Gha(e,k,g,l,n-t,q-w,r+t,p+w)};d.gha=function(e,k,g,l,n,q,r,p){n-=
g;q-=l;r-=g;p-=l;e-=g;g=k-l;k=n*n+q*q;l=n*r+q*p;n=n*e+q*g;q=r*r+p*p;r=r*e+p*g;p=1/(k*q-l*l);q=(q*n-l*r)*p;n=(k*r-l*n)*p;return 0<=q&&0<=n&&1>=q+n};d.aia=function(e,k,g,l,n,q,r,p){n-=g;q-=l;r-=g;p-=l;e-=g;const w=k-l;k=n*n+q*q;l=n*r+q*p;g=r*r+p*p;n=e*n+w*q;q=e*r+w*p;r=k*g-l*l;p=(g*n-l*q)/r;n=(k*q-l*n)/r;return[1-p-n,p,n]};d.$ha=function(e,k,g,l,n,q,r,p,w){return[e*l+k*q+g*p,e*n+k*r+g*w]}}
{"use strict";const d=self.j;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.fka=function(){return b};d.UF=function(){if(!a)return"";const l=a.location;return d.C1(l.origin+l.pathname)+b};d.C1=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.hka=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.Z0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.iA=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.h4=function(l){return l.replace(/\\/g,"/")};d.Ska=function(l,n){return n===(l?d.Z0(l).slice(1):"")};d.Tja=function(l,n){let q,r;d.IG(l)&&(q=d.iA(l.name));d.ej(l)&&(q=
d.iA(l));d.IG(n)&&(r=d.iA(n.name));d.ej(n)&&(r=d.iA(n));return q===r};d.Ema=function(l){l=d.h4(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,w="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(w=p.slice(q),l=p.slice(0,-w.length));return{dir:r,lra:p,name:l,root:n,ext:w,Xra:n+r+p}};d.SH=function(l,n){return new Promise(q=>{self.setTimeout(q,
l,n)})};d.Zta=function(l){try{l()}catch(n){d.Iu&&console.warn("Swallowed exception: ",n)}};d.$sa=function(){};d.pl=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Gra=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.bia=function(l,n){var q=0;l[q++]=n[0];l[q++]=n[1];l[q++]=n[2];l[q++]=n[3];l[q++]=n[4];l[q++]=n[5];l[q++]=n[6];l[q++]=n[7];l[q++]=n[8];l[q++]=n[9];
l[q++]=n[10];l[q++]=n[11];l[q++]=n[12];l[q++]=n[13];l[q++]=n[14];l[q]=n[15]};d.bf=function(l,n){l.length=n};d.C=function(l){l&&0!==l.length&&d.bf(l,0)};d.Aga=function(l){if(l){for(let n=0;n<l.length;n++)d.bf(l[n],0);d.bf(l,0)}};d.UE=function(l,n,q){n|=0;var r=l.length;if(!(n<=r))for(;r<n;++r)l.push(q)};d.RX=function(l){var n=4;const q=l.length;n<q?d.bf(l,n):n>q&&d.UE(l,n,"0")};d.xd=function(l,n){d.C(l);d.hp(l,n)};d.hp=function(l,n){if(1E4>n.length)l.push(...n);else for(let q=0,r=n.length;q<r;++q)l.push(n[q])};
d.tga=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var q=l.length-1;n<q;++n)l[n]=l[n+1];d.bf(l,q)}};d.Lr=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.kra=function(l,n){let q=l.length;if(n.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==n[r])return!1;return!0};d.sga=function(l,n){let q=[],r=0;for(let p=0,w=l.length;p<w;++p){let t=l[p];n(t)?q.push(t):(l[r]=t,++r)}d.bf(l,r);return q};d.Oh=function(l,n){const q=l.length;let r=0;for(let p=0,w=l.length;p<w;++p){let t=l[p];n.has(t)||
(l[r++]=t)}d.bf(l,r);return q-r};d.dha=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.oua=function(l,n){if(!d.dha(l,n))throw new RangeError("array index out of bounds");};d.PE=function(l){return l.slice()};d.Fga=function(l,n){let q=[];for(let r of l)if(d.KP(r)){l=n(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.Kp(r)?q.push(d.Fga(r,n)):q.push(r);return q};d.ura=function(l){let n=[];for(let q of l)n.push(q.slice());
return n};d.Xsa=function(l,n){return new Set([...l,...n])};d.Ysa=function(l,n){for(const q of n)l.add(q);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,q){switch(n){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.jsa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.e5=function(l,n){return l.length?new Promise((q,
r)=>{const p=[];let w=0,t=!1;for(let v=0,x=l.length;v<x;++v)p.push(void 0),l[v].then(z=>{t||(p[v]=z,++w,w===l.length?q(p):n(w,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let f=[];d.tia=function(l){f.push(l)};d.gka=function(){let l=0;for(let n of f){let q=n();l+=q}return Math.floor(l)};let c=1;const e=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const n=e.get(l);e.delete(l);n&&n(performance.now())};d.jH=function(l){const n=c++;e.set(n,l);k.port1.postMessage(n);
return n};d.fZ=function(l){e.delete(l)};d.a5=d.jH;d.i8=function(){return new Promise(l=>d.a5(l))};const g=new Set;d.una=function(l){const n=self.requestAnimationFrame(async q=>{await d.i8();g.has(n)&&(g.delete(n),l(q))});g.add(n);return n};d.Wia=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.j;d.FG=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.SG=function(a){return!d.FG(a)};d.M7=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Xz=function(a){return fetch(a,void 0).then(b=>{d.M7(b);return b})};d.nv=function(a){return d.Xz(a).then(b=>b.text())};d.qO=function(a){return d.Xz(a).then(b=>b.json())};d.zl=function(a){return d.Xz(a).then(b=>b.blob())};d.mv=function(a){return d.Xz(a).then(b=>
b.arrayBuffer())};d.r0=function(a){return new Promise((b,f)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>f(e);c.src=a})};d.VY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(a)})};d.JN=function(a){return"function"===typeof a.text?a.text():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsText(a)})};d.Oia=function(a){return d.JN(a).then(b=>
JSON.parse(b))};d.IN=async function(a,b){a=URL.createObjectURL(a);try{const f=await d.r0(a);URL.revokeObjectURL(a);a="";b&&"function"===typeof f.decode&&await f.decode();return f}finally{a&&URL.revokeObjectURL(a)}};d.ef=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=a;f.height=b;return f}return new OffscreenCanvas(a,b)};d.Gz=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,f)):a.convertToBlob?a.convertToBlob({type:b,quality:f}):d.tl(()=>d.SN(a,b,f))};d.SN=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return d.SZ(a.toDataURL(b,f))};d.SZ=function(a){a=d.U4(a);return d.UY(a.data,a.sha)};d.U4=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var f=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];f="base64"===b[1]||"base64"===c?atob(f):decodeURIComponent(f);return{sha:a,data:f}};d.UY=function(a,b){var f=a.length;let c=f>>2,e=new Uint8Array(f),k=new Uint32Array(e.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(f&=3;f--;)e[l]=a.charCodeAt(l),++l;return b?new Blob([e],{type:b}):new Blob([e])};d.jO=function(a){const b=d.ef(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.Gz(b,void 0,void 0)};d.ska=
function(a,b,f){const c=d.ef(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.SN(c,b,f)};d.y2=function(a){if(d.Yb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.jO(b));if(d.Yb.ImageBitmap)return createImageBitmap(a).then(b=>d.jO(b));{const b=d.ef(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.Gz(b,void 0,void 0)}};d.GZ=function(a,b){a.clear();for(const f of b)a.add(f)};d.Rla=function(a){const b=Object.create(null);for(const [f,
c]of a.entries())b[f]=c;return b};d.nma=function(a,b){b.clear();for(const [f,c]of Object.entries(a))b.set(f,c)};d.PH=function f(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>f(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [e,k]of Object.entries(b))c[e]=f(k);return c}}return b};d.QF=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(e=>
c(e)));if("map"===f._c3type_)return new Map(f.data.map(e=>[e[0],c(e[1])]));{const e=Object.create(null);for(const [k,g]of Object.entries(f))e[k]=c(g);return e}}return f};d.YY=function(f){let c="",e=!1;for(const k of f)"-"===k?e=!0:e?(c+=k.toUpperCase(),e=!1):c+=k;return c};d.En=function(f){return"object"===typeof f&&"function"===typeof f.next};d.fh=function(f,c){const e=[];if("function"===typeof c)for(var k=0;k<f;++k)e.push(c());else for(k=0;k<f;++k)e.push(c);return e}}
{"use strict";const d=self.j,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function f(c,e,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(e-c)*k:.5>k?e:k<2/3?c+(e-c)*(2/3-k)*6:c}d.$a=class{constructor(c,e,k,g){this.Wa=this.bb=this.cb=this.Za=0;c instanceof d.$a?this.set(c):this.sp(c||0,e||0,k||0,g||0)}Uu(c,e,k){this.Za=+c;this.cb=+e;this.bb=+k;this.fa()}sp(c,e,k,g){this.Za=+c;this.cb=+e;this.bb=+k;this.Wa=+g;this.fa()}set(c){this.Za=c.Za;this.cb=c.cb;this.bb=c.bb;
this.Wa=c.Wa;return this}qa(c){return this.set(c)}add(c){this.Za+=c.Za;this.cb+=c.cb;this.bb+=c.bb;this.Wa+=c.Wa;this.fa()}gX(c,e,k){this.Za+=+c;this.cb+=+e;this.bb+=+k;this.Wa+=0;this.fa()}lk(c){this.Za=c.Za;this.cb=c.cb;this.bb=c.bb}Or(c){this.Za=d.fa(+c,0,1)}Tu(c){this.cb=d.fa(+c,0,1)}Qu(c){this.bb=d.fa(+c,0,1)}Rg(c){this.Wa=d.fa(+c,0,1)}clone(){return d.A(d.$a,this.Za,this.cb,this.bb,this.Wa)}toArray(){return[this.Za,this.cb,this.bb,this.Wa]}Qh(c,e){c[e++]=this.Za;c[e++]=this.cb;c[e++]=this.bb;
c[e]=this.Wa}fd(c){return this.Za===c.Za&&this.cb===c.cb&&this.bb===c.bb&&this.Wa===c.Wa}an(c){return this.Za===c.Za&&this.cb===c.cb&&this.bb===c.bb}ez(c,e,k,g){return this.Za===c&&this.cb===e&&this.bb===k&&this.Wa===g}multiply(c){this.Za*=c.Za;this.cb*=c.cb;this.bb*=c.bb;this.Wa*=c.Wa}qz(){this.Za*=this.Wa;this.cb*=this.Wa;this.bb*=this.Wa}fa(){this.Za=d.fa(this.Za,0,1);this.cb=d.fa(this.cb,0,1);this.bb=d.fa(this.bb,0,1);this.Wa=d.fa(this.Wa,0,1);return this}Ru(c){this.Za=d.nG(c);this.cb=d.fG(c);
this.bb=d.TF(c);this.Wa=d.z0(c)}Tga(){return`rgb(${100*(d.Cn(void 0)?NaN:this.Za)}%, ${100*(d.Cn(void 0)?NaN:this.cb)}%, ${100*(d.Cn(void 0)?NaN:this.bb)}%)`}Bha(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var e=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)e=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(e)&&this.Or(e);isFinite(k)&&this.Tu(k);
isFinite(c)&&this.Qu(c);this.Rg(1)}}aF(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/255;var k=parseInt(e[1].trim(),10)/255;e=parseInt(e[2].trim(),10)/255;isFinite(c)&&this.Or(c);isFinite(k)&&this.Tu(k);isFinite(e)&&this.Qu(e);this.Rg(1)}}}KX(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/100;var k=parseInt(e[1].trim(),10)/100;e=parseInt(e[2].trim(),
10)/100;isFinite(c)&&this.Or(c);isFinite(k)&&this.Tu(k);isFinite(e)&&this.Qu(e);this.Rg(1)}}}MX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=parseInt(e[0].trim(),10)/255;var k=parseInt(e[1].trim(),10)/255,g=parseInt(e[2].trim(),10)/255;e=parseFloat(e[3].trim());isFinite(c)&&this.Or(c);isFinite(k)&&this.Tu(k);isFinite(g)&&this.Qu(g);isFinite(e)&&this.Rg(e)}}}LX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=
parseInt(e[0].trim(),10)/100;var k=parseInt(e[1].trim(),10)/100,g=parseInt(e[2].trim(),10)/100;e=parseFloat(e[3].trim());isFinite(c)&&this.Or(c);isFinite(k)&&this.Tu(k);isFinite(g)&&this.Qu(g);isFinite(e)&&this.Rg(e)}}}NX(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.KX(c):this.aF(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.LX(c):this.MX(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Aha(c);return}{const e=
c.split(",");if(c.includes("%")){if(3===e.length){this.KX(c);return}4===e.length&&this.LX(c)}else{if(3===e.length){this.aF(c);return}4===e.length&&this.MX(c)}return}}this.Bha(c)}}toJSON(){return[this.Za,this.cb,this.bb,this.Wa]}TX(c,e,k,g){c%=360;e=d.fa(e,0,100);k=d.fa(k,0,100);g=d.fa(g,0,1);c/=360;e/=100;k/=100;if(0===e)k=e=c=k;else{const l=.5>k?k*(1+e):k+e-k*e,n=2*k-l;k=f(n,l,c+1/3);e=f(n,l,c);c=f(n,l,c-1/3)}this.Or(k);this.Tu(e);this.Qu(c);this.Rg(g)}Aha(c){var e=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=a.exec(e);e=b.exec(e);c&&4===c.length?this.TX(+c[1],+c[2],+c[3],1):e&&5===e.length&&this.TX(+c[1],+c[2],+c[3],+c[4])}fn(c){!Array.isArray(c)||3>c.length||(this.Za=c[0],this.cb=c[1],this.bb=c[2],this.Wa=4<=c.length?c[3]:1)}set r(c){this.Or(c)}get r(){return this.Za}set ep(c){this.Rg(c)}get ep(){return this.Wa}static JF(c,e){return d.fa(Math.max(c,e)-Math.min(c,e),0,1)}};d.$a.Pqa=Object.freeze(d.A(d.$a,1,1,1,1));d.$a.Nia=Object.freeze(d.A(d.$a,0,0,0,1));d.$a.uqa=Object.freeze(d.A(d.$a,0,0,0,0))}
{"use strict";const d=self.j;d.Ys=class{constructor(a,b){this.T=this.X=0;a instanceof d.Ys?this.qa(a):this.set(a||0,b||0)}set(a,b){this.X=+a;this.T=+b}qa(a){this.X=a.X;this.T=a.T}fd(a){return this.X===a.X&&this.T===a.T}toArray(){return[this.X,this.T]}Qh(a,b){a[b++]=this.X;a[b]=this.T}offset(a,b){this.X+=+a;this.T+=+b}scale(a,b){this.X*=a;this.T*=b}mk(a,b){this.X/=a;this.T/=b}round(){this.X=Math.round(this.X);this.T=Math.round(this.T)}floor(){this.X=Math.floor(this.X);this.T=Math.floor(this.T)}ceil(){this.X=
Math.ceil(this.X);this.T=Math.ceil(this.T)}angle(){return d.le(0,0,this.X,this.T)}mha(){return this.X*this.X+this.T*this.T}length(){return Math.sqrt(this.mha())}Kha(a,b){const f=this.X*b-this.T*a;this.T=this.T*b+this.X*a;this.X=f}rotate(a){0!==a&&this.Kha(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.X+=Math.cos(a)*b,this.T+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.X/=a,this.T/=a)}fa(a,b){this.X=d.fa(this.X,a,b);this.T=d.fa(this.T,a,b)}}}
{"use strict";const d=self.j;d.Rect=class{constructor(a,b,f,c){this.S=this.V=this.J=this.M=0;a instanceof d.Rect?this.qa(a):this.set(a||0,b||0,f||0,c||0)}set(a,b,f,c){this.M=+a;this.J=+b;this.V=+f;this.S=+c}Pi(a,b,f,c){a=+a;b=+b;this.M=a;this.J=b;this.V=a+ +f;this.S=b+ +c}qa(a){this.M=+a.M;this.J=+a.J;this.V=+a.V;this.S=+a.S}clone(){return new d.Rect(this.M,this.J,this.V,this.S)}fd(a){return this.M===a.M&&this.J===a.J&&this.V===a.V&&this.S===a.S}Oha(a){this.V=+a}toArray(){return[this.M,this.J,this.V,
this.S]}Vha(){new DOMRect(this.M,this.J,this.width(),this.height())}Qh(a,b){a[b++]=this.M;a[b++]=this.J;a[b++]=this.V;a[b]=this.S}hY(a,b){a[b++]=this.M;a[b++]=this.J;a[b++]=this.V;a[b++]=this.J;a[b++]=this.V;a[b++]=this.S;a[b++]=this.M;a[b]=this.S}width(){return this.V-this.M}height(){return this.S-this.J}op(){return(this.M+this.V)/2}pp(){return(this.J+this.S)/2}offset(a,b){a=+a;b=+b;this.M+=a;this.J+=b;this.V+=a;this.S+=b}offsetLeft(a){this.M+=+a}offsetTop(a){this.J+=+a}yha(a){this.V+=+a}xha(a){this.S+=
+a}XE(a,b){a=+a;b=+b;this.M-=a;this.J-=b;this.V+=a;this.S+=b}multiply(a,b){this.M*=a;this.J*=b;this.V*=a;this.S*=b}mk(a,b){this.M/=a;this.J/=b;this.V/=a;this.S/=b}Tha(){const a=this.M;this.M=this.V;this.V=a}Rr(){const a=this.J;this.J=this.S;this.S=a}sN(a){const b=this.J;this.J=+a-this.S;this.S=+a-b}round(){this.M=Math.round(this.M);this.J=Math.round(this.J);this.V=Math.round(this.V);this.S=Math.round(this.S)}Lha(){this.M=Math.floor(this.M);this.J=Math.floor(this.J);this.V=Math.ceil(this.V);this.S=
Math.ceil(this.S)}floor(){this.M=Math.floor(this.M);this.J=Math.floor(this.J);this.V=Math.floor(this.V);this.S=Math.floor(this.S)}ceil(){this.M=Math.ceil(this.M);this.J=Math.ceil(this.J);this.V=Math.ceil(this.V);this.S=Math.ceil(this.S)}fa(a,b,f,c){this.M<a&&(this.M=+a);this.J<b&&(this.J=+b);this.V>f&&(this.V=+f);this.S>c&&(this.S=+c)}pX(){0>this.M&&(this.M=0);1<this.J&&(this.J=1);1<this.V&&(this.V=1);0>this.S&&(this.S=0)}normalize(){this.M>this.V&&this.Tha();this.J>this.S&&this.Rr()}YE(a){return!(a.V<
this.M||a.S<this.J||a.M>this.V||a.J>this.S)}cha(a,b,f){return!(a.V+b<this.M||a.S+f<this.J||a.M+b>this.V||a.J+f>this.S)}hg(a,b){return a>=this.M&&a<=this.V&&b>=this.J&&b<=this.S}nha(a){this.M=d.nc(a.M,a.V,this.M);this.J=d.nc(a.J,a.S,this.J);this.V=d.nc(a.M,a.V,this.V);this.S=d.nc(a.J,a.S,this.S)}}}
{"use strict";const d=self.j;d.Ec=class{constructor(a,b,f,c,e,k,g,l){this.jc=this.ic=this.uc=this.tc=this.hc=this.Vb=this.mb=this.rb=0;a instanceof d.Ec?this.qa(a):this.set(a||0,b||0,f||0,c||0,e||0,k||0,g||0,l||0)}set(a,b,f,c,e,k,g,l){this.rb=+a;this.mb=+b;this.Vb=+f;this.hc=+c;this.tc=+e;this.uc=+k;this.ic=+g;this.jc=+l}UX(a,b,f,c){this.set(a,b,f,b,f,c,a,c)}qa(a){this.rb=a.rb;this.mb=a.mb;this.Vb=a.Vb;this.hc=a.hc;this.tc=a.tc;this.uc=a.uc;this.ic=a.ic;this.jc=a.jc}fd(a){return this.rb===a.rb&&this.mb===
a.mb&&this.Vb===a.Vb&&this.hc===a.hc&&this.tc===a.tc&&this.uc===a.uc&&this.ic===a.ic&&this.jc===a.jc}VX(a){this.rb=+a}WX(a){this.mb=+a}toArray(){return[this.rb,this.mb,this.Vb,this.hc,this.tc,this.uc,this.ic,this.jc]}Qh(a,b){a[b++]=this.rb;a[b++]=this.mb;a[b++]=this.Vb;a[b++]=this.hc;a[b++]=this.tc;a[b++]=this.uc;a[b++]=this.ic;a[b]=this.jc}dia(a,b,f){a[b++]=this.rb;a[b++]=this.mb;a[b++]=f;a[b++]=this.Vb;a[b++]=this.hc;a[b++]=f;a[b++]=this.tc;a[b++]=this.uc;a[b++]=f;a[b++]=this.ic;a[b++]=this.jc;
a[b]=f}offset(a,b){a=+a;b=+b;this.rb+=a;this.mb+=b;this.Vb+=a;this.hc+=b;this.tc+=a;this.uc+=b;this.ic+=a;this.jc+=b}round(){this.rb=Math.round(this.rb);this.mb=Math.round(this.mb);this.Vb=Math.round(this.Vb);this.hc=Math.round(this.hc);this.tc=Math.round(this.tc);this.uc=Math.round(this.uc);this.ic=Math.round(this.ic);this.jc=Math.round(this.jc)}floor(){this.rb=Math.floor(this.rb);this.mb=Math.floor(this.mb);this.Vb=Math.floor(this.Vb);this.hc=Math.floor(this.hc);this.tc=Math.floor(this.tc);this.uc=
Math.floor(this.uc);this.ic=Math.floor(this.ic);this.jc=Math.floor(this.jc)}ceil(){this.rb=Math.ceil(this.rb);this.mb=Math.ceil(this.mb);this.Vb=Math.ceil(this.Vb);this.hc=Math.ceil(this.hc);this.tc=Math.ceil(this.tc);this.uc=Math.ceil(this.uc);this.ic=Math.ceil(this.ic);this.jc=Math.ceil(this.jc)}Ph(a){this.rb=a.M;this.mb=a.J;this.Vb=a.V;this.hc=a.J;this.tc=a.V;this.uc=a.S;this.ic=a.M;this.jc=a.S}Su(a,b){0===b?this.Ph(a):this.fF(a,Math.sin(b),Math.cos(b))}fF(a,b,f){const c=a.M*b,e=a.J*b,k=a.V*b;
b*=a.S;const g=a.M*f,l=a.J*f,n=a.V*f;a=a.S*f;this.rb=g-e;this.mb=l+c;this.Vb=n-e;this.hc=l+k;this.tc=n-b;this.uc=a+k;this.ic=g-b;this.jc=a+c}PM(a){a.set(Math.min(this.rb,this.Vb,this.tc,this.ic),Math.min(this.mb,this.hc,this.uc,this.jc),Math.max(this.rb,this.Vb,this.tc,this.ic),Math.max(this.mb,this.hc,this.uc,this.jc))}hg(a,b){var f=this.Vb-this.rb,c=this.hc-this.mb;const e=this.tc-this.rb,k=this.uc-this.mb;a-=this.rb;b-=this.mb;var g=f*f+c*c;let l=f*e+c*k;c=f*a+c*b;const n=e*e+k*k,q=e*a+k*b;let r=
1/(g*n-l*l);f=(n*c-l*q)*r;g=(g*q-l*c)*r;if(0<=f&&0<g&&1>f+g)return!0;f=this.ic-this.rb;c=this.jc-this.mb;g=f*f+c*c;l=f*e+c*k;c=f*a+c*b;r=1/(g*n-l*l);f=(n*c-l*q)*r;g=(g*q-l*c)*r;return 0<=f&&0<g&&1>f+g}op(){return(this.rb+this.Vb+this.tc+this.ic)/4}pp(){return(this.mb+this.hc+this.uc+this.jc)/4}SM(a){var b=a.op(),f=a.pp();if(this.hg(b,f))return!0;b=this.op();f=this.pp();if(a.hg(b,f))return!0;b=this.rb;f=this.mb;const c=this.Vb,e=this.hc,k=this.tc,g=this.uc,l=this.ic,n=this.jc;return d.eF(b,f,c,e,a)||
d.eF(c,e,k,g,a)||d.eF(k,g,l,n,a)||d.eF(l,n,b,f,a)}Jha(){const a=this.rb,b=this.mb;this.rb=this.Vb;this.mb=this.hc;this.Vb=this.tc;this.hc=this.uc;this.tc=this.ic;this.uc=this.jc;this.ic=a;this.jc=b}}}
{"use strict";const d=self.j,a=[0,0,1,0,1,1,0,1],b=d.A(d.Ec);d.nn=class extends d.ia{constructor(f,c=!0){super();f||(f=a);this.Pc=Float64Array.from(f);this.bC=new d.Rect;this.Yq=!0;this.xh=c}g(){}oz(){return this.Pc.length/2}gF(f){this.Pc.length===f.length?this.Pc.set(f):this.Pc=Float64Array.from(f);this.Yq=!0}Nha(){this.gF(a)}qa(f){this.gF(f.Pc)}qN(){this.Yq=!0}fga(){if(this.Yq){var f=this.Pc,c=f[0],e=f[1],k=c,g=e;for(let l=0,n=f.length;l<n;l+=2){const q=f[l],r=f[l+1];q<c&&(c=q);q>k&&(k=q);r<e&&
(e=r);r>g&&(g=r)}this.bC.set(c,e,k,g);this.Yq=!1}}Ph(f,c,e){let k=this.Pc;8!==k.length&&(this.Pc=k=new Float64Array(8));k[0]=f.M-c;k[1]=f.J-e;k[2]=f.V-c;k[3]=f.J-e;k[4]=f.V-c;k[5]=f.S-e;k[6]=f.M-c;k[7]=f.S-e;this.bC.qa(f);0===c&&0===e||this.bC.offset(-c,-e);this.Yq=!1}rN(f,c,e){b.qa(f);b.offset(c,e);this.gF(b.toArray());this.Yq=!0}transform(f,c,e){let k=0,g=1;0!==e&&(k=Math.sin(e),g=Math.cos(e));this.zN(f,c,k,g)}zN(f,c,e,k){const g=this.Pc;for(let l=0,n=g.length;l<n;l+=2){const q=l+1,r=g[l]*f,p=g[q]*
c;g[l]=r*k-p*e;g[q]=p*k+r*e}this.Yq=!0}offset(f,c){const e=this.Pc;for(let k=0,g=e.length;k<g;k+=2)e[k]+=f,e[k+1]+=c}hg(f,c){const e=this.Pc;if(f===e[0]&&c===e[1])return!0;this.fga();var k=this.bC;const g=k.M-110,l=k.J-101,n=k.V+131;k=k.S+120;let q,r,p,w,t,v,x,z;g<f?(q=g,p=f):(q=f,p=g);l<c?(r=l,w=c):(r=c,w=l);n<f?(t=n,x=f):(t=f,x=n);k<c?(v=k,z=c):(v=c,z=k);let D=0,E=0;for(let B=0,G=e.length;B<G;B+=2){var M=(B+2)%G;const H=e[B],J=e[B+1],P=e[M];M=e[M+1];d.dn(g,l,f,c,q,p,r,w,H,J,P,M)&&++D;d.dn(n,k,f,
c,t,x,v,z,H,J,P,M)&&++E}return 1===D%2||1===E%2}hz(f,c,e){const k=f.Pc,g=this.Pc;if(this.hg(k[0]+c,k[1]+e)||f.hg(g[0]-c,g[1]-e))return!0;for(let n=0,q=g.length;n<q;n+=2){var l=(n+2)%q;f=g[n];const r=g[n+1],p=g[l];l=g[l+1];let w,t,v,x;f<p?(w=f,v=p):(w=p,v=f);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,D=k.length;z<D;z+=2){const E=(z+2)%D;if(d.dn(f,r,p,l,w,v,t,x,k[z]+c,k[z+1]+e,k[E]+c,k[E+1]+e))return!0}}return!1}y1(){const f=this.Pc;let c=0;for(let e=0,k=f.length;e<k;e+=2)c+=f[e];return c/this.oz()}z1(){const f=
this.Pc;let c=0;for(let e=0,k=f.length;e<k;e+=2)c+=f[e+1];return c/this.oz()}E1(){return this.oz()}jd(){return this.xh}}}
{"use strict";const d=self.j;d.Tv=class extends d.ia{constructor(a){super();this.Yk=new Map;if(a)for(const [b,f,c]of a)this.Set(b,f,c)}g(){this.Jc();this.Yk=null}Jc(){const a=this.Yk;for(const b of a.values())b.clear();a.clear()}Set(a,b,f){const c=this.Yk;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,f)}ea(a,b){return(a=this.Yk.get(a))?a.get(b):a}BA(a){return(a=this.Yk.get(a))?a.has(void 0):!1}pn(a,b){const f=this.Yk,c=f.get(a);if(!c)return!1;(b=c.delete(b))&&0===c.size&&f.delete(a);return b}hO(a){const b=
this.Yk,f=b.get(a);f&&(f.clear(),b.delete(a));for(const [c,e]of b.entries())e.delete(a)&&0===e.size&&b.delete(c)}wn(){let a=0;for(const b of this.Yk.values())a+=b.size;return a}*values(){for(const a of this.Yk.values())yield*a.values()}*entries(){for(const [a,b]of this.Yk.entries())for(const [f,c]of b.entries())yield[a,f,c]}}}
{"use strict";const d=self.j;d.tF=class extends d.ia{constructor(){super();this.Lo=new Set;this.Yc=[];this.fy=!1}g(){this.Jc()}Jc(){this.Lo.clear();d.C(this.Yc);this.fy=!1}Sc(a){this.Lo.has(a)||(this.Lo.add(a),this.fy||this.Yc.push(a))}BA(a){return this.Lo.has(a)}pn(a){this.Lo.delete(a)&&(this.fy=!0)}wn(){return this.Lo.size}Bn(){return 0===this.Lo.size}SF(){this.fy&&(this.jca(),this.fy=!1);return this.Yc}jca(){const a=this.Yc;d.C(a);for(const b of this.Lo)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,f=new Map,c=new Map,e=new Map;e.set("linear","noease");e.set("default","noease");self.kv=class k{constructor(){}static x3(g){this.aI();return[...a.keys()].includes(g)}static $$(g){const l=e.get(g);if(l)return d.get(l);if(k.x3(g))return d.get(g);if(c.has(g))return c.get(g)}static Dp(g){this.aI();const l=k.$$(g);return l?l:f.get(g)}static aI(){0===d.size&&(this.Ib("default",()=>{}),this.Ib("noease",this.g4),this.Ib("easeinsine",this.X_),this.Ib("easeoutsine",
this.f0),this.Ib("easeinoutsine",this.T_),this.Ib("easeinelastic",this.I_),this.Ib("easeoutelastic",this.a0),this.Ib("easeinoutelastic",this.O_),this.Ib("easeinback",this.F_),this.Ib("easeoutback",this.Y_),this.Ib("easeinoutback",this.K_),this.Ib("easeinbounce",this.kO),this.Ib("easeoutbounce",this.LF),this.Ib("easeinoutbounce",this.L_),this.Ib("easeincubic",this.H_),this.Ib("easeoutcubic",this.$_),this.Ib("easeinoutcubic",this.N_),this.Ib("easeinquad",this.U_),this.Ib("easeoutquad",this.c0),this.Ib("easeinoutquad",
this.Q_),this.Ib("easeinquart",this.V_),this.Ib("easeoutquart",this.d0),this.Ib("easeinoutquart",this.R_),this.Ib("easeinquint",this.W_),this.Ib("easeoutquint",this.e0),this.Ib("easeinoutquint",this.S_),this.Ib("easeincirc",this.G_),this.Ib("easeoutcirc",this.Z_),this.Ib("easeinoutcirc",this.M_),this.Ib("easeinexpo",this.J_),this.Ib("easeoutexpo",this.b0),this.Ib("easeinoutexpo",this.P_),this.ZR("cubicbezier",this.E_),this.ZR("spline",this.g0))}static Ib(g,l){k.UH(g,l,"predefined")}static ZR(g,l){k.UH(g,
l,"private")}static rY(g,l){this.aI();k.UH(g,l,"custom",void 0)}static UH(g,l,n,q){switch(n){case "predefined":d.set(g,l);a.set(g,l);break;case "custom":q?(b.has(q)||b.set(q,new Map),b.get(q).set(g,l)):f.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static g4(g,l,n,q){return n*g/q+l}static U_(g,l,n,q){return n*(g/=q)*g+l}static c0(g,l,n,q){return-n*(g/=q)*(g-2)+l}static Q_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static H_(g,
l,n,q){return n*(g/=q)*g*g+l}static $_(g,l,n,q){return n*((g=g/q-1)*g*g+1)+l}static N_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static V_(g,l,n,q){return n*(g/=q)*g*g*g+l}static d0(g,l,n,q){return-n*((g=g/q-1)*g*g*g-1)+l}static R_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static W_(g,l,n,q){return n*(g/=q)*g*g*g*g+l}static e0(g,l,n,q){return n*((g=g/q-1)*g*g*g*g+1)+l}static S_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static X_(g,
l,n,q){return-n*Math.cos(g/q*(Math.PI/2))+n+l}static f0(g,l,n,q){return n*Math.sin(g/q*(Math.PI/2))+l}static T_(g,l,n,q){return-n/2*(Math.cos(Math.PI*g/q)-1)+l}static J_(g,l,n,q){return 0===g?l:n*Math.pow(2,10*(g/q-1))+l}static b0(g,l,n,q){return g===q?l+n:n*(-Math.pow(2,-10*g/q)+1)+l}static P_(g,l,n,q){return 0===g?l:g===q?l+n:1>(g/=q/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static G_(g,l,n,q){return-n*(Math.sqrt(1-(g/=q)*g)-1)+l}static Z_(g,l,n,q){return n*Math.sqrt(1-(g=g/q-
1)*g)+l}static M_(g,l,n,q){return 1>(g/=q/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static I_(g,l,n,q){let r=0,p=n;if(0===g)return l;if(1===(g/=q))return l+n;r||(r=.3*q);p<Math.abs(n)?(p=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-n)*Math.PI/r))+l}static a0(g,l,n,q){let r,p=0,w=n;if(0===g)return l;if(1===(g/=q))return l+n;p||(p=.3*q);w<Math.abs(n)?(w=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+n+l}static O_(g,l,n,q){let r,p=0,w=n;if(0===g)return l;if(2===(g/=q/2))return l+n;p||(p=.3*q*1.5);w<Math.abs(n)?(w=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+n+l}static F_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*(g/=q)*g*((r+1)*g-r)+l}static Y_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*((g=g/q-1)*g*((r+1)*g+r)+1)+l}static K_(g,l,n,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?n/2*g*g*(((r*=1.525)+1)*g-r)+l:n/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+l}static kO(g,l,n,q){return n-k.LF(q-g,0,n,q)+l}static LF(g,l,n,q){return(g/=q)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static L_(g,l,n,q){return g<q/2?.5*k.kO(2*g,0,n,q)+l:.5*k.LF(2*g-q,0,n,q)+.5*n+l}static E_(g,l,n,q,r){return l+3*g*(n-l)+3*g**2*(l+q-2*n)+g**3*(r-l+3*n-3*q)}static g0(g,l,n,q,r,p,w,t,v,x){if(q===
r&&p===w)return g;if(1==g)g=1;else{for(var z=0,D=1,E=x[D];10!=D&&E<=g;)D++,E=x[D],z+=.1;D--;E=x[D];x=z+(g-E)/(x[D+1]-E)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-g)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;D=0;let M;do x=q+(z-q)/2,E=((t*x+p)*x+l)*x-g,0<E?z=x:q=x,E=1E-7<Math.abs(E),M=10>++D;while(E&&M)}g=x}return(((v-3*w+3*r-n)*g+(3*w-6*r+3*n))*g+3*(r-n))*g}static F0(g,l,n,q){const r=[];q=q-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+n)*l+g)*l);return r}}}{"use strict";const d=self.j;d.hna=class{constructor(){this.RV=[]}g(){this.Jc();this.RV=null}Jc(){d.Aga(this.RV)}}}"use strict";
self.j.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.eha=this.kN=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.eha)throw Error(`cannot stop async event '${this.type}' propagation`);this.kN=!0}};
{"use strict";const d=self.j;d.Event.U1=class extends d.ia{constructor(a){super();this.za=a;this.Xf=[];this.nt=new Set;this.ag=[];this.Rt=new Set;this.rx=0;this.gu=[]}g(){0<this.rx||(d.C(this.Xf),this.nt.clear(),d.C(this.ag),this.Rt.clear(),d.C(this.gu),d.g(this))}XR(a,b){this.cT()?this.gu.push({eN:"add",Oi:a,capture:b}):b?this.nt.has(a)||(this.Xf.push(a),this.nt.add(a)):this.Rt.has(a)||(this.ag.push(a),this.Rt.add(a))}xca(a,b){this.cT()?this.gu.push({eN:"remove",Oi:a,capture:b}):b?this.nt.has(a)&&
(this.nt.delete(a),d.Lr(this.Xf,a)):this.Rt.has(a)&&(this.Rt.delete(a),d.Lr(this.ag,a))}Kaa(){return!this.Xf.length&&!this.ag.length}cT(){return 0<this.rx}gca(){const a=new Set,b=new Set;for(const f of this.gu)if("add"===f.eN)this.XR(f.Oi,f.capture),f.capture?b.delete(f.Oi):a.delete(f.Oi);else if("remove"===f.eN)f.capture?(this.nt.delete(f.Oi),b.add(f.Oi)):(this.Rt.delete(f.Oi),a.add(f.Oi));else throw Error("invalid op");d.Oh(this.ag,a);d.Oh(this.Xf,b);d.C(this.gu)}M$(a){this.ct();let b=!1;for(let f=
0,c=this.Xf.length;f<c;++f)if(this.Xf[f](a),a.kN){b=!0;break}if(!b)for(let f=0,c=this.ag.length;f<c&&(this.ag[f](a),!a.kN);++f);this.$s();return!a.defaultPrevented}O$(a){this.ct();for(let b=0,f=this.Xf.length;b<f;++b)this.Xf[b](a);for(let b=0,f=this.ag.length;b<f;++b)this.ag[b](a);this.$s();return!0}ct(){this.rx++}$s(){this.rx--;0===this.rx&&0<this.gu.length&&this.gca()}Ms(a){a?this.ct():this.$s()}zS(a){const b=[];this.ct();for(let c=0,e=this.Xf.length;c<e;++c){var f=this.Xf[c](a);f instanceof Promise&&
b.push(f)}for(let c=0,e=this.ag.length;c<e;++c)f=this.ag[c](a),f instanceof Promise&&b.push(f);this.$s();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async J$(a){return await this.zS(a)}async K$(a){this.ct();for(let f=0,c=this.Xf.length;f<c;++f){var b=this.Xf[f](a);b instanceof Promise&&await b}for(let f=0,c=this.ag.length;f<c;++f)b=this.ag[f](a),b instanceof Promise&&await b;this.$s();return!a.defaultPrevented}*L$(a){this.ct();for(let f=0,c=this.Xf.length;f<c;++f){var b=
this.Xf[f](a);d.En(b)&&(yield*b)}for(let f=0,c=this.ag.length;f<c;++f)b=this.ag[f](a),d.En(b)&&(yield*b);this.$s()}}}
{"use strict";const d=self.j;d.Event.Fb=class extends d.ia{constructor(){super();this.Kq=new Map;this.UJ=!1}g(){if(this.UJ)throw Error("already released");this.lZ();this.UJ=!0;d.g(this)}hq(){return this.UJ}lZ(){for(let a of this.Kq.values())a.g();this.Kq.clear()}kq(a,b){let f=this.Kq.get(a);return f?f:b?(f=d.A(d.Event.U1,a),this.Kq.set(a,f),f):null}wG(a){return this.Kq.has(a)}addEventListener(a,b,f){this.kq(a,!0).XR(b,!!f)}removeEventListener(a,b,f){let c=this.kq(a,!1);c&&(c.xca(b,!!f),c.Kaa()&&this.Kq.delete(a))}dispatchEvent(a){const b=
this.kq(a.type,!1);return b?a.cancelable?b.M$(a):b.O$(a):!0}async KM(a){const b=this.kq(a.type,!1);return b?await b.J$(a):!0}Kga(a){const b=this.kq(a.type,!1);return b?b.zS(a):!0}async Jga(a){const b=this.kq(a.type,!1);b&&await b.K$(a)}Lga(a){const b=this.kq(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.L$(a)}Ms(a){for(const b of this.Kq.values())b.Ms(a)}}}
{"use strict";const d=self.j,a="undefined"!==typeof requestIdleCallback;let b=[],f=-1,c=0;function e(n){f=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){f=-1;if(b.length){var q=performance.now(),r=0;do{g(b.shift());var p=performance.now();++r;var w=(p-q)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>p-q+w));-1===f&&b.length&&e(Math.max(16-(p-q),4))}}function g(n){let q;try{q=n.Oi()}catch(r){n.reject(r);return}n.resolve(q)}let l=d.zQ.BA("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.tl=function(n){let q=null;d.Iu&&(q=d.$z());return new Promise((r,p)=>{b.push({Oi:n,resolve:r,reject:p,stack:q});l?g(b.pop()):-1===f&&e(16)})};d.tl.gR=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.j;let a=-1;function b(){a=-1}d.Wz=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let f=-1,c=-1,e=new Set;function k(){c=f=-1;let g=Date.now();for(let l of e)if(l.k9(g)){let n=l.Gq;if(-1===c||n<c)c=n}else e.delete(l);-1!==c&&(f=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.x2=class{constructor(g,l){this.mt=g;this.uE=1E3*l;this.Gq=0;this.Nb=!1}kd(){let g=d.Wz();this.Gq=g+this.uE;this.Nb||(e.add(this),this.Nb=!0);-1===f?(c=this.Gq,f=self.setTimeout(k,this.uE+
100)):this.Gq<c&&c>g+1E3&&(self.clearTimeout(f),c=this.Gq,f=self.setTimeout(k,this.uE+100))}k9(g){return g>=this.Gq?this.mt()?(this.Gq=g+this.uE,!0):this.Nb=!1:!0}eZ(){this.Nb&&(e.delete(this),this.Nb=!1,0===e.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}g(){this.eZ();this.mt=null}}}
{"use strict";const d=self.j;d.gd=class a{constructor(b){this.Et=!1;this.WJ=b}Tz(){this.Et||(this.Et=!0,this.WJ&&(this.WJ(),this.WJ=null))}g(){this.Tz()}static g(b){return new a(()=>b.g())}static Xd(b,f,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const k=new d.Zr;for(let g of f)b.addEventListener(g,c,e),k.Sc(d.A(d.gd,()=>b.removeEventListener(g,c,e)));return k}b.addEventListener(f,
c,e);return d.A(d.gd,()=>b.removeEventListener(f,c,e))}};d.gqa=class extends d.gd{};d.Zr=class extends d.gd{constructor(...a){super();this.Ad=new Set;for(let b of a)this.Sc(b)}Sc(...a){if(this.Et)throw Error("already disposed");for(let b of a)this.Ad.add(b)}ci(a){if(this.Et)throw Error("already disposed");this.Ad.delete(a)}Tz(){if(this.Et)throw Error("already disposed");this.Et=!0;for(let a of this.Ad)a.Tz();this.Ad.clear();this.Ad=null}g(){this.Tz()}}}
{"use strict";const d=self.j;d.Mv=class extends d.ia{constructor(){super();this.nu=this.Jy=this.T=this.gC=0}Sc(a){this.T=+a-this.gC;this.Jy=this.nu+this.T;this.gC=this.Jy-this.nu-this.T;this.nu=this.Jy}ea(){return this.nu}kd(){this.nu=this.Jy=this.T=this.gC=0}Set(a){this.Jy=this.T=this.gC=0;this.nu=+a}g(){}}}
{"use strict";const d=self.j,a={fH:function(b){this.cY=b;this.left=this.right=this.cY.sb;this.parent=null;this.color=!1;this.key=null},Rp:function(b){this.size=0;this.sb=new a.fH(this);this.sb.color=!1;this.root=this.sb;this.root.parent=this.sb;this.compare=b||this.Gga}};ya=a.Rp.prototype;ya.Gga=function(b,f){return b<f?-1:f<b?1:0};ya.clone=function(){var b=new a.Rp(this.compare);b.$ga(this);return b};ya.clear=function(){this.size=0;this.sb=new a.fH(this);this.sb.color=!1;this.root=this.sb;this.root.parent=
this.sb};ya.iz=function(b){var f=b.right;b.right=f.left;f.left!=this.sb&&(f.left.parent=b);f.parent=b.parent;b.parent==this.sb?this.root=f:b==b.parent.left?b.parent.left=f:b.parent.right=f;f.left=b;b.parent=f};ya.uz=function(b){var f=b.left;b.left=f.right;f.right!=this.sb&&(f.right.parent=b);f.parent=b.parent;b.parent==this.sb?this.root=f:b==b.parent.right?b.parent.right=f:b.parent.left=f;f.right=b;b.parent=f};ya.Fu=function(b){if(this.contains(b))this.fz(b).key=b;else{var f=new a.fH(this);f.key=
b;b=this.sb;for(var c=this.root;c!=this.sb;)b=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=b;b==this.sb?this.root=f:0>this.compare(f.key,b.key)?b.left=f:b.right=f;f.left=this.sb;f.right=this.sb;f.color=!0;this.aha(f);this.size++}};ya.aha=function(b){for(;b!=this.sb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var f=b.parent.parent.right;1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.iz(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.sb&&this.uz(b.parent.parent))}else f=b.parent.parent.left,1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.uz(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.sb&&this.iz(b.parent.parent));this.root.color=!1};ya.Iga=function(b){var f=b.left==this.sb||b.right==this.sb?b:this.up(b);var c=f.left!=this.sb?f.left:f.right;c.parent=f.parent;f.parent==
this.sb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=b&&(b.key=f.key);0==f.color&&this.Hga(c);this.size--};ya.Hga=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var f=b.parent.right;1==f.color&&(f.color=!1,b.parent.color=!0,this.iz(b.parent),f=b.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,b=b.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.uz(f),f=b.parent.right),f.color=b.parent.color,b.parent.color=!1,f.right.color=!1,this.iz(b.parent),
b=this.root)}else f=b.parent.left,1==f.color&&(f.color=!1,b.parent.color=!0,this.uz(b.parent),f=b.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,b=b.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.iz(f),f=b.parent.left),f.color=b.parent.color,b.parent.color=!1,f.left.color=!1,this.uz(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.fz(b);if(b!=this.sb){var f=b.key;this.Iga(b);return f}return null};ya.min=function(b){for(;b.left!=this.sb;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.sb;)b=b.right;return b};ya.up=function(b){if(b.right!=this.sb)return this.min(b.right);for(var f=b.parent;f!=this.sb&&b==f.right;)b=f,f=f.parent;return f};ya.fz=function(b){for(var f=this.root;f!=this.sb&&0!=this.compare(f.key,b);)f=0>this.compare(b,f.key)?f.left:f.right;return f};ya.contains=function(b){return null!=this.fz(b).key};ya.QM=function(){var b=[];this.forEach(function(f){b.push(f)});return b};ya.$ga=function(b){if("array"==a.AN(b))for(var f=0;f<b.length;f++)this.Fu(b[f]);
else if("function"==a.AN(b.forEach))b.forEach(this.Fu,this);else if("function"==a.AN(b.QM))for(b=b.QM(),f=0;f<b.length;f++)this.Fu(b[f]);else if("object"==a.AN(b))for(f in b)this.Fu(b[f])};ya.range=function(b,f){var c=[];this.Zha(function(e){c.push(e)},b,f);return c};ya.Zha=function(b,f,c){if(!this.Ju())for(f=this.fz(f),c=this.fz(c);f!=c&&!b.call(void 0,f.key,this);)f=this.up(f)};ya.forEach=function(b,f){if(!this.Ju())for(var c=this.min(this.root);c!=this.sb;c=this.up(c))b.call(f,c.key,c.key,this)};
ya.some=function(b,f){if(this.Ju())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.up(c))if(b.call(f,c.key,c.key,this))return!0;return!1};ya.every=function(b,f){if(this.Ju())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.up(c))if(!b.call(f,c.key,c.key,this))return!1;return!0};ya.map=function(b,f){var c=[];if(this.Ju())return c;for(var e=this.min(this.root);e!=this.sb;e=this.up(e))c.push(b.call(f,e.key,e.key,this));return c};ya.filter=function(b,f){var c=[];if(this.Ju())return c;
for(var e=this.min(this.root);e!=this.sb;e=this.up(e))b.call(f,e.key,e.key,this)&&c.push(e.key);return c};ya.Ju=function(){return 0==this.size};d.Rp=class extends d.ia{constructor(b){super();this.Ci=new a.Rp(b);this.Gt=!1;this.tr=new Set;this.ur=new Set}Sc(b){this.Gt?this.Ci.contains(b)?this.ur.delete(b):this.tr.add(b):this.Ci.Fu(b)}ci(b){this.Gt?this.Ci.contains(b)?this.ur.add(b):this.tr.delete(b):this.Ci.remove(b)}BA(b){return this.Gt?this.tr.has(b)?!0:!this.ur.has(b)&&this.Ci.contains(b):this.Ci.contains(b)}Jc(){this.Ci.clear();
this.tr.clear();this.ur.clear()}toArray(){if(this.Gt)throw Error("cannot be used in queueing mode");return this.Ci.QM()}wn(){return this.Ci.size+this.tr.size-this.ur.size}Bn(){return 0===this.wn()}di(b){b=!!b;if(this.Gt!==b&&(this.Gt=b,!b)){for(const f of this.ur)this.Ci.remove(f);this.ur.clear();for(const f of this.tr)this.Ci.Fu(f);this.tr.clear()}}*values(){if(!this.Bn()){var b=this.Ci;for(let f=b.min(b.root);f!=b.sb;f=b.up(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.j;d.tQ=class{constructor(a=d.hardwareConcurrency){this.Gfa=a;this.HL=[];this.jJ=0}Sc(a){return new Promise((b,f)=>{this.HL.push({Oi:a,resolve:b,reject:f});this.oT()})}async oT(){if(this.HL.length&&!(this.jJ>=this.Gfa)){this.jJ++;var a=this.HL.shift();try{const b=await a.Oi();a.resolve(b)}catch(b){a.reject(b)}this.jJ--;this.oT()}}}}
{"use strict";const d=self.j;d.n5=class{constructor(a,b,f){this.mt=a;this.pfa=b;this.qfa=f||2*b;this.ru=-1;this.uD=-Infinity;this.YW=()=>this.Vba();this.Yea=this.xK=!1;this.cx=null}daa(){return"undefined"!==typeof d.SY&&d.SY.ela()?this.qfa:this.pfa}dZ(){var a=[];if(-1===this.ru){this.cx=a;a=d.Wz();var b=a-this.uD,f=this.daa();b>=f&&this.Yea?(this.uD=a,this.OT()):this.ru=self.setTimeout(this.YW,Math.max(f-b,4))}}OT(){this.xK=!0;const a=this.cx;this.cx=null;a?this.mt(...a):this.mt();this.xK=!1}kd(){this.xK||
(this.dS(),this.cx=null,this.uD=d.Wz())}Vba(){this.ru=-1;this.uD=d.Wz();this.OT()}dS(){-1!==this.ru&&(self.clearTimeout(this.ru),this.ru=-1)}g(){this.dS();this.YW=this.cx=this.mt=null}}}"use strict";function fc(d,a){if(!d.oV)throw Error("no get base size callback set");return d.oV(a)}function gc(d){if(!d.EW)throw Error("no redraw callback set");d.EW()}self.j.poa=class{constructor(){this.mfa=new Map;this.EW=this.FW=this.oV=null}};"use strict";
self.j.ooa=class{constructor(d,a){this.Wt=d;this.afa=a;this.dd=0;fc(this.Wt,a).then(()=>{gc(this.Wt)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);gc(this.Wt)});this.IL=null}g(){if(0>=this.dd)throw Error("already released");this.dd--;0===this.dd&&this.Kw()}Kw(){if(this.IL){var d=this.Wt;if(!d.FW)throw Error("no release result callback set");d.FW(this.IL);this.IL=null}this.Wt.mfa.delete(this.afa);this.Wt=null}};
{"use strict";const d=self.j;d.Bqa="\ufeff";const a=new Set([..."0123456789"]);d.y3=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.MA=function(n){return b.has(n)};d.Uja=function(n){return[...n].filter(q=>!d.MA(q)).join("")};d.LA=function(n){for(const q of n)if(!d.MA(q))return!1;return!0};d.L3=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.t0=function(n){return[...n].filter(q=>
!d.L3(q)).join("")};const f=new Set([..."0123456789.+-e"]);d.lla=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!a.has(q))return!1;for(let r of n)if(!f.has(r))return!1;return!0};d.w5=function(n){let q=n.length;for(;0<q&&d.y3(n.charAt(q-1));)--q;return n.substr(0,q)};d.Bka=function(n){let q=d.w5(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function e(n){return c.get(n)}
const k=/[&<>"']/g;d.j0=function(n){return n.replace(k,e)};d.Pja=function(n){n=d.gj(n,"\\","\\\\");n=d.gj(n,'"','\\"');n=d.gj(n,"\t","\\t");n=d.gj(n,"\r","");return d.gj(n,"\n","\\n")};d.Qja=function(n){n=d.gj(n,"&","&amp;");n=d.gj(n,"<","&lt;");n=d.gj(n,">","&gt;");return d.gj(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.lv=function(n){return n.replace(g,"\\$&")};d.Vja=function(n,q,r=!1){if(!q)return[];r||(n=n.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let w=[];for(;-1<(p=n.indexOf(q,
p));)w.push(p),p+=r;return w};d.gj=function(n,q,r){return n.replaceAll(q,()=>r)};d.rna=function(n,q,r){return n.replace(new RegExp(d.lv(q),"gi"),()=>r)};d.Koa=function(n,q){"string"===typeof q?n.textContent=q:q.LV?n.textContent=q.toString():(n.innerHTML=q.wN(),q instanceof d.wl&&q.uga(n))};d.bqa=function(n,q){return n instanceof d.BG||n instanceof d.wl?n.fd(q):q instanceof d.BG||q instanceof d.wl?q.fd(n):n===q};d.cqa=function(n,...q){let r=n;for(let p=0,w=q.length;p<w;++p){const t=`{${p}}`;if(!n.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.dqa=function(n,...q){let r=n,p=-1,w=-1;for(let t=0,v=q.length;t<v;++t){const x=`{${t}}`;n.includes(x)?(w=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=w&&p<w)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.eqa=function(n,q){for(let [r,p]of Object.entries(q))n=n.replaceAll(r,p.toString());return n};d.Lpa=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};d.$ja=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.xsa;if(1024>n)return r(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(q+"terabytes",n)};const l={rga:!1,Dga:!0,Zga:!0,tha:!0,SX:!0};d.aka=function(n,q){q=Object.assign({},
l,q);d.O3.jna("common.time");const r=[],p=self.lang,w=self.wsa;if(q.Dga){var t=Math.floor(n/86400);0<t&&(n-=86400*t,r.push(w(".days",null,t)))}q.Zga&&(t=Math.floor(n/3600),0<t||r.length)&&(n-=3600*t,r.push(w(".hours",null,t)));q.tha&&(t=Math.floor(n/60),0<t||r.length||!q.SX)&&(n-=60*t,r.push(w(".minutes",null,t)));q.SX&&r.push(w(".seconds",null,Math.floor(n%60)));n=(q.rga?p(".approx-prefix"):"")+r.join(p(".separator"));d.O3.fna();return n};d.bra=function(n,q){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)r+="0";return r+n};d.fqa=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.rja=function(n,q){n=n.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.RX(n);d.RX(q);n=n.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=n[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.Aja=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
d.$pa=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,w=n.length;p<w;++p)n.charAt(p)!==q.charAt(p)&&++r;return r};d.aqa=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let r,p,w,t;if(n.length>q.length){var v=n;n=q;q=v}t=Array(n.length+1);for(v=0;v<=n.length;v++)t[v]=v;for(v=1;v<=q.length;v++){p=v;for(r=1;r<=n.length;r++)w=q[v-1]===n[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=w;t[n.length]=p}return t[n.length]}}
{"use strict";const d=self.j,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[]*?)\]/g;let c=null,e=0;function k(l,n,q){var r=a.get(q);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],n?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${e++}">`:l}const g=/\n/g;d.wl=class{constructor(l,n){this.li=n&&n.IX?l:d.j0(l);this.wK="";this.SU=!1;this.Xx=[];if(n&&(this.SU=!!n.vra,n.links)){if(9<n.links.length)throw Error("too many links");this.Xx=n.links}this.tV=this.li.includes("[");this.pW=this.SU&&this.li.includes("\n");this.LV=!this.tV&&!this.pW&&!this.li.includes("&");this.xV=!1;this.tx=[]}toString(){return this.li}valueOf(){return this.li}wN(){if(this.LV)return this.li;if(!this.wK&&this.li){let l=this.li;this.tV&&
(e=0,c=this.Xx,l=l.replace(b,k),c=null);this.pW&&(l=l.replace(g,"<br>"));this.wK=l}return this.wK}uga(l){if(this.Xx.length)for(let n=0,q=this.Xx.length;n<q;++n){const r=this.Xx[n];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}fd(l){return l instanceof d.BG?this.wN()===l.wN():l instanceof d.wl?this.li===l.li:this.li===l}$X(){if(this.xV)return this.tx;const l=this.li,n=[];let q=f.lastIndex=0;for(var r;null!==
(r=f.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var w=r[1],t=r[2];const v=l.substring(q,p);q=p+r[0].length;v&&this.tx.push({text:v,yd:n.slice(0)});if(t)if(w)for(t=t.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===t){n.splice(r,1);break}}else r=t,p=null,w=t.indexOf("="),-1!==w?(r=t.substring(0,w).toLowerCase(),p=t.substring(w+1)):r=r.toLowerCase(),n.push({tag:r,wd:p})}q<l.length&&this.tx.push({text:l.substring(q),yd:n.slice(0)});for(const v of this.tx)v.text=this.fca(v.text);
this.xV=!0;return this.tx}fca(l){l=d.gj(l,"\\[","[");return d.gj(l,"\\\\","\\")}static FR(l){return l.replace(f,"")}}}
{"use strict";const d=self.j;d.uw=class{constructor(){this.el=[]}qT(a,b){let f=0,c=0,e=0,k=0,g=0;for(const l of a)-1===l.width&&(a=b(l.text,l.yd),l.width=a.width,l.height=a.height,l.Pg=a.Pg||0,l.ig=a.ig||0,l.kg=a.kg||0),f+=l.width,c=Math.max(c,l.height),e=Math.max(e,l.Pg),k=Math.max(k,l.ig),g=Math.max(g,l.kg);return{width:f,height:c,Pg:e,ig:k,kg:g}}mB(a,b,f,c,e,k){this.el.push({LM:a,width:b,height:f,Pg:c,ig:e,kg:k})}uw(a,b,f,c,e){"string"===typeof a&&(a=[{text:a,yd:[]}]);d.C(this.el);if(!(!a.length||
1===a.length&&!a[0].text.length||2>f)){if(1===a.length){var k=a[0];const g=k.text;k=k.yd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,Pg:q,ig:r,kg:p}=b(g,k);l+=e;q=q||0;r=r||0;p=p||0;if(l<=f){this.mB([{text:g,yd:k,width:l,height:n,Pg:q,ig:r,kg:p}],l,n,q,r,p);return}}}if("word"===c)c=this.lea(a);else{c=[];for(const g of a)d.hp(c,[...g.text].map(l=>[{text:l,yd:g.yd}]))}this.Fea(c,b,f,e)}}lea(a){const b=[];let f=[],c=!1;for(const k of a){var e=k.text;a=k.yd;for(const g of e)"\n"===g?(0<
f.length&&b.push(f),b.push([{text:"\n",yd:a}]),f=[]):0===f.length?(f.push({text:g,yd:a}),c=d.MA(g)):(e=d.MA(g),e===c?(e=f.$e(-1),e.yd===a?e.text+=g:f.push({text:g,yd:a})):(b.push(f),f=[],f.push({text:g,yd:a}),c=e))}0<f.length&&b.push(f);return b}n9(a){return a.map(b=>({text:b.text,yd:b.yd,width:b.width,height:b.height,Pg:b.Pg,ig:b.ig,kg:b.kg}))}bS(a,b){var f=a.length?a.$e(-1):null;let c=0;f&&b[0].yd===f.yd&&(f.text+=b[0].text,f.width=-1,f.height=-1,f.Pg=-1,f.ig=-1,f.kg=-1,c=1);for(f=b.length;c<f;++c){const e=
b[c];a.push({text:e.text,yd:e.yd,width:-1,height:-1,Pg:-1,ig:-1,kg:-1})}}Fea(a,b,f,c){let e=[],k=0,g=0,l=0,n=0;var q=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===g&&(q=b(" ",r[0].yd),g=q.height,l=q.Pg||0,n=q.ig||0,q=q.kg||0);this.mB(e,k,g,l,n,q);e=[];q=n=l=g=k=0;continue}a=this.n9(e);this.bS(a,r);const p=this.qT(a,b),w=p.width;w>=f?(0<e.length&&this.mB(e,k,g,l,n,q),e=[],d.LA(r[0].text)?q=n=l=g=k=0:(this.bS(e,r),q=this.qT(e,b),k=q.width,g=q.height,l=q.Pg,n=q.ig,q=q.kg)):(e=a,k=w,g=p.height,
l=p.Pg,n=p.ig,q=p.kg)}0<e.length&&this.mB(e,k,g,l,n,q);this.oea(b,c)}oea(a,b){for(const c of this.el){const e=c.LM;if(!e.length)continue;let k=e.$e(-1);var f=k.text;const g=f.trimEnd();if(!g)c.width-=k.width,e.pop();else if(g.length<f.length){f=a(g,k.yd).width;const l=k.width-f;k.width=f;k.text=g;c.width-=l}0!==b&&0<e.length&&(k=e.$e(-1),k.width+=b,c.width+=b)}}Jc(){d.C(this.el)}RO(){return this.el.reduce((a,b)=>Math.max(a,b.width),0)}N1(){return this.el.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.j,a=self.rl,b=a.mF,f=a.yz,c=a.np,e=b.create(),k=b.create(),g=b.create(),l=f.create(),n=c.create(),q=b.create(),r=b.create(),p=b.create(),w=b.create(),t=b.create(),v=b.create(),x=b.create(),z=b.create(),D=f.jg(0,0,1,1);d.$={d5(G,H,J,P,Q,T,W){const Z=P[0]*G+P[4]*H+P[8]*J+P[12],Y=P[1]*G+P[5]*H+P[9]*J+P[13],fa=P[2]*G+P[6]*H+P[10]*J+P[14];P=P[3]*G+P[7]*H+P[11]*J+P[15];G=Q[0]*Z+Q[4]*Y+Q[8]*fa+Q[12]*P;H=Q[1]*Z+Q[5]*Y+Q[9]*fa+Q[13]*P;J=Q[2]*Z+Q[6]*Y+Q[10]*fa+Q[14]*P;Q=Q[3]*Z+Q[7]*
Y+Q[11]*fa+Q[15]*P;if(0===Q)return!1;Q=1/Q;W[0]=(G*Q*.5+.5)*T[2]+T[0];W[1]=(H*Q*.5+.5)*T[3]+T[1];W[2]=.5*(1+J*Q);return!0},Kk(G,H,J,P,Q,T,W){c.multiply(n,Q,P);if(null===c.Hu(n,n))return!1;l[0]=(G-T[0])/T[2]*2-1;l[1]=(H-T[1])/T[3]*2-1;l[2]=2*J-1;l[3]=1;f.yN(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];W[0]=l[0]*l[3];W[1]=l[1]*l[3];W[2]=l[2]*l[3];return!0},X7(G,H,J,P,Q,T,W){if(!d.$.Kk(G,H,0,P,Q,T,e)||!d.$.Kk(G,H,1,P,Q,T,k))return!1;b.hn(k,k,e);b.set(g,0,0,1);G=-J;H=b.lp(g,k);J=0;if(0===H){if(0!==b.lp(g,
e)+G)return!1}else if(J=-(b.lp(e,g)+G)/H,0>J)return!1;b.pN(W,e,k,J);return!0}};function E(G,H,J,P){b.hn(e,J,H);b.hn(k,G,H);b.IM(g,e,k);b.normalize(g,g);P.set(g[0],g[1],g[2],b.lp(G,g))}function M(G,H,J,P,Q,T,W){const Z=W.x,Y=W.y,fa=W.z,ja=W.w,xa=W.iY,Ka=W.jY;W=W.kY;const Ta=1-xa,Pa=1-Ka,Ua=1-W;return Z*G*xa+Z*P*Ta+Y*H*Ka+Y*Q*Pa+fa*J*W+fa*T*Ua>=ja?!0:Z*P*xa+Z*G*Ta+Y*Q*Ka+Y*H*Pa+fa*T*W+fa*J*Ua>ja}class B{constructor(){this.kY=this.jY=this.iY=this.w=this.z=this.y=this.x=NaN}set(G,H,J,P){this.x=G;this.y=
H;this.z=J;this.w=P;this.iY=0<G?1:0;this.jY=0<H?1:0;this.kY=0<J?1:0}}d.$.g8=class{constructor(){this.dW=new B;this.ZW=new B;this.IW=new B;this.NU=new B;this.oW=new B;this.fV=new B}$Y(G,H){d.$.Kk(0,1,0,G,H,D,q);d.$.Kk(1,1,0,G,H,D,r);d.$.Kk(0,0,0,G,H,D,p);d.$.Kk(1,0,0,G,H,D,w);d.$.Kk(0,1,1,G,H,D,t);d.$.Kk(1,1,1,G,H,D,v);d.$.Kk(0,0,1,G,H,D,x);d.$.Kk(1,0,1,G,H,D,z);E(p,q,t,this.dW);E(q,r,v,this.ZW);E(r,w,z,this.IW);E(w,p,x,this.NU);E(x,t,v,this.fV);E(w,r,q,this.oW)}DZ(G,H,J,P,Q,T){return M(G,H,J,P,Q,
T,this.dW)&&M(G,H,J,P,Q,T,this.ZW)&&M(G,H,J,P,Q,T,this.IW)&&M(G,H,J,P,Q,T,this.NU)&&M(G,H,J,P,Q,T,this.oW)&&M(G,H,J,P,Q,T,this.fV)}}}
{"use strict";const d=self.j,a=self.rl,b=a.mF,f=a.yz,c=a.np,e=c.create(),k=b.jg(0,0,0),g=b.jg(0,0,0),l=b.jg(0,0,0),n=b.jg(0,1,0);f.jg(0,0,0,0);new d.Ec;new d.Rect;const q=new d.Ec(0,0,1,0,1,1,0,1);d.$.z5=class{constructor(){this.U=this.W=0;this.jfa=d.eb(45);this.fM=Math.tan(this.jfa/2);this.KD=c.create();this.kL=c.create();this.vq=[];this.fE=new Map;this.WL=this.lE=this.mE=null;this.Hy=new Map;this.Gj=null;this.DJ=[];this.nW=new Map;this.zt=this.lt=0;this.Cfa=this.Dfa=1;this.fL=.5;this.vi=0;this.Ft=
!0;this.uK=!1}s0(r){let p=0,w=r.length,t=0;for(;p<w;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}fS(){this.zt=this.lt=0;this.WL=this.lE=this.mE=null;this.l9()}EA(){this.fS();this.Gj=null}x4(){for(const r of this.vq)r.g();this.fS()}K(){return this.W}G(){return this.U}gv(r,p,w=.5,t=.5){w=1-w;const v=1*this.fM;p*=v;c.Sga(r,(2*w-2)*p,2*w*p,(2*t-2)*v,2*t*v,1,1E4)}ZY(r,p,w){const t=self.devicePixelRatio,v=200*t*this.fM/w;p=p*v/(2*t);w=w*v/(2*t);c.zha(r,-p,p,-w,w,1,1E4)}NN(r,p,w,t,
v=this.oG()){v=200*self.devicePixelRatio*this.fM/v;b.set(l,v,-v,1);b.multiply(k,p,l);b.multiply(g,w,l);c.qha(r,k,g,t||n);c.scale(r,r,l)}dv(r,p,w,t,v,x){b.set(k,r,p,w);b.set(g,t,v,0);this.NN(e,k,g,n,x);return e}L8(r){this.vq.push(r);this.fE.set(r.Ba(),r)}zca(r){const p=this.vq.indexOf(r);-1!==p&&this.vq.splice(p,1);this.fE.delete(r.Ba())}l9(){d.C(this.vq);this.fE.clear()}eP(r){return this.fE.get(r)||null}wg(){this.Vn(this.mE)}ew(){this.Vn(this.WL)}sda(r){this.Gj=r}nY(r,p,w,t){const v=d.$.NH.WP(r,p,
w,t);let x=this.Hy.get(v);x||(x=d.A(d.$.NH,this,r,p,w,t),this.Hy.set(v,x));x.DY();return x}CQ(r){r.$Z();0===r.dd&&(this.Gj===r&&(this.Gj=null),this.Hy.delete(r.o1()),r.g())}vaa(r){d.C(this.DJ);this.nW.clear();for(const p of r){r=p[0];const w=p[1],t=p[2];this.DJ.push([w,t]);this.nW.set(r,{Yta:w,Cra:t})}}Y$(r){return this.DJ[r]}aw(r){this.lt=r}Rn(r){this.zt=r;this.Gj=null}PA(r,p,w,t,v,x){var z=this.fL;r=r+z-x;p=p+z-v;w=w+z+x;t=t+z+v;z=2*x;const D=2*v;this.Fs(r+v,p-x,0,w+v,t-x,0,w-v-z,t+x-D,0,r-v+z,
p+x+D,0,q)}OA(r,p,w,t,v,x){const z=this.fL;r=r+z-x;p=p+z-v;w=w+z+x;t=t+z+v;this.Fs(r+v,p-x,0,w+v,t-x,0,w-v,t+x,0,r-v,p+x,0,q)}NA(r,p,w,t,v,x){const z=this.fL;r+=z;p+=z;w+=z;t+=z;this.Fs(r+v,p-x,0,w+v,t-x,0,w-v,t+x,0,r-v,p+x,0,q)}Q3(r,p,w,t){const v=.5*this.Dfa,x=this.Cfa;2===x?this.Qaa(r,p,w,t,v):1===x?this.Paa(r,p,w,t,v):this.Oaa(r,p,w,t,v)}Qaa(r,p,w,t,v){this.PA(r,p,w,p,0,v);this.PA(w,p,w,t,v,0);this.PA(w,t,r,t,0,-v);this.PA(r,t,r,p,-v,0)}Paa(r,p,w,t,v){this.OA(r,p,w,p,0,v);this.OA(w,p,w,t,v,0);
this.OA(w,t,r,t,0,-v);this.OA(r,t,r,p,-v,0)}Oaa(r,p,w,t,v){this.NA(r,p,w,p,0,v);this.NA(w,p,w,t,v,0);this.NA(w,t,r,t,0,-v);this.NA(r,t,r,p,-v,0)}OP(r){this.Q3(r.M,r.J,r.V,r.S)}EZ(r){var p=r.length/2;if(3>p)throw Error("need at least 3 points");p-=2;const w=p-1,t=r[0],v=r[1];for(let x=0;x<p;x+=2){const z=2*x,D=r[z+2],E=r[z+3],M=r[z+4],B=r[z+5];x===w?this.dH(t,v,D,E,M,B,M,B):this.dH(t,v,D,E,M,B,r[z+6],r[z+7])}}es(){this.Vi();this.vi++}D2(){this.vi++}xH(r){this.Ft=!!r}u6(r){this.uK=!!r}Lv(){return!1}}}
{"use strict";const d=self.j;d.$.NH=class{constructor(a,b,f,c,e){this.ga=a;this.dd=0;this.kb=null;this.wy="";this.lo=f;this.Ja=d.A(d.$a);this.Ja.set(c);this.ud=e;"string"===typeof b?this.wy=b:(this.kb=b,this.wy=this.kb.Ba())}g(){if(0<this.dd)throw Error("releasing state group still in use");this.kb=this.ga=null;this.wy=""}LY(){const a=this.ga;a.Vn(this.kb);a.pf(this.lo);a.jj(this.Ja);a.Rn(this.ud);a.sda(this)}o1(){return d.$.NH.WP(this.wy,this.lo,this.Ja,this.ud)}DY(){++this.dd}$Z(){--this.dd}Pl(){this.kb=
null}$G(a){this.kb=a.eP(this.wy);if(!this.kb)throw Error("failed to restore shader program");}static WP(a,b,f,c){return("string"===typeof a?a:a.Ba())+","+b+","+f.Za+","+f.cb+","+f.bb+","+f.Wa+","+c}}}
{"use strict";const d=self.j,a=d.A(d.Ec);function b(f,c,e){const k=e.rb,g=e.mb;return[k+(e.Vb-k)*f+(e.ic-k)*c,g+(e.hc-g)*f+(e.jc-g)*c]}d.$.d4=class{constructor(f){this.oL=f;this.Nh=this.Lh=this.ud=this.T=this.X=0}qj(f,c,e,k){this.X=f;this.T=c;this.Lh=e;this.Nh=k}O(){return this.X}Tf(f){this.X!==f&&(this.X=f,this.oL.UI())}P(){return this.T}kh(f){this.T!==f&&(this.T=f,this.oL.UI())}Ua(){return this.ud}Le(f){this.ud!==f&&(this.ud=Math.max(f,0),this.oL.UI())}EH(f){this.Lh=f}FH(f){this.Nh=f}Haa(f,c,e){[this.X,
this.T]=b(f.X,f.T,c);this.ud=f.ud;this.Lh=d.nc(e.M,e.V,f.Lh);this.Nh=d.nc(e.J,e.S,f.Nh)}Gaa(f,c,e){[this.X,this.T]=b(f.X,f.T,c);this.ud=f.ud;[this.Lh,this.Nh]=b(f.Lh,f.Nh,e)}Xb(){return{x:this.O(),y:this.P(),z:this.Ua(),u:this.Lh,v:this.Nh}}Pb(f){this.Tf(f.x);this.kh(f.y);f.hasOwnProperty("z")&&this.Le(f.z);this.EH(f.u);this.FH(f.v)}};d.$.ZP=class{constructor(f,c,e){if(2>f||2>c)throw Error("invalid mesh size");this.Zk=f;this.ll=c;this.yc=e||null;this.Jo=[];this.kW=this.jW=0;this.hW=this.gW=1;this.iW=
0;this.DL=!1;e=f-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<f;++n){const q=d.A(d.$.d4,this,n,g),r=n/e,p=g/k;q.qj(r,p,r,p);l.push(q)}this.Jo.push(l)}}g(){d.C(this.Jo)}UI(){this.DL=!0}Ew(){if(this.DL){var f=Infinity,c=Infinity,e=-Infinity,k=-Infinity,g=0;for(const l of this.Jo)for(const n of l){const q=n.O(),r=n.P();f=Math.min(f,q);c=Math.min(c,r);e=Math.max(e,q);k=Math.max(k,r);g=Math.max(g,n.Ua())}this.jW=f;this.kW=c;this.gW=e;this.hW=k;this.iW=g;this.DL=!1}}A1(){this.Ew();return this.jW}B1(){this.Ew();
return this.kW}v1(){this.Ew();return this.gW}w1(){this.Ew();return this.hW}x1(){this.Ew();return this.iW}ns(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.Zk||0>c||c>=this.ll?null:this.Jo[c][f]}ON(f,c,e){const k=e instanceof d.Rect;if(f.Zk!==this.Zk||f.ll!==this.ll)throw Error("source mesh wrong size");f=f.Jo;const g=this.Jo;for(let l=0,n=g.length;l<n;++l){const q=f[l],r=g[l];for(let p=0,w=r.length;p<w;++p){const t=q[p],v=r[p];k?v.Haa(t,c,e):v.Gaa(t,c,e)}}}Nd(f){const c=this.Jo;let e=c[0];
for(let k=1,g=c.length;k<g;++k){const l=c[k];let n=e[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const w=e[r],t=l[r];a.set(n.Lh,n.Nh,w.Lh,w.Nh,t.Lh,t.Nh,q.Lh,q.Nh);f.Fs(n.O(),n.P(),n.Ua(),w.O(),w.P(),w.Ua(),t.O(),t.P(),t.Ua(),q.O(),q.P(),q.Ua(),a);n=w;q=t}e=l}}h3(f){f=f.Pc;const c=[],e=this.Zk-1,k=this.ll-1,g=1/e,l=1/k,n=e-1,q=k-1;let r=f[0],p=f[1],w=d.fa(Math.floor(r*e),0,n),t=d.fa(Math.floor(p*k),0,q),v=0,x=0,z=0;var D=-1;const E=()=>{r=d.fa(d.nc(r,v,z),0,1);p=d.fa(d.nc(p,x,z),0,1);c.push(r,p)};for(let M=
0,B=f.length;M<B;M+=2)for(r=f[M],p=f[M+1],c.push(r,p),w=d.fa(Math.floor(r*e),0,n),t=d.fa(Math.floor(p*k),0,q),D=(M+2)%B,v=f[D],x=f[D+1],D=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const G=w*g,H=t*l,J=(w+1)*g,P=(t+1)*l;if(0!==D&&(z=d.rz(r,p,v,x,G,H,J,P,-.001),0<=z&&.99999999>=z)){E();D=0;continue}if(0<t&&2!==D&&(z=d.rz(r,p,v,x,G,H,J,H,.001),0<=z&&.99999999>=z)){E();t--;D=4;continue}if(w<n&&3!==D&&(z=d.rz(r,p,v,x,J,H,J,P,.001),0<=z&&.99999999>=z)){E();w++;D=1;continue}if(0<w&&1!==
D&&(z=d.rz(r,p,v,x,G,H,G,P,.001),0<=z&&.99999999>=z)){E();w--;D=3;continue}if(t<q&&4!==D&&(z=d.rz(r,p,v,x,G,P,J,P,.001),0<=z&&.99999999>=z)){E();t++;D=2;continue}break}return d.A(d.nn,c)}R7(f,c){f=this.mea(f);this.bea(f);c.gF(f)}mea(f){const c=[];f=f.Pc;for(let e=0,k=f.length;e<k;e+=2){const [g,l]=this.QH(f[e],f[e+1]);c.push(g,l)}return c}QH(f,c){var e=this.Zk-1,k=this.ll-1;const g=1/e,l=1/k;e=d.fa(Math.floor(f*e),0,e-1);const n=d.fa(Math.floor(c*k),0,k-1);k=e*g;const q=n*l,r=(e+1)*g,p=(n+1)*l,w=
this.ns(e,n),t=this.ns(e+1,n+1),v=d.gha(f,c,k,q,r,q,r,p);e=this.ns(e+(v?1:0),n+(v?0:1));const [x,z,D]=d.aia(f,c,k,q,v?k+g:k,v?q:q+l,r,p);return d.$ha(x,z,D,w.O(),w.P(),e.O(),e.P(),t.O(),t.P())}bea(f){const c=[];let e=f[0],k=f[1],g=e-f.$e(-2),l=k-f.$e(-1);for(let q=0,r=f.length;q<r;q+=2){var n=(q+2)%r;const p=f[n];n=f[n+1];const w=p-e,t=n-k,v=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(l)||v)&&1E-7<Math.abs(w/g-t/l)||
0==w&&0===t)&&c.push(e,k);e=p;k=n;g=w;l=t}6<=c.length&&c.length<f.length&&d.xd(f,c)}Xb(){return{cols:this.Zk,rows:this.ll,points:this.Jo.map(f=>f.map(c=>c.Xb()))}}Pb(f){const c=this.Zk,e=this.ll;if(f.cols!==c||f.rows!==e)throw Error("mesh data wrong size");f=f.points;for(let k=0;k<e;++k){const g=f[k];for(let l=0;l<c;++l)this.ns(l,k).Pb(g[l])}}}}
{"use strict";const d=self.j,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function e(n,q){let r,p;switch(n){case "rgba8":n=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{tN:n,Gu:r,format:p,type:q}}const k={jn:"clamp-to-edge",kn:"clamp-to-edge",Dd:"trilinear",gp:0,gN:"rgba8",ZE:!0,mz:"default",premultiplyAlpha:!0,CX:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.$.lB=class{constructor(n){this.ga=n;this.hb=null;this.U=this.W=0;this.wi=!0;this.Ym=this.Xm="clamp-to-edge";this.zc="trilinear";this.sJ=0;this.Ho="rgba8";this.vm=!1;this.hr=
"default";this.dd=0}C9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.hb)throw Error("already created texture");this.Xm=q.jn;this.Ym=q.kn;
this.zc=q.Dd;this.sJ=q.gp;this.Ho=q.gN;this.vm=!!q.ZE&&this.ga.Ft;this.hr=q.mz;if(!c.has(this.Xm)||!c.has(this.Ym))throw Error("invalid wrap mode");if(!b.has(this.zc))throw Error("invalid sampling");if(!a.has(this.Ho))throw Error("invalid pixel format");if(!f.has(this.hr))throw Error("invalid mipmap quality");this.wi=!0;if(n instanceof ArrayBuffer||null===n||q.CX){if(this.W=q.width,this.U=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.W*this.U*4)throw Error("ArrayBuffer wrong size");}else this.W=
n.width,this.U=n.height;if(0>=this.W||0>=this.U)throw Error("invalid texture data size");if(q.CX){var r=d.ef(this.W,this.U);r.getContext("2d").drawImage(n,0,0,this.W,this.U);n=r}var p=d.sl(this.W)&&d.sl(this.U);r=this.ga.LD;if(this.W>r||this.U>r)throw Error("texture data exceeds maximum texture size");r=this.ga.Y;var w=this.ga.Vd;this.hb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.hb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=e(this.Ho,r);if(this.ga.cq()||p||!this.yI())2<=w?(r.texStorage2D(r.TEXTURE_2D,this.vm?Math.floor(Math.log2(Math.max(this.W,this.U))+1):1,q.tN,this.W,this.U),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.W,this.U,q.format,q.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.Gu,this.W,this.U,0,q.format,q.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,q.Gu,this.W,this.U,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.Gu,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.W,this.U));n instanceof ImageData&&(p=d.ef(this.W,this.U),p.getContext("2d").putImageData(n,0,0),n=p);p=d.ef(d.aN(this.W),d.aN(this.U));w=p.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.zc;w.drawImage(n,0,0,this.W,this.U,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.Gu,q.format,q.type,p)}null!==n&&this.mU(r);r.bindTexture(r.TEXTURE_2D,null);this.ga.KI();this.dd=1;l.add(this)}p9(n,q,r){r=Object.assign({},k,r);if(this.hb)throw Error("already created texture");this.Xm=r.jn;this.Ym=r.kn;this.zc=r.Dd;this.Ho=r.gN;this.vm=!!r.ZE&&this.ga.Ft;this.hr=r.mz;if(!c.has(this.Xm)||!c.has(this.Ym))throw Error("invalid wrap mode");if(!b.has(this.zc))throw Error("invalid sampling");if(!a.has(this.Ho))throw Error("invalid pixel format");if(!f.has(this.hr))throw Error("invalid mipmap quality");
this.wi=!1;this.W=Math.floor(n);this.U=Math.floor(q);n=d.sl(this.W)&&d.sl(this.U);q=this.ga.LD;if(0>=this.W||0>=this.U)throw Error("invalid texture size");if(this.W>q||this.U>q)throw Error("texture exceeds maximum texture size");if(!this.ga.cq()&&this.yI()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ga.Y;q=this.ga.Vd;this.hb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.hb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=e(this.Ho,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?r.tN:r.Gu,this.W,this.U,0,r.format,r.type,null);this.mU(n);n.bindTexture(n.TEXTURE_2D,null);this.ga.KI();this.dd=1;l.add(this)}vI(n){if("default"===this.hr)return this.wi?n.NICEST:n.FASTEST;if("low"===this.hr)return n.FASTEST;if("high"===this.hr)return n.NICEST;throw Error("invalid mipmap quality");}yI(){return"clamp-to-edge"!==this.Xm||"clamp-to-edge"!==this.Ym}QS(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}mU(n){var q=d.sl(this.W)&&d.sl(this.U);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.QS(n,this.Xm));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.QS(n,this.Ym));"nearest"===this.zc?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.vm=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.ga.cq())&&this.vm?(n.hint(n.GENERATE_MIPMAP_HINT,
this.vI(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.zc||this.ga.uK?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.vm=!1));(q=this.ga.Vw)&&0<this.sJ&&"nearest"!==this.zc&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.sJ,this.ga.mL))}yU(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.hb||0>=this.dd)throw Error("texture not created");if(this.wi)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=n.width||n.videoWidth,p=n.height||n.videoHeight;var w=this.ga.Vd;
const t=this.ga.Y;t.bindTexture(t.TEXTURE_2D,this.hb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=e(this.Ho,t);w=2<=w?q.tN:q.Gu;try{if(this.W===r&&this.U===p){const v=d.sl(this.W)&&d.sl(this.U);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n);(v||this.ga.cq())&&this.vm&&(t.hint(t.GENERATE_MIPMAP_HINT,this.vI(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.W=r;this.U=p;const v=d.sl(this.W)&&d.sl(this.U);if(!this.ga.cq()&&this.yI()&&
!v)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,w,q.format,q.type,n);(v||this.ga.cq())&&this.vm&&(t.hint(t.GENERATE_MIPMAP_HINT,this.vI(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}t.bindTexture(t.TEXTURE_2D,null);this.ga.KI()}hI(){if(0<this.dd)throw Error("texture still has references");if(!this.hb)throw Error("already deleted texture");l.delete(this);this.ga.Y.deleteTexture(this.hb);this.hb=null}pb(){return this.ga}K7(){if(0>=
this.dd)throw Error("no more references");this.dd--}K(){return this.W}G(){return this.U}$F(){let n=this.W*this.U;switch(this.Ho){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.vm&&(n+=Math.floor(n/3));return n}static Pl(){l.clear()}static mga(){return l.values()}}}
{"use strict";const d=self.j,a=self.rl.np,b=new Set(["nearest","bilinear","trilinear"]),f={Dd:"trilinear",alpha:!0,depth:!1,VM:!0,AX:!0,uha:0},c=new Set;d.$.TH=class{constructor(e){this.ga=e;this.Jm=this.hb=this.Oj=null;this.U=this.W=0;this.Lx=!0;this.zc="trilinear";this.it=!0;this.Hj=!1;this.Nx=!0;this.Cm=0;this.mr=a.create()}o9(e,k,g){g=Object.assign({},f,g);const l=this.ga.Vd;if(this.hb||this.Jm)throw Error("already created render target");this.zc=g.Dd;this.it=!!g.alpha;this.Hj=!!g.depth;this.Nx=
!!g.VM;this.Lx=!!g.AX;this.Cm=g.uha;if(!b.has(this.zc))throw Error("invalid sampling");if(0<this.Cm&&(2>l||this.Nx))throw Error("invalid use of multisampling");2>l&&(this.Nx=!0);this.W=e;this.U=k;if(0>=this.W||0>=this.U)throw Error("invalid render target size");this.cS();e=this.ga.Y;this.Oj=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,this.Oj);this.Nx?(this.hb=this.ga.cO(this.W,this.U,{Dd:this.zc,gN:this.it?"rgba8":"rgb8",ZE:!1}),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.hb.hb,0)):(this.Jm=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.Jm),k=this.it?e.RGBA8:e.RGB8,0<this.Cm&&((g=e.getInternalformatParameter(e.RENDERBUFFER,k,e.SAMPLES))&&g[0]?(g=g[0],this.Cm>g&&(this.Cm=g)):this.Cm=0),0===this.Cm?e.renderbufferStorage(e.RENDERBUFFER,k,this.W,this.U):e.renderbufferStorageMultisample(e.RENDERBUFFER,this.Cm,k,this.W,this.U),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.Jm),e.bindRenderbuffer(e.RENDERBUFFER,null));
k=this.ga.Hq;this.Hj&&k&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,k);e.bindFramebuffer(e.FRAMEBUFFER,null);c.add(this)}JT(e,k){if(this.W!==e||this.U!==k)this.W=e,this.U=k,this.cS(),e=this.ga.Y,e.bindFramebuffer(e.FRAMEBUFFER,this.Oj),this.hb?this.hb.yU(new ImageData(this.W,this.U)):(e.bindRenderbuffer(e.RENDERBUFFER,this.Jm),e.renderbufferStorage(e.RENDERBUFFER,this.it?e.RGBA8:e.RGB8,this.W,this.U),e.bindRenderbuffer(e.RENDERBUFFER,null)),k=this.ga.Hq,this.Hj&&
k&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,k),e.bindFramebuffer(e.FRAMEBUFFER,null)}hI(){if(!this.hb&&!this.Jm)throw Error("already deleted render target");c.delete(this);const e=this.ga.Y;e.bindFramebuffer(e.FRAMEBUFFER,this.Oj);this.hb?(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),this.ga.Ie(this.hb),this.hb=null):this.Jm&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null),e.deleteRenderbuffer(this.Jm),
this.Jm=null);e.bindFramebuffer(e.FRAMEBUFFER,null);2<=this.ga.Vd&&(e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null));e.deleteFramebuffer(this.Oj);this.Oj=this.ga.Mc.jp=null}cS(){this.ga.gv(this.mr,this.W/this.U)}pb(){return this.ga}Cb(){return this.hb}OG(){return"nearest"!==this.zc}K(){return this.W}G(){return this.U}p3(e){e=Object.assign({},f,e);return"nearest"!==e.Dd!==this.OG()||!!e.alpha!==this.it||!!e.depth!==this.Hj||2<=this.ga.Vd&&!!e.VM!==this.Nx?!1:"number"===
typeof e.width||"number"===typeof e.height?!this.Lx&&this.K()===e.width&&this.G()===e.height:this.Lx}$F(){return this.hb?this.hb.$F():this.W*this.U*(this.it?4:3)}static async TZ(e,k){e=await e.o5(k);return await d.y2(e)}static Pl(){c.clear()}}}
{"use strict";const d=self.j;d.$.rw=class{static async AZ(a,b,f,c){const e=a.Y,k=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(k,b);e.compileShader(k);b=e.createShader(e.VERTEX_SHADER);e.shaderSource(b,f);e.compileShader(b);const g=e.createProgram();e.attachShader(g,k);e.attachShader(g,b);e.bindAttribLocation(g,0,"aPos");e.bindAttribLocation(g,1,"aTex");e.bindAttribLocation(g,2,"aPoints");e.linkProgram(g);const l=a.BL;l?await a.Cea(()=>e.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.SH(5);
if(!e.getShaderParameter(k,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(k),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!e.getShaderParameter(b,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(b),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!e.getProgramParameter(g,e.LINK_STATUS))throw c=e.getProgramInfoLog(g),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.t0(e.getProgramInfoLog(g)||"").trim())&&!d.LA(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);e.deleteShader(k);e.deleteShader(b);return g}static async Ta(a,b,f,c){f=await d.$.rw.AZ(a,b.src,f,c);return new d.$.rw(a,f,b,c)}constructor(a,b,f,c){const e=a.Y;var k=a.Mc;a.Vi();e.useProgram(b);this.Y=e;this.ga=a;this.Fa=c;this.kb=b;this.cD="<default-device-transform>"===c;c=e.getAttribLocation(b,"aPos");const g=e.getAttribLocation(b,"aTex");this.iL=e.getAttribLocation(b,"aPoints");
-1!==c&&(e.bindBuffer(e.ARRAY_BUFFER,a.HE),e.vertexAttribPointer(c,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(c));-1!==g&&(e.bindBuffer(e.ARRAY_BUFFER,a.sE),e.vertexAttribPointer(g,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(g));-1!==this.iL&&(e.bindBuffer(e.ARRAY_BUFFER,a.UD),e.vertexAttribPointer(this.iL,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.iL));e.bindBuffer(e.ARRAY_BUFFER,null);this.nM=new d.$.Lc(this,"matP","mat4");this.mM=new d.$.Lc(this,"matMV","mat4");this.Hr=new d.$.Lc(this,"color",
"vec4");this.ega=new d.$.Lc(this,"samplerFront","sampler");this.qM=new d.$.Lc(this,"pointTexStart","vec2");this.pM=new d.$.Lc(this,"pointTexEnd","vec2");this.tM=new d.$.Lc(this,"zElevation","float");this.rM=new d.$.Lc(this,"tileSize","vec2");this.sM=new d.$.Lc(this,"tileSpacing","vec2");this.lM=new d.$.Lc(this,"color2_","vec4");this.oM=new d.$.Lc(this,"outlineThickness","float");this.vu=new d.$.Lc(this,"samplerBack","sampler");this.Qm=new d.$.Lc(this,"destStart","vec2");this.Pm=new d.$.Lc(this,"destEnd",
"vec2");this.hk=new d.$.Lc(this,"srcStart","vec2");this.Rm=new d.$.Lc(this,"srcEnd","vec2");this.Tm=new d.$.Lc(this,"srcOriginStart","vec2");this.Sm=new d.$.Lc(this,"srcOriginEnd","vec2");this.Mh=new d.$.Lc(this,"pixelSize","vec2");this.Yo=new d.$.Lc(this,"seconds","float");this.Vo=new d.$.Lc(this,"layerScale","float");this.Uo=new d.$.Lc(this,"layerAngle","float");this.Xo=new d.$.Lc(this,"layoutStart","vec2");this.Wo=new d.$.Lc(this,"layoutEnd","vec2");this.uV=!!(this.Mh.ca||this.Yo.ca||this.vu.ca||
this.Qm.ca||this.Pm.ca||this.hk.ca||this.Rm.ca||this.Tm.ca||this.Sm.ca||this.Vo.ca||this.Uo.ca||this.Xo.ca||this.Wo.ca);this.cV=f.Cu||0;this.dV=f.Du||0;this.OJ=!!f.Bu;this.Ifa=!!f.Nu;this.fu=!!f.Ou;this.XB=!!f.yu;a=f.parameters||[];this.Ir=[];this.Wy=this.Qm.ca||this.Pm.ca;this.hga=this.Mh.ca||this.hk.ca||this.Rm.ca||this.Tm.ca||this.Sm.ca;this.Kfa=this.OJ||this.Wy||0!==this.cV||0!==this.dV;this.rK=this.sK=!1;this.Hr.wP();this.lM.wP();this.ega.vP(0);this.vu.vP(1);this.qM.$g(0,0);this.pM.$g(1,1);this.tM.ws(0);
this.rM.$g(0,0);this.sM.$g(0,0);this.Qm.$g(0,0);this.Pm.$g(1,1);this.hk.$g(0,0);this.Rm.$g(0,0);this.Tm.$g(0,0);this.Sm.$g(0,0);this.Mh.$g(0,0);this.Vo.ws(1);this.Uo.ws(0);this.Yo.ws(0);this.Xo.$g(0,0);this.Wo.$g(0,0);this.oM.ws(1);for(const l of a)a=l[2],b=new d.$.Lc(this,l[0],a),"color"===a?b.E2():b.ws(0),this.Ir.push(b);this.cD?this.DU(k.az):(this.jB(k.az,!0),this.iB(k.SE,!0));k=k.Mi;e.useProgram(k?k.kb:null)}g(){this.Y.deleteProgram(this.kb);this.kb=null;this.ga.zca(this);this.ga=this.Y=null}Ba(){return this.Fa}In(){return this.Ifa}qA(a){return this.Ir[a].zk()}MY(a){for(let b=
0,f=a.length;b<f;++b)if(!this.Ir[b].F3(a[b]))return!1;return!0}f6(a){for(let b=0,f=a.length;b<f;++b)this.Ir[b].a6(a[b])}NY(a,b,f,c,e,k,g,l,n){return this.vu.ca||this.Mh.ca&&!this.Mh.Nl(e,k)||this.Qm.ca&&!this.Qm.Nl(a.M,a.J)||this.Pm.ca&&!this.Pm.Nl(a.V,a.S)||this.Vo.ca&&!this.Vo.TG(g)||this.Uo.ca&&!this.Uo.TG(l)||this.hk.ca&&!this.hk.Nl(b.M,b.J)||this.Rm.ca&&!this.Rm.Nl(b.V,b.S)||this.Tm.ca&&!this.Tm.Nl(f.M,f.J)||this.Sm.ca&&!this.Sm.Nl(f.V,f.S)||this.Xo.ca&&!this.Xo.Nl(c.M,c.J)||this.Wo.ca&&!this.Wo.Nl(c.J,
c.S)||this.Yo.ca&&!this.Yo.TG(n)?!1:!0}N6(a,b,f,c,e,k,g,l,n){this.vu.ca||(this.Mh.ca&&this.Mh.Tl(e,k),this.Qm.ca&&this.Qm.Tl(a.M,a.J),this.Pm.ca&&this.Pm.Tl(a.V,a.S),this.Vo.ca&&this.Vo.qH(g),this.Uo.ca&&this.Uo.qH(l),this.hk.ca&&this.hk.Tl(b.M,b.J),this.Rm.ca&&this.Rm.Tl(b.V,b.S),this.Tm.ca&&this.Tm.Tl(f.M,f.J),this.Sm.ca&&this.Sm.Tl(f.V,f.S),this.Xo.ca&&this.Xo.Tl(c.M,c.J),this.Wo.ca&&this.Wo.Tl(c.J,c.S),this.Yo.ca&&this.Yo.qH(n))}jB(a,b){this.sK&&!b||this.cD||(this.nM.ca&&this.nM.kB(a),this.sK=
!0)}K6(){this.sK=!1}iB(a,b){this.rK&&!b||this.cD||(this.mM.ca&&this.mM.kB(a),this.rK=!0)}J6(){this.rK=!1}DU(a){if(!this.cD)throw Error("not device transform shader");this.nM.kB(a);a=this.ga;const b=a.K()/2,f=a.G()/2;a=a.dv(b,f,100*self.devicePixelRatio,b,f);this.mM.kB(a)}a8(a){this.Hr.ca&&this.Hr.hB(a[0],a[1],a[2],a[3])}static gA(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,
`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.j,a=self.rl.np,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.$.Lc=class{constructor(f,c,e){if(!b.has(e))throw Error("invalid uniform type");this.yc=f;this.Y=this.yc.Y;this.Fa=c;this.za=e;this.IK="color"===this.za;this.xi=this.Y.getUniformLocation(this.yc.kb,c);this.ca=!!this.xi;f=b.get(e);this.ac=new Float32Array(f);this.Zj=new Float32Array(f)}g(){this.xi=this.Y=this.yc=null}zk(){return this.za}ws(f){this.ca&&
(this.ac[0]=f,this.Zj.set(this.ac),this.Y.uniform1f(this.xi,f))}vP(f){this.ca&&(this.ac[0]=f,this.Zj.set(this.ac),this.Y.uniform1i(this.xi,f))}$g(f,c){this.ca&&(this.ac[0]=f,this.ac[1]=c,this.Zj.set(this.ac),this.Y.uniform2f(this.xi,f,c))}E2(){this.ca&&(this.ac[0]=0,this.ac[1]=0,this.ac[2]=0,this.Zj.set(this.ac),this.Y.uniform3f(this.xi,0,0,0))}wP(){this.ca&&(this.ac[0]=1,this.ac[1]=1,this.ac[2]=1,this.ac[3]=1,this.Zj.set(this.ac),this.Y.uniform4f(this.xi,1,1,1,1))}Ws(f){f=Math.fround(f);const c=
this.ac;c[0]!==f&&(c[0]=f,this.Y.uniform1f(this.xi,f))}sf(f,c){f=Math.fround(f);c=Math.fround(c);const e=this.ac;if(e[0]!==f||e[1]!==c)e[0]=f,e[1]=c,this.Y.uniform2f(this.xi,f,c)}Y7(f,c,e){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);const k=this.ac;if(k[0]!==f||k[1]!==c||k[2]!==e)k[0]=f,k[1]=c,k[2]=e,this.Y.uniform3f(this.xi,f,c,e)}hB(f,c,e,k){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);k=Math.fround(k);const g=this.ac;if(g[0]!==f||g[1]!==c||g[2]!==e||g[3]!==k)g[0]=f,g[1]=c,g[2]=e,g[3]=
k,this.Y.uniform4f(this.xi,f,c,e,k)}kB(f){const c=this.ac;a.nk(c,f)||(d.bia(c,f),this.Y.uniformMatrix4fv(this.xi,!1,f))}F3(f){const c=this.Zj;return this.IK?c[0]===Math.fround(f.Za)&&c[1]===Math.fround(f.cb)&&c[2]===Math.fround(f.bb):c[0]===Math.fround(f)}a6(f){const c=this.Zj;this.IK?(c[0]=f.Za,c[1]=f.cb,c[2]=f.bb):c[0]=f}TG(f){return this.Zj[0]===Math.fround(f)}Nl(f,c){const e=this.Zj;return e[0]===Math.fround(f)&&e[1]===Math.fround(c)}qH(f){this.Zj[0]=f}Tl(f,c){const e=this.Zj;e[0]=f;e[1]=c}}}
{"use strict";const d=self.j,a=self.rl,b=a.yz,f=a.np;d.$.RY=class{constructor(c){this.Kf=c;this.SE=f.create();this.az=f.create();this.jp=null;this.RE=b.jg(1,1,1,1);this.Mi=null;this.hN=new d.Rect;this.clearColor=d.A(d.$a,0,0,0,0)}};d.$.n8=class{constructor(c){const e=new ArrayBuffer(96);this.za=0;this.Mc=c;this.Y=c.Kf.Y;this.Uq=this.Ih=0;this.Cf=null;this.Te=new Float32Array(e,0,16);this.Dq=new Float32Array(e,64,4);this.SW=new Float32Array(e,80,4);this.eE=[]}T2(c){this.za=1;this.Ih=c;this.Uq=6}o_(){const c=
this.Y;c.drawElements(c.TRIANGLES,this.Uq,c.UNSIGNED_SHORT,this.Ih)}b3(c){this.za=2;this.Cf=c}A_(){const c=this.Y,e=this.Cf;c.bindTexture(c.TEXTURE_2D,e?e.hb:null)}EG(c){this.za=3;c.Qh(this.Dq,0)}q_(){const c=this.Dq,e=this.Mc;b.qa(e.RE,c);e.Mi.a8(c)}t_(){const c=this.Dq,e=this.Mc.Mi;e.lM.ca&&e.lM.hB(c[0],c[1],c[2],c[3])}U2(c,e){this.za=4;this.Ih=c;this.Uq=e}p_(){this.Y.blendFunc(this.Ih,this.Uq)}d3(c,e){this.za=5;const k=this.Dq;k[0]=0;k[1]=0;k[2]=c;k[3]=e}C_(){const c=this.Dq;this.Y.viewport(c[0],
c[1],c[2],c[3])}Z2(c){this.za=6;f.qa(this.Te,c)}y_(){const c=this.Mc,e=c.Kf.vq,k=c.Mi,g=this.Te;for(let l=0,n=e.length;l<n;++l){const q=e[l];q===k?q.jB(g,!0):q.K6()}f.qa(c.az,g)}W2(c){this.za=7;f.qa(this.Te,c)}u_(){const c=this.Mc,e=c.Kf.vq,k=c.Mi,g=this.Te;for(let l=0,n=e.length;l<n;++l){const q=e[l];q===k?q.iB(g,!0):q.J6()}f.qa(c.SE,g)}a3(c){this.za=8;this.Cf=c}z_(){const c=this.Y;var e=this.Cf;const k=this.Mc;e?(e=e.Oj,k.jp=e,c.bindFramebuffer(c.FRAMEBUFFER,e)):(k.jp=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}J2(c){this.za=9;c.Qh(this.Te,0)}K2(){this.za=9;const c=this.Te;c[0]=0;c[1]=0;c[2]=0;c[3]=0}h_(){const c=this.Y;var e=this.Te,k=this.Mc;const g=k.clearColor;(k=k.Kf.br&&d.Iu)&&c.disable(c.SCISSOR_TEST);const l=e[0],n=e[1],q=e[2];e=e[3];g.ez(l,n,q,e)||(c.clearColor(l,n,q,e),g.sp(l,n,q,e));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}I2(c,e,k,g){this.za=10;const l=this.Te;l[0]=c;l[1]=e;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}g_(){const c=this.Y;var e=this.Te,k=this.Mc;const g=k.Kf;
k=k.clearColor;g.br||c.enable(c.SCISSOR_TEST);c.scissor(e[0],e[1],e[2],e[3]);const l=e[4],n=e[5],q=e[6];e=e[7];k.ez(l,n,q,e)||(c.clearColor(l,n,q,e),k.sp(l,n,q,e));c.clear(c.COLOR_BUFFER_BIT);g.br?c.scissor(0,0,g.Zy,g.Yy):c.disable(c.SCISSOR_TEST)}v_(){const c=this.Te;this.Mc.hN.set(c[0],c[1],c[2],c[3])}n_(){const c=this.Y,e=this.Mc,k=e.Kf.lE;c.useProgram(k.kb);k.jB(e.az,!1);k.iB(e.SE,!1);var g=e.hN;k.qM.ca&&k.qM.sf(g.M,g.J);k.pM.ca&&k.pM.sf(g.V,g.S);g=this.Te[0];k.tM.ca&&k.tM.Ws(g);k.Hr.ca&&(g=e.RE,
k.Hr.hB(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Ih/4,this.Uq);c.useProgram(e.Mi.kb)}X2(c){this.za=12;this.Cf=c}w_(){var c=this.Y;const e=this.Mc,k=this.Cf;e.Mi=k;c.useProgram(k.kb);k.jB(e.az,!1);k.iB(e.SE,!1);k.Hr.ca&&(c=e.RE,k.Hr.hB(c[0],c[1],c[2],c[3]))}Y2(){this.za=13}x_(){const c=this.Mc.Mi;c.uV&&this.i$(c);c.Ir.length&&this.j$(c)}i$(c){const e=this.Y,k=this.Te,g=this.Dq,l=this.SW;if(c.vu.ca){const n=this.Mc.Kf,q=this.Cf;n.Co!==q&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,
q?q.hb:null),n.Co=q,e.activeTexture(e.TEXTURE0))}c.Mh.ca&&c.Mh.sf(k[0],k[1]);c.Qm.ca&&c.Qm.sf(k[2],k[3]);c.Pm.ca&&c.Pm.sf(k[4],k[5]);c.Vo.ca&&c.Vo.Ws(k[6]);c.Uo.ca&&c.Uo.Ws(k[7]);c.hk.ca&&c.hk.sf(k[12],k[13]);c.Rm.ca&&c.Rm.sf(k[14],k[15]);c.Tm.ca&&c.Tm.sf(l[0],l[1]);c.Sm.ca&&c.Sm.sf(l[2],l[3]);c.Xo.ca&&c.Xo.sf(g[0],g[1]);c.Wo.ca&&c.Wo.sf(g[2],g[3]);c.Yo.ca&&c.Yo.Ws(this.Ih)}j$(c){c=c.Ir;const e=this.eE;for(let k=0,g=c.length;k<g;++k){const l=c[k],n=e[k];l.IK?l.Y7(n.Za,n.cb,n.bb):l.Ws(n)}}P2(c){this.za=
14;this.Cf=c}m_(){const c=this.Y,e=this.Cf,k=this.Mc.jp;e!==k&&c.bindFramebuffer(c.FRAMEBUFFER,e);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);e!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}F2(c,e){this.za=17;var k=this.Te;const g=this.Mc.Kf;k[0]=c.K();k[1]=c.G();k[2]=e?e.K():g.K();k[3]=e?e.G():g.G();k[4]=c.OG()?1:0;k[5]=!0;k=this.eE;d.C(k);k.push(c.Oj);k.push(e?e.Oj:null)}e_(){var c=this.Te,e=this.eE;const k=this.Y;var g=c[0],l=c[1],n=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=e[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,e[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,g,l,0,0,n,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(e=Math.min(g,n),g=Math.min(l,q),n=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,n,e,g+n,0,l,e,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}f3(c){this.za=18;this.Cf=c}D_(){this.Cf.uF();this.Cf=null}O2(c){this.za=19;this.Cf=c}l_(){this.Cf.NF();this.Cf=null}s_(){const c=this.Mc.Mi,e=this.Te;c.Mh.ca&&c.Mh.sf(e[0],e[1]);c.oM.ca&&c.oM.Ws(e[2])}B_(){const c=
this.Mc.Mi,e=this.Te;c.hk.ca&&c.hk.sf(e[0],e[1]);c.Mh.ca&&c.Mh.sf(e[4],e[5]);c.rM.ca&&c.rM.sf(e[6],e[7]);c.sM.ca&&c.sM.sf(e[8],e[9])}H2(){this.za=22}f_(){const c=this.Y;c.clear(c.DEPTH_BUFFER_BIT)}V2(c){this.za=23;this.Ih=c?1:0}r_(){const c=this.Y;0===this.Ih?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}N2(){this.za=24}k_(){const c=this.Y;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}M2(){this.za=25}j_(){const c=this.Y;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}L2(){this.za=26}i_(){const c=this.Y;c.disable(c.STENCIL_TEST)}ra(){switch(this.za){case 1:this.o_();break;case 2:this.A_();break;case 3:this.q_();break;case 4:this.p_();break;case 5:this.C_();break;case 6:this.y_();break;case 7:this.u_();break;case 8:this.z_();break;case 9:this.h_();break;case 10:this.g_();break;case 11:this.n_();break;case 12:this.w_();break;case 13:this.x_();
break;case 14:this.m_();break;case 15:this.v_();break;case 16:this.B_();break;case 17:this.e_();break;case 18:this.D_();break;case 19:this.l_();break;case 20:this.s_();break;case 21:this.t_();break;case 22:this.f_();break;case 23:this.r_();break;case 24:this.k_();break;case 25:this.j_();break;case 26:this.i_()}}}}
{"use strict";const d=self.j,a={timeout:60},b=new d.$a(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),e=new Set(["word","character"]),k=new Set;d.w0&&d.w0.addEventListener("fontload",q=>{q=q.font.Ba();for(const r of k)(r.Re||d.pl(r.JC,q))&&r.pq()});function g(q,r,p,w,t,v){r?"Gecko"===d.Hd.Ez?q.strokeText(p,w,t,v):q.strokeText(p,w,t):"Gecko"===d.Hd.Ez?q.fillText(p,w,t,v):q.fillText(p,w,t)}let l=!1,n=!1;d.$.EQ=class{constructor(q,r){r=Object.assign({},a,r);this.ga=
q;this.JC="Arial";this.KC=16;this.iV=1;this.Ic=0;this.xfa=this.sfa=!1;this.mC="black";this.Re=!1;this.cN=null;this.rJ=new Set;this.we="left";this.ke="top";this.mc="";this.wj=null;this.If=d.A(d.uw);this.Jr="word";this.VK=this.tE=!1;this.Jx=!0;this.wh=-1;this.U=this.W=this.mm=this.wf=this.vh=0;this.Li=1;this.LJ=!1;this.by=this.Bm=this.Ee=this.Cr=null;this.VV=this.WV=-1;this.yD=this.YV=this.ZK="";this.$K=this.aL=1;this.cy=(p,w)=>this.Hw(p,w);this.hb=null;this.Ky=this.My=0;this.Ig=new d.Rect;this.uy=
1;this.sL=!1;this.hM=new d.x2(()=>{this.hh();this.lU(8,8)},r.timeout);this.dN=null;this.Vm=!1;k.add(this)}g(){this.cN=null;this.rJ.clear();this.cy=this.by=this.Bm=this.Ee=this.Cr=this.wj=null;this.hM.g();this.dN=null;this.hh();this.If.Jc();this.ga=this.If=null;this.Vm=!0;k.delete(this)}nq(){this.LJ=!0}pq(){this.nq();this.If.Jc();this.tE=!0}A6(){this.Jx=!1}ah(){return this.Jx}WQ(q){q=!!q;this.Re!==q&&(q=(this.Re=q)?"alphabetic":"top",this.Ee&&(this.Ee.textBaseline=q),this.Bm&&(this.Bm.textBaseline=
q),this.pq())}p6(){"Arial"!==this.JC&&(this.JC="Arial",this.pq())}q6(){var q=16;.1>q&&(q=.1);this.KC!==q&&(this.KC=q,this.pq())}cB(q){this.Ic!==q&&(this.Ic=q,this.nq())}$A(q){q=Math.floor(q);this.wh!==q&&(this.wh=q,this.nq())}Xc(q,r){for(let p=q.length-1;0<=p;--p){const w=q[p];if(w.tag===r)return w}return null}$n(q,r){return!!this.Xc(q,r)}IS(q,r){let p=[];(this.sfa||this.$n(r,"b"))&&p.push("bold");(this.xfa||this.$n(r,"i"))&&p.push("italic");var w=this.Xc(r,"size");w=(w?parseFloat(w.wd):this.KC)*
this.iV;q?p.push(w+"pt"):p.push(w*this.uy*this.Li*self.devicePixelRatio+"pt");q=this.JC;(r=this.Xc(r,"font"))&&r.wd&&(q=r.wd,this.cN&&!this.rJ.has(q)&&(this.cN(q),this.rJ.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}jj(q){q instanceof d.$a&&(q=q.Tga());this.mC!==q&&(this.mC=q,this.nq())}YQ(q,r,p){b.Uu(q,r,p);this.jj(b)}w6(){if(!f.has("center"))throw Error("invalid horizontal alignment");"center"!==this.we&&(this.we="center",this.nq())}p7(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.ke&&(this.ke="center",this.nq())}BR(q){if(!e.has(q))throw Error("invalid word wrap mode");this.Jr!==q&&(this.Jr=q,this.pq())}Ts(q){this.mc!==q&&(this.mc=q,this.pq())}Rb(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.wf===q&&this.mm===r&&this.Li===p)){1===this.Li!==(1===p)&&(this.sL=!0);var w=this.wf,t=this.Li;this.wf=q;this.mm=r;this.Li=p;q=self.devicePixelRatio;this.W=this.wf*this.Li*q;this.U=this.mm*this.Li*q;q=Math.max(this.W,this.U);r=Math.min(this.ga.LD,2048);p=1;
q>r&&(p=r/q,this.W=Math.min(this.W*p,r),this.U=Math.min(this.U*p,r));this.uy=p;0<this.My&&0<this.Ky&&this.Li===t&&this.Ig.set(0,0,this.W/this.My,this.U/this.Ky);this.wf!==w?this.pq():this.nq()}}K(){return this.W}G(){return this.U}kP(){this.lq();return this.If.RO()}jP(){this.lq();return this.If.N1()+this.If.el.length*(this.Ic+4)-this.Ic}Cb(){this.hM.kd();this.uba();return this.hb}uba(){this.hb&&!this.LJ&&!this.tE||this.VK||0>=this.W||0>=this.U||(this.LJ=!1,this.VK=!0,this.Jx?d.tl(()=>this.rS()):this.rS())}rS(){this.Vm||
(this.lU(Math.ceil(this.W),Math.ceil(this.U)),this.lq(),this.C$(),this.xea(),this.hM.kd(),this.VK=!1)}lU(q,r){this.Cr||(this.Cr=d.ef(16,16));let p=!1;if(this.WV!==q||this.VV!==r)this.WV=q,this.VV=r,this.Cr.width=q,this.Cr.height=r,p=!0;this.Ee||(this.Ee=this.Cr.getContext("2d"),p=!0);p?(this.Ee.textBaseline=this.Re?"alphabetic":"top",this.Ee.font=this.ZK,this.Ee.fillStyle=this.yD,this.Ee.strokeStyle=this.yD,this.Ee.globalAlpha=this.aL,this.Ee.lineWidth=this.$K):this.Ee.clearRect(0,0,q,r)}kT(){this.Bm||
(this.Bm=d.ef(16,16).getContext("2d"),this.by=d.ef(16,16).getContext("2d"),this.Bm.textBaseline=this.Re?"alphabetic":"top",this.by.textBaseline="top")}Jda(q){this.YV!==q&&(this.YV=q,this.Bm.font=q,this.by.font=q)}uU(){if(!l){l=!0;this.kT();const q=this.Bm.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}lq(){this.tE&&(this.kT(),!this.Re||this.wj&&this.wj.toString()===this.mc||(this.wj=new d.wl(this.mc,{IX:!0})),this.If.uw(this.Re?
this.wj.$X():this.mc,this.cy,this.wf,this.Jr,0),this.tE=!1)}Hw(q,r){this.Jda(this.IS(!0,r));r=this.Xc(r,"size");r=(r?parseFloat(r.wd):this.KC)*this.iV;const p=this.Bm.measureText(q);let w=0;this.Re&&this.uU()&&(w=p.fontBoundingBoxAscent-this.by.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,Pg:p.fontBoundingBoxAscent||0,ig:p.fontBoundingBoxDescent||0,kg:w}}vda(q){this.ZK!==q&&(this.ZK=q,this.Ee.font=q)}JB(q){this.yD!==q&&(this.yD=q,this.Ee.fillStyle=q,this.Ee.strokeStyle=
q)}uda(q){this.aL!==q&&(this.aL=q,this.Ee.globalAlpha=q)}$T(q){this.$K!==q&&(this.$K=q,this.Ee.lineWidth=q)}C$(){this.vh=0;const q=this.uy*this.Li*self.devicePixelRatio,r=(4+this.Ic)*q;var p=0;const w=this.If.el;if(0!==w.length){var t=this.Re&&this.uU(),v=w[0].height*q;"center"===this.ke?(p=w.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.U/2-p/2,0),t&&(v=w[0].kg*q)):"bottom"===this.ke&&(p=w.reduce((x,z)=>x+z.height*q+r,0)-this.Ic*q,p=this.U-p-(t?w.$e(-1).ig*q:0)-2);for(let x=0,z=w.length;x<z;++x){t=
w[x];const D=t.height*q,E=p;if(this.Re){if(p+=0===x?v:D,0<x&&p>this.U-4*q)break}else if(0<x&&p>=this.U-D)break;0<=E&&this.B$(t,p,q);this.Re||(p+=D);p+=r}}}B$(q,r,p){let w=0;"center"===this.we?w=(this.W-q.width*p)/2:"right"===this.we&&(w=this.W-q.width*p);for(const t of q.LM)this.A$(t,w,r,p,q.height),w+=t.width*p}A$(q,r,p,w,t){const v=this.Ee;var x=t/16;t=q.width*w;const z=q.height*w,D=q.height/16;var E=(4+this.Ic)*w,M=q.yd,B=q.text;if(-1!==this.wh){if(this.vh>=this.wh)return;this.vh+B.length>this.wh&&
(B=B.substr(0,this.wh-this.vh),t=this.Hw(B,M).width*w);this.vh+=B.length}var G=this.Xc(M,"background"),H=this.$n(M,"u");q=this.$n(M,"s");if((!d.LA(B)||G||H||q)&&!this.$n(M,"hide")){var J=this.Xc(M,"offsetx");r+=J?parseFloat(J.wd)*w:0;J=this.Xc(M,"offsety");p+=J?parseFloat(J.wd)*w:0;G&&(this.JB(G.wd),v.fillRect(r,p-z,t,z+E));J=this.Xc(M,"color");this.JB(J?J.wd:this.mC);E=this.Xc(M,"opacity");this.uda(E?parseFloat(E.wd)/100:1);E=(E=this.Xc(M,"linethickness"))?parseFloat(E.wd):1;(G=this.$n(M,"stroke"))&&
this.$T(.5*D*E*this.uy*this.Li*self.devicePixelRatio);this.vda(this.IS(!1,M));g(v,G,B,r,p,t);!G&&(this.$T(.5*D*E*this.uy*this.Li*self.devicePixelRatio),M=this.Xc(M,"outline"))&&(this.JB(M.wd),g(v,!0,B,r,p,t));this.JB(J?J.wd:this.mC);H&&(M=r,B=p+w*x,H=t,x=w*x*E,G?v.strokeRect(M,B,H,x):v.fillRect(M,B,H,x));q&&(w*=D,v.fillRect(r,p-z/4+w/2-w*E/2,t,w*E))}}xea(){this.ga.An()||(this.My=Math.ceil(this.W),this.Ky=Math.ceil(this.U),this.Ig.set(0,0,this.W/this.My,this.U/this.Ky),this.sL&&(this.hh(),this.sL=
!1),this.hb||(this.hb=this.ga.cO(this.My,this.Ky,{ZE:1===this.Li,mz:"high"})),this.ga.e8(this.Cr,this.hb),this.dN&&this.dN())}Zh(){return this.Ig}hh(){this.hb&&(this.ga.An()||this.ga.Ie(this.hb),this.hb=null)}static Pl(){for(const q of k)q.hh()}}}
{"use strict";const d=self.j;class a{constructor(b){this.Y=b.Y;this.Vd=b.Vd;this.Ud=b.Ud;this.Bi=null;this.yx=this.Nb=!1;this.aE=0;this.Bi=1===this.Vd?this.Ud.createQueryEXT():this.Y.createQuery()}g(){this.nS();this.Ud=this.Y=null;this.yx=!1}nS(){this.Bi&&(1===this.Vd?this.Ud.deleteQueryEXT(this.Bi):this.Y.deleteQuery(this.Bi),this.Bi=null)}uF(){if(this.Nb)throw Error("query already active");1===this.Vd?this.Ud.beginQueryEXT(this.Ud.TIME_ELAPSED_EXT,this.Bi):this.Y.beginQuery(this.Ud.TIME_ELAPSED_EXT,
this.Bi);this.Nb=!0}NF(){if(!this.Nb)throw Error("query not active");1===this.Vd?this.Ud.endQueryEXT(this.Ud.TIME_ELAPSED_EXT):this.Y.endQuery(this.Ud.TIME_ELAPSED_EXT);this.Nb=!1}zF(){if(this.Bi&&!this.yx&&!this.Nb){var b=1===this.Vd?this.Ud.getQueryObjectEXT(this.Bi,this.Ud.QUERY_RESULT_AVAILABLE_EXT):this.Y.getQueryParameter(this.Bi,this.Y.QUERY_RESULT_AVAILABLE);var f=this.Y.getParameter(this.Ud.GPU_DISJOINT_EXT);b&&!f&&(this.aE=1===this.Vd?this.Ud.getQueryObjectEXT(this.Bi,this.Ud.QUERY_RESULT_EXT):
this.Y.getQueryParameter(this.Bi,this.Y.QUERY_RESULT),this.aE/=1E9,this.yx=!0);(b||f)&&this.nS()}}DA(){return this.yx}tA(){if(!this.yx)throw Error("no result available");return this.aE}}d.$.p8=class{constructor(b){this.ga=b;this.vi=b.vi;this.Nb=!1;this.Go=null;this.$q=!1;this.hu=null;this.rr=[]}g(){for(const b of this.rr)b instanceof a&&b.g();d.C(this.rr);this.ga=this.hu=this.Go=null}uF(){if(this.Nb)throw Error("query already active");const b=this.ga.XW;0<b.length?(this.$q=!0,this.Go=b.$e(-1),this.Go.vS(),
this.Go.rr.push(this)):(this.$q=!1,this.Go=null);this.Nb=!0;b.push(this);this.rU()}NF(){if(!this.Nb)throw Error("query not active");if(this.ga.XW.pop()!==this)throw Error("can only end most nested query");this.Nb=!1;this.vS();this.Go&&(this.Go.rU(),this.Go=null)}rU(){this.hu=d.A(a,this.ga);this.rr.push(this.hu);this.hu.uF()}vS(){this.hu.NF();this.hu=null}zF(){for(const b of this.rr)b.zF()}DA(){return this.rr.every(b=>b.DA())}tA(){return this.rr.reduce((b,f)=>b+f.tA(),0)}}}
{"use strict";const d=self.j;d.$.TR=class{constructor(a,b=1E3){this.ga=a;this.Hfa=b;this.Sk=[];this.ga.K8(this)}g(){this.Jc();this.ga.yca(this);this.ga=null}Jc(){for(const a of this.Sk)a.g();d.C(this.Sk)}sF(){const a=new d.$.p8(this.ga);this.Sk.push(a);this.Sk.length>this.Hfa&&this.Sk.shift().g();return a}jZ(a){for(const b of this.Sk){if(b.vi>=a)break;if(b.$q)break;b.zF()}}IO(a,b){if(b<=a)return NaN;let f=0;for(const c of this.Sk){if(c.vi>=b)break;if(!(c.vi<a))if(c.DA())f+=c.tA();else return NaN}return f}gO(a){for(let b=
0,f=this.Sk.length;b<f;++b){const c=this.Sk[b];if(c.vi<a)c.g();else{0<b&&this.Sk.splice(0,b);break}}}}}
{"use strict";const d=self.j,a=self.rl,b=a.yz,f=a.np,c={powerPreference:"default",wX:!0,alpha:!1,WM:!1,depth:!1,FX:2,failIfMajorPerformanceCaveat:!1},e=new Set(["default","low-power","high-performance"]),k=new d.Ec(0,0,1,0,1,1,0,1),g=f.create(),l=f.create(),n=new d.Ec,q=new d.Rect;let r=null;d.Iu&&(self.zra=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.Ara=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let w=
-1;function t(){w=-1;for(const v of p)v.vga()&&(v.resolve(),p.delete(v));0<p.size&&(w=self.requestAnimationFrame(t))}d.$.o8=class extends d.$.z5{constructor(v,x){super();x=Object.assign({},c,x);if(!e.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.WM&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let D=null,E=0;2<=x.FX&&(D=v.getContext("webgl2",
z),E=2);D||(D=v.getContext("webgl",z),E=1);if(!D)throw Error("failed to initialise WebGL context");this.Y=D;this.LU=D.getContextAttributes();x.WM&&!this.LU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");D.getParameter(D.VERSION);this.Vd=E;this.Hf=b.create();this.yJ=f.create();this.JK=this.Zo=!!x.depth;this.Hq=null;this.HK=!0;this.TU=this.UU=0;this.UD=this.DV=this.sE=this.HE=null;this.wu=new Float32Array(24E3);this.EV=new Uint16Array(12E3);this.Po=
new Float32Array(16E3);this.xW=new Float32Array(32E3);this.ZV=this.VD=this.Td=this.Mg=0;this.No=this.fr=null;this.$w=[];this.Ac=this.io=0;this.Qd=null;this.Mc=d.A(d.$.RY,this);this.Vx=d.A(d.$a,1,1,1,1);this.Co=this.zm=null;this.WK=this.YK=0;this.br=!1;this.Yy=this.Zy=-1;this.Afa=new d.Rect;this.LD=-1;this.nL=0;this.Ty="(unavailable)";this.MK=!1;this.Vw=this.BL=null;this.mL=0;this.wfa=!!x.wX;this.Ud=null;this.WB=new Set;this.XW=[];this.s0(this.EV)}Lv(){return!0}async EA(){super.EA();var v=this.Y;this.Vx.sp(1,
1,1,1);this.Co=this.zm=null;this.VD=this.Mg=0;this.ZV=23988;d.C(this.$w);this.Ac=this.io=0;this.Qd=this.fr=null;this.Afa.set(0,0,1,1);var x=this.Mc;x.Mi=null;x.jp=null;b.set(x.RE,1,1,1,1);x.clearColor.sp(0,0,0,0);x.hN.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.YK=v.ONE;this.WK=v.ONE_MINUS_SRC_ALPHA;this.waa(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Zo?(v.enable(v.DEPTH_TEST),v.depthMask(!0),
v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.JK=this.Zo;this.UD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.UD);v.bufferData(v.ARRAY_BUFFER,this.xW.byteLength,v.DYNAMIC_DRAW);this.HE=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.HE);v.bufferData(v.ARRAY_BUFFER,this.wu.byteLength,v.DYNAMIC_DRAW);this.sE=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.sE);v.bufferData(v.ARRAY_BUFFER,this.Po.byteLength,v.DYNAMIC_DRAW);this.DV=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,
this.DV);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.EV,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.LD=v.getParameter(v.MAX_TEXTURE_SIZE);this.nL=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.nL&&(this.nL=2048);if(x=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(x.UNMASKED_VENDOR_WEBGL),this.Ty=v.getParameter(x.UNMASKED_RENDERER_WEBGL);this.BL=v.getExtension("KHR_parallel_shader_compile");d.Iu&&(r=v.getExtension("WEBGL_lose_context"));if(this.wfa)if(1===
this.Vd){if("Chromium"!==d.Hd.Ez||81<=d.Hd.xF||"undefined"!==typeof document)this.Ud=v.getExtension("EXT_disjoint_timer_query")}else this.Ud=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.mL=(this.Vw=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Vw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;v=d.$.rw;x=v.gA(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.gA(!0),"<tilemap>"]].map(z=>this.HF({src:z[0]},z[1],z[2])));this.mE=v[0];this.No=v[1];this.lE=v[2];this.WL=v[3];this.wg()}async HF(v,x,z){v=await d.$.rw.Ta(this,v,x,z);this.L8(v);return v}F5(){this.fr=null}Rb(v,x,z){if(this.W!==v||this.U!==x||z){this.Vi();z=this.Y;var D=this.Mc;this.W=v;this.U=x;v=this.$O();x=this.oG();this.oU(v,x);this.gv(this.yJ,v/x);this.Rs(this.yJ);this.No&&(z.useProgram(this.No.kb),this.No.DU(this.KD),this.fr=this.No,this.Mc.Mi=this.No);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.Co=this.zm=null;this.Zo&&this.HK&&this.TI(this.W,this.U);this.Qd&&this.Qd.JT(this.W,this.U);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Qd=null;D.jp=null}}TI(v,x){const z=this.Y;if(this.Hq){if(this.UU===v&&this.TU===x)return;z.deleteRenderbuffer(this.Hq)}this.Hq=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Hq);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Vd?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,v,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.UU=v;this.TU=x}o6(v,x){this.Zo&&(this.HK=!1,this.TI(v,x))}Z5(){this.Zo&&(this.HK=!0,this.TI(this.W,this.U))}$O(){return this.br?this.Zy:this.K()}oG(){return this.br?this.Yy:this.G()}oU(v,x){const z=this.Hf;if(0!==z[0]||0!==z[1]||z[2]!==v||z[3]!==x)this.Uc().d3(v,x),b.set(z,0,0,v,x),this.Ac=0}Rs(v){f.nk(this.KD,v)||(this.Uc().Z2(v),f.qa(this.KD,v),this.Ac=0)}bR(){let v,x;var z=this.Qd;null===z||z.Lx&&this.br?(v=this.yJ,x=this.$O(),z=this.oG()):(v=z.mr,x=z.K(),z=z.G());this.Rs(v);this.oU(x,
z)}Ps(v){f.nk(this.kL,v)||(this.Uc().W2(v),f.qa(this.kL,v),this.Ac=0)}Uc(){const v=this.$w;this.io===v.length&&v.push(new d.$.n8(this.Mc));return v[this.io++]}Vi(){0===this.io||this.An()||(this.Gea(),this.G$(),this.Ac=this.VD=this.Td=this.Mg=this.io=0)}Gea(){const v=this.Y;0<this.VD&&(v.bindBuffer(v.ARRAY_BUFFER,this.UD),v.bufferSubData(v.ARRAY_BUFFER,0,this.xW.subarray(0,this.VD)));0<this.Mg&&(v.bindBuffer(v.ARRAY_BUFFER,this.HE),v.bufferSubData(v.ARRAY_BUFFER,0,this.wu.subarray(0,this.Mg)),v.bindBuffer(v.ARRAY_BUFFER,
this.sE),v.bufferSubData(v.ARRAY_BUFFER,0,this.Po.subarray(0,this.Td)))}G$(){const v=this.$w;for(let x=0,z=this.io;x<z;++x)v[x].ra()}kf(){return this.Vx.Wa}Sf(v,x,z,D){const E=this.Vx;E.ez(v,x,z,D)||(E.sp(v,x,z,D),this.Uc().EG(E),this.Ac=0,this.Gj=null)}kj(v){const x=this.Vx;x.Wa!==v&&(x.Rg(v),this.Uc().EG(x),this.Ac=0,this.Gj=null)}jj(v){const x=this.Vx;x.fd(v)||(x.set(v),this.Uc().EG(x),this.Ac=0,this.Gj=null)}Hs(){this.Sf(1,1,1,1)}fe(v){v!==this.zm&&(this.Uc().b3(v),this.zm=v,this.Ac=0)}KI(){this.zm=
null}pf(v){v=this.Y$(v);this.SI(v[0],v[1])}SI(v,x){if(v!==this.YK||x!==this.WK)this.Uc().U2(v,x),this.YK=v,this.WK=x,this.Ac=0,this.Gj=null}pH(){this.SI(this.Y.ONE,this.Y.ONE_MINUS_SRC_ALPHA)}$Q(){this.SI(this.Y.ONE,this.Y.ZERO)}Rect(v){this.AQ(v.M,v.J,v.V,v.S)}AQ(v,x,z,D){this.dH(v,x,z,x,z,D,v,D)}bt(){let v=this.Mg;v>=this.ZV&&(this.Vi(),v=0);1===this.Ac?this.$w[this.io-1].Uq+=6:(this.Uc().T2(v),this.Ac=1)}cJ(v){v.dia(this.wu,this.Mg,this.lt+this.zt);this.Mg+=12}Ec(v){this.bt();this.cJ(v);k.Qh(this.Po,
this.Td);this.Td+=8}dH(v,x,z,D,E,M,B,G){this.bt();const H=this.wu;let J=this.Mg;const P=this.lt+this.zt;H[J++]=v;H[J++]=x;H[J++]=P;H[J++]=z;H[J++]=D;H[J++]=P;H[J++]=E;H[J++]=M;H[J++]=P;H[J++]=B;H[J++]=G;H[J++]=P;this.Mg=J;k.Qh(this.Po,this.Td);this.Td+=8}Rl(v,x){this.bt();this.cJ(v);x.hY(this.Po,this.Td);this.Td+=8}TA(v,x){this.bt();this.cJ(v);x.Qh(this.Po,this.Td);this.Td+=8}k5(v,x,z,D,E,M,B,G,H,J,P,Q,T){this.bt();const W=this.wu;let Z=this.Mg;const Y=this.lt+this.zt;W[Z++]=v;W[Z++]=x;W[Z++]=Y+z;
W[Z++]=D;W[Z++]=E;W[Z++]=Y+M;W[Z++]=B;W[Z++]=G;W[Z++]=Y+H;W[Z++]=J;W[Z++]=P;W[Z++]=Y+Q;this.Mg=Z;T.hY(this.Po,this.Td);this.Td+=8}Fs(v,x,z,D,E,M,B,G,H,J,P,Q,T){this.bt();const W=this.wu;let Z=this.Mg;const Y=this.lt+this.zt;W[Z++]=v;W[Z++]=x;W[Z++]=Y+z;W[Z++]=D;W[Z++]=E;W[Z++]=Y+M;W[Z++]=B;W[Z++]=G;W[Z++]=Y+H;W[Z++]=J;W[Z++]=P;W[Z++]=Y+Q;this.Mg=Z;T.Qh(this.Po,this.Td);this.Td+=8}x0(v,x){f.qa(g,this.KD);f.qa(l,this.kL);this.bR();if(this.br){v=this.dv(0,0,100*self.devicePixelRatio,0,0);this.Ps(v);
v=this.Zy/2;var z=this.Yy/2;q.set(-v,z,-v+this.Zy,z-this.Yy);n.Ph(q);q.set(0,0,this.Zy/this.W,this.Yy/this.U);this.Rl(n,q)}else{const [M,B]=this.I1(this.Qd);z=this.dv(0,0,100*self.devicePixelRatio,0,0,B);this.Ps(z);if("crop"===v&&this.Qd&&x){v=this.W/2;z=this.U/2;const G=x.K();x=x.G();var D=this.Qd.K(),E=this.Qd.G();D=Math.min(D,G);const H=Math.min(E,x),J=Math.max(x-E,0);E=Math.max(E-x,0);q.set(-v,z-E,-v+D,z-H-E);n.Ph(q);q.set(0,J,D,H+J);q.mk(G,x);this.Rl(n,q)}else v=M/2,z=B/2,this.AQ(-v,z,v,-z)}this.Rs(g);
this.Ps(l)}Vn(v){this.fr!==v&&(this.Uc().X2(v),this.fr=v,this.Ac=0,this.Gj=null)}h6(){this.Vn(this.No)}Qs(v,x,z,D,E,M,B,G,H,J,P){const Q=this.fr;var T=Q.uV;const W=!!P.length;if(T&&!Q.NY(x,z,D,E,M,B,G,H,J)||W&&!Q.MY(P)){var Z=this.Uc();Z.Y2();T&&(Q.N6(x,z,D,E,M,B,G,H,J),T=Z.Te,T[0]=M,T[1]=B,x.Qh(T,2),T[6]=G,T[7]=H,z.Qh(T,12),x=Z.Dq,E.Qh(x,0),E=x[1],x[1]=x[3],x[3]=E,D.Qh(Z.SW,0),Z.Ih=J,Z.Cf=Q.vu.ca?v?v.Cb():null:null);W&&(Q.f6(P),d.xd(Z.eE,P));this.Ac=0}}Lz(){this.Uc().K2();this.Ac=0}Jc(v){this.Uc().J2(v);
this.Ac=0}AF(v){this.oZ(v.M,v.J,v.width(),v.height())}oZ(v,x,z,D){0>z||0>D||(this.Uc().I2(v,x,z,D),this.Ac=0)}qw(){}es(){super.es();this.Y.flush()}kZ(){this.Zo&&this.Qd&&this.Qd.Hj&&(this.Uc().H2(),this.Ac=0)}Sn(v){v=!!v;this.JK!==v&&this.Zo&&(this.JK=v,this.Uc().V2(v),this.Ac=0)}iZ(){for(const v of this.WB)v.jZ(this.vi)}An(){return!this.Y||this.Y.isContextLost()||this.MK}Pl(){super.x4();d.$.lB.Pl();d.$.TH.Pl();d.$.EQ.Pl();for(const v of this.WB)v.Jc();this.Vw=this.BL=this.Ud=null;this.mL=0;this.Ty=
"(unavailable)";this.Hq=this.No=this.fr=null;for(const v of this.Hy.values())v.Pl()}async $G(){this.MK=!0;await this.EA();this.MK=!1;for(const v of this.Hy.values())v.$G(this);this.Rb(this.W,this.U,!0)}Ui(v,x){if(this.An())throw Error("context lost");this.Vi();const z=d.A(d.$.lB,this);z.C9(v,x);return z}Oz(v,x){if(this.An())return Promise.reject("context lost");x=Object.assign({},x);const z=x.jn&&"clamp-to-edge"!==x.jn||x.kn&&"clamp-to-edge"!==x.kn;if(!d.Yb.ImageBitmapOptions||!this.cq()&&z)return d.Yb.ImageBitmap?
createImageBitmap(v).then(D=>d.tl(()=>this.Ui(D,x))):v instanceof Blob?d.IN(v,!0).then(D=>this.Oz(D,x)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.tl(()=>this.Ui(v,x))):d.tl(()=>this.Ui(v,x));x.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(D=>d.tl(()=>this.Ui(D,x)))}cO(v,x,z){this.Vi();const D=d.A(d.$.lB,this);D.p9(v,x,z);return D}e8(v,x){this.Vi();x.yU(v,void 0)}Ie(v){v&&(v.K7(),
0<v.dd||(this.Vi(),v===this.zm&&(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.zm=null),v===this.Co&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.Co=null),v.hI()))}PZ(v){let x=this.W,z=this.U,D=!0;v&&("number"===typeof v.width&&(x=v.width,D=!1),"number"===typeof v.height&&(z=v.height,D=!1));if(0>=x||0>=z)throw Error("invalid size");this.Vi();const E=d.A(d.$.TH,this);E.o9(x,z,Object.assign({AX:D},v));this.Qd=null;this.Mc.jp=
null;return E}qf(v){v!==this.Qd&&(v&&v.Lx&&v.JT(this.W,this.U),this.Uc().a3(v),this.Qd=v,this.Ac=0,this.bR())}sA(){return this.Qd}I1(v){return v?[v.K(),v.G()]:[this.W,this.U]}DF(v){2>this.Vd||this.Qd&&0<this.Qd.Cm?(this.$Q(),this.Hs(),this.jv(v,"stretch")):(this.Uc().F2(v,this.Qd),this.Ac=0)}jv(v,x="stretch"){v=v.Cb();if(!v)throw Error("not a texture-backed render target");this.fe(v);this.x0(x,v)}Jp(v){2>this.Vd||(this.Uc().P2(v.Oj),this.Ac=0)}d_(v){this.qf(null);this.Vi();const x=v.Cb();x===this.zm&&
(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.zm=null);x===this.Co&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.Co=null);v.hI()}async o5(v){this.Vi();const x=this.Qd;if(v){var z=v.K();var D=v.G();v=v.Oj}else z=this.K(),D=this.G(),v=null;const E=this.Y;E.bindFramebuffer(E.FRAMEBUFFER,v);v=new ImageData(z,D);E.readPixels(0,0,z,D,E.RGBA,E.UNSIGNED_BYTE,new Uint8Array(v.data.buffer));(()=>{E.bindFramebuffer(E.FRAMEBUFFER,
null);this.Qd=null;this.Mc.jp=null;this.qf(x)})();return v}$N(){this.Sn(!0);this.Uc().N2();this.Ac=0}ZN(){this.Sn(!1);this.Uc().M2();this.Ac=0}YN(){this.Sn(!0);this.Uc().L2();this.Ac=0}MH(v){this.Jk()&&(this.Uc().f3(v),this.Ac=0)}MF(v){this.Jk()&&(this.Uc().O2(v),this.Ac=0)}Cea(v){const x=new Promise(z=>p.add({resolve:z,vga:v}));-1===w&&(w=self.requestAnimationFrame(t));return x}s3(){return!!this.LU.desynchronized}Q0(){let v=0;for(const x of d.$.lB.mga())v+=x.$F();return v}cq(){return 2<=this.Vd}Jk(){return!!this.Ud}K8(v){this.WB.add(v)}yca(v){this.WB.delete(v)}waa(v){this.vaa([["normal",
v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.r2=class{constructor(f){d=f;Object.defineProperties(this,{Wga:{value:{},writable:!1},storage:{value:new self.u2(d),writable:!1},ssa:{value:d.um,writable:!1}});d.He.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.He.addEventListener("keyup",c=>a.delete(c.key));d.Fb().addEventListener("window-blur",()=>a.clear());d.um&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}yaa(f){Object.defineProperties(this.Wga,f)}addEventListener(f,c){d.He.addEventListener(f,c)}removeEventListener(f,c){d.He.removeEventListener(f,c)}get vX(){return d.zp()}random(){return d.Mn()}get Qg(){return d.Wb().Bx}get keyboard(){const f=d.hx.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get GX(){const f=d.hx.GX;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get xN(){const f=d.hx.xN;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.Vv("alert",{message:f+(d.um?" [via Web Worker]":"")})}}}"use strict";self.m2=class{constructor(){}};{"use strict";const d=self.Sg;self.u2=class{constructor(a){this.Iy=a.jaa()}getItem(a){d.qe(a);return this.Iy.getItem(a)}setItem(a,b){d.qe(a);return this.Iy.setItem(a,b)}removeItem(a){d.qe(a);return this.Iy.removeItem(a)}clear(){return this.Iy.clear()}keys(){return this.Iy.keys()}}}
{"use strict";const d=self.Sg,a=new WeakMap;self.DG=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ba(),writable:!1}});b.H().hT(this,b)}addEventListener(b,f){d.qe(b);d.Gk(f);a.get(this).He.addEventListener(b,f)}removeEventListener(b,f){d.qe(b);d.Gk(f);a.get(this).He.removeEventListener(b,f)}*zX(){for(const b of a.get(this).la())yield b.Vh()}HM(b){d.ug(void 0);d.ug(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var f=
a.get(this),c=f.H();b=c.Wb().ba(b);if(!b)throw Error("invalid layer");f=c.FF(f,b,void 0,void 0,void 0);c=c.ka();c.df(!0);f.OB();c.df(!1);return f.Vh()}}}
{"use strict";const d=self.Sg,a=new WeakMap;self.q2=class{constructor(b){a.set(this,b);const f=[],c=b.Ra,e=c.Ug().length;for(let k=0;k<e;++k)f.push(new self.CG(c,k));Object.defineProperties(this,{name:{value:b.Ba(),writable:!1},index:{value:b.Ha(),writable:!1}})}addEventListener(b,f){d.qe(b);d.Gk(f);a.get(this).He.addEventListener(b,f)}removeEventListener(b,f){d.qe(b);d.Gk(f);a.get(this).He.removeEventListener(b,f)}get width(){return a.get(this).K()}set width(b){a.get(this).rf(b)}get height(){return a.get(this).G()}set height(b){a.get(this).ld(b)}set scale(b){d.hj(b);
a.get(this).aq(b)}get scale(){return a.get(this).cc}set angle(b){d.hj(b);a.get(this).Fc(b)}get angle(){return a.get(this).ta()}set scrollX(b){d.ug(b);a.get(this).ei(b)}get scrollX(){return a.get(this).pg()}set scrollY(b){d.ug(b);a.get(this).gi(b)}get scrollY(){return a.get(this).qg()}scrollTo(b,f){d.ug(b);d.ug(f);const c=a.get(this);c.ei(b);c.gi(f)}set PX(b){d.qe(b);const f=a.get(this);if("perspective"===b)f.rR();else if("orthographic"===b)f.oR();else throw Error("invalid projection");}get PX(){return a.get(this).Zf?
"orthographic":"perspective"}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const f=d.A(d.$a);self.p2=class{constructor(c){b.set(this,c);const e=[],k=c.Ra,g=k.Ug().length;for(let l=0;l<g;++l)e.push(new self.CG(k,l));Object.defineProperties(this,{name:{value:c.Ba(),writable:!1},index:{value:c.Ha(),
writable:!1},Qg:{value:c.qc().Bx,writable:!1}})}get isVisible(){return b.get(this).Tc()}set isVisible(c){b.get(this).Ke(c)}get opacity(){return b.get(this).kf()}set opacity(c){c=d.fa(+c,0,1);isNaN(c)||b.get(this).kj(c)}set scale(c){a.hj(c);b.get(this).pR(c)}get scale(){return b.get(this).cc}set angle(c){a.hj(c);b.get(this).Fc(c)}get angle(){return b.get(this).Oe}set Az(c){a.hj(c);b.get(this).Le(c)}get Az(){return b.get(this).Ua()}set backgroundColor(c){a.kH(c);if(3>c.length)throw Error("expected 3 elements");
f.Uu(c[0],c[1],c[2]);c=b.get(this);const e=c.jm;e.an(f)||(e.lk(f),c.H().R())}get backgroundColor(){const c=b.get(this).jm;return[c.Za,c.cb,c.bb]}set scrollX(c){a.ug(c);const e=b.get(this);e.hw(!0);e.ei(c)}get scrollX(){return b.get(this).pg()}set scrollY(c){a.ug(c);const e=b.get(this);e.hw(!0);e.gi(c)}get scrollY(){return b.get(this).qg()}scrollTo(c,e){a.ug(c);a.ug(e);const k=b.get(this);k.hw(!0);k.ei(c);k.gi(e)}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap,f=new WeakMap;function c(k){let g=f.get(k);if(g)return g;g=d.A(d.Event.Fb);f.set(k,g);return g}let e=null;self.yn=class{constructor(){b.set(this,e);const k={Rc:{value:e.H().Sj,writable:!1},bN:{value:e.I().Cx,writable:!1},uid:{value:e.Qc,writable:!1}};e.baa(k);e.X$(k);Object.defineProperties(this,k);e.H().hT(this,e)}static qj(k){e=k}static cm(){return e}Kw(){const k=f.get(this);k&&(k.g(),f.delete(this));b.delete(this)}addEventListener(k,g,l){a.qe(k);
a.Gk(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.qe(k);a.Gk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.j,a=self.Sg,b=self.yn,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.A(d.$a);self.vs=class c extends b{constructor(){super();var e=b.cm();f.set(this,e);const k=[];var g=e.i();if(e=g.Qe){g=g.I().Ra.Ug().length;for(let l=0;l<g;++l)k.push(new self.CG(e,l))}}get Qg(){return f.get(this).i().qc().Bx}get oe(){return f.get(this).i().ba().lfa}get x(){return f.get(this).i().O()}set x(e){e=
+e;const k=f.get(this).i();isNaN(e)||k.O()===e||(k.Tf(e),k.ua())}get y(){return f.get(this).i().P()}set y(e){e=+e;const k=f.get(this).i();isNaN(e)||k.P()===e||(k.kh(e),k.ua())}get Az(){return f.get(this).i().Ua()}set Az(e){e=+e;const k=f.get(this),g=k.i();isNaN(e)||g.Ua()===e||(g.Le(e),k.H().R())}get width(){return f.get(this).i().K()}set width(e){e=+e;const k=f.get(this).i();isNaN(e)||k.K()===e||(k.rf(e),k.ua())}get height(){return f.get(this).i().G()}set height(e){e=+e;const k=f.get(this).i();isNaN(e)||
k.G()===e||(k.ld(e),k.ua())}get angle(){return f.get(this).i().ta()}set angle(e){e=d.me(+e);const k=f.get(this).i();isNaN(e)||k.ta()===e||(k.Fc(e),k.ua())}PM(){f.get(this).i().tb().Vha()}get isVisible(){return f.get(this).i().Tc()}set isVisible(e){e=!!e;const k=f.get(this),g=k.i();g.Tc()!==e&&(g.Ke(e),k.H().R())}get opacity(){return f.get(this).i().kf()}set opacity(e){e=d.fa(+e,0,1);const k=f.get(this),g=k.i();isNaN(e)||g.kf()===e||(g.kj(e),k.H().R())}get zIndex(){return f.get(this).i().Ak()}hg(e,
k){a.ug(e);a.ug(k);return f.get(this).i().hv(+e,+k)}getParent(){const e=f.get(this).Da();return e?e.Vh():null}*nz(){for(const e of f.get(this).nz())yield e.Vh()}*children(){for(const e of f.get(this).children())yield e.Vh()}*fp(){for(const e of f.get(this).fp())yield e.Vh()}removeChild(e){a.lH(e,c);const k=f.get(this);e=f.get(e);k.Fk(e)}}}{"use strict";const d=new WeakMap;self.pka=class extends self.vs{constructor(){super();d.set(this,self.yn.cm())}focus(){d.get(this).ja.tO()}blur(){d.get(this).ja.KN()}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap,f=new WeakMap;function c(k){let g=f.get(k);if(g)return g;g=d.A(d.Event.Fb);f.set(k,g);return g}let e=null;self.tP=class{constructor(){b.set(this,e);const k={Rc:{value:e.H().Sj,writable:!1},behavior:{value:e.Vg().i1(),writable:!1}};Object.defineProperties(this,k)}static qj(k){e=k}static cm(){return e}get instance(){return b.get(this).L.Vh()}Kw(){const k=f.get(this);k&&(k.g(),f.delete(this));b.delete(this)}addEventListener(k,g,l){a.qe(k);a.Gk(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.qe(k);a.Gk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.n2=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Rc:{value:a.H().Sj,writable:!1}})}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap;self.CG=class{constructor(f,c){b.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Ug()[this.index].Ba()}getParameter(f){a.hj(f);f=Math.floor(+f);const c=b.get(this).Xg(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.$a?[f.Za,f.cb,f.bb]:f}}}
{"use strict";const d=self.j,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.QY=class extends d.ia{constructor(f,c){super();var e=c.exportType;this.b=f;this.HD=new Map;this.Vt=new Map;this.Ffa=new Map;this.bD="cordova"===e;this.QV=!!c.isiOSCordova;this.Mx=!!c.isFileProtocol;this.bga=c.supportedAudioFormats||{};this.Mea=
new Map;this.AV=this.jV="";this.sC="html5"===e||"scirra-arcade"===e||"instant-games"===e?"remote":"local";this.nJ=[];this.wJ=new Map;this.yM=[];this.FD=[];this.vV=!1;this.xD=this.vJ=this.Qy=0;this.tK=!1;this.Efa=d.A(d.n5,()=>this.AS(),50);this.GL=new d.tQ(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(e=c.previewProjectFileBlobs)&&Object.assign(f,e);(e=c.projectData)&&(f["data.json"]=e);for(const [k,g]of Object.entries(f))this.HD.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.Ffa.set(k,g);new self.m2(this)}g(){this.HD.clear();for(const f of this.Vt.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.Vt.clear();for(const f of this.nJ)f.g();d.C(this.nJ);this.wJ.clear();d.C(this.FD);this.b=null}H(){return this.b}yda(f){this.jV=f}Dda(f){this.AV=f}xI(f){return this.HD.has(f.toLowerCase())}uB(f){return this.HD.get(f.toLowerCase())||null}QO(f){if(!this.xI(f))return f;f=f.toLowerCase();var c=this.Vt.get(f);c||(c=this.uB(f),c=URL.createObjectURL(c),
this.Vt.set(f,c));return c}zl(f,c){c=c||this.sC;const e=this.uB(f);if(e)return Promise.resolve(e);if(d.SG(f)){const k=f.toLowerCase();return this.bD&&this.Mx?this.bO(k):"local"===c?this.GL.Sc(()=>d.zl(k)):d.zl(k)}return d.zl(f)}mv(f){const c=this.uB(f);if(c)return d.VY(c);if(d.SG(f)){const e=f.toLowerCase();return this.bD&&this.Mx?this.aO(e):"local"===this.sC?this.GL.Sc(()=>d.mv(e)):d.mv(e)}return d.mv(f)}nv(f){const c=this.uB(f);if(c)return d.JN(c);if(d.SG(f)){const e=f.toLowerCase();return this.bD&&
this.Mx?this.IZ(e):"local"===this.sC?this.GL.Sc(()=>d.nv(e)):d.nv(e)}return d.nv(f)}async qO(f){f=await this.nv(f);return JSON.parse(f)}ZH(f,c){return this.b.Vv("cordova-fetch-local-file",{filename:f,as:c})}IZ(f){return this.ZH(f,"text")}async bO(f){const c=await this.ZH(f,"buffer");f?(f=f.split("."),f=2>f.length?"":b.get(f.$e(-1).toLowerCase())||""):f="";return new Blob([c],{type:f})}async HZ(f){f=f.toLowerCase();var c=this.Vt.get(f);if(c)return c;c=await this.bO(f);c=URL.createObjectURL(c);this.Vt.set(f,
c);return c}aO(f){return this.ZH(f,"buffer")}F1(f,c=""){if(d.FG(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.xI(f)?Promise.resolve(this.QO(f)):this.bD&&this.Mx?this.HZ(c+f):Promise.resolve(c+f.toLowerCase())}Ov(f){if(f.kz&&!a.has(f.kz))throw Error("invalid load policy");let c=this.wJ.get(f.url);if(c)return c;c=d.A(d.uP,this,{url:f.url,size:f.size||0,kz:f.kz||this.sC});this.nJ.push(c);this.wJ.set(c.ik,c);this.vV||(this.Qy+=c.wn(),this.FD.push(c.PP().then(()=>
this.YR(c.wn()))));return c}async RR(){try{await Promise.all(this.FD),this.xD=1}catch(f){console.error("Error loading: ",f),this.tK=!0,this.AS()}}x6(){this.vV=!0}YR(f){this.vJ+=f;this.Efa.dZ()}AS(){const f=d.A(d.Event,"loadingprogress");this.xD=d.fa(this.vJ/this.Qy,0,1);f.progress=this.xD;this.b.Fb().dispatchEvent(f)}Vda(f){d.xd(this.yM,f);this.yM.length&&this.FD.push(this.lba())}lba(){if("undefined"===typeof FontFace)return Promise.resolve();const f=[];for(const [c,e,k]of this.yM)this.Qy+=k,f.push(this.kba(c,
e).then(()=>this.YR(k)));return Promise.all(f)}async kba(f,c){try{const e=await this.F1(c,this.jV),k=new FontFace(f,`url('${e}')`);this.b.um?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(e){console.warn(`[C3 runtime] Failed to load web font '${f}': `,e)}}n3(){return!!this.bga["audio/webm; codecs=opus"]}nda(f){for(const [c,e,k]of f)this.Mea.set(c,{fileName:c,Lra:e.map(g=>({type:g[0],Hra:g[1],Yra:c+g[1],fileSize:g[2]})),usa:k})}}}
{"use strict";const d=self.j;d.PY=class extends d.ia{constructor(a,b){super();this.Pd=a;this.b=a.H();this.ik=b.url;this.ku=b.size;this.gL=b.kz;this.ax=null;this.PK=!1;this.Do=null}g(){this.ax=this.b=this.Pd=this.Do=null}wn(){return this.ku}PP(){return"local"===this.gL||this.ax?(this.PK=!0,Promise.resolve()):this.Do?this.Do:this.Do=this.Pd.zl(this.ik,this.gL).then(a=>{this.PK=!0;this.Do=null;return this.ax=a}).catch(a=>console.error("Error loading resource: ",a))}JA(){return this.PK}zO(){return this.ax?
Promise.resolve(this.ax):this.Do?this.Do:this.Pd.zl(this.ik,this.gL)}}}
{"use strict";const d=self.j,a=new d.tQ,b=new Set;d.uP=class extends d.PY{constructor(f,c){super(f,c);this.ml=this.Dr=null;this.dd=0;this.Dx=this.Ex=-1;b.add(this)}g(){this.hh();if(0!==this.dd)throw Error("released image asset which still has texture references");this.Dr=null;b.delete(this);super.g()}static Qp(){for(const f of b)f.Dr=null,f.ml=null,f.dd=0}Hn(f,c){c=c||{};this.dd++;if(this.ml)return Promise.resolve(this.ml);if(this.Dr)return this.Dr;c.gp=this.b.aa.gM;return this.Dr=this.zO().then(e=>
a.Sc(()=>f.Oz(e,c).then(k=>{this.Dr=null;if(0===this.dd)return f.Ie(k),null;this.ml=k;this.Ex=k.K();this.Dx=k.G();return this.ml}))).catch(e=>{console.error("Failed to load texture: ",e);throw e;})}hh(){if(0>=this.dd)throw Error("texture released too many times");this.dd--;0===this.dd&&this.ml&&(this.ml.pb().Ie(this.ml),this.ml=null)}Cb(){return this.ml}K(){return this.Ex}G(){return this.Dx}async VP(){const f=await this.zO();return d.Yb.ImageBitmapOptions?await createImageBitmap(f,{premultiplyAlpha:"none"}):
d.Yb.ImageBitmap?await createImageBitmap(f):await d.IN(f)}}}
{"use strict";const d=self.j;function a(b,f){return b.i().ol-f.i().ol}d.x5=class extends d.ia{constructor(b,f,c){super();this.X=f;this.T=c;this.D=[];this.Ox=!0;this.bk=new Set;this.Ix=!1}g(){d.C(this.D);this.bk.clear()}kd(){d.C(this.D);this.Ox=!0;this.bk.clear();this.Ix=!1}c6(){this.Ox=!1}Bn(){if(!this.D.length)return!0;if(this.D.length>this.bk.size)return!1;this.qI();return!0}FA(b){this.bk.has(b)?(this.bk.delete(b),0===this.bk.size&&(this.Ix=!1)):(this.D.push(b),this.Ox=1===this.D.length)}ci(b){this.bk.add(b);
this.Ix=!0;50<=this.bk.size&&this.qI()}qI(){this.Ix&&(this.D.length===this.bk.size?this.kd():(d.Oh(this.D,this.bk),this.bk.clear(),this.Ix=!1))}F$(){this.Ox||(this.D.sort(a),this.Ox=!0)}KF(b){this.qI();this.F$();this.D.length&&b.push(this.D)}}}
{"use strict";const d=self.j;d.y5=class extends d.ia{constructor(a,b){super();this.KJ=a;this.JJ=b;this.Aj=d.A(d.Tv)}g(){this.Aj.g();this.Aj=null}sn(a,b,f){let c=this.Aj.ea(a,b);return c?c:f?(c=d.A(d.x5,this,a,b),this.Aj.Set(a,b,c),c):null}nj(a){return Math.floor(a/this.KJ)}oj(a){return Math.floor(a/this.JJ)}Wl(a,b,f){if(b)for(let c=b.M,e=b.V;c<=e;++c)for(let k=b.J,g=b.S;k<=g;++k){if(f&&f.hg(c,k))continue;const l=this.sn(c,k,!1);l&&(l.ci(a),l.Bn()&&this.Aj.pn(c,k))}if(f)for(let c=f.M,e=f.V;c<=e;++c)for(let k=
f.J,g=f.S;k<=g;++k)b&&b.hg(c,k)||this.sn(c,k,!0).FA(a)}UA(a,b){let f=this.nj(a.M);const c=this.oj(a.J),e=this.nj(a.V);for(a=this.oj(a.S);f<=e;++f)for(let k=c;k<=a;++k){const g=this.sn(f,k,!1);g&&g.KF(b)}}Z3(a){let b=a.M;const f=a.J,c=a.V;for(a=a.S;b<=c;++b)for(let e=f;e<=a;++e){const k=this.sn(b,e,!1);k&&k.c6()}}}}
{"use strict";const d=self.j,a=new d.Rect,b=new d.Ec,f=[],c=new d.Rect,e=new d.Rect,k=self.rl,g=k.mF,l=k.yz,n=k.np;n.create();const q=g.create(),r=l.create(),p=g.create(),w=g.create(),t=g.create(),v=d.A(d.Ys);function x(B,G){return B.i().ol-G.i().ol}function z(B,G){return B.i().Ua()-G.i().Ua()}const D=[],E=[],M=[];d.VG=class extends d.ia{constructor(B,G,H){super();this.$j=B;this.b=B.H();this.Fa=H[0];this.Va=G;this.jb=H[2];this.tD=!!H[3];this.jm=d.A(d.$a);this.jm.fn(H[4].map(J=>J/255));this.Ao=!!H[5];
this.ye=H[6];this.Ae=H[7];this.Ja=d.A(d.$a,1,1,1,H[8]);this.XD=d.A(d.$a);this.KK=H[9];this.Xfa=H[17];this.$W=H[18];this.gga=H[10];this.ek=H[11];this.lo=H[12];this.Uk=null;this.cc=1;this.ud=H[16];this.Gi=this.Fi=this.Oe=0;this.qm=!1;this.Hf=d.A(d.Rect);this.fX=d.A(d.Rect);this.$o=d.A(d.Rect);this.mr=n.create();this.TK=!0;this.mW=n.create();this.QK=!0;this.eX=d.A(d.$.g8);this.sD=!0;this.UW=[];this.bl=[];this.oC=[];this.FV=new Map;this.D=[];this.zq=this.AM=!1;this.Ra=d.A(d.yl,this,H[15]);this.iu=null;
this.XK=[];this.kD=!1;this.Bfa=d.A(d.Rect,0,0,-1,-1);this.$ea=d.A(d.Rect,0,0,-1,-1);this.lfa=new self.p2(this);this.EU();this.gq()&&(this.iu=d.A(d.y5,this.b.Xe,this.b.We));for(const J of H[14])B=this.b.Pf(J[1]),this.$j.WR(B),B.Ct||B.aR(J),this.bl.push(J),this.FV.set(J[2],J);d.xd(this.UW,this.bl)}static Ta(B,G,H){return d.A(d.VG,B,G,H)}g(){this.b=this.$j=null}j1(B){return this.FV.get(B)}LZ(B){const G=this.$j.Zq;let H=0;const J=this.bl;for(let Q=0,T=J.length;Q<T;++Q){var P=J[Q];const W=this.b.Pf(P[1]);
let Z=!0;if(!W.zG()||G)P=this.b.Ti(P,this,!0),B.push(P),W.eh()&&(Z=!1,this.oC.push(P.Qc));Z&&(J[H]=J[Q],++H)}d.bf(J,H);this.b.pe();this.mh()}hi(B,G){const H=B.i();if(H.ba()!==this)throw Error("instance added to wrong layer");this.D.push(B);0!==H.Ua()&&(this.zq=!0);G&&this.gq()&&B.i().ua();this.mh()}pba(B){this.D.includes(B)||(this.D.push(B),0!==B.i().Ua()&&(this.zq=!0),this.mh())}eca(B){const G=B.i();if(G.ba()!==this)throw Error("instance added to wrong layer");this.D.unshift(B);0!==G.Ua()&&(this.zq=
!0);this.mh()}co(B,G){const H=this.D.indexOf(B);0>H||(G&&this.gq()&&B.i().GT(),this.D.splice(H,1),this.mh(),this.nT())}XT(){this.zq=!0}nT(){0===this.D.length&&(this.zq=!1)}ZI(B){if(B){B=new Set;for(var G of this.D){var H=G.i().ol;0<=H&&B.add(H)}G=-1;for(const J of this.D)if(H=J.i(),!(0<=H.ol)){for(++G;B.has(G);)++G;H.MB(G)}}this.D.sort(x)}E$(){for(const B of this.D)B.I().eh()||this.b.qn(B);this.b.pe();d.C(this.D);this.zq=!1;this.mh()}Xv(B,G,H,J,P){const Q=this.b.ka(),T=this.b.md,W=B.Ya,Z=[];for(const ja of this.bl){var Y=
ja[0];if(G.hg(Y[0],Y[1])){Y=T[ja[1]];if(Y!==B)if(W){if(!B.pO(Y))continue}else continue;Y=this;var fa=this.b.Ma();this.qc()!==fa&&((Y=fa.OO(this.Ba()))||(Y=fa.nA(this.Ha())));fa=this.b.Ti(ja,Y,!1,void 0,void 0,!1,P);Y.IH(fa);Y=fa.i();Y.Rv(H,J);Y.ua();Q.df(!0);fa.OB();Q.df(!1);Z.push(fa)}}return Z}qc(){return this.$j}Ba(){return this.Fa}Ha(){return this.Va}H(){return this.b}Bl(){return this.b.Bl()}gq(){return this.gga&&!this.$W}U6(){this.kD=!1}Tc(){return this.tD}Ke(B){B=!!B;this.tD!==B&&(this.tD=B,
this.b.R())}hw(B){B=!!B;if(this.qm!==B){if(this.qm=B)B=this.qc(),this.Fi=B.pg(),this.Gi=B.qg();this.Nk();this.b.R()}}ei(B){var G=this.qc();const H=G.bP();G=G.cP();B>G&&(B=G);B<H&&(B=H);this.Fi!==B&&(this.Fi=B,this.qm&&(this.Nk(),this.b.R()))}gi(B){var G=this.qc();const H=G.dP();G=G.aP();B>G&&(B=G);B<H&&(B=H);this.Gi!==B&&(this.Gi=B,this.qm&&(this.Nk(),this.b.R()))}pg(){return this.qm?this.Fi:this.qc().pg()}qg(){return this.qm?this.Gi:this.qc().qg()}wI(){const B=this.qc();return[B.sG(),B.tG()]}uG(B,
G){var H=this.fX;if(0===B)G.qa(H);else{let T=H.op(),W=H.pp();var J=this.y0(B);const Z=H.width()/J;H=H.height()/J;const [Y,fa]=this.wI();if(.5!==Y||.5!==fa){const ja=this.aA();var P=this.b,Q=100/ja;J=(Y-.5)*P.Og/Q;P=(fa-.5)*P.Ng/Q;Q=this.ta();0!==Q&&(v.set(J,P),v.rotate(Q),J=v.X,P=v.T);B=d.lF(ja,0,B);T+=d.nc(J,0,B);W+=d.nc(P,0,B)}G.set(T-Z/2,W-H/2,T+Z/2,W+H/2)}}kf(){return this.Ja.Wa}kj(B){B=d.fa(B,0,1);this.Ja.Wa!==B&&(this.Ja.Rg(B),this.EU(),this.b.R())}EU(){this.XD.qa(this.Ja);this.XD.qz()}kG(){return this.XD}xn(){return this.Ja.ez(1,
1,1,1)}V6(B){this.ek!==B&&(this.ek=B,this.Nk(),this.b.R())}P6(B,G){if(this.ye!==B||this.Ae!==G)if(this.ye=B,this.Ae=G,this.Nk(),this.b.R(),1!==this.ye||1!==this.Ae)for(const H of this.D)H.I().RI(!0)}Le(B){this.ud!==B&&(this.ud=B,this.b.R())}Ua(){return this.ud}Fc(B){B=d.me(B);this.Oe!==B&&(this.Oe=B,this.Nk(),this.b.R())}ta(){return d.me(this.$j.ta()+this.Oe)}c2(){return 0<this.D.length}uI(){return this.iH()&&this.$W?(d.xd(M,this.D),M.sort((B,G)=>this.eea(B,G)),M):this.D}eea(B,G){var H=this.qc().PU,
J=H[0],P=H[1];H=H[2];var Q=B.i();const T=G.i();G=Q.O()-J;B=Q.P()-P;Q=Q.Ua()-H;J=T.O()-J;P=T.P()-P;H=T.Ua()-H;return J*J+P*P+H*H-(G*G+B*B+Q*Q)}j7(B){B=!!B;this.Ao!==B&&(this.Ao=B,this.b.R())}r6(B){B=!!B;this.KK!==B&&(this.KK=B,this.b.R())}A5(){return!this.H().Um||!this.Xfa}iH(){return!this.A5()}us(){return this.iH()&&this.qc().rfa}pf(B){this.lo!==B&&(this.lo=B,this.b.R())}Wi(){return this.lo}K3(B){return this===B||this.ye===B.ye&&this.Ae===B.Ae&&this.cc===B.cc&&this.ek===B.ek&&this.Oe===B.Oe&&this.pg()===
B.pg()&&this.qg()===B.qg()}rca(B){0!==B.size&&0<d.Oh(this.D,B)&&(this.nT(),this.mh())}mh(){this.kD=this.AM=!1}Tw(){if(!this.AM){this.D.sort(z);if(this.gq())for(let B=0,G=this.D.length;B<G;++B){const H=this.D[B].i();H.MB(B);this.iu.Z3(H.qy)}else for(let B=0,G=this.D.length;B<G;++B)this.D[B].i().MB(B);this.AM=!0}}e4(B,G,H){var J=B.i();G=G.i();if(J.ba()!==this||G.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.Ak();G=G.Ak();if(J===G+(H?1:-1))return!1;d.tga(this.D,
J);J<G&&G--;H&&G++;G===this.D.length?this.D.push(B):this.D.splice(G,0,B);this.mh();return!0}yba(B,G){const H=[];let J=0,P=0,Q=B.length,T=G.length;for(;J<Q&&P<T;){const W=B[J],Z=G[P];W.i().ol<Z.i().ol?(H.push(W),++J):(H.push(Z),++P)}for(;J<Q;++J)H.push(B[J]);for(;P<T;++P)H.push(G[P]);return H}xba(B){const G=[],H=B.length;for(let J=0;J<H-1;J+=2)G.push(this.yba(B[J],B[J+1]));1===H%2&&G.push(B[H-1]);return G}wba(B){for(;1<B.length;)B=this.xba(B);return B[0]}laa(){this.Tw();d.C(f);this.iu.UA(this.Hf,f);
return f.length?1===f.length?f[0]:this.wba(f):[]}Maa(){return!this.Xs()&&!this.Ao}CR(){return this.Tc()&&0<this.kf()&&(this.c2()||!this.Ao)}Xs(){return this.KK||!this.xn()||0!==this.Wi()||this.Ra.Hv()}sA(){return this.Uk}f9(B){if(0===B.length)return!0;if(2<=B.length)return!1;B=B[0].kb;return!B.In()&&!B.Wy&&!B.OJ&&this.xn()}y0(B){if(this.$j.Zf)return 1;{const G=this.aA();return G/(G-B)}}aA(){return 100/this.sk()}Nk(){this.sD=this.QK=!0}vB(B){this.QK&&(this.b9(B,this.mW),this.QK=!1);return this.mW}b9(B,
G){const H=this.b;var J=this.qc();const P=H.un();var Q=H.zL,T=H.AL,W=(this.pg()-Q)*this.ye+Q,Z=(this.qg()-T)*this.Ae+T;this.b.Xj&&(W=Math.round(W),Z=Math.round(Z));if(this.us())g.qa(p,J.PU),g.qa(w,J.Wea),g.qa(t,J.Xea),J=w[0]-p[0],Z=w[1]-p[1],W=w[2]-p[2],p[0]=(p[0]-Q)*this.ye+Q,p[1]=(p[1]-T)*this.Ae+T,p[2]*=Math.max(this.ye,this.Ae),w[0]=p[0]+J,w[1]=p[1]+Z,w[2]=p[2]+W,g.set(q,P,P,1),g.multiply(p,p,q),g.multiply(w,w,q);else{Q=(W+0)*P;T=(Z+0)*P;J=J.Zf?100:this.aA();Z=this.ta();const [fa,ja]=this.wI();
if(.5!==fa||.5!==ja){var Y=100/J;W=(fa-.5)*H.Og*P/Y;Y=(ja-.5)*H.Ng*P/Y;0!==Z&&(v.set(W,Y),v.rotate(Z),W=v.X,Y=v.T);Q+=W;T+=Y}g.set(p,Q,T,J);g.set(w,Q,T,J-100);0===Z?g.set(t,0,1,0):g.set(t,Math.sin(Z),Math.cos(Z),0)}B.NN(G,p,w,t,H.aa.og());1!==P&&(g.set(q,P,P,1),n.scale(G,G,q))}Kda(){this.sD=this.TK=!0}wB(B){this.TK&&(this.c9(B),this.TK=!1);return this.mr}c9(B){const G=this.b.aa,[H,J]=this.wI();this.$j.Zf?B.ZY(this.mr,G.Wg(),G.og()):.5===H&&.5===J?n.qa(this.mr,G.tC):B.gv(this.mr,G.Wg()/G.og(),H,J)}YI(B){B.Rs(this.wB(B));
let G;G=this.vB(B);B.Ps(G)}b5(B){this.YI(B);B.aw(this.Ua())}Nd(B,G,H){var J=this.b.aa;const P=this.Xs();var Q=null;let T=null;if(this.b.KG()&&B.Lv()){const W=J.PO(this);W&&(T=W.sF(),B.MH(T))}P?(Q={Dd:this.b.zc},"low"===J.Qj&&(Q.width=J.Wg(),Q.height=J.og()),Q=this.b.qv(Q),B.qf(Q),this.Ao?B.Lz():B.Jc(this.jm)):(B.qf(G),this.Ao||H||B.Jc(this.jm));this.Uk=Q||G;this.YI(B);B.aw(this.Ua());B.Sn(this.iH());this.sk()>Number.EPSILON&&(this.Tw(),J=this.gq()&&0===this.Ua()&&!this.zq,this.us()?this.s$(B):J?this.t$(B):
this.tS(B,this.uI()));B.aw(0);B.Rn(0);P&&(B.Sn(!1),this.u$(B,Q,G,H));T&&B.MF(T);this.Uk=null}tS(B,G){const H=this.Hf,J=this.Uk,P=this.qc().Zf,Q=this.qc().rP();let T=null;for(let W=0,Z=G.length;W<Z;++W){const Y=G[W];if(Y===T)continue;T=Y;const fa=Y.i();fa.Tc()&&fa.HP(H,Q,P)&&this.Zl(Y,fa,B,J)}}s$(B){const G=this.Uk,H=this.Aw(),J=this.uI();for(let W=0,Z=J.length;W<Z;){var P=J[W],Q=P.i();if(!Q.Tc()||!Q.ys(H)){++W;continue}(!P.Tp()||0<Q.Al())&&E.push(P);var T=P.i().Qf();D.push(P);let Y=W+1;for(;Y<Z;++Y){const fa=
J[Y],ja=fa.i();if(ja.Tc()&&ja.ys(H)){if(ja.Qf()!==T)break;fa.Tp()?(0<ja.Al()&&E.push(fa),D.push(fa)):E.push(fa)}}if(1!==D.length||D[0].$P()){this.m$(B,D);for(let fa=0,ja=E.length;fa<ja;++fa)P=E[fa],Q=P.i(),Q.KB(!0),this.Zl(P,Q,B,G),Q.KB(!1)}else{this.Zl(P,Q,B,G);for(let fa=0,ja=E.length;fa<ja;++fa)Q=E[fa],Q!==P&&(T=Q.i(),T.ba().Zl(Q,T,B,G))}W=Y;d.C(D);d.C(E)}}m$(B,G){const H=this.Uk;B.$N();for(let Q=0,T=G.length;Q<T;++Q){var J=G[Q],P=J.i();P.IB(!0);this.kI(J,P,B)}B.ZN();for(let Q=0,T=G.length;Q<T;++Q)J=
G[Q],P=J.i(),this.Zl(J,P,B,H),P.IB(!1);B.YN()}t$(B){var G=this.iu;const H=this.$ea,J=this.Bfa,P=this.Hf;H.set(G.nj(P.M),G.oj(P.J),G.nj(P.V),G.oj(P.S));this.kD&&H.fd(J)?G=this.XK:(G=this.laa(),this.kD=!0,J.qa(H));this.tS(B,G);G!==this.XK&&d.xd(this.XK,G)}Zl(B,G,H,J){G.Hv()?this.q$(B,G,H,J):this.kI(B,G,H)}kI(B,G,H){G=G.Br;H.Gj!==G&&G.LY();B.Nd(H)}q$(B,G,H,J){this.p$(B,G,H,J)&&this.YI(H)}p$(B,G,H,J){const P=G.Qe.sj;if(1===P.length){const Q=P[0],T=Q.kb;if(!T.Kfa&&G.xn()&&!B.In())return this.r$(B,G,Q,
T,H),!1}B=d.hH(H,this.b,B,J,P,null);H.aw(this.Ua());return B}r$(B,G,H,J,P){P.Vn(J);P.pf(G.Wi());J.XB&&this.b.R();let Q=0,T=0;if(J.hga){const [W,Z]=B.eA();Q=1/W;T=1/Z;(J=B.fA())?e.qa(J):e.set(0,0,0,0)}H=G.Qe.Xg(H.Ha());P.Rn(G.Ua());P.Qs(null,c,e,e,G.tb(),Q,T,this.cc,this.ta(),this.b.Of(),H);B.Nd(P)}u$(B,G,H,J){const P=this.Ra.sj,Q=this.b;if(this.f9(P)){B.qf(H);if(1===P.length){var T=P[0];H=T.kb;B.Vn(H);e.set(0,0,1,1);T=this.Ra.Xg(T.Ha());B.Qs(null,c,e,e,this.Hf,1/Q.Wg(),1/Q.og(),this.sk(),this.ta(),
Q.Of(),T);H.XB&&Q.R()}else B.wg();J&&0===this.lo&&this.xn()&&0===P.length?B.DF(G):(B.pf(this.lo),B.jj(this.XD),B.jv(G));B.Jp(G);Q.Nn(G)}else d.hH(B,Q,this,H,P)}pR(B){this.cc!==B&&(this.cc=B,this.$j.Dz(),this.Nk(),this.b.R())}un(){return this.sk()*this.b.un()}Cl(){return this.sk()*this.b.Cl()}sk(){return(this.cc*this.$j.cc-1)*this.ek+1}RH(){var B=this.b.zL,G=this.b.AL,H=(this.pg()-B)*this.ye+B,J=(this.qg()-G)*this.Ae+G;B=this.sk();G=this.b.Og/B;B=this.b.Ng/B;H-=G/2;let P=J-B/2;this.b.Xj&&(H=Math.round(H),
P=Math.round(P));J=this.fX;J.set(H,P,H+G,P+B);G=this.ta();0!==G&&(a.qa(J),a.offset(-J.op(),-J.pp()),b.Su(a,G),b.PM(a),a.offset(J.op(),J.pp()),J.qa(a));G=this.ud;this.uG(G,this.Hf);this.us()?this.cZ(G,this.$o):this.$o.qa(this.Hf)}cZ(B,G){var H=this.b.aa,J=H.qd;H=H.Zc;const [P,Q]=this.Sh(0,0,B),[T,W]=this.Sh(J,0,B),[Z,Y]=this.Sh(J,H,B),[fa,ja]=this.Sh(0,H,B);B=Math.min(P,T,Z,fa);J=Math.min(Q,W,Y,ja);H=Math.max(P,T,Z,fa);let xa=Math.max(Q,W,Y,ja);isFinite(B)||(B=-Infinity);isFinite(J)||(J=-Infinity);
isFinite(H)||(H=Infinity);isFinite(xa)||(xa=Infinity);G.set(B,J,H,xa)}Sh(B,G,H=0){return this.i9(B,G,H,this.Cl())}i9(B,G,H,J){const P=this.b;var Q=P.pb();const T=this.sk();l.set(r,0,0,P.Og/T,P.Ng/T);B/=J;G=r[3]-G/J;J=this.wB(Q);Q=this.vB(Q);return d.$.X7(B,G,H,Q,J,r,q)?[q[0],q[1]]:[NaN,NaN]}gZ(B,G){const H=this.cc,J=this.ek,P=this.ye,Q=this.Ae,T=this.Oe;this.Ae=this.ye=this.ek=this.cc=1;this.Oe=0;this.Nk();B=this.Sh(B,G);this.cc=H;this.ek=J;this.ye=P;this.Ae=Q;this.Oe=T;this.Nk();return B}Pp(B,G){return this.eT(B,
G,0,this.Cl())}Gn(B,G,H=0){return this.eT(B,G,H,this.un()*this.Bl())}eT(B,G,H,J){var P=this.b,Q=P.pb();const T=this.sk();l.set(r,0,0,P.Og/T,P.Ng/T);P=this.wB(Q);Q=this.vB(Q);return d.$.d5(B,G,H,Q,P,r,q)?[q[0]*J,(r[3]-q[1])*J]:[NaN,NaN]}Aw(){this.sD&&(this.Bea(),this.sD=!1);return this.eX}Bea(){var B=this.b.pb();const G=this.wB(B);B=this.vB(B);this.eX.$Y(B,G)}ma(){return{s:this.cc,a:this.Oe,vl:this.Hf.M,vt:this.Hf.J,vr:this.Hf.V,vb:this.Hf.S,v:this.Tc(),bc:this.jm.toJSON(),t:this.Ao,sx:this.Fi,sy:this.Gi,
hosp:this.qm,px:this.ye,py:this.Ae,c:this.Ja.toJSON(),sr:this.ek,fx:this.Ra.Xb(),cg:this.oC}}wa(B){this.cc=B.s;this.Oe=B.a;this.Hf.set(B.vl,B.vt,B.vr,B.vb);this.tD=!!B.v;this.jm.fn(B.bc);this.Ao=!!B.t;B.hasOwnProperty("sx")&&(this.Fi=B.sx);B.hasOwnProperty("sy")&&(this.Gi=B.sy);B.hasOwnProperty("hosp")&&(this.qm=!!B.hosp);this.ye=B.px;this.Ae=B.py;this.Ja.fn(B.c);this.ek=B.sr;d.xd(this.oC,B.cg);d.xd(this.bl,this.UW);const G=new Set(this.oC);let H=0;for(let J=0,P=this.bl.length;J<P;++J)G.has(this.bl[J][2])||
(this.bl[H]=this.bl[J],++H);d.bf(this.bl,H);this.Ra.Pb(B.fx);this.ZI(!1);this.mh()}IH(B){B.i();if(!this.D.includes(B))if(B.Rf()){const G=[...B.fp()];G.push(B);G.sort((H,J)=>{H=H.i().OL;J=J.i().OL;return H-J});for(const H of G)this.hi(H,!0)}else this.hi(B,!0)}}}
{"use strict";const d=self.j,a=self.Rh,b=d.A(d.Rect),f=d.A(d.Rect),c=d.A(d.Rect),e=d.A(d.$a),k=self.rl.mF,g=[],l=[],n=[],q=[],r=[];let p=null;function w(t,v){p!==t&&(t.b5(v),p=t)}d.NP=class extends d.ia{constructor(t,v,x){super();this.gb=t;this.b=t.H();this.Fa=x[0];this.Sfa=x[1];this.Rfa=x[2];this.W=x[1];this.U=x[2];this.rD=!!x[3];this.Zf=!!x[4];this.FE=x[5];this.GE=x[6];this.bV=x[7];this.td=null;this.jb=x[8];this.Va=v;this.Gi=this.Fi=0;this.cc=1;this.Oe=0;this.Lt=new Set;this.Kh=new Set;this.Ly=
new Set;this.ut=[];this.zK=[];this.rfa=!1;this.PU=k.create();this.Wea=k.create();this.Xea=k.create();this.lc=[];this.bW=new Map;this.cW=new Map;this.Ra=d.A(d.yl,this,x[11]);this.Uk=null;this.jr={};this.Zq=!0;this.Bx=new self.q2(this);this.He=d.A(d.Event.Fb);for(const z of x[9])t=d.VG.Ta(this,this.lc.length,z),this.lc.push(t),this.bW.set(t.Ba().toLowerCase(),t),this.cW.set(t.jb,t);for(const z of x[10]){x=this.b.Pf(z[1]);if(!x)throw Error("missing nonworld object class");x.Ct||x.aR(z);this.zK.push(z);
this.WR(x)}}g(){for(const t of this.lc)t.g();d.C(this.lc);this.Ly.clear();this.b=this.gb=this.td=null}H(){return this.b}Ba(){return this.Fa}Ha(){return this.Va}SO(){let t=this.lc[0].sk();for(let v=1,x=this.lc.length;v<x;++v){const z=this.lc[v];if(0!==z.ye||0!==z.Ae)t=Math.min(t,z.sk())}return t}OS(){return.5*this.b.Og/this.SO()}PS(){return.5*this.b.Ng/this.SO()}bP(){return this.rD?-Infinity:this.OS()}cP(){return this.rD?Infinity:this.K()-this.OS()}dP(){return this.rD?-Infinity:this.PS()}aP(){return this.rD?
Infinity:this.G()-this.PS()}ei(t){const v=this.bP(),x=this.cP();t>x&&(t=x);t<v&&(t=v);this.Fi!==t&&(this.Fi=t,this.Mk(),this.b.R())}pg(){return this.Fi}gi(t){const v=this.dP(),x=this.aP();t>x&&(t=x);t<v&&(t=v);this.Gi!==t&&(this.Gi=t,this.Mk(),this.b.R())}qg(){return this.Gi}Dz(){this.ei(this.pg());this.gi(this.qg());for(const t of this.lc)t.qm&&(t.ei(t.pg()),t.gi(t.qg()))}m7(t,v){if(this.FE!==t||this.GE!==v)this.FE=t,this.GE=v,this.B3()&&(this.gt(),this.Mk(),this.b.R())}sG(){return this.Zf?.5:this.FE}tG(){return this.Zf?
.5:this.GE}rP(){const t=this.sG(),v=this.tG();return 0>t||1<t||0>v||1<v}rR(){this.Zf&&(this.Zf=!1,this.gt(),this.Mk(),this.b.R())}oR(){this.Zf||(this.Zf=!0,this.gt(),this.Mk(),this.b.R())}B3(){return!this.Zf}aq(t){this.cc!==t&&(this.cc=t,this.Mk(),this.Dz(),this.b.R())}Fc(t){t=d.me(t);this.Oe!==t&&(this.Oe=t,this.Mk(),this.b.R())}ta(){return this.Oe}K(){return this.W}rf(t){!isFinite(t)||1>t||(this.W=t)}G(){return this.U}ld(t){!isFinite(t)||1>t||(this.U=t)}ba(t){return"number"===typeof t?this.nA(t):
this.OO(t.toString())}nA(t){t=d.fa(Math.floor(t),0,this.lc.length-1);return this.lc[t]}OO(t){return this.bW.get(t.toLowerCase())||null}oA(t){return this.cW.get(t)||null}gt(){for(const t of this.lc)t.Kda()}Mk(){for(const t of this.lc)t.Nk()}t1(){for(const t of this.lc)if(t.CR()&&t.Maa())return e.lk(t.jm),e.Rg(1),e;e.sp(0,0,0,0);return e}KS(){return[...this.Lt]}WR(t){if(t.Kc())for(const v of t.Dj.Fm)this.Lt.add(v);else this.Lt.add(t)}paa(){return[...this.Kh]}zI(t,v){if(t===this||!v)return Promise.resolve();
t&&(d.GZ(this.Kh,t.Kh),t.Kh.clear());t=[];for(const x of this.Lt)this.Kh.has(x)||(t.push(x.Ek(v)),this.Kh.add(x));return Promise.all(t)}async XP(t){if(t.Ya)throw Error("cannot load textures for family");var v=this.b.pb();!v||v.An()||this.Kh.has(t)||(this.Kh.add(t),v=t.Ek(v),this.J8(v),await v,t.QA(),this.b.R())}J8(t){this.Ly.add(t);t.then(()=>this.Ly.delete(t)).catch(()=>this.Ly.delete(t))}j8(){return Promise.all([...this.Ly])}c4(t){if(t.Ya||0<t.D.length)throw Error("cannot unload textures");this.b.pb()&&
this.Kh.has(t)&&(this.Kh.delete(t),t.bi())}qea(t,v){if(t!==this&&v)for(const x of this.Kh)x.eh()||t.Lt.has(x)||(x.bi(),this.Kh.delete(x))}Jw(){this.Kh.clear()}async sU(t){const v=this.b,x=this.gb,z=v.ka();this.bV&&(this.td=z.FO(this.bV),this.td.bJ());x.hU(this);this.W=this.Sfa;this.U=this.Rfa;this.Fi=v.Xe/2;this.Gi=v.We/2;this.Dz();this.zba(t);this.w9();this.Zq||this.y9();this.hS(this.ut);this.x9();x.nZ();v.pe();const D=this.b.Hea;await Promise.all(D);d.C(D);if(!v.cl){for(const E of this.ut)E.q7();
for(const E of this.ut)E.vU()}d.C(this.ut);await Promise.all([...this.Lt].map(E=>E.cH(this.b.pb())));t&&(v.Fb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await v.wp(new d.Event("beforeprojectstart")));await this.wp(new d.Event("beforelayoutstart"));v.cl||await v.Vf(d.B.Xa.F.kQ,null,null);await this.wp(new d.Event("afterlayoutstart"));t&&(v.Fb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await v.wp(new d.Event("afterprojectstart")));z.Pca(x);await this.j8();this.gt();this.Mk();
this.Zq=!1}zba(t){for(const x of this.b.md)if(!x.Ya&&x.$f)for(const z of x.la()){const D=z.i();var v=D.ba();v=d.fa(v.Ha(),0,this.lc.length-1);v=this.lc[v];D.Mw(v);v.pba(z)}if(!t)for(const x of this.lc)x.ZI(!1)}w9(){for(const t of this.lc)t.LZ(this.ut),t.RH()}y9(){let t=!1;for(const [x,z]of Object.entries(this.jr)){const D=this.b.aj(parseInt(x,10));if(D&&!D.Ya&&D.zG()){for(const E of z){var v=null;if(D.$f&&(v=this.oA(E.w.l),!v))continue;v=this.b.Ti(D,v,!1,0,0,!0);v.Pb(E);t=!0;this.ut.push(v)}d.C(z)}}for(const x of this.lc)x.ZI(!0),
x.mh();t&&(this.b.pe(),this.b.zT())}hS(t){for(const x of t){if(!x.Kc())continue;const z=x.i(),D=x.Bp();for(const E of x.I().Dj.Fm)if(E!==x.I()){var v=E.la();v.length>D?x.Zs(v[D]):(v=z?this.b.Ti(E,z.ba(),!0,z.O(),z.P(),!0):this.b.Ti(E,null,!0,0,0,!0),this.b.pe(),E.PB(),x.Zs(v),t.push(v))}}}x9(){for(const t of this.zK)this.b.Pf(t[1]).Kc()||this.b.Ti(t,null,!0)}u9(){const t=[],v=this.zK;let x=0;for(let z=0,D=v.length;z<D;++z){const E=v[z],M=this.b.Pf(E[1]);M.eh()?M.Kc()&&M.Dj.Y1()||t.push(this.b.Ti(E,
null,!0)):(v[x]=E,++x)}d.bf(v,x);this.b.pe();this.hS(t)}Xv(t,v,x,z,D,E){if(x)return x.Xv(t,v,z,D,E);x=[];for(const M of this.lc)x.push(M.Xv(t,v,z,D,E));return x.flat()}async iea(){const t=this.gb;this.b.cl||await this.b.Vf(d.B.Xa.F.jQ,null,null);t.kR(!0);this.b.ka().Iz();this.Zq||this.Zca();for(const v of this.lc)v.E$();for(const v of this.b.md)if(!(v.eh()||v.$f||v.Hb().zo||v.Ya)){for(const x of v.la())this.b.qn(x);this.b.pe()}t.kR(!1);t.Wb()===this&&t.hU(null)}Xca(t){const v=t.I().jb.toString();
this.jr.hasOwnProperty(v)||(this.jr[v]=[]);this.jr[v].push(t.Xb())}Zca(){for(const t of this.lc){t.Tw();for(const v of t.D){const x=v.I();!x.eh()&&x.zG()&&this.Xca(v)}}}G5(){this.jr={};this.Zq=!0}sA(){return this.Uk}Xs(){return"low"===this.b.aa.Qj||this.b.uM||"low-latency"===this.b.tt||this.Ra.Hv()||this.b.pb().Lv()&&this.b.Um}g9(t){return 0===t.length?!0:2<=t.length?!1:!t[0].kb.In()}Nd(t){var v=this.b.aa;const x=this.Xs();var z=null;x?("low-latency"!==this.b.tt&&(t.qf(null),t.Lz()),z={Dd:this.b.zc,
VM:this.b.uM||this.Ra.Hv()},"low"===v.Qj&&(z.width=v.Wg(),z.height=v.og()),z=this.b.qv(z),t.qf(z)):t.qf(null);t.Jc(this.t1());this.b.Um&&t.kZ();this.Uk=z;for(var D of this.lc)D.RH(),D.CR()&&g.push(D);for(let E=0,M=g.length;E<M;){v=g[E];if(v.us()&&!v.Xs()){l.push(v);for(D=E+1;D<M;++D){const B=g[D];if(B.us()&&!B.Xs())l.push(g[D]);else break}if(2<=l.length){this.k$(t,z,l);E+=l.length;d.C(l);continue}d.C(l)}v.Nd(t,z,0===E);++E}d.C(g);x&&(t.Sn(!1),this.v$(t,z));this.Uk=null}v$(t,v){const x=this.Ra.sj,
z=this.b;if(this.g9(x)){t.qf(null);if(1===x.length){var D=x[0];const E=D.kb;t.Vn(E);f.set(0,0,1,1);c.set(0,0,z.Og,z.Ng);D=this.Ra.Xg(D.Ha());t.Qs(null,b,f,f,c,1/z.Wg(),1/z.og(),this.cc,this.ta(),z.Of(),D);E.XB&&z.R()}else t.wg();0===x.length?t.DF(v):(t.pH(),t.Hs(),t.jv(v));t.Jp(v);z.Nn(v)}else d.hH(t,z,this,null,x)}k$(t,v,x){var z=this.b.aa;t.Sn(!0);for(var D of x)D.Tw(),d.hp(n,D.uI());D=x[0];x=null;this.b.KG()&&t.Lv()&&(z=z.PO(D))&&(x=z.sF(),t.MH(x));for(let G=0,H=n.length;G<H;){D=n[G];var E=D.i(),
M=E.ba();if(E.Tc()&&E.ys(M.Aw())){(!D.Tp()||0<E.Al())&&r.push(D);var B=D.i().Qf();q.push(D);for(z=G+1;z<H;++z){const J=n[z],P=J.i();if(P.Tc()&&P.ys(P.ba().Aw())){if(P.Qf()!==B)break;J.Tp()?(0<P.Al()&&r.push(J),q.push(J)):r.push(J)}}if(1!==q.length||q[0].$P()){this.l$(t,v,q);for(let J=0,P=r.length;J<P;++J)D=r[J],E=D.i(),M=E.ba(),E.KB(!0),w(M,t),M.Zl(D,E,t,v),E.KB(!1)}else{w(M,t);M.Zl(D,E,t,v);for(let J=0,P=r.length;J<P;++J)E=r[J],E!==D&&(M=E.i(),B=M.ba(),w(B,t),B.Zl(E,M,t,v))}G=z;d.C(q);d.C(r)}else++G}x&&
t.MF(x);d.C(n);p=null}l$(t,v,x){t.$N();for(let M=0,B=x.length;M<B;++M){var z=x[M],D=z.i(),E=D.ba();D.IB(!0);w(E,t);E.kI(z,D,t)}t.ZN();for(let M=0,B=x.length;M<B;++M)z=x[M],D=z.i(),E=D.ba(),w(E,t),E.Zl(z,D,t,v),D.IB(!1);t.YN()}ma(){const t={sx:this.pg(),sy:this.qg(),s:this.cc,a:this.ta(),w:this.K(),h:this.G(),ortho:this.Zf,vpX:this.sG(),vpY:this.tG(),fv:this.Zq,persist:this.jr,fx:this.Ra.Xb(),layers:{}};for(const v of this.lc)t.layers[v.jb.toString()]=v.ma();return t}wa(t){this.Fi=t.sx;this.Gi=t.sy;
this.cc=t.s;this.Oe=t.a;this.W=t.w;this.U=t.h;this.Zf=!!t.ortho;t.hasOwnProperty("vpX")&&(this.FE=t.vpX);t.hasOwnProperty("vpY")&&(this.GE=t.vpY);this.Zq=!!t.fv;this.jr=t.persist;this.Ra.Pb(t.fx);for(const [v,x]of Object.entries(t.layers))(t=this.oA(parseInt(v,10)))&&t.wa(x);this.gt();this.Mk()}Th(t){t.Qg=this.Bx;var v=this.b;(v=v.Jb&&!v.ka().IA())&&a.LH();this.He.dispatchEvent(t);v&&a.rF()}wp(t){t.Qg=this.Bx;return this.He.KM(t)}}}
{"use strict";const d=self.j;d.P3=class extends d.ia{constructor(a){super();this.b=a;this.uj=[];this.dL=new Map;this.eL=new Map;this.ay=null;this.LL=[];this.IC=null;this.eD=0;this.hy=null}g(){this.hy=this.IC=this.ay=this.b=null;d.C(this.uj);this.dL.clear();this.eL.clear();d.C(this.LL)}Ta(a){a=d.A(d.NP,this,this.uj.length,a);this.uj.push(a);this.dL.set(a.Ba().toLowerCase(),a);this.eL.set(a.jb,a)}H(){return this.b}n6(a){this.IC=a}c1(){if(this.IC)return this.IC;if(this.uj.length)return this.uj[0];throw Error("no first layout");
}ks(a){return this.dL.get(a.toLowerCase())||null}hG(a){return this.eL.get(a)||null}u1(a){a=d.fa(Math.floor(a),0,this.uj.length-1);return this.uj[a]}qc(a){return"number"===typeof a?this.u1(a):this.ks(a.toString())}hU(a){this.ay=a}Wb(){return this.ay}*vz(){this.ay&&(yield this.ay);this.LL.length&&(yield*this.LL)}kR(a){if(a)this.eD++;else{if(0>=this.eD)throw Error("already unset");this.eD--}}EP(){return 0<this.eD}Hz(a){this.hy=a}nZ(){this.hy=null}zs(){return!!this.hy}Js(){const a=this.Wb();a&&a.gt()}Is(){const a=
this.Wb();a&&a.Mk()}}}
{"use strict";const d=self.j;class a{constructor(){this.Rc=this.Kf=null;this.Vu=this.Wu=this.Ni=this.$m=0;this.Mu=new d.Rect;this.bn=new d.Rect;this.rp=new d.Rect;this.sz=new d.Rect;this.Pu=new d.Rect;this.clearRect=new d.Rect;this.jF=new d.Rect;this.xX=[null,null];this.mp=0;this.Mr=1;this.Ku=this.Lu=this.Au=this.zu=0;this.cn=this.lg=this.ne=this.oe=this.Qg=null;this.TE=this.iN=this.bF=!1;this.$E=null}Jc(){this.$E=this.cn=this.lg=this.ne=this.oe=this.Qg=this.Rc=this.Kf=null}t7(g){g=g.kb;if(g.In())return!0;
if(this.ne)return g.Wy&&(0!==this.lg.ta()||0>this.lg.K()||0>this.lg.G())||0!==this.zu||0!==this.Au||!this.lg.xn()||this.ne.In();if(this.oe)return!this.oe.xn()}s7(g){g=g.kb;return g.Wy||g.OJ||this.Qg&&"low"===this.Rc.aa.Qj}js(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.xX;if(!l[g]){var n=this.Rc;const q=n.aa;n={Dd:n.zc};"low"===q.Qj&&(n.width=q.Wg(),n.height=q.og());l[g]=q.qv(n)}return l[g]}p5(){const g=this.xX,l=this.Rc.aa;g[0]&&(l.Nn(g[0]),g[0]=null);g[1]&&(l.Nn(g[1]),g[1]=
null)}}const b=[];let f=0;const c=new d.Ec;let e=!1;async function k(g,l,n){l=await d.$.TH.TZ(l,n);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",l)}d.hH=function(g,l,n,q,r,p){f===b.length&&b.push(new a);var w=b[f++];w.Kf=g;w.Rc=l;if(n instanceof d.Instance)w.ne=n,w.lg=w.ne.i();else if(n instanceof d.VG)w.oe=n;else if(n instanceof d.NP)w.Qg=n;else throw Error("invalid effects object");n=l.aa;w.cn=q;w.$m=n.Wg();w.Ni=n.og();w.Wu=w.$m;w.Vu=w.Ni;w.mp=0;w.Mr=1;w.zu=0;w.Au=
0;w.Pu.set(0,0,w.$m,w.Ni);w.clearRect.set(0,0,w.$m,w.Ni);w.TE=!1;w.$E=p;w.ne?(q=w.lg,w.Lu=q.ba().un(),w.Ku=q.ba().ta(),w.Mu.qa(q.tb())):w.oe?(q=w.oe,w.Lu=q.un(),w.Ku=q.ta(),w.Mu.qa(q.Hf)):(q=w.Qg,w.Lu=q.cc,w.Ku=q.ta(),w.Mu.set(0,0,w.$m,w.Ni));if(w.ne){{for(let G=0,H=r.length;G<H;++G)q=r[G].kb,w.zu+=q.cV,w.Au+=q.dV;var t=w.lg;q=t.ba();n=q.ta();p=t.tb();var v=t.Qf();t=t.Al();let [D,E]=q.Gn(p.M,p.J,v),[M,B]=q.Gn(p.V,p.S,v);if(0!==n||0<t){const [G,H]=q.Gn(p.V,p.J,v),[J,P]=q.Gn(p.M,p.S,v);if(0<t){n=v+
t;const [Q,T]=q.Gn(p.M,p.J,n),[W,Z]=q.Gn(p.V,p.J,n),[Y,fa]=q.Gn(p.V,p.S,n),[ja,xa]=q.Gn(p.M,p.S,n);q=Math.min(D,M,G,J,Q,W,Y,ja);M=Math.max(D,M,G,J,Q,W,Y,ja);D=q;q=Math.min(E,B,H,P,T,Z,fa,xa);B=Math.max(E,B,H,P,T,Z,fa,xa);E=q}else q=Math.min(D,M,G,J),M=Math.max(D,M,G,J),D=q,q=Math.min(E,B,H,P),B=Math.max(E,B,H,P),E=q}q=w.Pu;p=w.sz;n=w.rp;v=w.clearRect;t=w.bn;q.set(D,E,M,B);q.sN(w.Ni);p.qa(q);p.mk(w.Wu,w.Vu);p.Rr();q.XE(w.zu,w.Au);n.qa(q);n.mk(w.Wu,w.Vu);n.Rr();v.qa(q);v.Lha();v.XE(w.zu+1,w.Au+1);q.fa(0,
0,w.$m,w.Ni);v.fa(0,0,w.$m,w.Ni);t.qa(q);t.mk(w.Wu,w.Vu);t.Rr()}}else w.bn.set(0,0,w.$m/w.Wu,w.Ni/w.Vu),w.rp.qa(w.bn),w.sz.qa(w.bn),w.bn.Rr(),w.rp.Rr(),w.sz.Rr();g.pH();g.Hs();g.aw(0);g.Rn(0);w.bF=w.t7(r[0]);w.bF&&(q=w.Kf,q.wg(),p=w.js(w.mp),q.qf(p),(n=w.$E)&&n.jN&&n.jN(),q.AF(w.clearRect),w.ne?(q.jj(w.lg.kG()),q.Rn(w.lg.Qf()),w.ne.Nd(q),q.Rn(0)):(n=(w.oe||w.Qg).sA(),w.oe?q.jj(w.oe.kG()):q.Hs(),q.jv(n),q.Jp(n),w.Rc.aa.Nn(n)),w.rp.pX(),w.mp=1,w.Mr=0,e&&k("Pre-draw",q,p));g.Hs();q=r.length-1;w.iN=w.s7(r[q]);
for(let D=0,E=r.length;D<E;++D){n=r[D];p=n.kb;g.Vn(p);p.XB&&l.R();if(0!==D||w.bF){g.$Q();var x=void 0,z=void 0;p=w;x=n;z=D===q&&!w.iN;n=D;v=p.Kf;t=p.Rc;0===n&&p.bF&&p.ne&&p.Pu.sN(p.Ni);z?(p.ne?v.pf(p.lg.Wi()):p.oe&&v.pf(p.oe.Wi()),z=p.cn,v.qf(z)):(z=p.js(p.mp),v.qf(z),v.AF(p.clearRect));x=p.ne?p.lg.Qe.Xg(x.Ha()):(p.oe||p.Qg).Ra.Xg(x.Ha());v.Qs(p.cn,p.rp,p.bn,p.sz,p.Mu,1/p.Wu,1/p.Vu,p.Lu,p.Ku,t.Of(),x);x=p.js(p.Mr);v.fe(x.Cb());t.aa.cR(v);p.TE=!0;c.Ph(p.Pu);v.Rl(c,p.bn);p.ne||v.Jp(x);e&&k("Bounce "+
n,v,z)}else{p=w;z=n;n=p.Kf;v=p.Rc;t=p.js(p.mp);n.qf(t);(x=p.$E)&&x.jN&&x.jN();n.AF(p.clearRect);if(p.ne){const [M,B]=p.ne.eA();(x=p.ne.fA())?p.jF.qa(x):p.jF.set(0,0,0,0);z=p.lg.Qe.Xg(z.Ha());n.Qs(p.cn,p.rp,p.jF,p.jF,p.Mu,1/M,1/B,p.Lu,p.Ku,v.Of(),z);n.Rn(p.lg.Qf());p.ne.Nd(n);n.Rn(0);p.rp.pX();p.Pu.sN(p.Ni)}else z=(p.oe||p.Qg).Ra.Xg(z.Ha()),n.Qs(p.cn,p.rp,p.bn,p.sz,p.Mu,1/p.$m,1/p.Ni,p.Lu,p.Ku,v.Of(),z),p=(p.oe||p.Qg).sA(),e&&k("Layer target",n,p),n.jv(p),n.Jp(p),v.aa.Nn(p);e&&k("First bounce",n,t)}0===
w.mp?(w.mp=1,w.Mr=0):(w.mp=0,w.Mr=1)}w.iN&&(g=w.Kf,w.Qg?(g.wg(),g.qf(w.cn),l=w.js(w.Mr),g.DF(l),g.Jp(l)):(l=w.Rc.aa,"low"===l.Qj?(g.wg(),l.cR(g,l.Wg(),l.og()),w.TE=!0):g.h6(),w.ne?g.pf(w.lg.Wi()):w.oe&&g.pf(w.oe.Wi()),g.qf(w.cn),l=w.js(w.Mr),g.fe(l.Cb()),c.Ph(w.Pu),g.Rl(c,w.bn),w.ne||g.Jp(l),e&&k("Post-draw",g,w.cn)));g=w.TE;w.p5();w.Jc();f--;e=!1;return g}}
{"use strict";const d=self.j;d.O7=class extends d.ia{constructor(a){super();this.b=a;this.Oy=d.A(d.ph);this.Ufa=null;this.So=[];this.Py=new Map;this.Em=new Map;this.To=new Map;this.Eh=[];this.Hg=[];this.Px=this.pt=this.Oq=!1;this.Om=()=>this.Uba();this.Nm=()=>this.HI();this.zJ=()=>this.AB();this.cL=()=>this.Bba();this.DK=b=>this.sT(b.instance);this.mJ=()=>this.Iw();this.nx=[]}g(){this.u5();this.mJ=this.DK=this.cL=this.zJ=this.Nm=this.Om=null;for(const a of this.So)a.nh(),a.g();d.C(this.So);this.So=
null;this.Oy.g();this.Oy=null;d.C(this.Eh);this.Eh=null;d.C(this.Hg);this.Hg=null;this.Py.clear();this.Py=null;this.Em.clear();this.Em=null;this.To.clear();this.To=null;d.C(this.nx);this.b=this.nx=null}EY(){const a=this.b.Fb();a.addEventListener("pretick",this.Om);a.addEventListener("tick2",this.Nm);a.addEventListener("beforelayoutchange",this.zJ);a.addEventListener("layoutchange",this.cL);a.addEventListener("instancedestroy",this.DK);a.addEventListener("afterload",this.mJ)}u5(){const a=this.b.Fb();
a.removeEventListener("pretick",this.Om);a.removeEventListener("tick2",this.Nm);a.removeEventListener("beforelayoutchange",this.zJ);a.removeEventListener("layoutchange",this.cL);a.removeEventListener("instancedestroy",this.DK);a.removeEventListener("afterload",this.mJ)}Ta(a){this.Oy.Sc(a);a=d.te.KZ(a,this);this.Sc(a);this.b7(a);this.To.set(a.Ba(),0)}EF(a){a=a.iP();var b=this.Oy.ea(a);b=d.te.EF(`${a}:${this.To.get(a)}`,b,this);this.WS(a);this.Sc(b);return b}WS(a){this.To.set(a,this.To.get(a)+1)}rda(){for(const a of this.So)a.Ot||
this.WS(a.iP())}m9(){for(const a of this.To.keys())this.To.set(a,0)}Sc(a){this.So.push(a);this.Py.set(a.Ba().toLowerCase(),a)}ci(a){a.Ot||(d.Lr(this.So,a),d.Lr(this.Eh,a),d.Lr(this.Hg,a),this.Py.delete(a.Ba().toLowerCase()),this.v5(a),a.Di||a.g())}Aa(a){this.b.Aa(a,this.Ufa,null)}H(){return this.b}yR(a,b){this.Em.has(a)||this.Em.set(a,new Set);this.Em.get(a).add(b)}b7(a){for(const b of a.pA())this.yR(b,a)}v5(a){for(const [b,f]of this.Em.entries())f.has(a)&&(f.delete(a),0===f.size&&this.Em.delete(b))}M1(a){if(this.Em.has(a))return this.Em.get(a)}vA(a){return this.Py.get(a.toLowerCase())||
null}t5(a){d.Lr(this.Hg,a);this.Fw()}UQ(a){this.Hg.includes(a)?(a.iw(!0),a.kw(!1),a.wH(!1)):(a.iw(!1),a.kw(!0),a.wH(!1),this.Eh.includes(a)||this.Eh.push(a));this.lT()}Pz(a){a.iw(!1);a.kw(!1);a.mH();d.Lr(this.Eh,a);this.Fw()}Nz(a){a.iw(!1);a.kw(!1);a.wH(!0)}BZ(a){this.Nz(a);a.mH()}Uba(){if(!this.H().cl&&this.Oq&&!this.pt){var a=!1;for(this.Px=!0;this.Eh.length;){var b=this.Eh.pop();b.Id();this.Hg.push(b)}b=this.b.zp();var f=this.b.Fe;for(const c of this.Hg){if(c.Xt)continue;const e=c.ge(b,f);!a&&
e&&(a=!0)}this.Px=!1;a&&this.H().R()}}HI(){if(!this.H().cl&&this.Oq&&!this.pt){var a;for(const b of this.Hg)b.Xt&&(a||(a=new Set),this.mT(b),a.add(b));a&&d.Oh(this.Hg,a);this.Fw()}}mT(a){a.Di||a.qP()&&a.zg&&a.yo&&a.sO()}lT(){this.Oq||(this.Oq=!0)}Fw(){this.Hg.length||this.Eh.length||this.Px||(this.Oq=!1)}AB(){for(this.pt=!0;this.Eh.length;)this.Pz(this.Eh.pop());const a=new Set;for(const b of this.Hg)b.AB()&&a.add(b);d.Oh(this.Hg,a);this.Fw();for(const b of this.So)b.pk()}Bba(){this.pt=!1}sT(a){var b=
a.I();if(b=this.M1(b))if(this.b.cl)this.nx.push(a);else for(const f of b)f.Ot||(f.Di?this.ci(f):f.qP()||(this.mT(f),this.ci(f)))}Iw(){for(const a of this.nx)this.sT(a);d.C(this.nx)}ma(){return{timelinesJson:this.dda(),scheduledTimelinesJson:this.bda(),playingTimelinesJson:this.$ca(),hasRuntimeListeners:this.Oq,changingLayout:this.pt,isTickingTimelines:this.Px}}wa(a){a&&(this.m9(),this.hba(a.timelinesJson),this.eba(a.scheduledTimelinesJson),this.cba(a.playingTimelinesJson),this.Oq=!a.hasRuntimeListeners,
this.pt=!!a.changingLayout,this.Px=!!a.isTickingTimelines,this.rda(),this.lT(),this.Fw())}dda(){return this.So.map(a=>a.ma())}hba(a){for(const b of a){a=this.vA(b.name);if(!a){a=this.oaa(b);if(!a)continue;a=this.vA(a);a=this.EF(a)}a.wa(b);a.h2()||this.ci(a)}}oaa(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}bda(){return this.UT(this.Eh)}eba(a){this.gT(a,this.Eh)}$ca(){return this.UT(this.Hg)}cba(a){this.gT(a,this.Hg)}Naa(a,b){for(const f of b)if(f===a.Ba())return!0;return!1}UT(a){return a.map(b=>
b.Ba())}gT(a,b){var f=new Set;for(const c of b)this.Naa(c,a)||f.add(c);d.Oh(b,f);f=c=>e=>e.Ba()===c;for(const c of a)(a=this.vA(c))&&(b.find(f(c))||b.push(a))}}}
{"use strict";const d=self.j;d.te=class extends d.ia{constructor(a,b,f){super();this.b=f.H();this.Lb=f;this.Df=b;this.Fa=a;this.Ub=[];for(const c of this.Df.xA().Wha())this.Ub.push(d.JR.Ta(this,c));this.TD=this.jy=null;this.Io=d.A(d.Mv);this.Io.Set(0);this.Gm=1;this.dk=0;this.Fj=1;this.yo=this.wm=this.jD=!1;this.zg=!0;this.Xt=this.Di=!1;this.qt=-1;this.wo=this.Mq=this.Ot=this.VC=!1;this.XV=NaN;this.Jh=[""];this.VW="";this.eM=!1}static KZ(a,b){const f=b.Oy.ea(a[0]);a=d.A(d.te,a[0],f,b);a.B6();return a}static EF(a,
b,f){return d.A(d.te,a,b,f)}static get h8(){return 1}static get Ol(){return d.aN(1)}g(){if(!this.Di){this.Lb.Pz(this);this.Lb.BZ(this);for(const a of this.Ub)a.g();d.C(this.Ub);this.Ub=null;this.Io.g();this.Df=this.Lb=this.b=this.Io=null;this.Di=!0;this.TD=this.jy=null}}H(){return this.b}pG(a,b,f){const c=[];for(const e of this.Ub){if(a!==e.Ca())continue;const k=e.Hl(f);k&&b.constructor===k.Gd().constructor&&c.push(k)}return c}h2(){return!!this.Ub.length}eB(a){this.Fa=a}Ba(){return this.Fa}iP(){return this.Df.Ba()}$d(){return this.Df.$d()}Bv(){return this.Df.Bv()}Yi(){return this.Df.Yi()}cj(){return this.Df.cj()}Hk(a){for(const b of this.Ub)b.Hk(a)}ls(){return this.Df.ls()}os(){return this.Df.os()}vn(){return this.Df.vn()}fB(a){this.Gm=
a}$h(){return this.IsPlaying()?0<this.Gm:!0}VO(){this.jy||(this.jy=new Promise(a=>{this.TD=a}))}mH(){this.jy&&(this.TD(),this.TD=this.jy=null)}Ss(a){this.Jh=d.te.naa(a);this.eM=!0}nQ(){d.B.Wc.F.bq(this);this.Lb.Aa(d.B.Wc.F.zma);this.Lb.Aa(d.B.Wc.F.Ama);this.Lb.Aa(d.B.Wc.F.Bma);this.Lb.Aa(d.B.Wc.F.sma);d.B.Wc.F.bq(null)}eQ(){this.qt=this.b.il}sO(){this.Mq||(this.Mq=!0,d.B.Wc.F.bq(this),this.Lb.Aa(d.B.Wc.F.wma),this.Lb.Aa(d.B.Wc.F.xma),this.Lb.Aa(d.B.Wc.F.yma),this.Lb.Aa(d.B.Wc.F.rma),d.B.Wc.F.bq(null))}iw(a){this.jD=
a}AP(){return this.qt===this.b.il}IsPlaying(a=!1){return this.AP()||this.wm&&!a?!0:this.jD}dt(){return this.IsPlaying(!0)}kw(a){this.wm=a}ZQ(a){this.zg=a;a=this.Ea();if(0>=a||a>=this.$d())this.zg=!0}wH(a){this.Xt=a}vH(a){this.VC=a}B6(){this.Ot=!0}Ea(){return this.Io.ea()}Us(a){const b=this.Ea();this.Ne(a);this.ZQ(!1);this.zg||this.vH(!0);if(this.dt()||this.wm||!this.yo)this.dt()||this.wm||this.yo?this.dt()?this.nh():this.wm&&(this.Lb.Pz(this),this.iR()):this.iR();this.yB(a,!1,!0,!0,b)&&this.H().R();
this.wT()}Ne(a){0>a?this.Io.Set(0):a>=this.$d()?this.Io.Set(this.$d()):this.Io.Set(a)}wT(){d.B.Wc&&this.constructor===d.te&&(d.B.Wc.F.bq(this),this.Lb.Aa(d.B.Wc.F.tma),this.Lb.Aa(d.B.Wc.F.uma),this.Lb.Aa(d.B.Wc.F.vma),d.B.Wc.F.bq(null))}Play(a=!1){return this.Di||this.wm?!1:this.dt()&&this.AP()?this.hda():this.dt()||!this.zg&&!a&&!this.VC?!1:this.ida()}hda(){this.vH(!1);this.Lb.t5(this);this.Lb.UQ(this);this.VO();return!0}ida(){this.vH(!1);this.Lb.UQ(this);this.VO();return!0}nh(a=!1){this.Di||(this.ZQ(a),
this.Lb.Nz(this),this.zg&&this.mH())}kd(a=!0,b=!1){if(!this.Di)if(!this.dt()&&this.wm)this.Lb.Pz(this);else if(!this.zg){this.nh(!0);this.$h()?this.Ne(0):this.Ne(this.$d());var f=this.Ea();b=b?this.Faa(f):this.yB(f,!1,!1,!0);a&&this.wT();b&&a&&this.H().R()}}NQ(){this.kd(!1,!0)}Faa(a){this.yB(a,!1,!1,!0,NaN,!1,!0)}AB(){if(this.Di)return!0;if(this.i2())return!1;this.Lb.Nz(this);this.NQ();return!0}iR(){this.Id(!0)}Id(a){if(!this.Xt)if(a){this.wo=this.yo=!0;for(const b of this.Ub)b.Id()}else if(this.iw(!0),
this.kw(!1),this.nQ(),this.zg){this.qt=-1;this.dk=0;this.Fj=1;this.Mq=this.zg=!1;this.wo=this.yo=!0;this.$h()?this.Ne(0):this.Ne(this.$d());for(const b of this.Ub)b.Id()}else{this.wo=!0;for(const b of this.Ub)b.vg()}}ge(a,b){if(0!==a||0!==this.XV){this.XV=a;var f=this.Ea();this.Ne(f+a*b*this.Gm);var c;this.ls()||this.os()?this.ls()&&!this.os()?c=this.mba():!this.ls()&&this.os()?c=this.cca():this.ls()&&this.os()&&(c=this.nba()):c=this.aea();if(c){for(const e of this.Ub)e.l6();this.nh(!0);this.eQ();
return!0}return this.yB(this.Ea(),!0,!1,!1,f,!0)}}yB(a,b=!1,f=!1,c=!1,e=NaN,k=!1,g=!1){let l=!1;for(var n of this.Ub)n.cv();for(const q of this.Ub){n=a;if("number"===typeof e){const r=this.Ea()-q.rg(),p=e-q.rg();0>r&&0<p&&(n=q.rg(),this.Ne(n))}n=q.qb(n,b,f,c,this.wo,g);!l&&n&&(l=!0)}for(const q of this.Ub)q.bv();this.wo&&k&&(this.wo=!1);return l}aea(){if(this.$h()){if(this.Ea()>=this.$d())if(this.Fj<this.vn())this.Fj++,this.Ne(0);else return this.Ne(this.$d()),!0}else if(0>=this.Ea())if(this.Fj<this.vn())this.Fj++,
this.Ne(this.$d());else return this.Ne(0),!0;return!1}mba(){this.$h()?this.Ea()>=this.$d()&&this.Ne(0):0>=this.Ea()&&this.Ne(this.$d());return!1}cca(){if(this.$h()){if(this.Ea()>=this.$d())if(this.Ne(this.$d()),this.fB(-1*this.Gm),1===this.dk)if(this.Fj<this.vn())this.Fj++,this.dk=0;else return!0;else 0===this.dk&&(this.dk=1)}else if(0>=this.Ea())if(this.Ne(0),this.fB(-1*this.Gm),1===this.dk)if(this.Fj<this.vn())this.Fj++,this.dk=0;else return!0;else 0===this.dk&&(this.dk=1);return!1}nba(){this.$h()?
this.Ea()>=this.$d()&&(this.Ne(this.$d()),this.fB(-1*this.Gm)):0>=this.Ea()&&(this.Ne(0),this.fB(-1*this.Gm));return!1}pk(){for(const a of this.Ub)a.pk()}pZ(){for(const a of this.Ub)a.mZ()}c7(a,b){if(b)for(const f of this.Ub)if(f.ai()){if(a){if(f.rk()!==a)continue}else if(f.b2())continue;f.y6(b);this.Lb.yR(b.I(),this);break}}qP(){return this.Ub.some(a=>a.ai()?a.yF():!0)}i2(){return this.Ub.some(a=>a.ai()?a.yF()?(a=a.I())?a.eh():!1:!1:!1)}Hl(a){for(const b of this.Ub)for(const f of b.Oc)if(f.Sa.Rd===
a)return f}lP(a){for(const b of this.Ub)if(a===b.Ca())return b;return null}pA(){const a=[];for(const b of this.Ub)a.push(b.I());return a.filter(b=>b)}ma(){return{tracksJson:this.fda(),name:this.Fa,playheadTime:this.Ea(),playbackRate:this.Gm,pingPongState:this.dk,currentRepeatCount:this.Fj,isPlaying:this.jD,isScheduled:this.wm,initialStateSet:this.yo,finishedTriggers:this.Mq,complete:this.zg,released:this.Di,markedForRemoval:this.Xt,completedTick:this.qt,implicitPause:this.VC,isTemplate:this.Ot,tags:this.Jh.join(" "),
stringTags:this.VW,tagsChanged:this.eM,firstTick:this.wo}}wa(a){a&&(this.iba(a.tracksJson),this.Fa=a.name,this.Io.Set(a.playheadTime),this.Gm=a.playbackRate,this.dk=a.pingPongState,this.Fj=a.currentRepeatCount,this.jD=!!a.isPlaying,this.wm=!!a.isScheduled,this.yo=!!a.initialStateSet,this.Mq=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.zg=!!a.complete,this.Di=!!a.released,this.Xt=!!a.markedForRemoval,this.qt=a.completedTick,this.VC=!!a.implicitPause,this.Ot=!!a.isTemplate,this.Jh=
a.tags.split(" "),this.VW=a.stringTags,this.eM=!!a.tagsChanged,this.wo=!!a.firstTick)}fda(){return this.Ub.map(a=>a.ma())}iba(a){a.forEach((b,f)=>{this.Ub[f].wa(b)});this.Ub.filter(b=>b.yF())}static naa(a){if(d.Kp(a))return a.slice(0);if(d.ej(a))return a.split(" ")}}}
{"use strict";const d=self.j;d.JR=class extends d.ia{constructor(a,b){super();this.Ro=a;this.fc=b;this.Ef=b.xA();this.Dm=this.rm=NaN;this.nb=this.Ah=null;this.$q=0<b.rg();this.Jq=this.Mt=!1;this.er=null;this.ad=this.fc.$i().ad;this.Oc=[];for(const f of this.fc.lf().Eha())this.Oc.push(d.fb.Ta(this,f))}static Ta(a,b){return d.A(d.JR,a,b)}g(){this.ad=null;for(const a of this.Oc)a.g();d.C(this.Oc);this.er=this.fc=this.nb=this.Ah=this.Ro=this.Oc=null}pk(){for(const a of this.Oc)a.pk();this.nb=this.Ah=
null}Cc(){return this.Ro}H(){return this.Ro.H()}s1(){return this.ad?this.ad:this.ad=this.fc.$i().ad}Hl(a){for(const b of this.Oc)if(b.Sa.Rd===a)return b}Bs(){this.Ah||this.Ca()}Ll(){return this.Ah?!this.Ah.BP():!1}yF(){if(!this.ai())return!1;const a=this.H().Xi(this.yv());return a?!a.BP():!1}I(){if(this.ai()){var a=this.jG();if(-1!==a)return this.H().Pf(a)}}mZ(){this.Ah=null;this.rm=-1;this.nb=null;this.Dm=-1}b2(){return!!this.Ah}Ca(){return this.Ah&&this.Ll()?this.Ah:this.Ah=this.H().Xi(this.yv())}y6(a){if(this.Ah!==
a){this.pk();this.Ah=a;this.Dm=a.I().Ha();this.rm=a.Qc;this.nb=a.i();for(const k of this.Fha()){const g=k.Qha;switch(k.Dha.Zd()){case "instance-variable":var b=a.I(),f=b.l1(k.name),c=b.MO(f);b=b.zv(f);c===k.name&&b===k.type&&g.c8(f);break;case "behavior":var e=k.DM;f=this.I();c=a.I();b=g.Uh(c);e&&b&&(e=e.Ba(),f.sv(e),c.sv(e),g.Z7(b.jb))}}}}*Fha(){for(const f of this.Oc){var a=f.Gd(),b=this.I();const c={Dha:f,Qha:a};switch(f.Zd()){case "world-instance":c.nta=f.Sa.Rd;break;case "instance-variable":a=
a.hs();c.name=b.MO(a);c.type=b.zv(a);break;case "effect":b=a.ZF(b.Ra);c.Era=b;break;case "behavior":b=a.Uh(b);c.DM=b;break;case "plugin":c.jta=b.Hb()}yield c}}i(){if(this.nb&&this.Ll())return this.nb;const a=this.Ca();a&&(this.nb=a.i());return this.nb}yv(){return this.rm?this.rm:this.fc.yv()}Yi(){return this.fc.Yi()}cj(){return this.fc.cj()}rk(){return this.fc.rk()}rg(){return this.fc.rg()}Gl(){return this.fc.Gl()}Hk(a){for(const b of this.s1())b.Hk(a);for(const b of this.Oc)b.Hk(a)}El(){return this.fc.El()}Ul(a){this.fc.Ul(a)}jG(){return isNaN(this.Dm)?
this.fc.jG():this.Dm}vk(){const a=this.Ca();return a&&a.ja.Ml()?a.ja.vk():this.fc.vk()}uk(){const a=this.Ca();return a&&a.ja.Ml()?a.ja.uk():this.fc.uk()}zk(){return this.fc.zk()}Ba(){return this.fc.Ba()}ai(){return 0===this.zk()}Id(){this.Bs();if(this.Ll()||!this.ai()){for(var a of this.Oc)a.Id();a=this.Cc().$h()?0:this.Gl();this.er=this.gG(a);this.Jq=this.Mt=!1;this.qb(a)}}vg(){this.Bs();if(this.Ll()||!this.ai()){this.Ro.$h();var a=this.Ro.Ea()-this.rg();this.er=this.gG(a);for(const b of this.Oc)b.vg()}}l6(){if(!(this.Cc().zg||
(this.Bs(),!this.Ll()&&this.ai()||this.$q))){const a=this.Ro.Ea();a>=this.rg()+this.Gl()?this.qb(this.Gl(),!0,!1,!0):0>=a&&this.qb(0,!0,!1,!0)}}cv(){for(const a of this.Oc)a.cv()}qb(a,b=!1,f=!1,c=!1,e=!1,k=!1){this.Bs();if(!this.Ll()&&this.ai()||k&&this.ai()&&this.I().eh())return!1;a-=this.rg();if(0>a)return!1;this.b4(a,b);this.YP(a,b,e);e=k=!1;for(const g of this.Oc){const l=g.qb(a,f,!1,c);k||0===(l&d.te.h8)||(k=!0);e||0===(l&d.te.Ol)||(e=!0)}this.a4(a,b);k&&(a=this.i())&&a.ua();return e}bv(){for(const a of this.Oc)a.bv()}b4(a,
b){if(b&&this.$q&&!this.Mt){if(this.Cc().$h()){if(0>a)return;for(const f of this.Oc)f.qb(0,!1,!1,!0)}else{if(a>this.Gl())return;for(const f of this.Oc)f.qb(this.Gl(),!1,!1,!0)}for(const f of this.Oc)f.Id();this.Mt=!0}}a4(a,b){if(b&&this.$q&&!this.Jq)if(this.Cc().$h()){if(a>=this.Gl()){for(const f of this.Oc)f.qb(this.Gl(),!1,!1,!0);this.Jq=!0}}else if(0>=a){for(const f of this.Oc)f.qb(0,!1,!1,!0);this.Jq=!0}}YP(a,b,f){!f&&b&&(a=this.gG(a),a!==this.er&&this.iQ(a),this.er=a)}gG(a){const b=this.Cc();
let f=this.Ef.p1(a,this.fc);return f?f:b.$h()?this.Ef.b1(a,this.fc):this.Ef.a1(a,this.fc)}iQ(a){if(d.B.Wc&&this.Cc().constructor===d.te){var b=this.Cc();d.B.Wc.F.bq(b);d.B.Wc.F.k7(a);a=b.Lb;a.Aa(d.B.Wc.F.qma);a.Aa(d.B.Wc.F.iQ);d.B.Wc.F.bq(null);d.B.Wc.F.k7(null)}}yY(){return this.fc.$i().sY()}b_(a){this.fc.$i().a_(a)}IF(a){for(const b of this.Oc)b.IF(a)}Yp(){for(const a of this.Oc)a.Yp()}Ri(){this.Bs();if(this.Ll()||!this.ai())for(const a of this.Oc)a.Ri()}Si(){this.Bs();if(this.Ll()||!this.ai()){var a=
!1;for(const b of this.Oc){const f=b.Si();!a&&f&&(a=!0)}a&&(a=this.yY(),a.Us(this.Cc().Ea()),a.Hk("noease"),a.Ul(!0),a.Ss(""))}}ma(){var a=this.Ca();a=a?a.Qc:this.yv();return{propertyTracksJson:this.ada(),lastKeyframeDataItemJson:this.Yca(),initialStateOfNestedSet:this.Mt,endStateOfNestedSet:this.Jq,instanceUid:a}}wa(a){a&&(this.dba(a.propertyTracksJson),this.bba(a.lastKeyframeDataItemJson),this.Zaa(a.instanceUid),this.Mt=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Mt=a.initialStateOfNestedSet),
this.Jq=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Jq=a.endStateOfNestedSet))}Yca(){return this.fc.$i().r1(this.er)}ada(){return this.Oc.map(a=>a.ma())}dba(a){a.forEach((b,f)=>{this.Oc[f].wa(b)})}Zaa(a){if(d.Cn(a)&&(a=this.H().Xi(a))){var b=this.Cc();b.pZ();b.c7(this.fc.rk(),a)}}bba(a){this.er=this.fc.$i().q1(a)}}}
{"use strict";const d=self.j;d.fb=class extends d.ia{constructor(a,b){super();this.Cd=a;this.Sa=b;this.Ld=b.lf();this.fk=this.Gd();this.cd=this.Sa.bj().cd}static Ta(a,b){return d.A(d.fb,a,b)}g(){this.Cd=null;this.fk&&(this.fk.g(),this.fk=null);this.Ld=this.Sa=this.cd=null}lf(){return this.Ld}Cc(){return this.Cd.Cc()}H(){return this.Cd.H()}Ca(){return this.Cd.Ca()}Gd(){if(this.fk)return this.fk;let a;switch(this.Sa.Zd()){case "behavior":a=new d.fb.TY(this);break;case "effect":a=new d.fb.h0(this);break;
case "instance-variable":a=new d.fb.j3(this);break;case "plugin":a=new d.fb.Y4(this);break;case "world-instance":a=new d.fb.s8(this);break;case "value":a=new d.fb.f8(this)}return this.fk=a}Zd(){return this.Sa.Zd()}Av(){return this.Sa.zk()}mG(){return this.lf().jA(this.Sa).zk()}El(){return this.Sa.El()}Ul(a){this.Sa.Ul(a)}Yi(){return this.Sa.Yi()}cj(){return this.Sa.cj()}Hk(a){for(const b of this.XO())b.Hk(a)}XO(){return this.cd?this.cd:this.cd=this.Sa.bj().cd}pk(){this.Gd().pk()}hf(){return this.Gd().hf()}Id(){this.Gd().Id()}vg(){this.Gd().vg()}cv(){this.Gd().cv()}qb(a,
b=!1,f=!1,c=!1){var e=this.Sa;let k=this.Ld.lG(a,e);k?e=this.Ld.HO(a,e):(k=this.Ld.dG(a,e),e=this.Ld.cG(a,e));return this.Gd().qb(a,k,e,b,f,c)}bv(){this.Gd().bv()}static hP(a,b){const f=b.Sa;b=b.Ld;let c=b.lG(a,f);c||(c=b.dG(a,f));return c}static P0(a,b){const f=b.Sa;b=b.Ld;return b.lG(a,f)?b.HO(a,f):b.cG(a,f)}BY(){return this.Sa.bj().tY()}IF(a){this.Sa.bj().c_(a)}Yp(){this.Gd().Yp()}Ri(){if(this.Gd().Ri()){const a=this.Ld.jA(this.Sa),b=this.Gd().hf();a.VQ(b)}}Si(){const a=this.Gd().Si();a&&this.CY();
this.Gd().Mz();return a}CY(){const a=this.Cc().Ea(),b=this.Gd(),f=d.fb.hP(a,this),c=this.BY();c.zR(f.zk());c.Us(a);c.Hk(f.tn());c.Ul(!0);c.jh(b.AA());c.VQ(b.hf())}ma(){return{sourceAdapterJson:this.Gd().ma()}}wa(a){a&&this.Gd().wa(a.sourceAdapterJson)}}}
{"use strict";const d=self.j.fb;d.fj=class{constructor(a){this.oa=a;this.Im=null}g(){this.Im&&(this.Im.g(),this.Im=null);this.oa=null}Hl(){return this.oa}pk(){this.Im&&this.Im.pk()}Yg(){return this.Im?this.Im:this.Im=this.z9()}hs(){}Ha(){return this.hs()}Ev(){}Id(){this.Yg().Id()}vg(){this.Yg().vg()}cv(){this.Yg().Wr()}qb(a,b,f,c,e,k){const g=d.fj.NO(this.oa)(a,b,f,this.oa);return e?g:this.Yg().vp(a,g,b,f,c,k)}bv(){this.Yg().Ur()}Yp(){var a=this.Yg();a.Ei=a.hf()}Mz(){this.Yg().Mz()}hf(){return this.Yg().hf()}Ri(){return this.Yg().Ri()}Si(){return this.Yg().Si()}AA(){return d.fj.AA(this.oa)}z9(){const a=
this.oa.Av();switch(this.oa.mG()){case "combo":case "boolean":case "text":case "string":return new d.tg.aQ(this);case "numeric":case "number":case "angle":return"combo"===a?new d.tg.aQ(this):new d.tg.i4(this);case "color":case "offsetColor":return new d.tg.sZ(this)}}ma(){return{propertyAdapterJson:this.Yg().ma()}}wa(a){a&&this.Yg().wa(a.propertyAdapterJson)}static AA(a){const b=a.Cd.Cc().Ea(),f=d.hP(b,a),c=d.P0(b,a);return d.fj.NO(a)(b,f,c,a)}static ae(){let a=(void 0).cj();"combo"===(void 0).Av()&&
(a="absolute");switch(a){case "relative":return NaN}}static NO(a){switch(a.mG()){case "numeric":return d.XG.qb;case "angle":return d.FN.qb;case "boolean":return d.LN.qb;case "color":return d.VN.qb;case "text":return d.HR.qb}}static Q1(a){switch(a.mG()){case "numeric":return d.XG.Xl;case "angle":return d.FN.Xl;case "boolean":return d.LN.Xl;case "color":return d.VN.Xl;case "text":return d.HR.Xl}}}}{"use strict";const d=self.j;class a extends d.fb.fj{constructor(b){super(b)}}d.fb.s8=a}
{"use strict";const d=self.j;class a extends d.fb.fj{constructor(b){super(b);this.Vy=NaN}hs(){return this.oa.Sa.Gh[0]}Ha(){return this.Vy?this.Vy:super.Ha()}Ev(){return this.oa.Cd.Ca()}c8(b){this.oa.Sa.Gh[0]!==b&&(this.Vy=b)}qb(b,f,c,e,k,g){if(this.Yg().QN(f.ae()))return super.qb(b,f,c,e,k,g)}ma(){return Object.assign(super.ma(),{index:this.Vy})}wa(b){b&&(super.wa(b),this.Vy=b.index)}}d.fb.j3=a}
{"use strict";const d=self.j;class a extends d.fb.fj{constructor(b){super(b);this.jb=NaN}hs(){return this.oa.Sa.Gh[1]}Ev(){var b=this.oa.Sa,f=this.jb?this.jb:b.Gh[0];b=this.oa.Cd.Ca();f=b.yO(f);return b.nd[f].ja}Uh(b){return b.Zz(this.oa.Sa.Gh[2])}Z7(b){this.oa.Sa.Gh[0]!==b&&(this.jb=b)}qb(b,f,c,e,k,g){const l=this.oa.Cd.Ca();if(this.Uh(l.I()))return super.qb(b,f,c,e,k,g)}ma(){return Object.assign(super.ma(),{sid:this.jb})}wa(b){b&&(super.wa(b),this.jb=b.sid)}}d.fb.TY=a}
{"use strict";const d=self.j;class a extends d.fb.fj{constructor(b){super(b)}hs(){return this.oa.Sa.Gh[1]}Ev(){const b=this.oa.Cd.i().Qe,f=this.ZF(b.Ra).Ha();return b.Kv(f)?b.Xg(f):null}ZF(b){return b.Dl(this.oa.Sa.Gh[0])}qb(b,f,c,e,k,g){if(this.Jaa())return super.qb(b,f,c,e,k,g)}Jaa(){const b=this.oa.Cd.i().Qe,f=this.ZF(b.Ra);if(f)return b.Kv(f.Ha())}}d.fb.h0=a}
{"use strict";const d=self.j;class a extends d.fb.fj{constructor(b){super(b)}hs(){return this.oa.Sa.Gh[0]}Ev(){return this.oa.Cd.Ca().ja}qb(b,f,c,e,k,g){var l=this.oa.Cd;const n=l.I().Hb();l=l.Ca().I().Hb();if(n===l)return super.qb(b,f,c,e,k,g)}}d.fb.Y4=a}
{"use strict";const d=self.j;class a extends d.fb.fj{constructor(b){super(b);this.Md=0;this.WC=!1}Id(){const b=this.oa.lf();let f=this.oa.Sa;f=b.jA(f);this.Md=f.Dc()}vg(){}ae(){this.WC||this.oa.qb(0);return this.Md}qb(b,f,c){const e=d.fb.XG.qb;this.Md=e(b,f,c,this.oa);this.WC=!0}Yp(){}Mz(){}hf(){return this.Md}Ri(){return!1}Si(){return!1}ma(){return{value:this.Md,init:this.WC}}wa(b){b&&(this.Md=b.value,this.WC=b.hasOwnProperty("init")?b.init:!0)}}d.fb.f8=a}"use strict";
function hc(d,a,b){return d.oa.Cc().$h()?a():b()}function ic(d,a,b){return"relative"===d.oa.cj()?a():b()}function jc(d,a,b){d.It?(d.It=!1,a()):b()}function kc(d){if(d.pu)return d.pu;d.pu=d.fk.Ev();return d.pu}function lc(d,a,b,f,c,e){switch(d.oa.Zd()){case "behavior":return a();case "effect":return b();case "instance-variable":return f();case "plugin":return c();case "world-instance":return e()}}
function mc(d,a=!1){const b=[];for(const f of d){d=f.Cd.rg();for(const c of f.XO())a&&0===c.Ea()?b.push({time:d+c.Ea(),value:c.ki}):a||b.push({time:d+c.Ea(),value:c.ki})}return b.sort((f,c)=>f.time-c.time)}function nc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.j.fb.tg=class{constructor(d){this.fk=d;this.oa=d.Hl();this.nb=this.oa.Cd.i();this.Rd=this.oa.Sa.Rd;this.It=!1;this.pu=this.Ei=null}g(){this.pu=this.Ei=this.nb=this.oa=this.fk=null}pk(){this.pu=this.Ei=this.nb=null}Hl(){return this.oa}i(){return this.nb?this.nb:this.nb=this.oa.Cd.i()}Id(){}vg(){}Mz(){this.Ei=null}hf(){}Ri(){}Si(){}QN(d){return typeof this.dm()===typeof d}Wr(){}vp(){}Ur(){}jq(){return hc(this,()=>{const d=this.oa.Sa;return this.oa.lf().jA(d)},()=>{const d=this.oa.Sa;return this.oa.lf().Cp(d)}).ki}oB(){const d=
this.oa.Cc().Ea()-this.oa.Cd.rg();return hc(this,()=>{const a=this.oa.Sa;return this.oa.lf().dG(d,a)},()=>{const a=this.oa.Sa,b=this.oa.lf(),f=b.cG(d,a);return f?f:b.Cp(a)}).ki}rB(){}ji(){return this.fk.Ha()}ma(){return{firstAbsoluteUpdate:this.It,saveState:this.Ei}}wa(d){d&&(this.It=d.firstAbsoluteUpdate,this.Ei=d.saveState)}};
{"use strict";const d=self.j,a=new Map,b=[0,0,0];class f extends d.fb.tg{constructor(c){super(c)}Id(){}vg(){}hf(){const c=this.oa.Zd(),e=kc(this),k=this.ji();switch(c){case "behavior":return this.NB(e.Bb(k));case "effect":return this.NB(e[k]);case "plugin":return this.NB(e.Bb(k));case "world-instance":return this.NB(this.dm())}}Ri(){const c=this.jq();return!this.gS(c,this.dm())}Si(){return d.Je(this.Ei)?!1:!this.gS(this.Ei,this.dm())}gS(c,e){return c.an(e)}jq(){const c=super.jq();return this.sB(c)}oB(){const c=
super.oB();return this.sB(c)}rB(){}NB(c){return d.Dn(c,d.$a)?c.toArray().slice(0,3):c.slice(0,3)}sB(c){return d.Dn(c,d.$a)?c:new d.$a(c[0],c[1],c[2],1)}QN(){return!0}Wr(){var c=this.oa.Ca();a.has(c)||a.set(c,new Map);c=a.get(c);const e=this.oa.Zd();c.has(e)||c.set(e,new Map);c=c.get(e);c.has(this.Rd)||c.set(this.Rd,{xz:!1,color:new d.$a(0,0,0,1)})}SS(c,e,k){c=a.get(c).get(e).get(k);c.xz=!0;return c.color}vp(c,e){var k=this.oa.Cc(),g=this.oa.Cd;c=this.oa.Ca();var l=this.oa.Gd();const n=this.oa.Zd();
l=k.pG(c,l,this.Rd);if(1<l.length){if(l=mc(l,!0),k=k.Ea(),k=nc(k,l))if(l=k.time-g.rg(),0===l)this.SS(c,n,this.Rd).gX(e[0],e[1],e[2]);else{if(0>l)return;k=e[0];g=e[1];e=e[2];l=this.oa.qb(l,!1,!0);k=d.$a.JF(k,l[0]);g=d.$a.JF(g,l[1]);e=d.$a.JF(e,l[2]);this.SS(c,n,this.Rd).gX(k,g,e)}}else this.Pk(e[0],e[1],e[2]);return d.te.Ol}Ur(){const c=this.oa.Ca();if(a.has(c)){var e=a.get(c),k=this.oa.Zd();if(e.has(k)){var g=e.get(k);if(g.has(this.Rd)){var l=g.get(this.Rd),n=l.color;l.xz&&this.Pk(n.Za,n.cb,n.bb);
0===g.size&&e.delete(k);0===e.size&&a.delete(c)}}}}dm(){const c=this.oa.Zd(),e=kc(this),k=this.ji();switch(c){case "behavior":return this.sB(e.Bb(k));case "effect":return e[k].clone();case "plugin":return this.sB(e.Bb(k));case "world-instance":return this.i().Ja.clone()}}Pk(c,e,k){const g=this.oa.Zd(),l=kc(this),n=this.ji();switch(g){case "behavior":b[0]=c;b[1]=e;b[2]=k;l.Jd(n,b);break;case "effect":l[n].Uu(c,e,k);break;case "plugin":b[0]=c;b[1]=e;b[2]=k;l.Jd(n,b);break;case "world-instance":this.i().l7(c,
e,k)}}ma(){}wa(){}}d.fb.tg.sZ=f}
{"use strict";const d=self.j;class a extends d.fb.tg{constructor(b){super(b)}Id(){}vg(){}hf(){return this.dm()}Ri(){return this.jq()!==this.hf()}Si(){return d.Je(this.Ei)?!1:this.Ei!==this.hf()}vp(b,f){const c=d.fb.fj.Q1(this.oa);var e=this.oa;const k=e.Cd,g=e.Zd();var l=e.Cc();const n=k.Ca();e=e.Gd();l=l.pG(n,e,this.Rd);1<l.length&&(l=mc(l),b=nc(b+k.rg(),l))&&(f=b.value);if(c(this.ji(),kc(this),f,g))switch(this.Pk(f),g){case "plugin":return d.te.Ol}}dm(){const b=this.oa.Zd(),f=kc(this),c=this.ji();
switch(b){case "behavior":return f.Bb(c);case "effect":return f[c];case "instance-variable":return f.jf(c);case "plugin":return f.Bb(c)}}Pk(b){const f=this.oa.Zd(),c=kc(this),e=this.ji();switch(f){case "behavior":c.Jd(e,b);break;case "effect":c[e]=b;break;case "instance-variable":c.Tn(e,b);break;case "plugin":c.Jd(e,b)}}}d.fb.tg.aQ=a}
{"use strict";const d=self.j,a=new Map,b=(c,e,k,g,l)=>a.set(c,{Pha:e,jga:k,Vga:g,round:l});b("offsetX",(c,e)=>c.Qv(e),(c,e)=>c.Tf(e),c=>c.O(),!0);b("offsetY",(c,e)=>c.Sv(e),(c,e)=>c.kh(e),c=>c.P(),!0);b("offsetWidth",(c,e)=>c.cQ(e),(c,e)=>c.rf(e),c=>c.K(),!0);b("offsetHeight",(c,e)=>c.bQ(e),(c,e)=>c.ld(e),c=>c.G(),!0);b("offsetAngle",(c,e)=>c.l4(e),(c,e)=>c.Fc(e),c=>c.ta(),!1);b("offsetOpacity",(c,e,k,g)=>{k=c.kf()+e;0===g.$c?(1<k?g.$c+=k-1:0>k&&(g.$c+=k),c.m4(e)):(c=c.kf()+e,0<e&&0<g.$c?1<c&&(g.$c+=
c-1):0<e&&0>g.$c?(g.$c+=e,0<g.$c&&(g.$c=0)):0>e&&0<g.$c?(g.$c+=e,0>g.$c&&(g.$c=0)):0>e&&0>g.$c&&0>c&&(g.$c+=c))},(c,e)=>{c.kj(e)},c=>c.kf(),!1);b("offsetOriginX",(c,e)=>c.n4(e),(c,e)=>c.Zp(e),c=>c.Xh(),!1);b("offsetOriginY",(c,e)=>c.o4(e),(c,e)=>c.$p(e),c=>c.Yh(),!1);b("offsetZElevation",(c,e)=>c.p4(e),(c,e)=>c.Le(e),c=>c.Ua(),!0);b("offsetScaleX",(c,e,k)=>{const g=0>c.K()?-1:1;c.cQ(k.vk()*g*e)},(c,e,k)=>{c.rf(k.vk()*e)},(c,e)=>{const k=0>c.K()?-1:1;if(c.Fp()){var g=c.Da(),l=e.Cc().lP(g.Ca());l?g=
g.K()/l.vk():(l=g.Ca().ja,g=l.Ml()?g.K()/l.vk():1);return c.K()*k/(e.vk()*g)}return c.K()*k/e.vk()},!1);b("offsetScaleY",(c,e,k)=>{const g=0>c.G()?-1:1;c.bQ(k.uk()*g*e)},(c,e,k)=>{c.ld(k.uk()*e)},(c,e)=>{const k=0>c.G()?-1:1;if(c.Ep()){var g=c.Da(),l=e.Cc().lP(g.Ca());l?g=g.G()/l.uk():(l=g.Ca().ja,g=l.Ml()?g.G()/l.uk():1);return c.G()*k/(e.uk()*g)}return c.G()*k/e.uk()},!1);class f extends d.fb.tg{constructor(c){super(c);this.$c=this.ac=0;this.EK=this.GK=this.FK=null;this.JW=!1;this.Gr=d.Dn(this.oa.Cc(),
d.U7)?new d.fb.tg.k4(this):new d.fb.tg.j4(this);c=this.oa.Sa.Rd;"world-instance"===this.oa.Zd()&&(c=a.get(c),this.FK=c.Vga,this.GK=c.Pha,this.EK=c.jga,this.JW=c.round)}g(){this.EK=this.GK=this.FK=this.Gr=null;super.g()}lR(c){this.ac=c}Id(){const c=this.Gr.Id();"number"===typeof c&&(this.ac=c);this.$c=0}vg(){const c=this.Gr.vg();"number"===typeof c&&(this.ac=c)}hf(){return this.dm()}Ri(){return this.jq()!==this.hf()}Si(){return d.Je(this.Ei)?!1:this.Ei!==this.hf()}Wr(){this.Gr.Wr()}vp(c,e,k,g,l,n,
q){return this.Gr.vp(c,e,k,g,l,n,q)}Ur(){this.Gr.Ur()}dm(){const c=kc(this),e=this.ji(),k=this.oa.Cd,g=this.i();return lc(this,()=>c.Bb(e),()=>c[e],()=>c.jf(e),()=>c.Bb(e),()=>this.FK(g,k))}Pk(c){const e=kc(this),k=this.ji(),g=this.oa.Cd,l=this.i();lc(this,()=>e.ZG(k,c),()=>e[k]+=c,()=>e.z6(k,c),()=>e.ZG(k,c),()=>this.GK(l,c,g,this))}pU(c){const e=kc(this),k=this.ji(),g=this.oa.Cd,l=this.i();lc(this,()=>e.Jd(k,c),()=>e[k]=c,()=>e.Tn(k,c),()=>e.Jd(k,c),()=>this.EK(l,c,g))}et(c,e,k,g,l,n){this.Gr.et(c,
e,k,g,l,n)}Yl(c,e,k){c=(c.toString().split(".")[1]||"").length;const g=this.dm();this.Pk((0===c?this.JW?Math.round(g):g:d.toFixed(g,c))-g,e,k)}ma(){return Object.assign(super.ma(),{v:this.ac,a:this.$c})}wa(c){c&&(super.wa(c),this.ac=c.v,this.$c=c.a)}}d.fb.tg.i4=f}
{"use strict";const d=self.j,a=new Map;class b{constructor(f){this.Ve=f}g(){this.Ve=null}Id(){const f=this.Ve,c=this.Ve.Hl();return ic(f,()=>hc(f,()=>0,()=>d.fb.fj.AA(c)),()=>{})}vg(){}Wr(){const f=this.Ve,c=this.Ve.Hl(),e=c.Sa.Rd;ic(f,()=>{},()=>{var k=c.Ca();a.has(k)||a.set(k,new Map);k=a.get(k);const g=c.Zd();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(e)||k.set(e,{xz:!1,value:0})})}RS(f,c,e){f=a.get(f).get(c).get(e);f.xz=!0;return f}vp(f,c,e,k,g,l){const n=this.Ve,q=this.Ve.Hl(),r=q.Sa.Rd;ic(n,
()=>{const p=n.ac;n.Pk(c-p,e,k);l&&this.et(f,e,k,g,p,c);n.lR(c)},()=>{var p=q.Cc(),w=q.Cd;const t=q.Ca();var v=q.Gd();const x=q.Zd();v=p.pG(t,v,r);if(1<v.length){if(v=mc(v,!0),p=p.Ea(),p=nc(p,v))w=p.time-w.rg(),0===w?this.RS(t,x,r).value+=c:0>w||(w=q.qb(w,!1,!0),this.RS(t,x,r).value+=c-w)}else n.pU(c)});return lc(n,()=>{},()=>d.te.Ol,()=>{},()=>d.te.Ol,()=>d.te.Ol)}Ur(){const f=this.Ve,c=this.Ve.Hl(),e=c.Sa.Rd;ic(f,()=>{},()=>{const k=c.Ca();if(a.has(k)){var g=a.get(k),l=c.Zd();if(g.has(l)){var n=
g.get(l);if(n.has(e)){var q=n.get(e),r=q.value;q.xz&&f.pU(r);n.delete(e);0===n.size&&g.delete(l);0===g.size&&a.delete(k)}}}})}et(f,c,e,k,g,l){const n=this.Ve;k||(c&&f===c.Ea()?n.Yl(c.Dc(),c,e):e&&f===e.Ea()?n.Yl(e.Dc(),c,e):0===l-g&&n.Yl(c.Dc(),c,e))}}d.fb.tg.j4=b}
{"use strict";const d=self.j;class a{constructor(b){this.Ve=b}g(){this.Ve=null}Id(){const b=this.Ve;b.It=!0;return this.rB(b.jq())}vg(){const b=this.Ve;if(b.jq()!==b.oB())return b.It=!0,this.rB(b.oB())}Wr(){}vp(b,f,c,e,k,g){const l=this.Ve,n=l.ac;ic(l,()=>{l.Pk(f-n,c,e);g&&this.et(b,c,e,k,n,f)},()=>{jc(l,()=>{l.Pk(n,c,e)},()=>{l.Pk(f-n,c,e);g&&this.et(b,c,e,k,n,f)})});l.lR(f);return lc(l,()=>{},()=>d.te.Ol,()=>{},()=>d.te.Ol,()=>d.te.Ol)}Ur(){}rB(b){return b-this.Ve.hf()}et(b,f,c,e,k,g){const l=this.Ve;
e?f&&b===f.Ea()?l.Yl(f.Dc(),f,c):c&&b===c.Ea()?l.Yl(c.Dc(),f,c):c||l.Yl(f.Dc(),f,c):f&&b===f.Ea()?l.Yl(f.Dc(),f,c):c&&b===c.Ea()?l.Yl(c.Dc(),f,c):0===g-k&&l.Yl(f.Dc(),f,c)}}d.fb.tg.k4=a}
{"use strict";const d=self.j,a=self.kv;d.fb.XG=class{constructor(){}static Xl(b,f,c,e){let k;switch(e){case "behavior":k=f.Bb(b);break;case "effect":k=f[b];break;case "instance-variable":k=f.jf(b);break;case "plugin":k=f.Bb(b)}return k===c?!1:!0}static qb(b,f,c,e){if(!c)return c=e.Sa,c=e.lf().Cp(c),c.Dc();var k=e.Yi();"default"===k&&(k="continuous");"combo"===e.Av()&&(k="discrete");if("discrete"===k)return f.Dc();if("continuous"===k||"step"===k){"step"===k&&(k=e.Cc().Bv(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var g=f.Ea();const l=c.Ea();k=f.Dc();const n=c.Dc();if(k===n)return k;b=d.normalize(b,g,l);const q=f.tn();f=f.RF("cubic-bezier");c=c.RF("cubic-bezier");f&&f.Gy&&c&&c.AC?(g=l-g,g=a.Dp(q)(g*b,0,1,g),g=a.Dp("cubicbezier")(g,k,k+f.$L,n+c.aK,n)):g=a.Dp(q)((l-g)*b,k,n-k,l-g);return"integer"===e.Av()?Math.floor(g):g}}}}
{"use strict";const d=self.j;d.fb.FN=class{constructor(){}static Xl(a,b,f,c){let e;switch(c){case "behavior":e=b.Bb(a);break;case "effect":e=b[a];break;case "instance-variable":e=b.jf(a);break;case "plugin":e=b.Bb(a)}return e===f?!1:!0}static qb(a,b,f,c){if(!f)return b=c.Sa,b=c.lf().Cp(b),b.Dc();var e=c.Yi();"default"===e&&(e="continuous");"combo"===c.Av()&&(e="discrete");if("discrete"===e)return b.Dc();if("continuous"===e||"step"===e){"step"===e&&(c=c.Cc().Bv(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.Ea(),g=f.Ea();c=b.Dc();f=f.Dc();if(e=b.RF("angle")){const l=e.KL;if(c===f&&0===l)return c;a=d.normalize(a,k,g);b=self.kv.Dp(b.tn())(a,0,1,1);switch(e.TJ){case "closest":return d.BM(c,f,b,l);case "clockwise":return d.qga(c,f,b,l);case "anti-clockwise":return d.pga(c,f,b,l)}}else{if(c===f)return c;a=d.normalize(a,k,g);b=self.kv.Dp(b.tn());return d.BM(c,f,b(a,0,1,1))}}}}}"use strict";
self.j.fb.LN=class{constructor(){}static Xl(d,a,b,f){let c;switch(f){case "behavior":c=a.Bb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.jf(d);break;case "plugin":c=a.Bb(d)}return!!c===!!b?!1:!0}static qb(d,a,b,f){return b?a.Dc()?1:0:(d=f.Sa,d=f.lf().Cp(d),d.Dc()?1:0)}};
{"use strict";const d=self.j,a=[0,0,0],b=[0,0,0],f=[0,0,0];d.fb.VN=class{constructor(){}static Xl(c,e,k,g){let l;switch(g){case "behavior":l=e.Bb(c);break;case "effect":l=e[c];break;case "instance-variable":l=e.jf(c);break;case "plugin":l=e.Bb(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(f.aF(k),a[0]=Math.floor(255*f.Za),a[1]=Math.floor(255*f.cb),a[2]=Math.floor(255*f.bb));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(f.aF(l),b[0]=Math.floor(255*f.Za),b[1]=Math.floor(255*f.cb),b[2]=Math.floor(255*
f.bb));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static qb(c,e,k,g){if(!k)return e=g.Sa,e=g.lf().Cp(e),e=e.Dc(),a[0]=e[0],a[1]=e[1],a[2]=e[2],a;var l=g.Yi();"default"===l&&(l="continuous");if("discrete"===l)return e=e.Dc(),a[0]=e[0],a[1]=e[1],a[2]=e[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.Cc().Bv(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=e.Ea();l=k.Ea();var n=e.Dc(),q=k.Dc();const r=d.normalize(c,g,l);c=n[0];k=n[1];n=n[2];const p=q[0],w=q[1];q=q[2];e=self.kv.Dp(e.tn());g=l-g;
l=g*r;a[0]=c===p?c:e(l,c,p-c,g);a[1]=k===w?k:e(l,k,w-k,g);a[2]=n===q?n:e(l,n,q-n,g);return a}}}}"use strict";self.j.fb.HR=class{constructor(){}static Xl(d,a,b,f){let c;switch(f){case "behavior":c=a.Bb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.jf(d);break;case "plugin":c=a.Bb(d)}return c===b?!1:!0}static qb(d,a,b,f){return b?a.Dc():(d=f.Sa,d=f.lf().Cp(d),d.Dc())}};
{"use strict";const d=self.j;d.ph=class{constructor(){this.Ny=new Map}g(){for(const a of this.Ny.values())a.g();this.Ny.clear();this.Ny=null}Sc(a){a=new d.N7(a);this.Ny.set(a.Ba(),a)}ea(a){return this.Ny.get(a)}static vw(a,b,f,c){if(b)for(const e of b)d.ph.iS("create",e,a,f,c)}static Dw(a,b,f,c){a.length?b.forEach((e,k)=>{a[k].wa(e)}):b.forEach(e=>{d.ph.iS("load",e,a,f,c)})}static iS(a,b,f,c,e){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,e);break;case "create":k=new c(b,e)}else if("object"===
typeof c)switch(c=c.map.get(b[c.QX]),a){case "load":k=new c(null,e);break;case "create":k=new c(b,e)}switch(a){case "load":k.wa(b);f.push(k);break;case "create":"function"!==typeof k.El||k.El()?f.push(k):k.g()}}}}
{"use strict";const d=self.j;d.N7=class{constructor(a){this.Fa="";this.xE=NaN;this.rE=0;this.Jg=this.Dg="default";this.SD=this.ID=!1;this.ju=1;this.Ef=null;a&&(this.Fa=a[0],this.xE=a[1],this.rE=a[2],this.Dg=a[3],this.Jg=a[4],this.ID=!!a[6],this.SD=!!a[7],this.ju=a[8],this.Ef=new d.IR(a[5],this))}g(){this.Ef.g();this.Ef=null}xA(){this.Ef||(this.Ef=new d.IR(null,this));return this.Ef}Ba(){return this.Fa}eB(a){this.Fa=a}$d(){return this.xE}Bv(){return this.rE}Yi(){return this.Dg}cj(){return this.Jg}ls(){return this.ID}os(){return this.SD}vn(){return this.ju}ma(){return{trackDataJson:this.Ef.ma(),
name:this.Fa,totalTime:this.xE,step:this.rE,interpolationMode:this.Dg,resultMode:this.Jg,loop:this.ID,pingPong:this.SD,repeatCount:this.ju}}wa(a){a&&(this.xA().wa(a.trackDataJson),this.Fa=a.name,this.xE=a.totalTime,this.rE=a.step,this.Dg=a.interpolationMode,this.Jg=a.resultMode,this.ID=a.loop,this.SD=a.pingPong,this.ju=a.repeatCount)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.Ef=f;this.eo=this.ZC=null;this.Dm=this.rm=NaN;this.Jg=this.Dg="default";this.xh=!1;this.Ld=this.Yj=null;this.yf="";this.Yt=null;this.aM=0;this.GD=this.Ef.Df.$d();this.za=0;this.Fa="";b&&(b[0]&&(this.ZC=b[0],this.rm=b[0][2],this.Dm=b[0][1]),this.Dg=b[1],this.Jg=b[2],this.xh=!!b[3],b[6]&&(this.yf=b[6]),b[7]&&(this.Yt=b[7],this.aM=b[7][0],this.GD=b[7][1]),b[8]&&(this.eo=b[8]),b[8]&&(this.eo=b[8]),b[9]&&(this.za=b[9]),b[10]&&(this.Fa=b[10]),this.Yj=
new d.MP(b[4],this),this.Ld=new d.vQ(b[5],this))}g(){this.Ef=this.ZC=null;this.Yj&&(this.Yj.g(),this.Yj=null);this.Ld&&(this.Ld.g(),this.Ld=null);this.Yt=null}xA(){return this.Ef}$i(){this.Yj||(this.Yj=new d.MP(null,this));return this.Yj}lf(){this.Ld||(this.Ld=new d.vQ(null,this));return this.Ld}jG(){return this.Dm}yv(){return this.rm}Yi(){return this.Dg}cj(){return this.Jg}El(){return this.xh}Ul(b){this.xh=!!b}rk(){return this.yf}rg(){return this.aM}Gl(){return this.GD}vk(){return this.eo[0]}uk(){this.eo||
(this.eo=[]);return this.eo[1]}zk(){return this.za}Ba(){return this.Fa}ma(){return{keyframeDataJson:this.Yj.ma(),propertyTrackDataJson:this.Ld.ma(),instanceData:this.ZC,additionalInstanceData:this.eo,instanceUid:this.rm,objectClassIndex:this.Dm,interpolationMode:this.Dg,resultMode:this.Jg,enabled:this.xh,id:this.yf,nestedData:this.Yt,type:this.za,name:this.Fa}}wa(b){b&&(this.ZC=b.instanceData,this.rm=b.instanceUid,this.Dm=b.objectClassIndex,this.Dg=b.interpolationMode,this.Jg=b.resultMode,this.xh=
b.enabled,this.yf=b.id,this.za=b.type?b.type:0,this.za=b.name?b.name:"",this.GD=this.Ef.Df.$d(),b.nestedData&&(this.Yt=b.nestedData,this.aM=this.Yt[0],this.GD=this.Yt[1]),b.additionalInstanceData&&(this.eo=b.additionalInstanceData),this.$i().wa(b.keyframeDataJson),this.lf().wa(b.propertyTrackDataJson))}}d.IR=class{constructor(b,f){this.Df=f;this.Er=[];this.Tx=new Map;d.ph.vw(this.Er,b,a,this)}g(){this.Df=null;for(const b of this.Er)b.g();d.C(this.Er);this.Er=null;this.Tx.clear();this.Tx=null}p1(b,
f){const c=this.Tx.get(f);if(c&&c.has(b))return c.get(b);for(const e of f.$i().DX())if(e.Ea()===b)return c||this.Tx.set(f,new Map),this.Tx.get(f).set(b,e),e}a1(b,f){for(const c of f.$i().DX())if(c.Ea()>=b)return c}b1(b,f){for(const c of f.$i().lha())if(c.Ea()<=b)return c}*Wha(){for(const b of this.Er)yield b}ma(){return{trackDataItemsJson:this.Er.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.Er,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.Ld=f;this.jE="";this.za=this.Rd=this.Gh=null;this.lL=this.pL=NaN;this.Jg=this.Dg="default";this.xh=!1;this.gl=null;b&&(this.jE=b[0][0],this.Gh=b[0].slice(1),this.Rd=b[1],this.za=b[2],this.pL=b[3],this.lL=b[4],this.Dg=b[5],this.Jg=b[6],this.xh=!!b[7],this.gl=new d.uQ(b[8],this))}g(){this.gl.g();this.Gh=this.Ld=this.gl=null}lf(){return this.Ld}bj(){this.gl||(this.gl=new d.uQ(null,this));return this.gl}Zd(){return this.jE}zk(){return this.za}zR(b){this.za=
b}Yi(){return this.Dg}cj(){return this.Jg}El(){return this.xh}Ul(b){this.xh=!!b}ma(){return{propertyKeyframeDataJson:this.gl.ma(),sourceAdapterId:this.jE,sourceAdapterArguments:this.Gh,property:this.Rd,type:this.za,min:this.pL,max:this.lL,interpolationMode:this.Dg,resultMode:this.Jg,enabled:this.xh}}wa(b){b&&(this.jE=b.sourceAdapterId,this.Gh=b.sourceAdapterArguments,this.Rd=b.property,this.za=b.type,this.pL=b.min,this.lL=b.max,this.Dg=b.interpolationMode,this.Jg=b.resultMode,this.xh=b.enabled,this.bj().wa(b.propertyKeyframeDataJson))}}
d.vQ=class{constructor(b,f){this.fc=f;this.pr=[];this.my=new Map;d.ph.vw(this.pr,b,a,this)}g(){this.fc=null;for(const b of this.pr)b.g();d.C(this.pr);this.pr=null;this.my.clear();this.my=null}jA(b){return b.bj().cd[0]}Cp(b){return b.bj().cd.$e(-1)}lG(b,f){const c=this.my.get(f);if(c&&c.has(b))return c.get(b);const e=f.bj();for(const k of e.lN())if(k.Ea()===b)return c||this.my.set(f,new Map),this.my.get(f).set(b,k),k}HO(b,f){f=f.bj();for(const c of f.lN())if(c.Ea()>b)return c}cG(b,f){f=f.bj();for(const c of f.lN())if(c.Ea()>=
b)return c}dG(b,f){f=f.bj();for(const c of f.Cha())if(c.Ea()<=b)return c}*Eha(){for(const b of this.pr)yield b}ma(){return{propertyTrackDataItemsJson:this.pr.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.pr,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.Yj=f;this.ed=-1;this.Jj="noease";this.Kj=!1;this.$x=this.Jh=null;b&&(this.ed=b[0],this.Jj=b[1],this.Kj=!!b[2],this.Jh=(b=b[3])?b.split(" "):[],this.$x=new Set(this.Jh.map(c=>c.toLowerCase())))}g(){this.Yj=null;d.C(this.Jh);this.Jh=null;this.$x.clear();this.$x=null}$i(){return this.Yj}Ea(){return this.ed}Us(b){this.ed=b}tn(){return this.Jj}Hk(b){this.Jj=b}El(){return this.Kj}Ul(b){this.Kj=!!b}Ss(b){this.Jh=b?b.split(" "):[];this.$x=new Set(this.Jh.map(f=>
f.toLowerCase()))}ma(){return{time:this.ed,ease:this.Jj,enable:this.Kj,tags:this.Jh}}wa(b){b&&(this.ed=b.time,this.Jj=b.ease,this.Kj=b.enable,this.Jh=b.tags,this.$x=new Set(this.Jh.map(f=>f.toLowerCase())))}}d.MP=class{constructor(b,f){this.fc=f;this.ad=[];d.ph.vw(this.ad,b,a,this)}g(){this.fc=null;for(const b of this.ad)b.g();d.C(this.ad);this.ad=null}sY(){const b=new a(null,this);this.ad.push(b);return b}a_(b){for(const f of this.ad){if(!b(f))continue;const c=this.ad.indexOf(f);-1!==c&&(f.g(),this.ad.splice(c,
1))}this.y7()}y7(){this.ad.sort((b,f)=>b.Ea()-f.Ea())}r1(b){return this.ad.indexOf(b)}q1(b){return this.ad[b]}*DX(){for(const b of this.ad)yield b}*lha(){for(let b=this.ad.length-1;0<=b;b--)yield this.ad[b]}ma(){return{keyframeDataItemsJson:this.ad.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.ad,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.gl=f;this.ki=this.Md=null;this.za="";this.ed=NaN;this.Jj="noease";this.Kj=!1;this.tj=null;b&&(this.Md=b[0][0],this.ki=b[0][1],this.za=b[0][2],this.ed=b[1],this.Jj=b[2],this.Kj=!!b[3],this.tj=null,b[4]&&(this.tj=new d.GY(b[4],this)))}g(){this.gl=null;this.tj&&(this.tj.g(),this.tj=null)}ae(){return this.Md}jh(b){"color"===this.za&&d.Cn(b)?(this.Md[0]=d.nG(b),this.Md[1]=d.fG(b),this.Md[2]=d.TF(b)):this.Md=b}VQ(b){"color"===this.za&&d.Cn(b)?(this.ki[0]=
d.nG(b),this.ki[1]=d.fG(b),this.ki[2]=d.TF(b)):this.ki=b}Dc(){const b=this.gl.Sa.cj();if("relative"===b)return this.ae();if("absolute"===b)return this.ki}zk(){return this.za}zR(b){this.za=b}Ea(){return this.ed}Us(b){this.ed=b}tn(){return this.Jj}Hk(b){this.Jj=b}El(){return this.Kj}Ul(b){this.Kj=!!b}RF(b){if(this.tj)for(const f of this.tj.kga())if(f.rk()===b)return f}ma(){const b=this.tj;return{addonDataJson:b?b.ma():b,value:this.Md,aValue:this.ki,type:this.za,time:this.ed,ease:this.Jj,enable:this.Kj}}wa(b){b&&
(b.addonDataJson&&this.tj.fra(b.addonDataJson),this.Md=b.value,this.ki=b.aValue,this.za=b.type,this.ed=b.time,this.Jj=b.ease,this.Kj=b.enable)}}d.uQ=class{constructor(b,f){this.Sa=f;this.cd=[];d.ph.vw(this.cd,b,a,this)}g(){this.Sa=null;for(const b of this.cd)b.g();d.C(this.cd);this.cd=null}tY(){const b=new a(null,this);this.cd.push(b);return b}c_(b){for(const f of this.cd){if(!b(f))continue;const c=this.cd.indexOf(f);-1!==c&&(f.g(),this.cd.splice(c,1))}this.z7()}z7(){this.cd.sort((b,f)=>b.Ea()-f.Ea())}*lN(){for(const b of this.cd)yield b}*Cha(){for(let b=
this.cd.length-1;0<=b;b--)yield this.cd[b]}ma(){return{propertyKeyframeDataItemsJson:this.cd.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.cd,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(c,e){this.tj=e;this.yf=c[0];this.nm=c[1]}g(){this.nm=this.tj=null}rk(){return this.yf}ma(){return{id:this.yf,data:this.nm}}wa(c){c&&(this.yf=c.id,this.nm=c.data)}}class b extends a{constructor(c,e){super(c,e);this.$L=this.nm[0];this.Gy=!!this.nm[1];this.aK=this.nm[2];this.AC=!!this.nm[3]}g(){super.g()}ma(){return Object.assign(super.ma(),{startAnchor:this.$L,startEnable:!!this.Gy,endAnchor:this.aK,endEnable:!!this.AC})}wa(c){c&&(super.wa(c),this.$L=
c.startAnchor,this.Gy=!!c.startEnable,this.aK=c.endAnchor,this.AC=!!c.endEnable)}}class f extends a{constructor(c,e){super(c,e);this.TJ=this.nm[0];this.KL=this.nm[1]}g(){super.g()}ma(){return Object.assign(super.ma(),{direction:this.TJ,revolutions:this.KL})}wa(c){c&&(super.wa(c),this.TJ=c.direction,this.KL=c.revolutions)}}d.GY=class{constructor(c){this.uq=[];d.ph.vw(this.uq,c,{QX:0,map:new Map([["cubic-bezier",b],["angle",f]])},this)}g(){for(const c of this.uq)c.g();d.C(this.uq);this.uq=null}*kga(){for(const c of this.uq)yield c}ma(){return{addonDataItemsJson:this.uq.map(c=>
c.ma())}}wa(c){c&&d.ph.Dw(this.uq,c.addonDataItemsJson,{QX:"id",map:new Map([["cubic-bezier",b],["angle",f]])},this)}}}
{"use strict";const d=self.j;let a=0;d.U7=class extends d.te{constructor(b,f){super(`tween-${a++}`,b,f);this.yf="";this.VU=!1;this.AK="start-value";this.rW=this.qW=null}Ca(){var b=this.Ub;if(b&&b.length&&(b=b[0])){var f=b.Ca();return b.Ll()?f:null}}rk(){return this.yf}nQ(){if(this.rW)for(const b of this.rW)b(this);if(!this.zg)for(const b of this.Ub)b.Si()}eQ(){this.qt=this.b.il}sO(){if(!this.Mq&&(this.Mq=!0,this.qW))for(const b of this.qW)b(this)}Us(b){this.mS();super.Us(b)}Id(b){if(!this.yo&&"current-state"===
this.AK)for(const f of this.Ub)f.Ri();super.Id(b)}nh(b=!1){super.nh(b);if(!this.zg)for(const f of this.Ub)f.Yp()}kd(b=!0,f=!1){this.mS();super.kd(b,f)}mS(){for(const b of this.Ub){const f=c=>{c=c.Ea();const e=this.$d();return 0!==c&&c!==e};b.b_(f);b.IF(f)}}AB(){if(this.Di)return!0;const b=this.Ca();if(b&&b.I().eh())return!1;this.Lb.Nz(this);this.NQ();return!0}YP(){}ge(){const b=this.Ca();super.ge(this.H().zp(b),1)}ma(){const b=super.ma();return Object.assign(b,{tweenDataItemJson:this.Df.ma(),id:this.yf,
destroyInstanceOnComplete:this.VU,initialValueMode:this.AK})}wa(b){b&&(this.Df.wa(b.tweenDataItemJson),super.wa(b),this.yf=b.id,this.VU=b.destroyInstanceOnComplete,this.AK=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.j,a=self.kv;d.KR=class extends d.ia{constructor(b){super();this.Fa=b[0];this.Ji=[];for(const f of b[1])b=d.LR.Ta(this,f),this.Ji.push(b);this.ky=new Map;this.yE=new Map;this.dca();a.rY(this.Fa,(f,c,e,k)=>this.qb(f,c,e,k))}static Ta(b){return d.A(d.KR,b)}g(){for(const b of this.Ji)b.g();d.C(this.Ji);this.Ji=null;this.ky.clear();this.ky=null;this.yE.clear();this.yE=null}O1(b){const f=this.yE.get(b);if(f)return f;for(const c of this.Ji)if(c.Ff===b)return this.yE.set(b,c),c}e1(b){for(const f of this.Ji)if(f.Ff>
b)return f}d1(b){for(const f of this.Ji)if(f.Ff>=b)return f}f1(b){for(let f=this.Ji.length-1;0<=f;f--){const c=this.Ji[f];if(c.Ff<=b)return c}}qb(b,f,c,e){var k=b/e;(b=this.O1(k))?e=this.e1(k):(b=this.f1(k),e=this.d1(k));k=d.rha(k,b.Ff,e.Ff,e.Ff-b.Ff);const g=b.Ff,l=b.Xy,n=b.Ff+b.TW,q=b.Xy+b.aga,r=e.Ff+e.aV,p=e.Xy+e.gfa,w=e.Ff;e=e.Xy;e=a.Dp("spline")(k,g,l,n,q,r,p,w,e,this.ky.get(b));e+=b.Xy;return(1-e)*f+e*(f+c)}dca(){this.ky.clear();for(let f=0;f<this.Ji.length-1;f++){var b=this.Ji[f];if(!b.Gy)continue;
const c=this.Ji[f+1];this.ky.set(b,a.F0(b.Ff,b.Ff+b.TW,c.Ff+c.aV,c.Ff))}}}}{"use strict";const d=self.j;d.LR=class extends d.ia{constructor(a,b){super();this.Ff=b[0];this.Xy=b[1];this.TW=b[2];this.aga=b[3];this.aV=b[4];this.gfa=b[5];this.Gy=b[6];this.AC=b[7]}g(){}static Ta(a,b){return d.A(d.LR,a,b)}}}{"use strict";const d=self.j;d.S7=class extends d.ia{constructor(a){super();this.b=a;this.zE=[]}g(){for(const a of this.zE)a.g();d.C(this.zE);this.zE=null}Ta(a){this.zE.push(d.KR.Ta(a))}}}
{"use strict";const d=self.j;d.x7=class extends d.ia{constructor(a){super();this.N=a;this.lb=[];this.lb.push(d.A(d.HH,this));this.Va=0;this.Ej=this.lb[0]}g(){for(const a of this.lb)a.g();d.C(this.lb);this.N=this.Ej=null}I(){return this.N}Z(){return this.Ej}Jc(){this.Z().Jc()}f5(){var a=this.lb,b=++this.Va;b===a.length?(b=d.A(d.HH,this),a.push(b),this.Ej=b):(a=a[b],a.kd(),this.Ej=a)}g5(){const a=this.lb,b=++this.Va;b===a.length&&a.push(d.A(d.HH,this));const f=a[b];f.FZ(a[b-1]);this.Ej=f}Ia(){this.Ej=
this.lb[--this.Va]}Sp(a){const b=this.lb;for(let f=0,c=b.length;f<c;++f)b[f].Sp(a)}}}
{"use strict";const d=self.j;d.HH=class extends d.ia{constructor(a){super();this.lb=a;this.N=this.lb.I();this.he=this.N.H().hd();this.ec=!0;this.D=[];this.xc=[]}g(){this.Jz();this.he=this.N=this.lb=null}Jz(){d.C(this.D);d.C(this.xc)}I(){return this.N}xG(){return this.ec?!!this.N.D.length:!!this.D.length}la(){return this.ec?this.N.la():this.D}W1(){return!!this.xc.length}V0(){const a=this.la();return a.length?a:this.xc}kd(){this.ec=!0;d.C(this.xc)}Jc(){this.ec=!0}FZ(a){a.ec?this.kd():(this.ec=!1,d.xd(this.D,
a.D),d.C(this.xc))}mq(a){this.D.push(a)}bo(a){this.xc.push(a)}Me(a){this.ec=!!a}Ik(a){this.ec=!1;d.C(this.D);this.D.push(a)}$v(a){this.ec=!1;d.xd(this.D,a)}lw(a){this.ec=!1;d.C(this.D);for(const b of a)this.D.push(b)}DN(a,b){for(const f of b)a.has(f)||this.xc.push(f)}Q7(a){for(const b of a)this.D.push(b);d.Oh(this.xc,a)}Kn(a){a&&(this.he.gf().Gb().je?(this.ec&&(d.C(this.D),d.xd(this.xc,a.I().la()),this.ec=!1),a=this.xc.indexOf(a),-1!==a&&(this.D.push(this.xc[a]),this.xc.splice(a,1))):this.Ik(a))}Sp(a){d.Oh(this.D,
a);d.Oh(this.xc,a)}}}
{"use strict";const d=self.j;d.n0=class extends d.ia{constructor(a){super();this.ya=a;this.b=this.ya.H();this.lb=[];this.lb.push(d.A(d.oO,this,null));this.Va=0;this.CC=[]}g(){for(const a of this.lb)a.g();d.C(this.lb);d.C(this.CC);this.b=this.ya=null}ka(){return this.ya}H(){return this.b}gf(){return this.lb[this.Va]}Na(a){var b=this.lb;const f=++this.Va;if(f===b.length)return a=d.A(d.oO,this,a),b.push(a),a;b=b[f];b.kd(a);return b}Ia(){--this.Va}h5(a){this.CC.push(a)}Z4(){this.CC.pop()}M0(){const a=this.CC;
return 0===a.length?null:a.$e(-1)}}}
{"use strict";const d=self.j;d.oO=class extends d.ia{constructor(a,b){super();this.lb=a;this.b=this.lb.H();this.jx=b;this.xg=this.lm=0;this.$J=this.dr=!1;this.eK=null;this.nK=this.nV=0}g(){this.kd(null);this.b=this.lb=null}kd(a){this.jx=a;this.xg=this.lm=0;this.$J=this.dr=!1}LI(a,b){this.jx=a;this.lm=0;this.xg=b}OQ(){this.xg=this.lm=0}Gb(){return this.jx}ih(a){this.jx=a}Qn(a){this.lm=a}XA(a){this.xg=a}Un(a){this.dr=!!a}Ns(a){this.$J=!!a}m6(a){this.eK=a}G2(a,b){this.nV=a;this.nK=b}bB(a){this.nK=a}Dk(){const a=
this.jx;return a.oD?!0:this.lm<a.kc.length-1?!!a.Fd().length:!1}}}{"use strict";const d=self.j;d.W3=class extends d.ia{constructor(a){super();this.ya=a;this.b=this.ya.H();this.lb=[];this.Va=-1;this.Ej=null;this.XC=[]}g(){d.C(this.lb);this.b=this.ya=null}Gda(a){this.XC=a;a=this.XC.slice(0);this.lb.push(a);this.Va=0;this.Ej=a}ka(){return this.ya}H(){return this.b}gs(){return this.Ej}Na(){const a=++this.Va,b=this.lb;a===b.length?b.push(this.XC.slice(0)):d.xd(b[a],this.XC);this.Ej=b[a]}Ia(){this.Ej=this.lb[--this.Va]}}}
{"use strict";const d=self.j;d.Y3=class extends d.ia{constructor(a){super();this.ya=a;this.b=this.ya.H();this.lb=[];this.Va=-1}g(){d.C(this.lb);this.b=this.ya=null}ka(){return this.ya}H(){return this.b}GP(){return 0<=this.Va}gs(){return this.lb[this.Va]}Na(){++this.Va;if(this.Va===this.lb.length){var a=d.A(d.X3,this);this.lb.push(a);return a}a=this.lb[this.Va];a.kd();return a}Ia(){--this.Va}u0(a){const b=this.lb;for(let f=this.Va;0<=f;--f){const c=b[f];if(c.Ba()===a)return c}return null}}}
{"use strict";const d=self.j;d.X3=class extends d.ia{constructor(a){super();this.bg=a;this.Fa="";this.Va=0;this.Hc=!1}kd(){this.Fa="";this.Va=0;this.Hc=!1}eB(a){this.Fa=a}Ba(){return this.Fa}Vc(a){this.Va=a}Ha(){return this.Va}nh(){this.Hc=!0}}}{"use strict";const d=self.j;d.OY=class extends d.ia{constructor(){super();this.lb=[];this.Va=-1}g(){d.C(this.lb)}gs(){return this.lb[this.Va]}Na(){++this.Va;if(this.Va===this.lb.length){const a=[];this.lb.push(a);return a}return this.lb[this.Va]}Ia(){--this.Va}}}
{"use strict";const d=self.j;function a(b,f){return b.Ha()-f.Ha()}d.m0=class extends d.ia{constructor(b){super();this.b=b;this.Uw=[];this.RL=new Map;this.qJ=[];this.rV=new Map;this.FJ=new Map;this.MJ=new Map;this.SB=new Map;this.HU=new Map;this.cK=new Map;this.Pfa=0;this.pJ=[];this.Kea=[];this.eW=[];this.lK=new Map;this.he=d.A(d.n0,this);this.Kd=d.A(d.W3,this);this.bg=d.A(d.Y3,this);this.kM=[];this.$D=[];this.ZD=[];this.EJ=this.pm=this.Lm=0;this.Kg=[];this.aC=[];self.c3_callFunction=(f,c)=>this.zB(f,
c)}g(){this.Iz();this.he.g();this.he=null;this.Kd.g();this.Kd=null;d.C(this.$D);d.C(this.ZD);this.b=null;d.C(this.Uw);this.RL.clear()}Ta(b){b=d.A(d.l0,this,b);this.Uw.push(b);this.RL.set(b.Ba().toLowerCase(),b)}O8(b){this.kM.push(b)}Sb(){for(const b of this.lK.values())b.Sb(!1);for(const b of this.Uw)b.Sb();for(const b of this.Uw)b.bJ();for(const b of this.kM)b.Sb(!1);d.C(this.kM);this.Kd.Gda(this.eW)}H(){return this.b}FO(b){return this.RL.get(b.toLowerCase())||null}pca(b){this.qJ.push(b);this.rV.set(b.qV,
b)}mca(b){this.FJ.set(b.jb,b)}lca(b){this.MJ.set(b.jb,b)}kca(b){this.SB.set(b.jb,b)}oca(b){this.lK.set(b.OC.toLowerCase(),b)}nca(b){this.cK.set(b.jb,b);b.eh()?this.pJ.push(b):this.Kea.push(b)}pB(b){2<=b.length&&b.sort(a);let f=this.HU.get(b.length);f||(f=[],this.HU.set(b.length,f));for(let e=0,k=f.length;e<k;++e){const g=f[e];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}f.push(b);return b}haa(b){this.eW.push(b.Vq);return this.Pfa++}hd(){return this.he}Mf(){return this.hd().gf()}Gb(){return this.Mf().Gb()}ng(){const b=
this.Mf();return b.Gb().BO(b.lm)}vv(){const b=this.Mf();return b.Gb().uO(b.xg)}C0(b){const f=[];for(b=b.rs();b;)d.hp(f,b.BS()),b=b.rs();return f}LS(b){const f={};for(const c of this.C0(b))f[c.Zi()]=c.NS();return Object.create(Object.prototype,f)}aG(b){return this.cK.get(b)||null}R0(b){return this.FJ.get(b)||null}A0(b){return this.SB.get(b)||null}lA(b){return this.lK.get(b.toLowerCase())||null}C5(){for(const b of this.pJ)b.H5()}EO(b){return this.rV.get(b.toLowerCase())||null}S0(b){return(b=this.FJ.get(b))&&
b.Uj?b:null}D5(){for(const b of this.qJ)b.E5()}IT(){for(const b of this.Uw)b.Eca()}O5(b){this.IT();this.Lm++;for(const f of b.vz())if(b=f.td)this.b.Wv(f),b.ra(),this.b.Uv();this.Lm--}async WZ(b){this.IT();this.Lm++;for(const f of this.T9(b))await this.b.$r(f);this.Lm--}*T9(b){for(const f of b.vz())if(b=f.td)this.b.Wv(f),yield*b.ob(),this.b.Uv()}Sw(b,f,c,e){let k=!1;if(!b.Wb())return this.eH(f,c,e);this.pm++;for(const g of b.vz())if(b=g.td){this.b.Wv(g);for(const l of b.rC){const n=l.Sw(f,c,e);k=k||
n}b=b.Sw(f,c,e);k=k||b;this.b.Uv()}this.pm--;return k}*xw(b,f,c,e){let k=!1;if(!b.Wb())return this.eH(f,c,e);this.pm++;for(const g of b.vz())if(b=g.td){this.b.Wv(g);for(const l of b.rC){const n=yield*l.xw(f,c,e);k=k||n}b=yield*b.xw(f,c,e);k=k||b;this.b.Uv()}this.pm--;return k}eH(b,f,c){this.$D.push([b,f,c]);return!1}l5(b,f,c){let e=null;const k=new Promise(g=>e=g);this.ZD.push([b,f,c,e]);return k}*Oca(){if(this.b.Iv())throw Error("should not be in breakpoint");const b=this.b.gb;for(;this.ZD.length;){const [f,
c,e,k]=this.ZD.shift(),g=yield*this.xw(b,f,c,e);k(g)}}async RQ(){for(const b of this.Oca())await this.b.$r(b)}NG(){return 0<this.pm}Bw(){return++this.pm}yw(){--this.pm}E3(){return 0<this.Lm}IA(){return this.E3()||this.NG()}Pca(b){for(const [f,c,e]of this.$D)this.Sw(b,f,c,e);d.C(this.$D)}df(b){b?this.EJ++:this.EJ--}FP(){return 0<this.EJ}Yr(b){for(let f=0,c=b.length;f<c;++f)b[f].Mo.Jc()}gh(b){for(let f=0,c=b.length;f<c;++f)b[f].Mo.f5()}de(b){for(let f=0,c=b.length;f<c;++f)b[f].Mo.g5()}Db(b){for(let f=
0,c=b.length;f<c;++f)b[f].Mo.Ia()}qF(){const b=d.A(d.oH,this);this.Kg.push(b);return b}Q5(){if(this.Kg.length){var b=this.Mf(),f=!1;this.Lm++;for(let c=0,e=this.Kg.length;c<e;++c){const k=this.Kg[c];k.qU()&&k.Gca(b);k.yy&&(f=!0)}f&&this.yS();this.Lm--}}async YZ(){if(this.Kg.length){var b=this.Mf(),f=!1;this.Lm++;for(let c=0,e=this.Kg.length;c<e;++c){const k=this.Kg[c];k.qU()&&await k.N9(b);k.yy&&(f=!0)}f&&this.yS();this.Lm--}}yS(){const b=d.sga(this.Kg,f=>f.yy);for(const f of b)f.g()}Iz(){for(const b of this.Kg)b.g();
d.C(this.Kg)}s5(b){for(const f of this.Kg)f.Sp(b)}oF(b){this.aC.push(b)}Kz(){d.C(this.aC)}G1(){const b=Promise.all(this.aC);this.aC=[];return b}ma(){return{groups:this.Wca(),cnds:this.Vca(),acts:this.Uca(),vars:this.gda(),waits:this.cda()}}wa(b){this.Yaa(b.groups);this.Saa(b.cnds);this.Raa(b.acts);this.jba(b.vars);this.fba(b.waits)}Wca(){const b={};for(const f of this.qJ)b[f.jb.toString()]=f.xs();return b}Yaa(b){for(const [f,c]of Object.entries(b))(b=this.S0(parseInt(f,10)))&&b.Os(c)}Vca(){const b=
{};for(const [f,c]of this.MJ){const e=c.ma();e&&(b[f.toString()]=e)}return b}Saa(b){const f=new Map;for(const [c,e]of Object.entries(b))f.set(parseInt(c,10),e);for(const [c,e]of this.MJ)e.wa(f.get(c)||null)}Uca(){const b={};for(const [f,c]of this.SB){const e=c.ma();e&&(b[f.toString()]=e)}return b}Raa(b){const f=new Map;for(const [c,e]of Object.entries(b))f.set(parseInt(c,10),e);for(const [c,e]of this.SB)e.wa(f.get(c)||null)}gda(){const b={};for(const [f,c]of this.cK)c.zb||!c.eh()&&!c.wi||(b[f.toString()]=
c.ae());return b}jba(b){for(const [f,c]of Object.entries(b))(b=this.aG(parseInt(f,10)))&&b.jh(c)}cda(){return this.Kg.filter(b=>!b.C3()).map(b=>b.ma())}fba(b){this.Iz();for(const f of b)(b=d.oH.s9(this,f))&&this.Kg.push(b)}PF(b){for(;b;)if(b=b.rs(),b instanceof d.pv)return b;return null}zB(b,f){Array.isArray(f)||(f=[]);b=this.lA(b.toLowerCase());if(!b)return null;if(!b.jd())return b.XF();var c=b.yh;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].Vq);while(f.length<c.length)}c=b.Nf();return c.PQ(c.Od(),
b.Ko,b.XF(),...f)}}}
{"use strict";const d=self.j;d.l0=class extends d.ia{constructor(a,b){super();this.ya=a;this.b=a.H();this.Fa=b[0];this.BC=[];this.CE=new Map;this.gV=new Map;this.hfa=new Map;this.zx=!1;this.MW=[];this.rC=[];this.IU=new Set;for(const f of b[1])this.jS(f,null,this.BC);this.ck=this.b.Jb?{type:"sheet",name:this.Fa,wz:0,children:[]}:null}g(){this.b=this.ya=null}jS(a,b,f){switch(a[0]){case 0:case 3:this.q9(a,b,f);break;case 1:this.r9(a,b,f);break;case 2:this.v9(a,b,f);break;case 4:this.t9(a,b);break;case 5:this.A9(a,
b,f);break;default:throw Error("invalid event type");}}q9(a,b,f){a=d.rn.Ta(this,b,a);if(a.je){f.push(a);f=a.kc;for(let c=0,e=f.length;c<e;++c)f[c].Op()&&this.YS(a,c)}else a.Op()?this.YS(a,0):f.push(a)}t9(a,b){a=d.pv.Ta(this,b,a);this.ya.oca(a)}r9(a,b,f){a=d.Vz.Ta(this,b,a);f.push(a)}v9(a,b,f){a=d.nO.Ta(this,b,a);f.push(a)}A9(a,b,f){a=d.Uz.Ta(this,b,a);f.push(a)}YS(a,b){a.je||this.ya.O8(a);var f=a.BO(b),c=f.Pa,e=f.I();if(f.JV){var k=this.gV.get(e);k||(k=new Map,this.gV.set(e,k));f=f.X0().toLowerCase();
e=k.get(c);e||(e=new Map,k.set(c,e));c=e.get(f);c||(c=[],e.set(f,c));c.push([a,b])}else k=this.CE.get(e),k||(k={YM:new Map,$y:new Map},this.CE.set(e,k)),(e=f.Uh())?(f=k.$y.get(e),f||(f=new Map,k.$y.set(e,f))):f=k.YM,k=f.get(c),k||(k=[],f.set(c,k)),k.push([a,b])}Sb(){const a=this.BC;for(let b=0,f=a.length;b<f;++b)a[b].Sb(b<f-1&&a[b+1]instanceof d.rn&&a[b+1].HA())}M8(a){this.MW.push(a)}bJ(){d.C(this.rC);this.VR(this);this.IU.clear()}VR(a){const b=a.rC,f=a.IU;for(const c of this.MW){const e=c.Gx;c.Nb&&
a!==e&&!f.has(e)&&(f.add(e),e.VR(a),b.push(e))}}ka(){return this.ya}H(){return this.b}Ba(){return this.Fa}AT(a,b){this.hfa.set(b,a)}Eca(){this.zx=!1}ra(){if(!this.zx){var a=this.b,b=a.GG(),f=b?performance.now():0;this.zx=!0;var c=this.ka(),e=c.Mf();for(const k of this.BC)k.ra(e),c.Yr(k.Fd()),c.Kz(),a.pe();e.kd(null);b&&(this.ck.wz+=performance.now()-f)}}*ob(){if(!this.zx){this.zx=!0;var a=this.b,b=this.ka(),f=b.Mf();for(const c of this.BC)yield*c.ob(f),b.Yr(c.Fd()),b.Kz(),a.pe();f.kd(null)}}Sw(a,
b,f){if(b){const c=b.I();this.$I(a,b,c,f);for(const e of c.ti)this.$I(a,b,e,f)}else return this.$I(a,b,null,null)}$I(a,b,f,c){f=this.CE.get(f);if(!f)return!1;c=c?f.$y.get(c):f.YM;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [e,k]of c)c=this.xS(b,e,k),a=a||c;return a}*xw(a,b,f){if(b){const c=b.I();yield*this.gI(a,b,c,f);for(const e of c.ti)yield*this.gI(a,b,e,f)}else return yield*this.gI(a,b,null,null)}*gI(a,b,f,c){f=this.CE.get(f);if(!f)return!1;c=c?f.$y.get(c):f.YM;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [e,k]of c)c=e.ff()?this.xS(b,e,k):yield*this.H9(b,e,k),a=a||c;return a}xS(a,b,f){const c=this.b,e=this.ya,k=e.Gb(),g=e.hd(),l=e.pm;let n=!1;k&&e.gh(k.Od());e.gh(b.Od());const q=1<l;q&&e.Kd.Na();const r=g.Na(b);a&&(b.kc[f].I().Z().Ik(a),a.Kc()&&a.lj());a=!0;if(b.Da()){const p=b.Fr;for(let w=0,t=p.length;w<t;++w)if(!p[w].QQ(r)){a=!1;break}}a&&(c.Kl(),b.je?b.P5(r,f):b.ra(r),n=r.dr);g.Ia();q&&e.Kd.Ia();e.Db(b.Od());k&&e.Db(k.Od());k||1!==l||(e.Kz(),e.FP()||c.pe());return n}*H9(a,
b,f){const c=this.b,e=this.ya,k=e.Gb(),g=e.hd(),l=e.pm;let n=!1;k&&e.gh(k.Od());e.gh(b.Od());const q=1<l;q&&e.Kd.Na();const r=g.Na(b);a&&(b.kc[f].I().Z().Ik(a),a.Kc()&&a.lj());a=!0;if(b.Da()){const p=b.Fr;for(let w=0,t=p.length;w<t;++w)if(!(yield*p[w].fO(r))){a=!1;break}}a&&(c.Kl(),b.je?yield*b.XZ(r,f):yield*b.ob(r),n=r.dr);g.Ia();q&&e.Kd.Ia();e.Db(b.Od());k&&e.Db(k.Od());k||1!==l||(e.Kz(),e.FP()||c.pe());return n}}}
{"use strict";const d=self.j,a=[];function b(){return!0}function*f(){return!0}d.rn=class extends d.ia{constructor(c,e,k){super();this.td=c;this.b=c.H();this.Nc=e;this.Be=null;this.he=this.b.ka().hd();this.Bf=[];this.lu=[];this.wx=this.qD=this.oD=this.wV=!1;this.je=!!k[2];this.dD=!1;this.Fr=null;this.kc=[];this.rh=[];this.Ii=[];this.rj=b;this.iq=f;this.NK=this.Uj=!1;this.qV="";this.fD=!1;this.ck=this.nC=null;this.jb=k[4];this.Dt=k[5];this.td.AT(this,this.Dt);this.Qa=this.b.Jb?{vd:k[3][0],TM:k[3][1],
kX:!1,EM:!1,FM:!1,lX:!1}:null;this.ka().mca(this);3===k[0]&&this.zaa(k[1]);c=0;for(var g of k[6])e=d.XN.Ta(this,g,c++),this.kc.push(e),this.$R(e.I());c=0;for(const l of k[7])g=d.Bz.Ta(this,l,c++),this.rh.push(g);if(9===k.length){k=k[8];for(const l of k)this.td.jS(l,this,this.Ii)}this.kc.length&&(this.dD=null===this.kc[0].I()&&this.kc[0].Pa===d.B.Xa.F.mO);0===this.kc.length&&(this.kc=a);0===this.rh.length&&(this.rh=a);0===this.Ii.length&&(this.Ii=a)}static Ta(c,e,k){return d.A(d.rn,c,e,k)}zaa(c){this.Uj=
!0;this.fD=this.NK=!!c[0];this.qV=c[1].toLowerCase();this.nC=[];this.ka().pca(this);this.b.Jb&&(this.ck={type:"group",name:c[1],wz:0,children:[]})}E8(c){this.nC.push(c)}UR(c,e){for(const k of c.Dj.Fm)e.includes(k)||e.push(k)}aS(c,e){if(c)if(e.includes(c)||e.push(c),c.Ya)for(const k of c.vo)k.Kc()&&this.UR(k,e);else c.Kc()&&this.UR(c,e)}$R(c){this.aS(c,this.Bf)}I8(c){this.aS(c,this.lu)}X5(){this.Bf=this.b.md}Sb(c){this.wx=!!c;this.taa();this.uaa();for(const k of this.kc)k.Sb();if(0<this.rh.length){c=
!1;for(var e of this.rh)e.Sb(),e.e2()&&(c=!0);c?(this.rj=this.Ica,this.iq=this.P9):(this.rj=this.Hca,this.iq=this.O9)}e=this.Ii;for(let k=0,g=e.length;k<g;++k)e[k].Sb(k<g-1&&e[k+1]instanceof d.rn&&e[k+1].HA());this.Qa&&this.sea();this.ck&&this.iaa().ck.children.push(this.ck)}iaa(){let c=this.Da();for(;c;){if(c.Uj)return c;c=c.Da()}return this.td}sea(){const c=this.Qa;c.kX=this.kc.every(e=>e.ff());c.EM=this.rh.every(e=>e.ff());c.FM=this.Ii.every(e=>e.ff());c.lX=c.kX&&c.EM&&c.FM}taa(){if(this.Uj){var c=
this.Da();for(this.qD=!0;c;){if(!c.Uj){this.qD=!1;break}c=c.Da()}}}saa(){var c=this.b.md;if(this.Bf===c)this.lu=c;else{this.lu=d.PE(this.Bf);for(c=this.Da();c;){for(var e of c.Bf)this.I8(e);c=c.Da()}e=this.ka();this.Bf=e.pB(this.Bf);this.lu=e.pB(this.lu)}}uaa(){if(this.X1()){this.Fr=[];for(var c=this.Da();c;)this.Fr.push(c),c=c.Da();this.Fr.reverse()}}mw(){this.oD=!0;this.Nc&&this.Nc.mw()}Fd(){return this.Bf}Od(){this.wV||(this.wV=!0,this.saa());return this.lu}g2(c){return this.Bf.includes(c)}ka(){return this.td.ka()}H(){return this.b}Da(){return this.Nc}Mda(c){this.Be=
c}rs(){return this.Be||this.Nc}HG(){return this.Qa&&this.Qa.TM}Lp(){return this.HG()&&this.Qa.vd}HA(){return this.dD}xs(){return this.fD}E5(){this.Os(this.NK)}Os(c){c=!!c;if(!this.Uj)throw Error("not a group");if(this.fD!==c){this.fD=c;for(const e of this.nC)e.MR();this.nC.length&&(c=this.b.Ma().td)&&c.bJ()}}Op(){return this.kc.length&&this.kc[0].Op()}w3(){return this.Be&&this.Be instanceof d.pv}X1(){return this.w3()||this.kc.some(c=>c.Op())}BO(c){c=Math.floor(c);if(0>c||c>=this.kc.length)throw new RangeError("invalid condition index");
return this.kc[c]}v3(c){let e=c.Ha();if(0===e)return!0;for(--e;0<=e;--e)if(this.kc[e].I()===c.I())return!1;return!0}uO(c){c=Math.floor(c);if(0>c||c>=this.rh.length)throw new RangeError("invalid action index");return this.rh[c]}raa(c){c=Math.floor(c);return 0<=c&&c<this.rh.length}BS(){return this.Ii.filter(c=>c instanceof d.Vz)}QQ(c){c.ih(this);let e=!1;const k=this.kc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.Qn(g);if(n.hD)throw Error("trigger cannot be used as sub-event to a loop");if(n.ra())e=
!0;else if(!this.je)return!1}return this.je?e:!0}P5(c,e){c.ih(this);this.kc[e].ra()&&(this.rj(c,0)&&this.em(),c.Un(!0))}*fO(c){c.ih(this);let e=!1;const k=this.kc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.Qn(g);if(n.hD)throw Error("trigger cannot be used as sub-event to a loop");if(n.ff()?n.ra():yield*n.ob())e=!0;else if(!this.je)return!1}return this.je?e:!0}*XZ(c,e){c.ih(this);e=this.kc[e];if(e.ff()?e.ra():yield*e.ob())(this.Qz()?this.rj(c,0):yield*this.iq(c,0))&&(this.Rz()?this.em():yield*this.ww()),
c.Un(!0)}ra(c){c.ih(this);this.dD||c.Ns(!1);this.je?this.Nca(c):this.GB(c)}*ob(c){if(this.Lp()||this.b.Bc())yield this;c.ih(this);this.dD||c.Ns(!1);this.je?yield*this.a$(c):yield*this.dI(c)}Nca(c){const e=this.kc;let k=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Op()||(c.Qn(l),g=g.ra(),k=k||g)}c.Un(k);k&&(this.rj(c,0)&&this.em(),this.wx&&c.Ns(!0))}*a$(c){const e=this.kc;let k=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Op()||(c.Qn(l),g=g.ff()?g.ra():yield*g.ob(),k=k||g)}c.Un(k);
k&&((this.Qz()?this.rj(c,0):yield*this.iq(c,0))&&(this.Rz()?this.em():yield*this.ww()),this.wx&&c.Ns(!0))}GB(c){const e=this.kc;for(let k=0,g=e.length;k<g;++k){const l=e[k];c.Qn(k);if(!l.ra()){c.Un(!1);return}}c.Un(!0);this.rj(c,0)&&this.em();c.dr&&this.wx&&c.Ns(!0)}*dI(c){const e=this.kc;for(let k=0,g=e.length;k<g;++k){const l=e[k];c.Qn(k);if(l.ff()?!l.ra():!(yield*l.ob())){c.Un(!1);return}}c.Un(!0);(this.Qz()?this.rj(c,0):yield*this.iq(c,0))&&(this.Rz()?this.em():yield*this.ww());c.dr&&this.wx&&
c.Ns(!0)}Hca(c,e){const k=this.rh;for(let g=e,l=k.length;g<l;++g)e=k[g],c.XA(g),e.ra();return!0}*O9(c,e){const k=this.rh;for(let g=e,l=k.length;g<l;++g)e=k[g],c.XA(g),e.ff()?e.ra():yield*e.ob();return!0}Ica(c,e){const k=this.ka(),g=this.rh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.XA(l);const q=e.ra();if(e.PN()&&!0===q)return!1;e.ah()&&q instanceof Promise&&k.oF(q)}return!0}*P9(c,e){const k=this.ka(),g=this.rh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.XA(l);let q;q=e.ff()?e.ra():yield*e.ob();if(e.PN()&&
!0===q)return!1;e.ah()&&q instanceof Promise&&k.oF(q)}return!0}Fca(c){this.rj(c,c.xg)&&this.em()}*M9(c){if(yield*this.iq(c,c.xg))yield*this.ww()}em(){if(this.Ii.length){var c=this.Uj&&this.b.GG(),e=c?performance.now():0,k=this.he,g=k.Na(this);this.oD?this.Sca(g):this.Rca(g);k.Ia();c&&(this.ck.wz+=performance.now()-e)}}Sca(c){const e=this.Uj,k=this.qD,g=this.ka(),l=this.Ii;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],w=p.Fd(),t=!k||!e&&n<r;t&&g.de(w);p.ra(c);t?g.Db(w):g.Yr(w)}}Rca(c){const e=
this.Ii;for(let k=0,g=e.length;k<g;++k)e[k].ra(c)}*ww(){if(this.Ii.length){var c=this.he,e=c.Na(this);this.oD?yield*this.d$(e):yield*this.c$(e);c.Ia()}}*d$(c){const e=this.Uj,k=this.qD,g=this.ka(),l=this.Ii;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],w=p.Fd(),t=!k||!e&&n<r;t&&g.de(w);yield*p.ob(c);t?g.Db(w):g.Yr(w)}}*c$(c){const e=this.Ii;for(let k=0,g=e.length;k<g;++k)yield*e[k].ob(c)}nf(c,e){this.b.Kl();e.OQ();const k=this.kc;if(!this.je)for(let g=c.lm+1,l=k.length;g<l;++g)if(c=k[g],e.Qn(g),
!c.ra())return!1;this.rj(e,0)&&this.em();return!0}*Tg(c,e){this.b.Kl();e.OQ();const k=this.kc;if(!this.je)for(let g=c.lm+1,l=k.length;g<l;++g)if(c=k[g],e.Qn(g),c.ff()?!c.ra():!(yield*c.ob()))return!1;(this.Qz()?this.rj(e,0):yield*this.iq(e,0))&&(this.Rz()?this.em():yield*this.ww());return!0}ff(){return!this.Lp()&&!this.b.Bc()&&this.Qa.lX}Qz(){return!this.b.Bc()&&this.Qa.EM}Rz(){return!this.b.Bc()&&this.Qa.FM}XH(c){if(this.Da()){const e=this.Fr;for(let k=0,g=e.length;k<g;++k)if(!e[k].QQ(c))return!1}return!0}*kS(c){if(this.Da()){const e=
this.Fr;for(let k=0,g=e.length;k<g;++k)if(!(yield*e[k].fO(c)))return!1}return!0}wS(c,e,k){0<e.length?k?(e=e.map(g=>g.ea(0)),c.Kd.Na(),this.Be.gw(e)):this.Be.k0(e):k&&c.Kd.Na()}M5(c,e){let k,g;const l=0<c.length;var n=this.b;const q=this.he,r=n.ka(),p=1<r.Bw();this.wS(r,e,p);l&&r.gh(c);e=q.Na(this);this.XH(e)&&(n.Kl(),e.ih(this),(n=this.Be.ah())&&([g,k]=this.Be.KH()),this.GB(e),n&&this.Be.Pv(g));q.Ia();p&&r.Kd.Ia();l&&r.Db(c);r.yw();return k}*UZ(c,e){let k,g;if(this.Lp()||this.b.Bc())yield this;const l=
0<c.length;var n=this.b;const q=this.he,r=n.ka(),p=1<r.Bw();this.wS(r,e,p);l&&r.gh(c);e=q.Na(this);if(yield*this.kS(e))n.Kl(),e.ih(this),(n=this.Be.ah())&&([g,k]=this.Be.KH()),yield*this.dI(e),n&&this.Be.Pv(g);q.Ia();p&&r.Kd.Ia();l&&r.Db(c);r.yw();return k}N5(c){const e=this.Od(),k=0<e.length,g=this.b,l=this.he,n=g.ka(),q=1<n.Bw();q&&n.Kd.Na();this.Be.gw(c);k&&n.gh(e);c=l.Na(this);this.XH(c)&&(g.Kl(),c.ih(this),this.GB(c));l.Ia();q&&n.Kd.Ia();k&&n.Db(e);n.yw()}*VZ(c){if(this.Lp()||this.b.Bc())yield this;
const e=this.Od(),k=0<e.length,g=this.b,l=this.he,n=g.ka(),q=1<n.Bw();q&&n.Kd.Na();this.Be.gw(c);k&&n.gh(e);c=l.Na(this);if(yield*this.kS(c))g.Kl(),c.ih(this),yield*this.dI(c);l.Ia();q&&n.Kd.Ia();k&&n.Db(e);n.yw()}PQ(c,e,k,...g){let l,n;const q=0<c.length,r=this.b,p=this.he,w=r.ka(),t=1<w.Bw();t&&w.Kd.Na();0<g.length&&this.Be.gw(g);q&&w.gh(c);g=p.Na(this);g.G2(e,k);p.h5(g);r.Ls(!1);this.XH(g)&&(r.Kl(),g.ih(this),(e=this.Be.ah())&&([n,l]=this.Be.KH()),this.GB(g),e&&this.Be.Pv(n));r.Ls(!0);p.Ia();p.Z4();
t&&w.Kd.Ia();q&&w.Db(c);w.yw();return l||g.nK}}}
{"use strict";const d=self.j,a=[];let b=!1;d.Uz=class extends d.ia{constructor(f,c,e){super();const k=f.H(),g=f.ka();this.td=f;this.ya=g;this.b=f.H();this.Nc=c;this.Pa=k.Wh(e[1]);this.Dt=e[2];this.td.AT(this,this.Dt);this.Qa=k.Jb?{vd:e[3][0],TM:e[3][1]}:null}static Ta(f,c,e){return d.A(d.Uz,f,c,e)}Sb(){const f=this.Pa,c=this.b.ka().LS(this);this.Pa=f.bind(null,this.b.Sj,c)}Da(){return this.Nc}rs(){return this.Nc}HG(){return this.Qa&&this.Qa.TM}Lp(){return this.HG()&&this.Qa.vd}HA(){return!1}Fd(){return a}Od(){return this.Nc?
this.Nc.Od():a}ra(f){f.ih(this);this.ya.oF(this.Tca())}async Tca(){try{await this.Pa()}catch(f){console.error(`Unhandled exception running script %c${this.td.Ba()}, event ${this.Dt}:`,"font-size: 1.2em; font-weight: bold;",f),self.Rh&&self.Rh.Hda(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*ob(f){f.ih(this);if(this.Lp()||this.b.Bc())yield this;
this.ra(f)}ff(){return!this.Lp()&&!this.b.Bc()}static T1(){return b}static t6(){b=!0}}}
{"use strict";const d=self.j;d.pv=class extends d.ia{constructor(a,b,f){super();this.td=a;this.b=a.H();this.Nc=b;const c=f[1];this.OC=c[0];this.Ko=c[1];this.yh=c[2].map(e=>d.Vz.Ta(a,this,e));this.Ka=c[3];this.BK=[];this.Jx=c[4];this.Lfa=0;this.ix=-1;this.Xw=new Map;this.ve=d.rn.Ta(a,b,f);this.ve.Mda(this)}static Ta(a,b,f){return d.A(d.pv,a,b,f)}Sb(){for(const a of this.yh)a.Sb();this.ve.Sb(!1)}BS(){return this.yh}qca(a){this.BK.push(a)}k0(a){const b=this.yh;for(let f=0,c=b.length;f<c;++f)b[f].jh(a[f].ea(0))}gw(a){const b=
this.yh;for(let f=0,c=b.length;f<c;++f)b[f].jh(a[f])}hZ(){return this.yh.map(a=>a.ae())}Da(){return this.Nc}rs(){return this.Nc}jd(){return this.Ka}XF(){switch(this.Ko){case 0:return null;case 2:return"";default:return 0}}Nf(){return this.ve}ah(){return this.Jx}KH(){const a=this.Lfa++;this.ix=a;let b;const f=new Promise(c=>b=c);this.Xw.set(a,{resolve:b,fN:0});return[a,f]}Pv(a){const b=this.Xw.get(a);0===b.fN&&(b.resolve(),this.Xw.delete(a));this.ix=-1}V4(){this.Xw.get(this.ix).fN++;return this.ix}K5(a){this.ix=
a;this.Xw.get(a).fN--}}}
{"use strict";const d=self.j,a=[];d.Vz=class extends d.ia{constructor(b,f,c){super();const e=b.ka();this.td=b;this.ya=e;this.b=b.H();this.Nc=f;this.Kd=e.Kd;this.Fa=c[1];this.za=c[2];this.Vq=c[3];this.wi=!!c[4];this.zb=!!c[5];this.ufa=f instanceof d.pv;this.jb=c[6];this.Sx=this.b.Zi(c[8]);this.$fa=k=>this.jh(k);this.Yfa=()=>this.ae();this.yV=!this.Nc||this.wi||this.zb;this.Md=this.Vq;this.jL=-1;this.zP()&&(this.Md=this.Md?1:0);!this.PG()||this.wi||this.zb||(this.jL=e.haa(this));e.nca(this)}static Ta(b,
f,c){return d.A(d.Vz,b,f,c)}Sb(){if(this.PG()&&!this.wi&&!this.zb&&!this.ufa){const b=this.ya.PF(this);b&&b.qca(this)}}Ba(){return this.Fa}Zi(){return this.Sx}Da(){return this.Nc}rs(){return this.Da()}eh(){return!this.Da()}PG(){return!this.eh()}Fn(){return 0===this.za}ej(){return 1===this.za}zP(){return 2===this.za}HA(){return!1}Fd(){return a}ra(){!this.PG()||this.wi||this.zb||this.jh(this.Vq)}ff(){return!0}*ob(b){this.ra(b)}jh(b){this.Fn()?"number"!==typeof b&&(b=parseFloat(b)):this.ej()?"string"!==
typeof b&&(b=b.toString()):this.zP()&&(b=b?1:0);this.yV?this.Md=b:this.Kd.gs()[this.jL]=b}ae(){return this.yV?this.Md:this.Kd.gs()[this.jL]}H5(){this.Md=this.Vq}NS(){return{configurable:!1,enumerable:!0,get:this.Yfa,set:this.$fa}}}}
{"use strict";const d=self.j,a=[];d.nO=class extends d.ia{constructor(b,f,c){super();const e=b.ka();this.td=b;this.ya=e;this.b=b.H();this.Nc=f;this.Gx=null;this.nfa=c[1];this.Nb=!0}static Ta(b,f,c){return d.A(d.nO,b,f,c)}Sb(){this.Gx=this.ya.FO(this.nfa);this.td.M8(this);let b=this.Da();for(;b;)b instanceof d.rn&&b.Uj&&b.E8(this),b=b.Da();this.MR();this.b.Jb&&this.td.ck.children.push(this.Gx.ck)}Da(){return this.Nc}Fd(){return a}ra(){const b=!!this.Da(),f=this.b.md;b&&this.ya.gh(f);this.Gx.ra();b&&
this.ya.Db(f)}*ob(){const b=!!this.Da(),f=this.b.md;b&&this.ya.gh(f);yield*this.Gx.ob();b&&this.ya.Db(f)}ff(){return!1}MR(){let b=this.Da();for(;b;){if(b instanceof d.rn&&b.Uj&&!b.xs()){this.Nb=!1;return}b=b.Da()}this.Nb=!0}}}
{"use strict";const d=self.j;d.yp=class extends d.ia{constructor(g){super();this.yc=g;this.b=g.H()}Sb(){}static MZ(g,l){return d.A([e,f,c,k,a,b][l[0]],g,l)}};class a extends d.yp{constructor(g,l){super(g);this.De=this.b.Cv();this.Pa=this.b.Wh(l[1]);this.Pa!==d.B.Xa.zd.random&&this.Pa!==d.B.Xa.zd.wga||this.yc.GH()}}class b extends d.yp{constructor(g,l){super(g);this.ux=null;this.OC=l[1];this.yc.GH()}Sb(){const g=this.b.ka();this.ux=g.lA(this.OC);this.OC=null;const l=this.ux.Nf();this.po=[...new Set([...this.yc.Nf().Od(),
...l.Od()])];this.po=g.pB(this.po)}}class f extends d.yp{constructor(g,l){super(g);this.N=this.b.Pf(l[1]);this.Pa=this.b.Wh(l[2]);this.JL=!!l[3];this.he=this.b.ka().hd();this.yc.EI(this.N)}ds(){const g=this.N,l=g.Z().V0();var n=l.length;if(0===n)return this.JL?"":0;var q=this.yc.iE;q>=n?n=q%n:(0>q&&(q<=-n&&(q%=n),0>q&&(q+=n)),n=q);this.he.gf().m6(g);return this.Pa.apply(l[n].ja,[])}}class c extends d.yp{constructor(g,l){super(g);this.N=this.b.Pf(l[1]);this.JL=!!l[2];this.yc.EI(this.N)}}class e extends d.yp{constructor(g,
l){super(g);this.N=this.b.Pf(l[1]);this.od=this.N.Zz(l[2]);this.yj=this.N.sv(l[2]);this.Pa=this.b.Wh(l[3]);this.JL=!!l[4];this.he=this.b.ka().hd();this.yc.EI(this.N)}}class k extends d.yp{constructor(g,l){super(g);this.to=null;this.bK=l[1]}Sb(){this.to=this.b.ka().aG(this.bK)}}}
{"use strict";const d=self.j;d.mf=class extends d.ia{constructor(z,D,E){super();this.yc=z;this.Va=E;this.za=D;this.ea=null;this.zb=this.Gf=!1}static Ta(z,D,E){const M=D[0];return d.A([b,f,q,e,g,c,l,b,e,e,r,p,q,t,f,n,k,w,v,x][M],z,M,E,D)}Sb(){}GH(){this.Gf=!0}EI(z){this.Gf||!z||z.Hb().zo||(this.Gf=!0)}Ha(){return this.Va}H(){return this.yc.H()}Nf(){return this.yc.Nf()}};function a(z){z=self.WY[z];if(!z)throw Error("invalid expression number");return z}class b extends d.mf{constructor(z,D,E,M){super(z,
D,E);this.iE=0;z=M[1];this.dK=z[0];this.Zt=[];this.DC=null;for(let B=1,G=z.length;B<G;++B)this.Zt.push(d.yp.MZ(this,z[B]));this.Zt.length?this.ea=this.U0:(this.ea=a(this.dK),this.zb=!0)}Lk(){if(0>=this.Zt.length)throw new RangeError("invalid numbered node");return this.Zt[0]}Sb(){for(var z of this.Zt)z.Sb();z=a(this.dK);this.DC=this.Zt.length?z(this):z}U0(z){this.iE=z;return this.DC()}}class f extends b{constructor(z,D,E,M){super(z,D,E,M);this.ea=this.K1;14===D&&(this.Nf().X5(),this.yc instanceof
d.Bz&&this.Nf().mw())}K1(z){this.iE=z;z=this.DC();return"string"===typeof z?z:""}aaa(){return a(this.dK)()}}class c extends b{constructor(z,D,E,M){super(z,D,E,M);this.ea=this.ba;this.zb=!1}ba(z){this.iE=z;z=this.DC();return this.H().Ma().ba(z)}}class e extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Zea=M[1];this.ea=this.L0;this.zb=!0}L0(){return this.Zea}}class k extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Qea=M[1];this.ea=this.G0;this.zb=!0}G0(){return this.Qea}}class g extends d.mf{constructor(z,
D,E,M){super(z,D,E);this.N=this.H().Pf(M[1]);this.ea=this.I;z=this.Nf();z.$R(this.N);this.yc instanceof d.Bz?z.mw():z.Da()&&z.Da().mw();this.zb=!0}I(){return this.N}}class l extends d.mf{constructor(z,D,E,M){super(z,D,E);this.$j=this.H().gb.ks(M[1]);this.ea=this.qc;this.zb=!0}qc(){return this.$j}}class n extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Ro=this.H().Lb.vA(M[1]);this.ea=this.Cc;this.zb=!0}Cc(){return this.Ro}}class q extends d.mf{constructor(z,D,E,M){super(z,D,E);this.ifa=M[1];this.ea=
this.Y0;this.zb=!0}Y0(){return this.ifa}}class r extends d.mf{constructor(z,D,E,M){super(z,D,E);this.GV=M[1];(z=this.yc.I())&&z.Ya?(this.ea=this.W0,this.GH()):(this.ea=this.k1,this.zb=!0)}k1(){return this.GV}W0(z){z=z||0;const D=this.yc.I();var E=D.Z();const M=E.la();if(M.length)z=M[z%M.length].I();else if(E.W1())E=E.xc,z=E[z%E.length].I();else if(0<D.D.length)E=D.la(),z=E[z%E.length].I();else return 0;return this.GV+z.GO(D.Mj)}}class p extends d.mf{constructor(z,D,E,M){super(z,D,E);this.bK=M[1];
this.to=null;this.ea=this.T0;this.zb=!0}Sb(){this.to=this.H().ka().aG(this.bK)}T0(){return this.to}}class w extends d.mf{constructor(z,D,E,M){super(z,D,E);this.lV=M[1];this.ux=null;this.ea=this.g1;this.zb=!0}Sb(){this.ux=this.H().ka().lA(this.lV);this.lV=null}g1(){return this.ux}}class t extends d.mf{constructor(z,D,E,M){super(z,D,E);this.dM=[];this.dX=[];this.zb=!0;for(let B=1,G=M.length;B<G;++B)z=d.mf.Ta(this.yc,M[B],0),this.dM.push(z),this.dX.push(0),z.zb||(this.zb=!1);this.ea=this.P1}Sb(){for(const z of this.dM)z.Sb()}P1(){const z=
this.dM,D=this.dX;for(let E=0,M=z.length;E<M;++E)D[E]=z[E].ea(0);return D}}class v extends d.mf{constructor(z,D,E,M){super(z,D,E);this.efa=M[1];this.ea=this.tn;this.zb=!0}tn(){return this.efa}}class x extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Vea=M[1];this.ea=this.L1;this.zb=!0}L1(){return this.Vea}}}
{"use strict";const d=self.j;function a(c,e){for(let k=0,g=c.length;k<g;++k)e[k]=c[k].ea(0)}const b=[],f=function(){};d.XN=class extends d.ia{constructor(c,e,k){super();this.ve=c;this.b=c.H();this.Va=k;this.Pa=this.b.Wh(e[1]);this.UK=0<e[3];this.JV=2===e[3];this.hD=!!e[4];this.Vj=!!e[5];this.wi=!!e[6];this.jb=e[7];this.KV=this.ve.je;this.od=this.N=null;this.yj=-1;this.De=null;this.ob=this.ra=f;this.La=[];this.Ab=[];this.im=!1;this.Ki=this.Kb=null;this.Qa=this.b.Jb?{vd:e[8][0],gg:e[8][1]}:null;-1===
e[0]?this.De=this.b.Cv():(this.N=this.b.Pf(e[0]),e[2]&&(this.od=this.N.Zz(e[2]),this.yj=this.N.sv(e[2])),this.ve.Da()&&this.ve.Da().mw());if(10===e.length){c=e[9];for(let g of c)this.La.push(d.mf.Ta(this,g,this.La.length)),this.Ab.push(0)}0===this.La.length&&(this.Ab=this.La=b);this.ve.ka().lca(this)}static Ta(c,e,k){return d.A(d.XN,c,e,k)}Sb(){for(const c of this.La)c.Sb(),c.Gf&&(this.im=!0);this.JV?(this.ra=this.Jca,this.ob=this.U9):this.De?(this.XI(),this.ob=this.fI):this.N.Hb().zo?(this.VI(),
this.ob=this.eI):this.wi?(this.ra=this.Qca,this.ob=this.b$):(this.ra=this.PT,this.ob=this.V9)}XI(){this.Pw(this.De,this.De,this.OI)}VI(){const c=this.N.Hb(),e=this.N.Il().ja;this.Pw(c,e,this.NI)}Pw(c,e,k){const g=this.Pa,l=this.Vj,n=this.La;if(0===n.length){const q=c.Zn(g,e);this.ra=l?function(){return d.xor(q(),l)}:q}else if(1===n.length){const q=n[0];if(!l&&q.zb)this.ra=c.ES(g,e,q.ea(0));else{const r=c.Zn(g,e);this.ra=function(){return d.xor(r(q.ea(0)),l)}}}else if(2===n.length){const q=n[0],r=
n[1];if(!l&&q.zb&&r.zb)this.ra=c.FS(g,e,q.ea(0),r.ea(0));else{const p=c.Zn(g,e);this.ra=function(){return d.xor(p(q.ea(0),r.ea(0)),l)}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(!l&&q.zb&&r.zb&&p.zb)this.ra=c.GS(g,e,q.ea(0),r.ea(0),p.ea(0));else{const w=c.Zn(g,e);this.ra=function(){return d.xor(w(q.ea(0),r.ea(0),p.ea(0)),l)}}}else this.ra=k}I(){return this.N}Uh(){return this.od}Nf(){return this.ve}H(){return this.b}Ha(){return this.Va}CO(){return this.Ha()}Op(){return this.UK}ff(){return!this.Qa.vd&&
!this.b.Bc()&&!this.Qa.gg}Yd(){this.Kb||(this.Kb=new Map);return this.Kb}Fv(){this.Ki||(this.Ki=new Map);return this.Ki}OI(){const c=this.Ab;a(this.La,c);return d.xor(this.Pa.apply(this.De,c),this.Vj)}*fI(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var c=this.Ab;a(this.La,c);c=this.Pa.apply(this.De,c);d.En(c)&&(c=yield*c);return d.xor(c,this.Vj)}return this.ra()}NI(){const c=this.Ab;a(this.La,c);const e=this.N.Il().ja;return d.xor(this.Pa.apply(e,c),this.Vj)}*eI(){if(this.Qa.vd||this.b.Bc())yield this;
if(this.Qa.gg){var c=this.Ab;a(this.La,c);const e=this.N.Il().ja;c=this.Pa.apply(e,c);d.En(c)&&(c=yield*c);return d.xor(c,this.Vj)}return this.ra()}Jca(){return!0}*U9(){if(this.Qa.vd||this.b.Bc())yield this;return!0}Qca(){var c=this.Ab;a(this.La,c);c=this.Pa.apply(this.od||this.N,c);this.N.oc();return c}*b$(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var c=this.Ab;a(this.La,c);c=this.Pa.apply(this.od||this.N,c);d.En(c)&&(c=yield*c);this.N.oc();return c}return this.ra()}PT(){const c=this.La,
e=this.Ab,k=this.N.Z();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Gf||(e[g]=n.ea(0))}return k.ec?this.Kca(k):this.Lca(k)}*V9(){if(this.Qa.vd||this.b.Bc())yield this;return this.PT()}nI(c){const e=this.La,k=this.Ab;for(let g=0,l=e.length;g<l;++g){const n=e[g];n.Gf&&(k[g]=n.ea(c))}}Kca(c){const e=this.N,k=e.Ya,g=e.Mj,l=this.yj,n=0<=l,q=e.la(),r=this.im,p=this.Ab,w=this.Pa,t=this.Vj,v=this.KV&&!this.UK;c.Jz();for(let z=0,D=q.length;z<D;++z){const E=q[z];r&&this.nI(z);var x=void 0;n?(x=k?E.I().Ap(g):
0,x=w.apply(E.nd[l+x].ja,p)):x=w.apply(E.ja,p);d.xor(x,t)?c.mq(E):v&&c.bo(E)}e.ov(!0);c.Me(!1);e.oc();return c.xG()}Lca(c){const e=this.N;var k=e.Ya;const g=e.Mj,l=e.Kc(),n=this.yj,q=0<=n,r=this.im,p=this.Ab,w=this.Pa,t=this.Vj,v=this.KV&&!this.UK,x=c.D,z=c.xc,D=v&&!this.ve.v3(this),E=D?z:x;let M=0,B=!1;for(let H=0,J=E.length;H<J;++H){const P=E[H];r&&this.nI(H);var G=void 0;q?(G=k?P.I().Ap(g):0,G=w.apply(P.nd[n+G].ja,p)):G=w.apply(P.ja,p);d.xor(G,t)?(B=!0,D?(x.push(P),l&&P.ica()):(E[M]=P,l&&P.Oda(M),
++M)):D?(E[M]=P,l&&P.Nda(M),++M):v&&(z.push(P),l&&P.hca())}d.bf(E,M);l&&e.pea(D,M);k=B;D&&!B&&(B=this.$ba(x));e.ov(k||v);return v?B:c.xG()}$ba(c){var e=this.N;const k=e.Ya;e=e.Mj;const g=this.im,l=this.yj,n=0<=l,q=this.Ab,r=this.Pa,p=this.Vj;for(let t=0,v=c.length;t<v;++t){var w=c[t];g&&this.nI(t);if(n){const x=k?w.I().Ap(e):0;w=r.apply(w.nd[l+x].ja,q)}else w=r.apply(w.ja,q);if(d.xor(w,p))return!0}return!1}Yv(c,e){return this.La[c].ea(e)}X0(){const c=this.La;if(!c.length)throw Error("no parameters");
return c[0].aaa()}ma(){if(!this.Kb||!this.Kb.size)return null;const c={};for(const [e,k]of this.Kb.entries()){let g=k;"collmemory"===e&&(g=[...k.entries()].map(l=>[l[0].Qc,l[1].Qc,l[2]]));c[e]=g}return{ex:c}}wa(c){this.Kb&&(this.Kb.clear(),this.Kb=null);if(c){var e=this.b,k=c.ex;if(k){c=this.Yd();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.A(d.Tv,l.map(n=>[e.Xi(n[0]),e.Xi(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.j;function a(e,k){for(let g=0,l=e.length;g<l;++g)k[g]=e[g].ea(0)}const b=[],f=function(){},c=function*(){};d.Bz=class extends d.ia{constructor(e,k,g){super();this.ve=e;this.b=e=e.H();this.Va=g;this.jb=4<=k.length?k[3]:-1;this.RB=5<=k.length?k[4]:0;this.od=this.N=this.Pa=null;this.yj=-1;this.De=null;this.iC="";this.po=this.hC=null;this.ob=this.ra=f;this.La=[];this.Ab=[];this.im=!1;this.Ki=this.Kb=null;const l=(g=-3===k[0])?k[2]:k[5];this.Qa=e.Jb||g?{vd:l[0],gg:l[1],index:l[2]}:
null;-1===k[0]?(this.De=e.Cv(),this.Pa=e.Wh(k[1])):-2===k[0]?this.iC=k[1]:g?(this.Pa=e.Wh(k[1]),this.ra=this.nH,this.ob=this.ZZ,this.RB=1):(this.Pa=e.Wh(k[1]),this.N=e.Pf(k[0]),k[2]&&(this.od=this.N.Zz(k[2]),this.yj=this.N.sv(k[2])));if(7===k.length){k=k[6];for(const n of k)this.La.push(d.mf.Ta(this,n,this.La.length)),this.Ab.push(0)}0===this.La.length&&(this.Ab=this.La=b);this.ve.ka().kca(this)}static Ta(e,k,g){return d.A(d.Bz,e,k,g)}Sb(){for(var e of this.La)e.Sb(),e.Gf&&(this.im=!0);if(this.De)this.XI(),
this.ob=this.fI;else if(this.iC)this.oda(),this.iC="";else if(this.ra===this.nH){e=this.Pa;const k=this.b.ka().LS(this.ve);this.Pa=e.bind(null,this.b.Sj,k)}else this.od?this.ah()?(this.ra=this.NT,this.ob=this.R9):(this.ra=this.MT,this.ob=this.Q9):this.N.Hb().zo?(this.VI(),this.ob=this.eI):this.ah()?(this.ra=this.RT,this.ob=this.X9):this.La.length?this.La.every(k=>k.Gf)?(this.ra=this.QT,this.ob=this.W9):this.im?(this.ra=this.TT,this.ob=this.Z9):this.La.every(k=>k.zb)?(a(this.La,this.Ab),this.ra=this.MI,
this.ob=this.lS):(this.ra=this.ST,this.ob=this.Y9):(this.ra=this.MI,this.ob=this.lS)}XI(){this.Pw(this.De,this.De,this.OI)}VI(){const e=this.N.Hb(),k=this.N.Il().ja;this.Pw(e,k,this.NI)}oda(){const e=this.ve.ka(),k=e.lA(this.iC);k.jd()?(this.hC=k.Nf(),this.po=[...new Set([...this.ve.Od(),...this.hC.Od()])],this.po=e.pB(this.po),this.ra=d.rn.prototype.M5.bind(this.hC,this.po,this.La),this.ob=this.S9):(this.ra=f,this.ob=c)}Pw(e,k,g){const l=this.Pa,n=this.La;if(0===n.length)this.ra=e.Zn(l,k);else if(1===
n.length){const q=n[0];if(q.zb)this.ra=e.ES(l,k,q.ea(0));else{const r=e.Zn(l,k);this.ra=function(){return r(q.ea(0))}}}else if(2===n.length){const q=n[0],r=n[1];if(q.zb&&r.zb)this.ra=e.FS(l,k,q.ea(0),r.ea(0));else{const p=e.Zn(l,k);this.ra=function(){return p(q.ea(0),r.ea(0))}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(q.zb&&r.zb&&p.zb)this.ra=e.GS(l,k,q.ea(0),r.ea(0),p.ea(0));else{const w=e.Zn(l,k);this.ra=function(){return w(q.ea(0),r.ea(0),p.ea(0))}}}else this.ra=g}ah(){return 1===this.RB}PN(){return 2===
this.RB}e2(){return 0!==this.RB}I(){return this.N}Nf(){return this.ve}H(){return this.b}Ha(){return this.Va}CO(){return this.Qa.index}ff(){return!this.Qa.vd&&!this.b.Bc()&&!this.Qa.gg}Yd(){this.Kb||(this.Kb=new Map);return this.Kb}Fv(){this.Ki||(this.Ki=new Map);return this.Ki}OI(){const e=this.Ab;a(this.La,e);return this.Pa.apply(this.De,e)}*fI(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab;a(this.La,e);return yield*this.Pa.apply(this.De,e)}return this.ra()}*S9(){if(this.Qa.vd||
this.b.Bc())yield this;return yield*this.hC.UZ(this.po,this.La)}NI(){const e=this.Ab;a(this.La,e);return this.Pa.apply(this.N.Il().ja,e)}*eI(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab;a(this.La,e);return yield*this.Pa.apply(this.N.Il().ja,e)}return this.ra()}MI(){const e=this.Ab,k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)this.Pa.apply(k[g].ja,e)}*lS(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab,k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)yield*this.Pa.apply(k[g].ja,
e)}else this.MI()}ST(){const e=this.Ab;a(this.La,e);const k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)this.Pa.apply(k[g].ja,e)}*Y9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab;a(this.La,e);const k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)yield*this.Pa.apply(k[g].ja,e)}else this.ST()}QT(){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,w=e.length;p<w;++p)k[p]=e[p].ea(n);g.apply(r.ja,k)}}*W9(){if(this.Qa.vd||
this.b.Bc())yield this;if(this.Qa.gg){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,w=e.length;p<w;++p)k[p]=e[p].ea(n);yield*g.apply(r.ja,k)}}else this.QT()}TT(){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la();for(let q=0,r=e.length;q<r;++q){var n=e[q];n.Gf||(k[q]=n.ea(0))}for(let q=0,r=l.length;q<r;++q){n=l[q];for(let p=0,w=e.length;p<w;++p){const t=e[p];t.Gf&&(k[p]=t.ea(q))}g.apply(n.ja,k)}}*Z9(){if(this.Qa.vd||this.b.Bc())yield this;
if(this.Qa.gg){const k=this.La,g=this.Ab,l=this.Pa,n=this.N.Z().la();for(let q=0,r=k.length;q<r;++q){var e=k[q];e.Gf||(g[q]=e.ea(0))}for(let q=0,r=n.length;q<r;++q){e=n[q];for(let p=0,w=k.length;p<w;++p){const t=k[p];t.Gf&&(g[p]=t.ea(q))}yield*l.apply(e.ja,g)}}else this.TT()}MT(){var e=this.N;const k=e.Ya,g=e.Mj,l=this.La,n=this.im,q=this.Ab,r=this.Pa,p=this.yj;e=e.Z().la();for(let v=0,x=l.length;v<x;++v){var w=l[v];w.Gf||(q[v]=w.ea(0))}for(let v=0,x=e.length;v<x;++v){w=e[v];if(n)for(let z=0,D=l.length;z<
D;++z){var t=l[z];t.Gf&&(q[z]=t.ea(v))}t=k?w.I().Ap(g):0;r.apply(w.nd[p+t].ja,q)}}*Q9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var e=this.N;const l=e.Ya,n=e.Mj,q=this.La,r=this.im,p=this.Ab,w=this.Pa,t=this.yj;e=e.Z().la();for(let v=0,x=q.length;v<x;++v){var k=q[v];k.Gf||(p[v]=k.ea(0))}for(let v=0,x=e.length;v<x;++v){k=e[v];if(r)for(let z=0,D=q.length;z<D;++z){var g=q[z];g.Gf&&(p[z]=g.ea(v))}g=l?k.I().Ap(n):0;yield*w.apply(k.nd[t+g].ja,p)}}else this.MT()}RT(){const e=this.La,k=this.Ab,
g=this.Pa,l=this.N.Z().la(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let w=0,t=e.length;w<t;++w)k[w]=e[w].ea(q);n.push(g.apply(p.ja,k))}return Promise.all(n)}*X9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let w=0,t=e.length;w<t;++w)k[w]=e[w].ea(q);n.push(yield*g.apply(p.ja,k))}return Promise.all(n)}return this.RT()}NT(){var e=this.N;const k=e.Ya,g=e.Mj,l=this.La,n=this.Ab,
q=this.Pa,r=this.yj;e=e.Z().la();const p=[];for(let w=0,t=e.length;w<t;++w){const v=e[w];for(let z=0,D=l.length;z<D;++z)n[z]=l[z].ea(w);const x=k?v.I().Ap(g):0;p.push(q.apply(v.nd[r+x].ja,n))}return Promise.all(p)}*R9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var e=this.N;const k=e.Ya,g=e.Mj,l=this.La,n=this.Ab,q=this.Pa,r=this.yj;e=e.Z().la();const p=[];for(let w=0,t=e.length;w<t;++w){const v=e[w];for(let z=0,D=l.length;z<D;++z)n[z]=l[z].ea(w);const x=k?v.I().Ap(g):0;p.push(yield*q.apply(v.nd[r+
x].ja,n))}return Promise.all(p)}return this.NT()}async nH(){try{await this.Pa()}catch(e){console.error(`Unhandled exception running script %c${this.ve.td.Ba()}, event ${this.ve.Dt}, action ${this.CO()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.Rh&&self.Rh.Hda(this),d.Uz.T1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Uz.t6())}}*ZZ(){if(this.Qa.vd||
this.b.Bc())yield this;return this.nH()}ma(){return this.Kb&&this.Kb.size?{ex:d.PH(this.Kb)}:null}wa(e){this.Kb&&(this.Kb.clear(),this.Kb=null);e&&(e=e.ex)&&(this.Kb=d.QF(e))}}}
{"use strict";const d=self.j,a=new d.$a;function b(K,N){return d.compare(this.i().O(),K,N)}function f(K,N){return d.compare(this.i().P(),K,N)}function c(){const K=this.i(),N=K.ba();return N.us()?K.ys(N.Aw()):K.HP(N.Hf,K.qc().rP(),K.qc().Zf)}function e(){var K=this.i();const N=K.qc();K=K.tb();return 0>K.V||0>K.S||K.M>N.K()||K.J>N.G()}function k(K,N,U){const ba=this.Z(),ha=ba.la();if(!ha.length)return!1;let ia=ha[0];var ka=ia.i();let ua=ia,ma=d.tX(ka.O(),ka.P(),N,U);for(let va=1,wa=ha.length;va<wa;++va)if(ia=
ha[va],ka=ia.i(),ka=d.tX(ka.O(),ka.P(),N,U),0===K&&ka<ma||1===K&&ka>ma)ma=ka,ua=ia;ba.Kn(ua);return!0}function g(K){const N=this.i();N.O()!==K&&(N.Tf(K),N.ua())}function l(K){const N=this.i();N.P()!==K&&(N.kh(K),N.ua())}function n(K,N){const U=this.i();U.OF(K,N)||(U.re(K,N),U.ua())}function q(K,N){if(K&&(K=K.UO(this.L))){var [U,ba]=K.Fl(N);N=this.i();if(N.O()!==U||N.P()!==ba)N.re(U,ba),N.ua()}}function r(K){if(0!==K){var N=this.i();N.Rv(N.WF()*K,N.qG()*K);N.ua()}}function p(K,N){if(0!==N){var U=this.i();
K=d.eb(K);U.Rv(Math.cos(K)*N,Math.sin(K)*N);U.ua()}}function w(){return this.i().O()}function t(){return this.i().P()}function v(){return this.b.zp(this.L)}function x(K,N){return d.compare(this.i().K(),K,N)}function z(K,N){return d.compare(this.i().G(),K,N)}function D(K){const N=this.i();N.K()!==K&&(N.rf(K),N.ua())}function E(K){const N=this.i();N.G()!==K&&(N.ld(K),N.ua())}function M(K,N){const U=this.i();if(U.K()!==K||U.G()!==N)U.Rb(K,N),U.ua()}function B(){return this.i().K()}function G(){return this.i().G()}
function H(){return this.i().tb().M}function J(){return this.i().tb().J}function P(){return this.i().tb().V}function Q(){return this.i().tb().S}function T(K,N){return d.Zm(this.i().ta(),d.eb(N))<=d.eb(K)}function W(K){return d.fg(this.i().ta(),d.eb(K))}function Z(K,N){K=d.eb(K);N=d.eb(N);const U=this.i().ta();return d.fg(N,K)?d.fg(U,K)&&!d.fg(U,N):!(!d.fg(U,K)&&d.fg(U,N))}function Y(K){const N=this.i();K=d.me(d.eb(K));isNaN(K)||N.ta()===K||(N.Fc(K),N.ua())}function fa(K){if(!isNaN(K)&&0!==K){var N=
this.i();N.Fc(N.ta()+d.eb(K));N.ua()}}function ja(K){if(!isNaN(K)&&0!==K){var N=this.i();N.Fc(N.ta()-d.eb(K));N.ua()}}function xa(K,N){const U=this.i(),ba=U.ta();K=d.CM(ba,d.eb(N),d.eb(K));isNaN(K)||ba===K||(U.Fc(K),U.ua())}function Ka(K,N,U){const ba=this.i(),ha=ba.ta();N-=ba.O();U-=ba.P();K=d.CM(ha,Math.atan2(U,N),d.eb(K));isNaN(K)||ha===K||(ba.Fc(K),ba.ua())}function Ta(K,N){const U=this.i(),ba=U.ta();K-=U.O();N-=U.P();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.Fc(N),U.ua())}function Pa(){return d.Wd(this.i().ta())}
function Ua(K,N){return d.compare(d.dF(100*this.i().kf()),K,N)}function db(){return this.i().Tc()}function Qa(K){const N=this.i();K=2===K?!N.Tc():0!==K;N.Tc()!==K&&(N.Ke(K),this.b.R())}function La(K){K=d.fa(K/100,0,1);const N=this.i();N.kf()!==K&&(N.kj(K),this.b.R())}function Ya(K){a.Ru(K);K=this.i();K.Ja.an(a)||(K.AR(a),this.b.R())}function Va(){const K=this.i().Ja;return d.SA(K.Za,K.cb,K.bb,K.Wa)}function gb(){return d.dF(100*this.i().kf())}function ub(K){return K?this.i().ba()===K:!1}function vb(K){const N=
this.Z(),U=N.la();if(!U.length)return!1;let ba=U[0];for(let ha=1,ia=U.length;ha<ia;++ha){const ka=U[ha],ua=ka.i(),ma=ba.i(),va=ua.ba().Ha(),wa=ma.ba().Ha();if(0===K){if(va>wa||va===wa&&ua.Ak()>ma.Ak())ba=ka}else if(va<wa||va===wa&&ua.Ak()<ma.Ak())ba=ka}N.Kn(ba);return!0}function hb(K,N,U){const ba=this.i();K=0===K?ba.Ua():ba.Qf();return d.compare(K,N,U)}function wb(){this.i().A8()}function xb(){this.i().y8()}function yb(K){K&&this.i().z8(K)}function zb(K,N){K=0===K;N&&(N=N.bG(this.Ca()))&&this.i().x8(N,
K)}function Ab(K){const N=this.i();N.Ua()!==K&&(N.Le(K),this.b.R())}function Bb(){return this.i().ba().Ha()}function Cb(){return this.i().ba().Ba()}function ib(){return this.i().Ak()}function Db(){return this.i().Ua()}function Eb(){return this.i().Qf()}function Fb(K,N){if(N=this.I().Ra.Dl(N)){N=N.Ha();K=1===K;var U=this.i().Qe;U.Kv(N)!==K&&(U.eR(N,K),U.Xn(),this.b.R())}}function Gb(K,N,U){var ba=this.I().Ra.Dl(K);if(ba){K=ba.Ha();var ha=this.i().Qe,ia=ha.Xg(K);N=Math.floor(N);if(!(0>N||N>=ia.length)){ba=
ba.kb.qA(N);if("color"===ba){a.Ru(U);N=ia[N];if(a.an(N))return;N.lk(a)}else{"percent"===ba&&(U/=100);if(ia[N]===U)return;ia[N]=U}ha.Kv(K)&&this.b.R()}}}const jb=d.A(d.Rect),Wa=[],kb=[];let lb=!1,Za=null,mb=!1;const Na=new Set;function nb(K,N,U,ba){N.Qc<U.Qc?K.Set(N,U,ba):K.Set(U,N,ba)}function pa(K,N,U){N.Qc<U.Qc?K.pn(N,U):K.pn(U,N)}function Ja(K,N,U){return N.Qc<U.Qc?K.ea(N,U):K.ea(U,N)}function Hb(K,N,U,ba){if(!N)return!1;K=K.Ca();const ha=0!==U||0!==ba,ia=K.i(),ka=K.H(),ua=ka.uh;var ma=ka.ng();
const va=ma.Nf().je;var wa=ma.I();ma=ma.Vj;const Ga=N.Z();wa=wa!==N;Za=N;lb=wa&&!ma;mb=!1;let Ma=0,Ba=0,la=!1;Ga.ec?(jb.qa(ia.tb()),jb.offset(U,ba),ua.dA(ia.ba(),N,jb,kb),N=kb):va?ka.r3()&&!Ga.xc.length&&Ga.D.length?N=Ga.D:(N=Ga.xc,mb=!0):N=Ga.D;ha&&(Ma=ia.O(),Ba=ia.P(),ia.Rv(U,ba),ia.ua());for(const da of N)if(ua.eq(K,da)){la=!0;if(ma)break;wa&&Na.add(da)}ha&&(ia.re(Ma,Ba),ia.ua());d.C(kb);return la}function Nb(K,N){if(lb){if(N){{K=K.H().Gb().je;N=Za.Z();const U=N.D,ba=N.xc;N.ec?(N.lw(Na),K&&(d.C(ba),
N.DN(Na,Za.la()))):K?mb?N.Q7(Na):(N.DN(Na,U),N.lw(Na)):N.lw(Na);Za.oc()}}Na.clear();Za=null;lb=!1}}function Ob(K){if(this.b.Se)return Pb.call(this,K);if(!K)return!1;var N=this.b;const U=N.uh,ba=N.ka(),ha=ba.hd();var ia=ba.ng();const ka=ia.I();var ua=ia.Yd(),ma=ia.Fv();ia=ha.gf();const va=N.il,wa=va-1,Ga=ia.Gb(),Ma=ha.Na(Ga);let Ba=ua.get("collmemory");Ba||(Ba=d.A(d.Tv),ua.set("collmemory",Ba));ma.get("collisionCreatedDestroyCallback")||(ma.set("collisionCreatedDestroyCallback",!0),N.Fb().addEventListener("instancedestroy",
Oa=>{Ba.hO(Oa.instance)}));N=K.Z();ua=ka.Z().la();ma=null;for(let Oa=0;Oa<ua.length;++Oa){const Aa=ua[Oa];N.ec?(U.dA(Aa.i().ba(),K,Aa.i().tb(),Wa),ma=Wa,U.EN(Aa,K,ma)):ma=N.la();for(let fb=0;fb<ma.length;++fb){const Ia=ma[fb];if(U.eq(Aa,Ia)||U.TN(Aa,Ia)){var la=Ja(Ba,Aa,Ia),da=!1,na=-2;"number"===typeof la&&(da=!0,na=la);la=!da||na<wa;nb(Ba,Aa,Ia,va);la&&(la=Ga.Fd(),ba.de(la),na=ka.Z(),da=K.Z(),na.Me(!1),da.Me(!1),ka===K?(da=na.D,d.C(da),da.push(Aa),da.push(Ia),ka.oc()):(na=na.D,da=da.D,d.C(na),d.C(da),
na.push(Aa),da.push(Ia),ka.oc(),K.oc()),Ga.nf(ia,Ma),ba.Db(la))}else pa(Ba,Aa,Ia)}d.C(Wa)}ha.Ia();return!1}function*Pb(K){if(!K)return!1;var N=this.b;const U=N.uh,ba=N.ka(),ha=ba.hd(),ia=ha.gf(),ka=N.il,ua=ka-1,ma=ia.Gb(),va=ha.Na(ma);var wa=ba.ng();const Ga=wa.I();var Ma=wa.Yd();wa=wa.Fv();let Ba=Ma.get("collmemory");Ba||(Ba=d.A(d.Tv),Ma.set("collmemory",Ba));wa.get("collisionCreatedDestroyCallback")||(wa.set("collisionCreatedDestroyCallback",!0),N.Fb().addEventListener("instancedestroy",Oa=>{Ba.hO(Oa.instance)}));
N=K.Z();Ma=Ga.Z().la();wa=null;for(let Oa=0;Oa<Ma.length;++Oa){const Aa=Ma[Oa];N.ec?(U.dA(Aa.i().ba(),K,Aa.i().tb(),Wa),wa=Wa,U.EN(Aa,K,wa)):wa=N.la();for(let fb=0;fb<wa.length;++fb){const Ia=wa[fb];if(U.eq(Aa,Ia)||U.TN(Aa,Ia)){var la=Ja(Ba,Aa,Ia),da=!1,na=-2;"number"===typeof la&&(da=!0,na=la);la=!da||na<ua;nb(Ba,Aa,Ia,ka);la&&(la=ma.Fd(),ba.de(la),na=Ga.Z(),da=K.Z(),na.Me(!1),da.Me(!1),Ga===K?(da=na.D,d.C(da),da.push(Aa),da.push(Ia),Ga.oc()):(na=na.D,da=da.D,d.C(na),d.C(da),na.push(Aa),da.push(Ia),
Ga.oc(),K.oc()),yield*ma.Tg(ia,va),ba.Db(la))}else pa(Ba,Aa,Ia)}d.C(Wa)}ha.Ia();return!1}function Qb(K){return Hb(this,K,0,0)}function Rb(K,N,U){return Hb(this,K,N,U)}function ob(){return this.i().Bk()}function pb(){return this.i().Rf()}function qb(K,N){const U=this.Z().la();if(0===U.length)return!1;const ba=K.Z();var ha=ba.la();if(0===ha.length)return!1;ha=new Set(ha);const ia=new Set;for(let ua=0,ma=U.length;ua<ma;++ua){var ka=U[ua];if(1===N)for(const va of ka.nz())va.Xr(K)&&ha.has(va)&&ia.add(va);
else{if(0===N){if(ka=ka.Da(),null===ka)continue}else ka=ka.wA();ka.Xr(K)&&ha.has(ka)&&ia.add(ka)}}if(0===ia.size)return!1;ba.lw(ia);K.oc();return!0}function rb(K,N){const U=this.Z().la();if(0===U.length)return!1;const ba=K.Z();var ha=ba.la();if(ba.ec){var ia=[...this.b.RM(K)];0<ia.length&&(ha=ha.concat(ia))}if(0===ha.length)return!1;ha=new Set(ha);ia=new Set;for(let ka=0,ua=U.length;ka<ua;++ka){const ma=U[ka];2===N&&!ma.Rf()&&ma.Xr(K)&&ha.has(ma)&&ia.add(ma);for(const va of 0===N?ma.children():ma.fp())2===
N&&va.Rf()||va.Xr(K)&&ha.has(va)&&ia.add(va)}if(0===ia.size)return!1;ba.lw(ia);K.oc();return!0}function eb(K,N){const U=this.Z().la();if(0===U.length)return!1;const ba=K.Z();var ha=ba.la();if(ba.ec){var ia=[...this.b.RM(K)];0<ia.length&&(ha=ha.concat(ia))}if(0===ha.length)return!1;ha=new Set(ha);ia=[];for(let ka=0,ua=U.length;ka<ua;++ka){const ma=U[ka].VF(N);null!==ma&&ma.Xr(K)&&ha.has(ma)&&ia.push(ma)}if(0===ia.length)return!1;ba.$v(ia);K.oc();return!0}function h(K,N){return d.compare(this.L.cA(),
K,N)}function m(K,N,U,ba,ha,ia,ka,ua){const ma=this.L,va=this.b.vv().I();for(const wa of K.iX(ma,va)){if(!wa.Hb().WW)break;ma.ln(wa,{Yu:N,Zu:U,Tr:ba,Sr:ha,Xu:ia,$u:ka,bz:ua})}}function u(K){const N=this.L,U=this.b.vv().I();for(const ba of K.iX(N,U))N.Fk(ba)}function y(){this.L.Bk()&&this.L.Da().Fk(this.L)}function A(){return this.L.cA()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.i();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.WA(),U.ua()):U.GF(K,N)}function F(K,N,U,ba,ha,ia,ka,ua){const ma=
this.i();ma.mR(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ha,Az:ia,eY:ka,fY:ua})&&ma.ua()}function I(){const K=this.i();return K.sg()?K.dj().Zk:0}function L(){const K=this.i();return K.sg()?K.dj().ll:0}function O(K){const N=this.i();K=2===K?!N.Tc():0!==K;N.Tc()!==K&&N.Ke(K)}function R(K,N){this.k6(K,N)}function S(K,N){this.j6(K,""+N)}function X(K){this.r5(K)}function V(){this.tO()}function ea(){this.KN()}function ca(){return this.ZJ}function aa(K){this.fm(0!==K)}function ta(){return this.Ka}function oa(K,
N,U){return d.compare(this.Ca().jf(K),N,U)}function ra(K){return!!this.Ca().jf(K)}function sa(K,N){const U=this.Z(),ba=U.la();if(!ba.length)return!1;let ha=ba[0],ia=ha,ka=ha.jf(N);for(let ua=1,ma=ba.length;ua<ma;++ua){ha=ba[ua];const va=ha.jf(N);if(0===K&&va<ka||1===K&&va>ka)ka=va,ia=ha}U.Kn(ia);return!0}function qa(K){if(this.b.ng().Vj){{const ba=this.Z();if(ba.ec){ba.Me(!1);ba.Jz();var N=this.la();for(let ha=0,ia=N.length;ha<ia;++ha){var U=N[ha];U.Qc===K?ba.bo(U):ba.mq(U)}this.oc();K=!!ba.D.length}else{N=
ba.D;U=0;for(let ha=0,ia=N.length;ha<ia;++ha){const ka=N[ha];N[U]=ka;ka.Qc===K?ba.bo(ka):++U}d.bf(N,U);this.oc();K=!!N.length}}}else K=Ca(this,K);return K}function Ca(K,N){N=K.H().Xi(N);if(!N)return!1;const U=K.Z();if(!U.ec&&!U.D.includes(N))return!1;if(K.Ya){if(N.I().vF(K))return U.Kn(N),K.oc(),!0}else if(N.I()===K)return U.Kn(N),K.oc(),!0;return!1}function Da(){this.b.qn(this.L)}function Ea(){return!0}function Fa(){return!0}function Ha(K,N){this.Ca().Tn(K,N)}function Ra(K,N){const U=this.Ca(),ba=
U.jf(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.Tn(K,ba+N)}function Sa(K,N){const U=this.Ca(),ba=U.jf(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.Tn(K,ba-N))}function za(K,N){this.Ca().Tn(K,N?1:0)}function Ib(K){const N=this.Ca();N.Tn(K,0===N.jf(K)?1:0)}function Jb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.Ca();K.BB("state");K.Pb(N,"state")}
function oc(){return JSON.stringify(this.Ca().Xb("state"))}function pc(){return this.Ca().I().Ba()}function qc(){const K=this.b.Mf().eK;let N=K.D.length;for(const U of this.b.RM(K))++N;return N}function rc(){return this.b.Mf().eK.Z().la().length}function sc(){return this.L.Bp()}function tc(){return this.L.Qc}d.qY=function(K,N){const U=K[1],ba=K[4],ha=K[5],ia=K[6],ka=K[7],ua=K[8],ma=K[10],va=K[11],wa=K[12],Ga=K[13],Ma=K[14],Ba=K[15],la=N.F,da=N.Ga,na=N.zd;K[3]&&(la.WN=b,la.vja=f,la.gla=c,la.hla=e,
la.Oma=k,da.Tf=g,da.kh=l,da.xpa=n,da.T6=q,da.$la=r,da.Zla=p,na.u8=w,na.v8=t,na.vX=v);ba&&(la.sja=x,la.uZ=z,da.rf=D,da.ld=E,da.Rb=M,na.q8=B,na.sP=G,na.Iia=H,na.Kia=J,na.Jia=P,na.Hia=Q);ha&&(la.IY=T,la.o3=W,la.yP=Z,da.Fc=Y,da.hoa=fa,da.ioa=ja,da.joa=xa,da.koa=Ka,da.Apa=Ta,na.HY=Pa);ia&&(la.Tc=db,la.vZ=Ua,da.Ke=Qa,da.kj=La,da.Foa=Ya,na.Opacity=gb,na.eja=Va);ka&&(la.z3=ub,la.Wma=vb,la.zZ=hb,da.cma=wb,da.ama=xb,da.bma=yb,da.$qa=zb,da.Le=Ab,na.zla=Bb,na.yla=Cb,na.Zqa=ib,na.w8=Db,na.pqa=Eb);ua&&(da.i6=Fb,
da.Ioa=Gb);Ga&&(la.Bk=ob,la.Rf=pb,la.Uma=qb,la.Nma=rb,la.Sma=eb,la.kja=h,da.ln=m,da.Fk=u,da.pna=y,na.bja=A);Ma&&(da.spa=C,da.mR=F,na.Vla=I,na.Wla=L);ma&&(la.Tc=db,da.Ke=O,da.Aoa=R,da.Joa=S,da.ona=X);va&&(la.Uka=ca,da.Poa=V,da.xoa=ea);wa&&(la.jd=ta,da.ee=aa);Ba&&(la.u4=Ob,la.A3=Qb,la.ila=Rb,N.v0=Nb);U||(la.BF=oa,la.Kka=ra,la.Pma=sa,la.Mma=qa,da.jR=Ha,da.sia=Ra,da.hqa=Sa,da.yoa=za,da.nqa=Ib,la.v4=Ea,la.w4=Fa,da.iO=Da,da.WG||(da.WG=Jb),na.GN||(na.GN=oc),na.zja=qc,na.Xma=rc,na.qka=sc,na.Aqa=tc,na.oma=
pc)}}
{"use strict";const d=self.j;d.oH=class extends d.ia{constructor(a){super();this.ya=a;this.za="";this.ed=-1;this.zy="";this.nD=!1;this.Lj=null;this.xg=0;this.Bf=[];this.yr=new Map;this.km=null;this.Ww=-1;this.mK=this.yh=null;this.yy=!1}g(){this.za="";this.ed=-1;this.zy="";this.mK=this.yh=this.km=this.Lj=null;this.Ww=-1;d.C(this.Bf);for(const a of this.yr.values())a.g();this.yr.clear()}qj(){var a=this.ya,b=a.H().md;const f=a.Mf();this.Lj=f.Gb();this.xg=f.xg+1;if(a=a.PF(this.Lj))this.km=a,this.yh=a.hZ(),
this.mK=a.BK.map(c=>c.ae()),a.ah()&&(this.Ww=a.V4());for(const c of b)if(b=c.Z(),!b.ec||this.Lj.g2(c))this.Bf.push(c),this.yr.set(c,d.A(d.ER,b))}g3(a){this.za="timer";this.qj();this.ed=this.ya.H().Of()+a}e3(a){this.za="signal";this.qj();this.zy=a.toLowerCase()}S2(a){this.za="promise";this.qj();a.then(()=>this.zH()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.zH()})}I3(){return"timer"===this.za}G3(){return"signal"===this.za}C3(){return"promise"===
this.za}zH(){this.nD=!0}qU(){return this.I3()?this.ed<=this.ya.H().Of():this.nD}KT(a){a.LI(this.Lj,this.xg);for(const [b,f]of this.yr.entries())f.LI(b.Z());if(a=this.km)a.gw(this.yh),a.BK.map((b,f)=>b.jh(this.mK[f])),a.ah()&&a.K5(this.Ww)}Gca(a){this.KT(a);this.Lj.Fca(a);this.km&&this.km.ah()&&this.km.Pv(this.Ww);this.ya.Yr(this.Bf);this.yy=!0}async N9(a){this.KT(a);for(const b of this.Lj.M9(a))await this.ya.H().$r(b);this.km&&this.km.ah()&&this.km.Pv(this.Ww);this.ya.Yr(this.Bf);this.yy=!0}Sp(a){for(const b of this.yr.values())b.Sp(a)}ma(){const a=
{},b={t:this.ed,st:this.zy,s:this.nD,ev:this.Lj.jb,sm:this.Bf.map(f=>f.jb),sols:a};this.Lj.raa(this.xg)&&(b.act=this.Lj.uO(this.xg).jb);for(const [f,c]of this.yr)a[f.jb.toString()]=c.ma();return b}static s9(a,b){const f=a.H();var c=a.R0(b.ev);if(!c)return null;let e=0;if(b.hasOwnProperty("act")){var k=a.A0(b.act);if(!k)return null;e=k.Ha()}k=d.A(d.oH,a);k.ed=b.t;k.za=-1===k.ed?"signal":"timer";k.zy=b.st;k.nD=b.s;k.Lj=c;k.xg=e;for(var g of b.sm)(c=f.aj(g))&&k.Bf.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
f.aj(parseInt(l,10)))g=d.A(d.ER,null),g.wa(a,n),k.yr.set(b,g);return k}}}{"use strict";const d=self.j;d.ER=class extends d.ia{constructor(a){super();this.N=null;this.mD=!0;this.D=[];a&&(this.N=a.I(),this.mD=a.ec,d.xd(this.D,a.D))}g(){this.N=null;d.C(this.D)}LI(a){a.Me(this.mD);d.xd(a.D,this.D)}Sp(a){d.Oh(this.D,a)}ma(){return{sa:this.mD,insts:this.D.map(a=>a.Qc)}}wa(a,b){a=a.H();this.mD=!!b.sa;d.C(this.D);for(const f of b.insts)(b=a.Xi(f))&&this.D.push(b)}}}
{"use strict";const d=self.j;function a(b,f){let c=b.get(f);c||(c=new Map,b.set(f,c));return c}d.ij=class extends d.ia{constructor(b){super();this.b=b.Rc;this.zo=!!b.BX;this.$f=!!b.iha;this.zfa=!!b.hha;this.Jfa=!!b.vha;this.kfa=!!b.Yga;this.WW=!!b.Sha;this.cga=!!b.Rha;this.NW=null;this.OU=new Map;this.Rea=new Map;this.Sea=new Map;this.Tea=new Map}g(){this.b=null}H(){return this.b}Qb(){}Mp(){return this.zfa}In(){return this.Jfa}yG(){return this.kfa}Zn(b,f){if(!f)throw Error("missing 'this' binding");
let c=this.OU.get(b);if(c)return c;c=b.bind(f);this.OU.set(b,c);return c}ES(b,f,c){if(!f)throw Error("missing 'this' binding");const e=a(this.Rea,b);let k=e.get(c);if(k)return k;k=b.bind(f,c);e.set(c,k);return k}FS(b,f,c,e){if(!f)throw Error("missing 'this' binding");var k=a(this.Sea,b);k=a(k,c);let g=k.get(e);if(g)return g;g=b.bind(f,c,e);k.set(e,g);return g}GS(b,f,c,e,k){if(!f)throw Error("missing 'this' binding");var g=a(this.Tea,b);g=a(g,c);g=a(g,e);let l=g.get(k);if(l)return l;l=b.bind(f,c,e,
k);g.set(k,l);return l}Pda(b){if(!this.zo)throw Error("must be single-global plugin");this.NW=b}Il(){if(!this.zo)throw Error("must be single-global plugin");return this.NW.Il()}}}
{"use strict";const d=self.j;d.noa=class extends d.ij{constructor(a,b){super(a);this.Iq=b;this.Nfa=0;this.CK=new Map;this.CN("elem-focused",f=>f.Hba());this.CN("elem-blurred",f=>{f&&f.Gba()})}g(){super.g()}G8(a){const b=this.Nfa++;this.CK.set(b,a);return b}wca(a){this.CK.delete(a)}CN(a,b){this.b.Qi(this.Iq,a,f=>{const c=this.CK.get(f.elementId);b(c,f)})}}}{"use strict";const d=self.j;d.Sl=class extends d.ia{constructor(a){super();this.N=a;this.b=a.H();this.Ai=a.Hb()}g(){this.Ai=this.b=this.N=null}I(){return this.N}H(){return this.b}Hb(){return this.Ai}pc(){return this.N.pc()}ov(){}Ek(){}bi(){}QA(){}cH(){}Zg(){return null}}}
{"use strict";const d=self.j;d.Zv=class extends d.ia{constructor(a,b){super();this.L=a;this.Iq=b;this.b=a.H();this.N=this.L.I();this.Oa=this.N.Oa;this.Nm=this.Om=null;this.ym=this.xm=!1;this.Ad=null;this.Vm=!1}g(){this.Vm=!0;this.Qk();this.rq();this.Nm=this.Om=null;this.Ad&&(this.Ad.g(),this.Ad=null);this.Oa=this.N=this.b=this.L=null}hq(){return this.Vm}Ca(){return this.L}H(){return this.b}I(){return this.N}Hb(){return this.Oa.Hb()}uA(){return this.L.Vh()}Aa(a){return this.b.Aa(a,this.L,null)}Vf(a){return this.b.Vf(a,
this.L,null)}BN(a,b){this.b.Qi(this.Iq,a,b)}sQ(a,b){this.b.Ln(this.Iq,a,b)}yT(a,b){this.b.um?this.sQ(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Iq,handler:a,data:b,responseId:null})}ge(){}fq(){}uf(){this.xm||(this.Om||(this.Om=()=>this.ge()),this.b.Fb().addEventListener("tick",this.Om),this.xm=!0)}Qk(){this.xm&&(this.b.Fb().removeEventListener("tick",this.Om),this.xm=!1)}qq(){this.ym||(this.Nm||(this.Nm=()=>this.fq()),this.b.Fb().addEventListener("tick2",this.Nm),
this.ym=!0)}rq(){this.ym&&(this.b.Fb().removeEventListener("tick2",this.Nm),this.ym=!1)}Xb(){return null}Pb(){}Bb(){}Jd(){}ZG(a,b){if(0!==b){var f=this.Bb(a);if("number"!==typeof f)throw Error("expected number");this.Jd(a,f+b)}}Zg(){return null}}}
{"use strict";const d=self.j;d.Xp=class extends d.Zv{constructor(a,b){super(a,b);this.nb=a.i();this.IE=this.xu=null}g(){if(this.xu){const a=this.b.Fb();a.removeEventListener("webglcontextlost",this.xu);a.removeEventListener("webglcontextrestored",this.IE);this.IE=this.xu=null}this.nb=null;super.g()}oP(){if(!this.xu){this.xu=()=>this.Qp();this.IE=()=>this.bH();var a=this.b.Fb();a.addEventListener("webglcontextlost",this.xu);a.addEventListener("webglcontextrestored",this.IE)}}Qp(){}bH(){}i(){return this.nb}Ml(){return!1}vk(){if(!this.Ml())throw Error("original size not known");
const a=this.Ed();if(a)return a.K()}uk(){if(!this.Ml())throw Error("original size not known");const a=this.Ed();if(a)return a.G()}Ed(){return null}eA(){var a=this.Ed();return a&&(a=a.Cb())?[a.K(),a.G()]:[100,100]}fA(){const a=this.Ed();return a?a.Zh():null}Fl(){const a=this.L.i();return[a.O(),a.P()]}Tp(){return!0}}}
{"use strict";const d=self.j,a=d.A(d.Rect);d.moa=class extends d.Xp{constructor(b,f){super(b,f);this.zC=this.Hb().G8(this);this.IV=!0;this.Nea=this.ZJ=!1;this.Qt=d.A(d.Rect,0,0,-1,-1);b=this.b.aa;this.aW=b.cp;this.$V=b.bp;this.uf()}g(){this.Hb().wca(this.zC);this.Es("destroy");this.zC=-1;super.g()}Es(b,f){f||(f={});f.elementId=this.zC;this.sQ(b,f)}xT(b){b||(b={});b.elementId=this.zC;this.yT("focus",b)}aB(b){b=!!b;this.IV!==b&&(this.IV=b,this.Es("set-visible",{isVisible:b}))}ge(){this.QB(!1)}$da(){const b=
this.b.aa.kA();return"Android"===d.Hd.Cs&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}QB(b){var f=this.i();const c=f.ba();var e=f.O(),k=f.P();let [g,l]=c.Pp(e,k),[n,q]=c.Pp(e+f.K(),k+f.G());e=this.b.aa;k=e.qd;const r=e.Zc;if(f.Tc()&&c.Tc()){if(!this.$da()){if(0>=n||0>=q||g>=k||l>=r){this.aB(!1);return}1>g&&(g=1);1>l&&(l=1);n>=k&&(n=k-1);q>=r&&(q=r-1)}a.set(g,l,n,q);f=e.cp;k=e.bp;!b&&a.fd(this.Qt)&&this.aW===f&&this.$V===k?this.aB(!0):(this.Qt.qa(a),this.aW=f,this.$V=k,this.aB(!0),b=null,this.Nea&&
(b=c.Cl()-.2),this.Es("update-position",{left:Math.round(this.Qt.M)+e.tv(),top:Math.round(this.Qt.J)+e.uv(),width:Math.round(this.Qt.width()),height:Math.round(this.Qt.height()),fontSize:b}))}else this.aB(!1)}tO(){this.xT({focus:!0})}KN(){this.xT({focus:!1})}Hba(){this.ZJ=!0}Gba(){this.ZJ=!1}k6(b,f){this.Es("set-css-style",{prop:d.YY(b),val:f})}j6(b,f){this.Es("set-attribute",{name:b,val:f})}r5(b){this.Es("remove-attribute",{name:b})}}}
{"use strict";const d=self.j,a=self.n2;d.Up=class extends d.ia{constructor(b){super();this.b=b.Rc;this.qL=d.A(d.tF);this.MD=d.A(d.tF);this.Ax=null;this.Zfa=b.Lta||null}g(){this.MD.g();this.qL.g();this.b=null}H(){return this.b}Qb(){}H8(b){this.qL.Sc(b)}pA(){return this.qL.SF()}hi(b){this.MD.Sc(b)}co(b){this.MD.pn(b)}la(){return this.MD.SF()}i1(){if(null===this.Ax){const b=this.Zfa;if(b){if(this.Ax=new b(this),!(this.Ax instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Ax=new a(this)}return this.Ax}}}{"use strict";const d=self.j;d.Wp=class extends d.ia{constructor(a){super();this.b=a.H();this.od=a;this.N=a.I();this.xj=a.Vg();this.xj.H8(this.N)}g(){this.xj=this.N=this.od=this.b=null}Uh(){return this.od}I(){return this.N}H(){return this.b}Vg(){return this.xj}}}
{"use strict";const d=self.j;d.Vp=class extends d.ia{constructor(a,b){super();this.cC=a;this.Iq=b;this.L=a.L;this.b=a.H();this.od=a.Uh();this.Oa=this.od.Oa;this.MV=this.ym=this.xm=!1;this.Ad=null}g(){this.Qk();this.rq();this.hea();this.Ad&&(this.Ad.g(),this.Ad=null);this.Oa=this.od=this.b=this.L=this.cC=null}Vg(){return this.od.Vg()}I(){return this.L.I()}i(){return this.L.i()}H(){return this.b}Uh(){return this.od}uA(){return this.cC.uA()}Aa(a){return this.b.Aa(a,this.L,this.od)}Vf(a){return this.b.Vf(a,
this.L,this.od)}ge(){}fq(){}uf(){this.xm||(this.b.B8(this),this.xm=!0)}Qk(){this.xm&&(this.b.tca(this),this.xm=!1)}qq(){this.ym||(this.b.C8(this),this.ym=!0)}rq(){this.ym&&(this.b.uca(this),this.ym=!1)}hea(){this.MV&&(this.b.sca(this),this.MV=!1)}BN(a,b){this.b.Qi(this.Iq,a,b)}Xb(){return null}Pb(){}Bb(){}Jd(){}ZG(a,b){if(0!==b){var f=this.Bb(a);if("number"!==typeof f)throw Error("expected number");this.Jd(a,f+b)}}Zg(){return null}}}
{"use strict";const d=self.j;d.B={};d.xa={};d.X4=class extends d.ia{constructor(a){super();this.b=a;this.Lea=[];this.wW=new Map;this.De=null;this.Iea=[];this.BJ=new Map;this.TV=this.VL=null}OZ(a){const b=this.b.Wh(a[0]);if(!b)throw Error("missing plugin");d.qY(a,b);a=d.A(b,{Rc:this.b,BX:a[1],iha:a[2],hha:a[5],Yga:a[8],vha:a[9],Sha:a[13],Rha:a[14]});a.Qb();this.Lea.push(a);this.wW.set(b,a)}QZ(){this.De=d.A(d.B.Xa,{Rc:this.b,BX:!0});this.De.Qb()}JZ(a){a=this.b.Wh(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{Rc:this.b});b.Qb();this.Iea.push(b);this.BJ.set(a,b);!this.VL&&d.xa.tp&&b instanceof d.xa.tp?this.VL=b:!this.TV&&d.xa.kha&&b instanceof d.xa.kha&&(this.TV=b)}D1(a){return this.wW.get(a)||null}Z1(a){return this.BJ.has(a)}xO(a){return this.BJ.get(a)||null}Cv(){return this.De}rG(){return this.VL}}}
{"use strict";const d=self.j,a=new Set;d.Jv=class extends d.ia{constructor(){super();this.ik="";this.U=this.W=this.au=this.$t=this.ku=0;this.xx=this.lD=!1;this.Af=null;this.Mm="";this.Ig=d.A(d.Rect);this.qr=d.A(d.Ec);a.add(this)}g(){this.hh();this.Af=null;a.delete(this)}static Qp(){for(const b of a)b.Mm="",b.Ig.set(0,0,0,0),b.qr.Ph(b.Ig)}SP(b){this.ik=b[0];this.ku=b[1];this.$t=b[2];this.au=b[3];this.W=b[4];this.U=b[5];this.lD=b[6];this.xx=!0}TP(b,f){if(this.Af)throw Error("already loaded asset");
this.ik=f;const c={};d.FG(f)&&(c.kz="remote");this.Nv(b,c);return this.Af.PP()}B5(b){if(b===this)throw Error("cannot replace with self");this.hh();this.ik=b.ik;this.ku=b.ku;this.$t=b.$t;this.au=b.au;this.W=b.W;this.U=b.U;this.xx=b.xx;this.Af=b.Af;this.Mm=b.Mm;this.Ig=b.Ig;this.qr=b.qr}wn(){return this.ku}K(){return this.W}G(){return this.U}Nv(b,f){if(this.Af)throw Error("already got asset");f=Object.assign({},f,{url:this.ik,size:this.wn()});this.Af=b.Ov(f)}JA(){return this.Af&&this.Af.JA()}async Hn(b,
f){if(!this.Af)throw Error("no asset");if(this.Mm)throw Error("already loaded texture");this.Mm="loading";b=await this.Af.Hn(b,f);if(!b)return this.Mm="",null;this.Mm="loaded";this.xx||(this.W=b.K(),this.U=b.G(),this.xx=!0);this.Ig.set(this.$t,this.au,this.$t+(this.lD?this.U:this.W),this.au+(this.lD?this.W:this.U));this.Ig.mk(b.K(),b.G());this.qr.Ph(this.Ig);this.lD&&this.qr.Jha();return b}hh(){this.Mm&&(this.Af&&this.Af.hh(),this.Mm="",this.Ig.set(0,0,0,0),this.qr.Ph(this.Ig))}Cb(){return this.Af?
this.Af.Cb():null}Zh(){return this.Ig}ts(){return this.qr}async q0(){const b=await this.Af.VP(),f=d.ef(this.W,this.U);f.getContext("2d").drawImage(b,this.$t,this.au,this.W,this.U,0,0,this.W,this.U);return f}}}
{"use strict";const d=self.j;d.KY=class extends d.ia{constructor(a){super();this.Fa=a[0];this.Hh=a[1];this.hD=!!a[2];this.ju=a[3];this.HW=a[4];this.yfa=!!a[5];this.jb=a[6];this.ie=a[7].map(b=>d.A(d.JY,b))}g(){for(const a of this.ie)a.g();d.C(this.ie)}QP(a){for(const b of this.ie)b.pc().Nv(a)}RP(a,b){return Promise.all(this.ie.map(f=>f.pc().Hn(a,b)))}BQ(){for(const a of this.ie)a.pc().hh()}Ba(){return this.Fa}qk(a){a=Math.floor(a);if(0>a||a>=this.ie.length)throw new RangeError("invalid frame");return this.ie[a]}Jl(){return this.Hh}vn(){return this.ju}}}
{"use strict";const d=self.j;d.JY=class extends d.ia{constructor(a){super();this.Cg=d.A(d.Jv);this.Cg.SP(a);this.ZU=a[7];this.tW=d.A(d.Ys,a[8],a[9]);this.UC=a[10].map(b=>d.A(d.A2,this,b));this.CV=new Map;for(const b of this.UC)this.CV.set(b.Ba().toLowerCase(),b);this.Cq=null;a=a[11];6<=a.length&&(this.Cq=d.A(d.nn,a))}g(){this.Cq&&(this.Cq.g(),this.Cq=null);this.Cg.g();this.Cg=null}pc(){return this.Cg}Xh(){return this.tW.X}Yh(){return this.tW.T}KO(a){return this.CV.get(a.toLowerCase())||null}JO(a){a=
Math.floor(a);return 0>a||a>=this.UC.length?null:this.UC[a]}xv(){return this.UC.length}}}{"use strict";const d=self.j;d.A2=class extends d.ia{constructor(a,b){super();this.Fa=b[0];this.WD=d.A(d.Ys,b[1],b[2])}g(){}Ba(){return this.Fa}O(){return this.WD.X}P(){return this.WD.T}}}
{"use strict";const d=self.j,a=self.Rh,b=self.DG;d.YG=class extends d.ia{constructor(f,c,e){super();const k=f.Wh(e[1]);this.b=f;this.Ai=f.Hm.D1(k);this.Oa=null;this.YC=k.Instance;this.Va=c;this.jb=e[11];this.Fa=e[0];this.Sx=this.b.Zi(e[14]);this.vfa=!!e[9];this.Ya=!!e[2];this.RK=!!e[10];this.Tj=e[3].map(g=>({XX:g[0],type:g[1],name:g[2],jha:f.Zi(g[3])}));this.Pea=e[4];this.ffa=e[5];this.$f=this.Ai.$f;this.Ra=null;this.lC=d.A(d.A7,f.Xe,f.We);this.tJ=!0;this.uJ=!1;this.hK=this.vo=null;this.Mj=-1;this.gK=
this.FC=this.GC=this.fK=this.ti=null;this.LK=!1;this.Dj=null;this.MU=e[8].map(g=>d.HN.Ta(this,g));this.dC=[];this.CJ=new Map;this.AJ=new Map;this.bX=new Set;this.Mo=d.A(d.x7,this);this.$B=this.ZB=this.Gc=this.Cg=this.Dj=this.Ct=null;this.qu=0;this.Kb=new Map;this.Ki=new Map;this.D=[];this.yK=!0;this.Ai.yG()&&(this.Ra=d.A(d.yl,this,e[12]));e[6]&&(this.Cg=d.A(d.Jv),this.Cg.SP(e[6]));if(e[7]){this.Gc=e[7].map(g=>d.A(d.KY,g));this.ZB=new Map;this.$B=new Map;for(const g of this.Gc)this.ZB.set(g.Ba().toLowerCase(),
g),this.$B.set(g.jb,g)}this.Ya?(this.vo=[],this.hK=new Set,this.Mj=this.b.gaa()):(this.ti=[],this.fK=new Set,this.GC=[],this.FC=[],this.gK=[]);this.Oa=d.A(k.ue,this,e[15]);this.HV=this.Cx=null;this.He=d.A(d.Event.Fb);if(c=this.Oa.Zg()){if(this.Cx=new c(this),!(this.Cx instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Cx=new b(this);this.b.EE&&!this.Ya&&!this.RK&&this.$f||this.Qb();this.Ai.zo&&(this.Ai.Pda(this),this.B9(e))}static Ta(f,c,e){return d.A(d.YG,
f,c,e)}g(){this.Cg&&(this.Cg.g(),this.Cg=null);if(this.Gc){for(const f of this.Gc)f.g();d.C(this.Gc);this.ZB.clear();this.$B.clear()}this.Mo.g();this.Mo=null;this.Kb.clear();this.Ki.clear();this.b=this.Dj=null}Waa(f){for(let c=1,e=f.length;c<e;++c){const k=this.b.Pf(f[c]);this.vo.push(k);this.hK.add(k);k.ti.push(this);k.fK.add(this)}}qda(f){this.LK=!0;this.Dj=f}Kc(){return this.LK}Cba(){var f=0;if(!this.Ya)for(var c of this.ti)for(var e of c.MU){const l=e.Ba().toLowerCase();this.CJ.set(l,e);this.AJ.set(l,
f);this.dC.push(e);++f}for(var k of this.MU)c=k.Ba().toLowerCase(),this.CJ.set(c,k),this.AJ.set(c,f),this.dC.push(k),++f;for(var g of this.dC)this.bX.add(g.Vg().constructor);if(!this.Ya&&this.ti.length){f=this.b.eV;d.UE(this.GC,f,0);d.UE(this.FC,f,0);d.UE(this.gK,f,0);f=[];c=g=k=0;for(const l of this.ti)if(e=l.Mj,this.GC[e]=k,k+=l.Tj.length,this.FC[e]=g,g+=l.Pea,this.gK[e]=c,c+=l.ffa,(e=l.Ra)&&this.Ra)for(const n of e.Ug())f.push(n.qZ(this.Ra));this.Ra&&this.Ra.c5(f)}}B9(f){const c=this.b.faa(),e=
d.A(d.Instance,{Rc:this.b,bN:this,uid:c});e.nB(f[16],[]);this.b.oba(c,e);this.D.push(e)}Qb(){this.Ya||this.Oa.Qb()}d2(){return 0<this.qu}Ek(f){if(this.Ya)return Promise.resolve();this.qu++;return 1===this.qu?this.Oa.Ek(f)||Promise.resolve():Promise.resolve()}bi(){if(!this.Ya){this.qu--;if(0>this.qu)throw Error("released textures too many times");0===this.qu&&this.Oa.bi()}}QA(){if(this.Ya)throw Error("not applicable to family");this.Oa.QA()}cH(f){return this.Ya?Promise.resolve():this.Oa.cH(f)}H(){return this.b}Hb(){return this.Ai}Ba(){return this.Fa}Zi(){return this.Sx}Ha(){return this.Va}eh(){return this.vfa}OR(f){return f&&
this.bX.has(f)}n1(){return this.Tj.map(f=>f.XX)}m1(f){return this.Tj.findIndex(c=>c.XX===f)}l1(f){return this.Tj.findIndex(c=>c.name===f)}W$(){return this.Tj.map(f=>f.jha)}zv(f){f=Math.floor(f);if(0>f||f>=this.Tj.length)throw new RangeError("invalid instance variable index");return this.Tj[f].type}MO(f){f=Math.floor(f);if(0>f||f>=this.Tj.length)throw new RangeError("invalid instance variable index");return this.Tj[f].name}Zz(f){return this.CJ.get(f.toLowerCase())||null}sv(f){f=this.AJ.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}yG(){return this.Ai.yG()}PR(){return this.Ra&&this.Ra.V1()}Z(){return this.Mo.Z()}pc(){return this.Cg}aR(f){this.Ct=f}vF(f){return this.fK.has(f)}pO(f){return this.hK.has(f)}Ap(f){return this.FC[f]}GO(f){return this.GC[f]}vO(f){if(!this.Gc)throw Error("no animations");return this.ZB.get(f.toLowerCase())||null}D0(f){if(!this.Gc)throw Error("no animations");return this.$B.get(f)||null}$0(){if(!this.Gc)throw Error("no animations");return this.Gc[0].qk(0)}N0(){if(this.Gc){const f=
this.$0().pc();return[f.K(),f.G()]}return this.Cg?[this.Cg.K(),this.Cg.G()]:[100,100]}Il(){if(!this.Ai.zo)throw Error("not a single-global plugin");return this.D[0]}la(){return this.D}*zX(){yield*this.D}*bha(){yield*this.D;for(const f of this.b.tm)f.I()===this&&(yield f)}hi(f){this.D.push(f)}Lw(){this.yK=!0}PB(){if(this.yK&&!this.Ya){var f=this.D,c=0;for(let e=f.length;c<e;++c)f[c].aU(c);f=this.b.tm;for(const e of f)e.I()===this&&e.aU(c++);this.yK=!1}}LO(f){var c=this.D;if(f<c.length)return c[f];
f-=c.length;c=this.b.tm;for(const e of c)if(e.I()===this){if(0===f)return e;--f}return null}bG(f){if(f&&f.Kc()&&f.I()!==this)for(const c of f.Sd)if(c.I()===this)return c;f=this.Z().la();return f.length?f[0]:null}UO(f){const c=this.Z().la();return 0<c.length?c[f.Bp()%c.length]:null}*iX(f,c){const e=this.Z().la();var k=e.length;const g=c.Z(),l=c.Z().la(),n=l.length;var q=f.Bp();if(c.Ya||!g.ec)q=l.indexOf(f);f=Math.ceil(k/n);k%=n;0===k||q<k?(q*=f,k=f):(q=k*f+(q-k)*(f-1),k=f-1);for(let r=q,p=q+k;r<p;++r)yield e[r]}ov(f){this.Oa.ov(f)}oc(){if(this.LK&&
!this.Ya){this.PB();var f=this.Z(),c=f.D,e=f.ec,k=this.b.Mf();k=k&&k.Gb()&&k.Gb().je;for(const n of this.Dj.Fm)if(n!==this){n.PB();var g=n.Z();g.Me(e);if(!e){var l=g.D;d.C(l);for(const q of c)l.push(n.LO(q.Bp()));if(k){l=f.xc;g=g.xc;d.C(g);for(const q of l)g.push(n.LO(q.Bp()))}}}}}pea(f,c){for(const e of this.Dj.Fm){const k=e.Z();f?d.bf(k.xc,c):d.bf(k.D,c)}}WT(){this.tJ=!0}RI(f){this.uJ=!!f}zU(){if(this.tJ&&this.$f){for(const f of this.D)f.i().CU();for(const f of this.b.tm)f.I()===this&&f.i().CU();
this.tJ=!1}}Yd(){this.Kb||(this.Kb=new Map);return this.Kb}Fv(){this.Ki||(this.Ki=new Map);return this.Ki}pP(){return this.OR(d.xa.jma)}zG(){return this.OR(d.xa.Hma)}ma(){const f={instances:this.D.map(c=>c.Xb())};this.Kb&&this.Kb.size&&(f.ex=d.PH(this.Kb));return f}wa(f){this.Kb&&(this.Kb.clear(),this.Kb=null);var c=f.ex;c&&(this.Kb=d.QF(c));c=this.D;f=f.instances;for(let e=0,k=Math.min(c.length,f.length);e<k;++e)c[e].Pb(f[e]);for(let e=f.length,k=c.length;e<k;++e)this.b.qn(c[e]);for(let e=c.length,
k=f.length;e<k;++e){c=f[e];let g=null;if(this.$f&&(g=this.b.Wb().oA(c.w.l),!g))continue;this.b.Ti(this.Ct||this,g,!1,0,0,!0).Pb(c)}this.Lw()}Th(f){var c=this.b;(c=c.Jb&&!c.ka().IA())&&a.LH();this.He.dispatchEvent(f);c&&a.rF()}}}{"use strict";const d=self.j;d.CZ=class extends d.ia{constructor(a,b){super();this.b=a;this.Fm=b;for(const f of this.Fm)f.qda(this)}g(){this.b=null}H(){return this.b}Y1(){return this.Fm.some(a=>a.$f)}}}
{"use strict";const d=self.j,a=self.Rh,b=self.yn,f=[];let c=0;const e=new WeakMap,k=new WeakMap;d.Instance=class extends d.ia{constructor(g){super();this.b=g.Rc;this.xe=g.bN;this.Pe=this.ja=this.nb=null;this.BV=0;this.Qc=g.uid;this.BW=c++;this.na=0;this.nd=this.Yf=f;var l=this.xe.dC;0<l.length&&(this.nd=l.map((n,q)=>d.A(d.Cz,{Rc:this.b,DM:n,instance:this,index:q})));this.Sd=this.xe.Kc()?[]:null;this.Fe=-1;this.$b=null;l=this.Hb();l.In()&&(this.na|=4);if(l.$f)if(this.nb=d.A(d.r8,this,g.oe),g.gY)this.nb.zn(g.gY);
else{this.nb.R2();const [n,q]=this.xe.N0();this.nb.Rb(n,q);this.I().PR()&&this.nb.Qe.R3()}g.yX?this.$aa(g.yX):this.Uaa()}g(){this.Pe&&(this.Pe.Kw(),this.Pe=null);if(0<this.nd.length){for(var g of this.nd)g.g();d.C(this.nd)}this.ja.g();this.ja=null;if(g=e.get(this))g.clear(),e.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.Sd&&d.C(this.Sd);this.$b&&(this.$b.g(),this.$b=null);this.xe=this.b=null;0<this.Yf.length&&d.C(this.Yf);this.nb&&(this.nb.g(),this.nb=null)}$aa(g){0<g.length&&(this.Yf=
[],d.xd(this.Yf,g))}Uaa(){const g=this.xe.Tj.length;if(0!==g){this.Yf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.Yf.push(l[this.xe.zv(n)])}}nB(g,l){if(this.ja)throw Error("already got sdk instance");for(let n=0,q=this.nd.length;n<q;++n)this.nd[n].nB(l?l[n]:null);this.ja=d.A(this.xe.YC,this,g);if(!(this.ja instanceof d.Zv))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.nd.length;n<q;++n);this.xe.HV&&this.ZS()}i(){return this.nb}H(){return this.b}B0(){const g=this.Fe;return-1===
g?this.H().Fe:g}DH(g){g=+g;if(0>g||!isFinite(g))g=0;this.Fe=g}J5(){this.Fe=-1}Fb(){this.$b||(this.$b=d.A(d.Event.Fb));return this.$b}Nd(g){this.ja.Nd(g)}Qb(g){this.ja.Qb(g)}Cda(){this.na|=2}Ck(){return 0!==(this.na&2)}CI(){this.na|=1}BP(){return 0!==(this.na&1)}In(){return 0!==(this.na&4)}M6(){this.na|=32}$P(){return 0!==(this.na&32)}dT(){return 0!==(this.na&8)}Qda(g){this.na=g?this.na|8:this.na&-9}fw(g,l){g<<=16;this.na=l?this.na|g:this.na&~g}eG(g){return 0!==(this.na&g<<16)}Ed(){return this.ja.Ed()}eA(){return this.ja.eA()}fA(){return this.ja.fA()}Fl(g){return this.ja.Fl(g)}I(){return this.xe}Tp(){return this.ja.Tp()}Xr(g){return g.Ya?
g.pO(this.I()):this.I()===g}QR(){if(!this.Hb().WW)throw Error("object does not support scene graph");}Bk(){return null!==this.Da()}Da(){var g=this.i();return g?(g=g.Da())?g.Ca():null:null}wA(){var g=this.i();return g?(g=g.wA())?g.Ca():null:null}*nz(){const g=this.i();if(g)for(const l of g.nz())yield l.Ca()}Rf(){const g=this.i();return g?g.Rf():!1}Lf(){const g=this.i();return g?g.Lf().map(l=>l.Ca()):[]}*children(){const g=this.i();if(g)for(const l of g.children())yield l.Ca()}*fp(){const g=this.i();
if(g)for(const l of g.fp())yield l.Ca()}cA(){const g=this.i();return g?g.cA():0}VF(g){const l=this.i();return l?(g=l.VF(g))?g.Ca():null:null}ln(g,l){this.QR();g.QR();this.i().ln(g.i(),l||{})}Fk(g){const l=this.i();l&&l.Fk(g.i())}hA(){const g=this.i();return g?g.hA():!1}q7(){var g=this.i();if(g&&(g=g.NL))for(const l of g)if(g=this.b.Xi(l[2])){const n=l[3];this.ln(g,{Yu:!!(n>>0&1),Zu:!!(n>>1&1),Tr:!!(n>>2&1),Sr:!!(n>>3&1),Xu:!!(n>>4&1),bz:!!(n>>5&1),$u:!!(n>>6&1)})}}Kc(){return null!==this.Sd}Zs(g){this.Sd.push(g)}f2(g){return!!this.fP(g)}fP(g){const l=
this.Sd;if(null===l||0===l.length)return!1;for(const n of l)if(n.I()===g)return n;return null}lj(){for(const g of this.Sd)g.I().Z().Ik(g)}ica(){for(const g of this.Sd)g.I().Z().mq(g)}Oda(g){for(const l of this.Sd)l.I().Z().D[g]=l}hca(){for(const g of this.Sd)g.I().Z().bo(g)}Nda(g){for(const l of this.Sd)l.I().Z().xc[g]=l}Hb(){return this.xe.Hb()}aU(g){this.BV=g}Bp(){this.xe.PB();return this.BV}E0(g){if(!g)return null;for(const l of this.nd)if(l.Vg()instanceof g)return l;return null}yO(g){const l=
this.nd;for(let n=0,q=l.length;n<q;++n)if(l[n].Uh().jb===g)return n;return-1}jf(g){g|=0;const l=this.Yf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}caa(g){const l=this.Yf[g];return 0===this.xe.zv(g)?!!l:l}Tn(g,l){g|=0;const n=this.Yf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.xe.zv(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");
}}z6(g,l){if(0!==l){g|=0;var n=this.Yf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var q=n[g];if("number"===typeof q)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Yd(){let g=e.get(this);if(g)return g;g=new Map;e.set(this,g);return g}Fv(){let g=k.get(this);if(g)return g;
g=new Map;k.set(this,g);return g}TS(g){const l=this.I();if(l.He.wG(g))return!0;for(const n of l.ti)if(n.He.wG(g))return!0;return this.b.He.wG(g)?!0:!1}OB(){const g=new Set;g.add(this);const l=this.i();if(l&&l.Rf())for(const n of this.fp())if(g.add(n),n.Kc())for(const q of n.Sd)g.add(q);if(this.Kc())for(const n of this.Sd)g.add(n);for(const n of g.values())n.vU()}vU(){if(this.TS("instancecreate")){const g=this.I(),l=new d.Event("instancecreate");l.instance=this.Vh();g.Th(l);for(const n of g.ti)n.Th(l);
this.b.Th(l)}this.b.Aa(this.Hb().constructor.F.v4,this,null)}nea(){this.b.Aa(this.Hb().constructor.F.w4,this,null)}N$(g){if(this.Pe){var l=new d.Event("destroy");l.fha=g;this.Th(l)}if(this.TS("instancedestroy")){l=this.I();var n=new d.Event("instancedestroy");n.instance=this.Vh();n.fha=g;l.Th(n);for(const q of l.ti)q.Th(n);this.b.Th(n)}}Xb(g="full"){const l={};"full"===g?l.uid=this.Qc:l.c3=!0;if("visual-state"!==g){var n=e.get(this);n&&n.size&&(l.ex=d.PH(n));-1!==this.Fe&&(l.mts=this.Fe);if(0<this.xe.Tj.length){n=
{};var q=this.xe.n1();for(let r=0,p=this.Yf.length;r<p;++r)n[q[r].toString()]=this.Yf[r];l.ivs=n}if(this.nd.length){n={};for(const r of this.nd)(q=r.Xb())&&(n[r.Uh().jb.toString()]=q);l.behs=n}}this.nb&&(l.w=this.nb.ma(g));(g=this.ja.Xb())&&(l.data=g);return l}BB(g="full"){this.nb&&this.nb.BB(g)}Pb(g,l="full"){if("full"===l)this.Qc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=e.get(this);n&&(n.clear(),e.delete(this));if(n=g.ex)n=d.QF(n),e.set(this,n);this.Fe=g.hasOwnProperty("mts")?g.mts:
-1;if(n=g.ivs)for(const [p,w]of Object.entries(n))if(n=this.xe.m1(parseInt(p,10)),!(0>n||n>=this.Yf.length)){var q=w;null===q&&(q=NaN);this.Yf[n]=q}}if(this.Hb().$f){n=g.w;var r=n.l;this.nb.ba().jb!==r&&(q=this.nb.ba(),(r=q.qc().oA(r))?(this.nb.Mw(r),q.co(this,!0),r.hi(this,!0),r.mh(),this.nb.ua()):"full"===l&&this.b.qn(this));this.nb.wa(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [p,w]of Object.entries(l))l=this.yO(parseInt(p,10)),0>l||l>=this.nd.length||this.nd[l].Pb(w);(g=g.data)&&this.ja.Pb(g)}Vh(){return this.Pe||
this.ZS()}ZS(){var g=this.nb?self.vs:b;const l=this.ja.Zg(),n=this.xe.HV,q=n||l||g;b.qj(this);this.Pe=new q;b.qj(null);if(l&&!(this.Pe instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Pe instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.Pe}baa(g){if(0!==this.Yf.length){var l={},n=this.xe.W$();for(let q=0,r=n.length;q<r;++q)l[n[q]]=
{configurable:!1,enumerable:!0,get:d.Instance.prototype.caa.bind(this,q),set:d.Instance.prototype.Tn.bind(this,q)};l=Object.create(Object.prototype,l);g.qsa={value:l,writable:!1}}}X$(g){var l=this.nd;if(0!==l.length){var n={};for(const q of l)n[q.Uh().Zi()]={value:q.uA(),writable:!1};l=Object.create(Object.prototype,n);g.$y={value:l,writable:!1}}}Th(g){g.instance=this.Vh();var l=this.b;(l=l.Jb&&!l.ka().IA())&&a.LH();this.Vh().dispatchEvent(g);l&&a.rF()}}}
{"use strict";const d=self.j;d.T5=class extends d.ia{constructor(a){super();this.yc=a;this.Nc=null;this.jC=[];this.oE=a.K();this.nE=a.G();this.cM=this.bM=1;this.PD=0}g(){this.Nc=null;d.C(this.jC)}qR(a){this.PD=(this.Nc=a)?a.ta():0}Da(){return this.Nc}Rf(){return 0<this.jC.length}Lf(){return this.jC}Y6(a){this.bM=a}Z6(a){this.cM=a}wk(){return this.yc.Fp()?this.Nc.K()/this.Nc.Ob.oE:1}xk(){return this.yc.Ep()?this.Nc.G()/this.Nc.Ob.nE:1}ma(){return{sw:this.oE,sh:this.nE,sx:this.bM,sy:this.cM,psa:this.PD,
c:this.jC.map(a=>{let b="";a.Gp()&&(b+="x");a.Hp()&&(b+="y");a.Fp()&&(b+="w");a.Ep()&&(b+="h");a.yA()&&(b+="a");a.zA()&&(b+="z");a.hA()&&(b+="d");return{uid:a.Ca().Qc,f:b}})}}wa(a){this.oE=a.sw;this.nE=a.sh;this.bM=a.sx;this.cM=a.sy;this.PD=a.psa}Iw(a){const b=this.yc,f=b.H();for(const c of a.c){a=f.Xi(c.uid).i();const e=c.f,k={};k.Yu=e.includes("x");k.Zu=e.includes("y");k.Tr=e.includes("w");k.Sr=e.includes("h");k.Xu=e.includes("a");k.$u=e.includes("z");k.bz=e.includes("d");b.ln(a,k)}}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Ec),f=d.A(d.Event,"bboxchange",!1),c=d.A(d.$a,0,0,0,0),e=d.A(d.nn),k=d.A(d.$a,1,1,1,1),g=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let r=!0;d.r8=class extends d.ia{constructor(p,w){super();this.L=p;this.N=p.I();this.b=p.H();this.dl=w;this.ol=-1;this.na=196635;this.N.Hb().Mp()&&(this.na|=128);this.cu=this.bu=this.NJ=this.SL=this.Wa=this.Hj=this.Rj=this.jk=this.ud=this.T=this.X=NaN;this.GJ=d.A(d.Rect);this.HJ=
d.A(d.Ec);this.kC=l;this.qy=g;this.Hi=this.su=this.kE=null;this.Eq=this.Ja=k;this.Qe=this.Br=null;this.L.I().PR()&&(this.Qe=d.A(d.i3,this.L,this));this.NL=this.Ob=null;this.OL=this.KW=NaN;this.yi=null}CI(){this.na|=256}g(){this.Br&&(this.b.pb().CQ(this.Br),this.Br=null);this.kE=null;this.su&&(this.su.OX.g(),this.su=null);this.Hi&&(this.Hi.clear(),this.Hi=null);this.WA();this.Bk()&&this.Da().Fk(this);if(this.Rf()){const p=[...this.Lf()];for(const w of p)this.Fk(w)}this.EB();this.dl=this.b=this.N=this.L=
null}zn(p){r=!1;this.re(p[0],p[1]);this.Le(p[2]);this.Rb(p[3],p[4]);this.Hj=0;this.Mp()?this.Fc(p[6]):this.Wa=0;c.fn(p[7]);this.HB(c);this.Zp(p[8]);this.$p(p[9]);this.pf(p[10]);this.Qe&&this.Qe.Vaa(p[12]);p[14]&&(this.NL=p[14][1],this.KW=p[14][2]);if(p[15]){var w=p[15];this.GF(w[0],w[1]);p=this.dj();w=w[2];for(let t=0,v=w.length;t<v;++t){const x=w[t];for(let z=0,D=x.length;z<D;++z){const E=x[z],M=p.ns(z,t);M.Tf(E[0]);M.kh(E[1]);M.Le(E[2]);M.EH(E[3]);M.FH(E[4])}}}r=!0;this.ht()}R2(){this.SL=this.Wa=
this.Hj=this.Rj=this.jk=this.ud=this.T=this.X=0;this.NJ=1;this.cu=this.bu=0;this.ht()}H(){return this.b}I(){return this.N}Ca(){return this.L}zw(){return this.yA()?this.Da().ta()-this.Ob.PD:0}Tf(p){p=+p;if(this.Gp()){const w=this.Ob;p-=this.O();const t=-this.zw();0===t?this.X+=p/w.wk():(this.X+=Math.cos(t)*p/w.wk(),this.Hp()&&(this.T+=Math.sin(t)*p/w.xk()))}else this.X=p}Qv(p){p=+p;this.Gp()?this.Tf(this.O()+p):this.X+=p}O(){if(this.Gp()){let p=this.X;const w=this.Ob,t=this.Da(),v=this.zw();0===v?
p*=w.wk():(p=p*w.wk()*Math.cos(v),this.Hp()&&(p-=this.T*w.xk()*Math.sin(v)));return t.O()+p}return this.X}kh(p){p=+p;if(this.Hp()){const w=this.Ob;p-=this.P();const t=-this.zw();0===t?this.T+=p/w.xk():(this.Gp()&&(this.X-=Math.sin(t)*p/w.wk()),this.T+=Math.cos(t)*p/w.xk())}else this.T=p}Sv(p){p=+p;this.Hp()?this.kh(this.P()+p):this.T+=p}P(){if(this.Hp()){let p=this.T;const w=this.Ob,t=this.Da(),v=this.zw();0===v?p*=w.xk():(p=p*w.xk()*Math.cos(v),this.Gp()&&(p+=this.X*w.wk()*Math.sin(v)));return t.P()+
p}return this.T}re(p,w){p=+p;w=+w;if(this.mP()){const v=this.Gp(),x=this.Hp(),z=this.Ob,D=p-this.O(),E=w-this.P();var t=-this.zw();if(0===t)this.X=v?this.X+D/z.wk():p,this.T=x?this.T+E/z.xk():w;else{const M=Math.sin(t);t=Math.cos(t);this.X=v?x?this.X+(t*D-M*E)/z.wk():this.X+t*D/z.wk():p;this.T=x?v?this.T+(M*D+t*E)/z.xk():this.T+t*E/z.xk():w}}else this.X=p,this.T=w}Rv(p,w){p=+p;w=+w;this.mP()?this.re(this.O()+p,this.P()+w):(this.X+=p,this.T+=w)}OF(p,w){return this.O()===p&&this.P()===w}Le(p){p=+p;
this.zA()&&(p-=this.Da().Ua());this.ud!==p&&(this.ud=p,this.GU(),p=this.ba(),0!==this.ud&&p.XT(),p.mh())}GU(){this.ht();if(this.Rf()){const p=this.Lf();for(let w=0,t=p.length;w<t;w++){const v=p[w];v.zA()&&v.GU()}}}p4(p){this.Le(this.Ua()+p)}Ua(){return this.zA()?this.Da().Ua()+this.ud:this.ud}Qf(){return this.ba().Ua()+this.Ua()}rf(p){p=+p;this.jk=this.Fp()?this.jk*(p/this.K()):p}cQ(p){p=+p;this.Fp()?this.rf(this.K()+p):this.jk+=p}K(){return this.Fp()?this.Da().K()*this.jk:this.jk}ld(p){p=+p;this.Rj=
this.Ep()?this.Rj*(p/this.G()):p}bQ(p){p=+p;this.Ep()?this.ld(this.G()+p):this.Rj+=p}G(){return this.Ep()?this.Da().G()*this.Rj:this.Rj}Rb(p,w){p=+p;w=+w;this.jk=this.Fp()?this.jk*(p/this.K()):p;this.Rj=this.Ep()?this.Rj*(w/this.G()):w}Al(){return this.Hj}tH(p){if(0>p)throw new RangeError("invalid depth");this.Hj=p}ZO(){if(this.Bk()){const p=this.Ob;return Math.min(p.wk(),p.xk())}return 1}Mp(){return 0!==(this.na&128)}Fc(p){p=+p;this.Mp()&&(this.yA()&&(p-=this.Da().ta()),p=d.me(p),this.Wa!==p&&(this.Wa=
p,this.DI()))}l4(p){p=+p;0!==p&&this.Mp()&&(this.Wa=d.me(this.Wa+p),this.DI())}DI(){this.na|=262144;if(this.Rf()){const p=this.Lf();for(let w=0,t=p.length;w<t;w++)p[w].DI()}}ta(){return this.yA()?d.me(this.Da().ta()+this.Wa):this.Wa}pT(){const p=this.na;if(0!==(p&262144)){var w=this.ta();this.SL=Math.sin(w);this.NJ=Math.cos(w);this.na=p&-262145}}qG(){this.pT();return this.SL}WF(){this.pT();return this.NJ}Zp(p){this.bu=+p}n4(p){this.bu+=+p}Xh(){return this.bu}$p(p){this.cu=+p}o4(p){this.cu+=+p}Yh(){return this.cu}HB(p){this.Ja.fd(p)||
(this.Ja===k?(this.Ja=d.A(d.$a,p),this.Eq=d.A(d.$a,p),this.Eq.qz()):p.ez(1,1,1,1)?this.Eq=this.Ja=k:(this.Ja.set(p),this.Eq.set(p),this.Eq.qz()),this.ht())}kj(p){p=d.fa(+p,0,1);this.Ja.ep!==p&&(c.lk(this.Ja),c.ep=p,this.HB(c))}m4(p){this.kj(this.kf()+p)}kf(){return this.Ja.ep}AR(p){this.Ja.an(p)||(c.lk(p),c.ep=this.Ja.ep,this.HB(c))}l7(p,w,t){c.Uu(p,w,t);this.AR(c)}kG(){return this.Eq}hA(){return 0!==(this.na&512)}g6(p){this.tf(512,p)}Gp(){return 0!==(this.na&1024)}g7(p){this.tf(1024,p)}Hp(){return 0!==
(this.na&2048)}mP(){return 0!==(this.na&3072)}h7(p){this.tf(2048,p)}Fp(){return 0!==(this.na&4096)}f7(p){this.tf(4096,p)}Ep(){return 0!==(this.na&8192)}e7(p){this.tf(8192,p)}yA(){return 0!==(this.na&16384)}d7(p){this.tf(16384,p)}zA(){return 0!==(this.na&32768)}i7(p){this.tf(32768,p)}eS(){this.na&=-65025}ln(p,w){if(p!==this&&!p.Bk()&&!this.VS(p)&&!this.US(p)){var t=p.O(),v=p.P(),x=p.K(),z=p.G(),D=p.ta(),E=p.Ua();p.jU(this);p.g7(w.Yu);p.h7(w.Zu);p.f7(w.Tr);p.e7(w.Sr);p.d7(w.Xu);p.i7(w.$u);p.g6(w.bz);
w.Yu&&(p.X=t-this.O(),w.Tr&&(p.X/=this.K()/this.Ob.oE));w.Zu&&(p.T=v-this.P(),w.Sr&&(p.T/=this.G()/this.Ob.nE));w.Tr&&(p.jk=x/this.K(),p.Ob.Y6(p.jk));w.Sr&&(p.Rj=z/this.G(),p.Ob.Z6(p.Rj));w.Xu&&(p.Wa=D-this.ta());w.$u&&(p.ud=E-this.Ua());this.D8(p);this.ua()}}Fk(p){if(p.Da()===this){var w=p.O(),t=p.P(),v=p.K(),x=p.G(),z=p.ta(),D=p.Ua();p.jU(null);p.eS();p.re(w,t);p.Rb(v,x);p.Fc(z);p.Le(D);this.vca(p);this.ua()}}Dca(){for(var p of this.children())this.Fk(p);(p=this.Da())&&p.Fk(this);this.eS()}Bk(){return null!==
this.Da()}Da(){const p=this.Ob;return null!==p?p.Da():null}wA(){let p=this;for(;p.Bk();)p=p.Da();return p}*nz(){let p=this.Da();for(;p;)yield p,p=p.Da()}a2(p){return this.Lf().includes(p)}Rf(){const p=this.Ob;return null!==p?p.Rf():!1}Lf(){const p=this.Ob;return null!==p?p.Lf():q}children(){return this.Lf()}*fp(){for(const p of this.children())yield p,yield*p.fp()}cA(){return this.Lf().length}VF(p){const w=this.Lf();p=Math.floor(+p);return 0>p||p>=w.length?null:w[p]}bI(p){this.Ob||(this.Ob=d.A(d.T5,
this));p&&this.Ob.qR(p)}EB(){this.Ob&&(this.Ob.g(),this.Ob=null)}jU(p){p?(p.bI(null),this.bI(p)):(this.Ob&&this.Ob.qR(null),this.Rf()||this.EB())}US(p){if(!this.Bk())return!1;const w=this.Da();return w===p?!0:w.US(p)}VS(p){if(this.a2(p))return!0;for(const w of this.Lf())if(w.VS(p))return!0;return!1}D8(p){this.Ob.Lf().push(p)}vca(p){const w=this.Ob.Lf(),t=w.indexOf(p);-1!==t&&w.splice(t,1);0!==w.length||this.Bk()||this.EB();p.Rf()||p.EB()}yH(p){this.OL=p}ht(){if(r){var p=this.b.pb();this.Br&&p.CQ(this.Br);
this.Br=p.nY(0!==(this.na&524288)?p.lE||"<point>":p.mE||"<default>",this.Wi(),this.Eq,this.Ua())}}xn(){return this.Ja===k}pf(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Wi()!==p&&(this.na=this.na&-2080374785|p<<26,this.ht())}Wi(){return(this.na&2080374784)>>26}Mw(p){this.dl=p;0!==this.Ua()&&this.dl.XT()}ba(){return this.dl}qc(){return this.ba().qc()}MB(p){this.ol=p|0}Ak(){this.dl.Tw();return this.ol}tf(p,w){this.na=w?this.na|p:this.na&~p}Tc(){return 0!==(this.na&1)}Ke(p){this.tf(1,
p)}bh(){return 0!==(this.na&8)}bw(p){p=!!p;this.bh()!==p&&(this.tf(8,p),p?this.ua():this.FT())}AH(p,w){this.tf(32,p);this.Hi&&this.Hi.clear();if(w.trim()){this.Hi||(this.Hi=new Set);for(const t of w.split(" "))t&&this.Hi.add(t.toLowerCase())}else this.Hi=null}UG(p){const w=0!==(this.na&32),t=this.Hi;if(!p||!t)return!w;for(const v of t)if(p.has(v))return w;return!w}ua(){this.na|=65554;this.N.WT();this.b.R();this.dl.gq()&&(this.Fz(this.GJ,this.HJ,!0),this.na&=-3,this.vea());0!==(this.na&4)&&this.L.Fb().dispatchEvent(f);
if(null!==this.Ob){const p=this.Ob.Lf();for(let w=0,t=p.length;w<t;++w)p[w].ua()}}Fz(p,w,t){const v=this.O(),x=this.P(),z=this.K(),D=this.G(),E=this.ta();p.Pi(v-this.bu*z,x-this.cu*D,z,D);t&&this.sg()&&this.H$(p);0===E?w.Ph(p):(p.offset(-v,-x),w.fF(p,this.qG(),this.WF()),w.offset(v,x),w.PM(p));p.normalize()}BU(){const p=this.na;0!==(p&2)&&(this.Fz(this.GJ,this.HJ,!0),this.na=p&-3)}tb(){this.BU();return this.GJ}mg(){this.BU();return this.HJ}Ds(p){var w=this.O(),t=this.P();w=Math.round(w)-w;t=Math.round(t)-
t;if(0===w&&0===t)return p;b.qa(p);b.offset(w,t);return b}b6(p){this.tf(4,p)}xP(){return 0!==(this.na&4)}HP(p,w,t){return w&&0!==this.Al()?this.ys(this.ba().Aw()):0===this.Ua()||t?p.YE(this.tb()):this.Laa()}Laa(){const p=this.ba(),w=this.Qf();if(w>=p.aA())return!1;p.uG(w,a);return a.YE(this.tb())}ys(p){var w=this.tb();const t=w.M,v=w.V,x=w.J;w=w.S;const z=this.Qf();return p.DZ(t,x,z,v,w,z+this.Al())}IB(p){this.tf(1048576,p)}KB(p){this.tf(2097152,p)}t3(){return 0!==(this.na&1048576)}u3(){return 0!==
(this.na&2097152)}BH(p){this.kE=p;this.iI();this.sg()&&(this.yi.XM=null)}CA(){return null!==this.kE||this.sg()}yk(){return this.Z$(this.K(),this.G(),this.ta(),this.qG(),this.WF())}Z$(p,w,t,v,x){let z=this.su;null===z&&(this.su=z={OX:d.A(d.nn),width:NaN,height:NaN,angle:NaN});const D=z.OX;if(z.width===p&&z.height===w&&z.angle===t)return D;const E=this.kE;if(this.sg()){const M=this.Xh(),B=this.Yh(),G=this.dj();let H=this.yi.XM;H||(E?(e.qa(E),e.offset(M,B)):e.Nha(),H=G.h3(e),this.yi.XM=H);G.R7(H,D);
D.offset(-M,-B);D.zN(p,w,v,x)}else E?(D.qa(E),D.zN(p,w,v,x)):D.rN(this.mg(),-this.O(),-this.P());z.width=p;z.height=w;z.angle=t;return D}iI(){this.R6();const p=this.su;null!==p&&(p.width=NaN)}GF(p,w){p=Math.floor(p);w=Math.floor(w);if(!this.Ca().Hb().cga)throw Error("object does not support mesh");this.WA();this.yi={uN:d.A(d.$.ZP,p,w),aY:d.A(d.$.ZP,p,w),XM:null}}sg(){return null!==this.yi}dj(){if(!this.sg())throw Error("no mesh");return this.yi.uN}nP(){if(!this.sg())throw Error("no mesh");return this.yi.aY}dB(p){this.tf(65536,
p)}JP(){return 0!==(this.na&65536)}R6(){this.tf(131072,!0)}H$(p){const w=this.yi.uN,t=Math.min(w.A1(),0),v=Math.min(w.B1(),0),x=Math.max(w.v1(),1),z=Math.max(w.w1(),1),D=p.width(),E=p.height();p.offsetLeft(t*D);p.offsetTop(v*E);p.yha((x-1)*D);p.xha((z-1)*E);this.Hj=w.x1()}WA(){this.yi&&(this.yi.uN.g(),this.yi.aY.g(),this.yi=null,this.iI())}mR(p,w,t){p=Math.floor(p);w=Math.floor(w);var v=t.mode||"absolute";if(!n.has(v))throw Error("invalid mode");v="relative"===v;let x=t.x,z=t.y;const D=t.Az;let E=
"number"===typeof t.eY?t.eY:v?0:-1;t="number"===typeof t.fY?t.fY:v?0:-1;if(!this.sg())return!1;const M=this.dj(),B=M.ns(p,w);if(null===B)return!1;let G=!1;"number"===typeof D&&B.Ua()!==D&&(B.Le(D),G=!0);v&&(x+=p/(M.Zk-1),z+=w/(M.ll-1));-1!==E||v?(v&&(E+=p/(M.Zk-1)),E=d.fa(E,0,1)):E=B.Lh;-1!==t||v?(v&&(t+=w/(M.ll-1)),t=d.fa(t,0,1)):t=B.Nh;if(B.O()===x&&B.P()===z&&B.Lh===E&&B.Nh===t)return G;B.Tf(x);B.kh(z);B.EH(E);B.FH(t);this.iI();return!0}Ck(){return this.L.Ck()}hv(p,w){return this.tb().hg(p,w)&&
this.mg().hg(p,w)?this.Ck()?void 0:this.CA()?this.yk().hg(p-this.O(),w-this.P()):!0:!1}Iaa(){return 0!==(this.na&16)}CU(){if(this.Iaa()&&this.bh()&&0===(this.na&256)){var p=this.tb(),w=this.N.lC,t=this.kC;a.set(w.nj(p.M),w.oj(p.J),w.nj(p.V),w.oj(p.S));t.fd(a)||(p=this.L,t===l?(w.Wl(p,null,a),this.kC=d.A(d.Rect,a)):(w.Wl(p,t,a),t.qa(a)),this.na&=-17)}}FT(){const p=this.kC;p!==l&&(this.N.lC.Wl(this.L,p,null),this.kC=l)}vea(){const p=this.ba();if(p.gq()&&0===(this.na&256)){var w=p.iu,t=this.tb(),v=this.qy;
a.set(w.nj(t.M),w.oj(t.J),w.nj(t.V),w.oj(t.S));v.fd(a)||(t=this.L,v===g?(w.Wl(t,null,a),this.qy=d.A(d.Rect,a)):(w.Wl(t,v,a),v.qa(a)),p.U6())}}GT(){const p=this.qy;p!==g&&(this.ba().iu.Wl(this.L,p,null),this.qy=g)}A8(){const p=this.L,w=this.dl,t=w.D;t.length&&t.$e(-1)===p||(w.co(p,!1),w.hi(p,!1),this.b.R())}y8(){const p=this.L,w=this.dl,t=w.D;t.length&&t[0]===p||(w.co(p,!1),w.eca(p),this.b.R())}z8(p){const w=this.L,t=this.dl;if(t.qc()!==p.qc())throw Error("layer from different layout");p!==t&&(t.co(w,
!0),this.Mw(p),p.hi(w,!0),this.b.R())}x8(p,w){const t=this.L;let v=!1;const x=this.dl;if(p.Qc!==t.Qc){var z=p.i();if(!z)throw Error("expected world instance");z=z.ba();x.Ha()!==z.Ha()&&(x.co(t,!0),this.Mw(z),z.hi(t,!0),v=!0);p=z.e4(t,p,!!w);(v||p)&&this.b.R()}}Bda(p){this.tf(64,p)}Hv(){return 0!==(this.na&64)}ma(p){const w={x:this.O(),y:this.P(),w:this.K(),h:this.G(),l:this.ba().jb,zi:this.Ak()};0!==this.Ua()&&(w.ze=this.Ua());0!==this.ta()&&(w.a=this.ta());this.xn()||(w.c=this.Ja.toJSON());.5!==
this.Xh()&&(w.oX=this.Xh());.5!==this.Yh()&&(w.oY=this.Yh());0!==this.Wi()&&(w.bm=this.Wi());this.Tc()||(w.v=this.Tc());this.bh()||(w.ce=this.bh());this.xP()&&(w.be=this.xP());this.Qe&&(w.fx=this.Qe.ma());const t=0!==(this.na&32);t&&(w.sfi=t);this.Hi&&(w.sft=[...this.Hi].join(" "));this.Ob&&"visual-state"!==p&&(w.sgi=this.Ob.ma());this.sg()&&(w.mesh=this.dj().Xb());return w}BB(p){"visual-state"!==p&&this.Dca()}wa(p,w){r=!1;this.Tf(p.x);this.kh(p.y);this.rf(p.w);this.ld(p.h);this.MB(p.zi);this.Le(p.hasOwnProperty("ze")?
p.ze:0);this.Fc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.fn(p.c):p.hasOwnProperty("o")?(c.lk(this.Ja),c.ep=p.o):c.sp(1,1,1,1);this.HB(c);this.Zp(p.hasOwnProperty("oX")?p.oX:.5);this.$p(p.hasOwnProperty("oY")?p.oY:.5);this.pf(p.hasOwnProperty("bm")?p.bm:0);this.Ke(p.hasOwnProperty("v")?p.v:!0);this.bw(p.hasOwnProperty("ce")?p.ce:!0);this.b6(p.hasOwnProperty("be")?p.be:!1);this.AH(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Qe&&p.hasOwnProperty("fx")&&this.Qe.wa(p.fx);
if(p.hasOwnProperty("sgi")&&"visual-state"!==w){this.bI(null);const t=this.Ob,v=p.sgi;t.wa(v);const x=this.H().Fb(),z=()=>{x.removeEventListener("afterload",z);0===(this.na&256)&&t.Iw(v)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.GF(p.cols,p.rows),this.dj().Pb(p)):this.WA();this.ua();r=!0;this.ht()}}}
{"use strict";const d=self.j;d.HN=class extends d.ia{constructor(a,b){super();const f=a.H(),c=f.Hm,e=f.Wh(b[1]);c.Z1(e)||c.JZ(b);this.b=f;this.N=a;this.xj=c.xO(e);this.Oa=null;this.YC=e.Instance;this.jb=b[2];this.Fa=b[0];this.Sx=this.b.Zi(b[3]);this.Oa=d.A(e.ue,this);this.Qb()}static Ta(a,b){return d.A(d.HN,a,b)}g(){this.xj=this.b=null;this.Oa.g();this.YC=this.Oa=null}Qb(){this.Oa.Qb()}H(){return this.b}I(){return this.N}Vg(){return this.xj}Ba(){return this.Fa}Zi(){return this.Sx}}}
{"use strict";const d=self.j,a=self.tP;d.Cz=class extends d.ia{constructor(b){super();this.b=b.Rc;this.od=b.DM;this.xj=this.od.Vg();this.L=b.instance;this.Va=b.index;this.Pe=this.ja=null;this.xj.hi(this.L)}g(){this.Pe&&(this.Pe.Kw(),this.Pe=null);this.xj.co(this.L);this.ja.g();this.L=this.xj=this.od=this.b=this.Pe=this.ja=null}nB(b){if(this.ja)throw Error("already got sdk instance");this.ja=d.A(this.od.YC,this,b);this.Aaa()}H(){return this.b}Uh(){return this.od}Vg(){return this.xj}ji(){return this.Va}Xb(){return this.ja.Xb()}Pb(b){return this.ja.Pb(b)}static JH(b,
f){var c=b.L,e=f.L;const k=c.I().Ha(),g=e.I().Ha();if(k!==g)return k-g;c=c.BW;e=e.BW;return c!==e?c-e:b.cC.ji()-f.cC.ji()}Aaa(){const b=this.ja.Zg(),f=b||a;a.qj(this);this.Pe=new f;a.qj(null);if(b&&!(this.Pe instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}uA(){return this.Pe}}}
{"use strict";const d=self.j;d.yl=class extends d.ia{constructor(a,b){super();this.yc=a;this.th=[];this.sj=[];this.yC=new Map;this.ri=[];this.fu=!0;for(const f of b)a=d.A(d.lO,this,f,this.th.length),this.th.push(a),this.yC.set(a.Ba().toLowerCase(),a),3<=f.length&&this.ri.push(this.AI(f[2]));this.H().F8(this)}g(){d.C(this.th);d.C(this.sj);this.yC.clear();d.C(this.ri);this.yc=null}c5(a){if(a.length){this.th=a.concat(this.th);for(const b of a)this.yC.set(b.Ba().toLowerCase(),b);for(let b=0,f=this.th.length;b<
f;++b)this.th[b].Fda(b)}}AI(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const e=d.A(d.$a);e.fn(c);a[b]=e}}return a}H(){return this.yc.H()}Xn(){d.C(this.sj);let a=!0;for(const b of this.th)b.Nb&&(this.sj.push(b),b.kb.fu||(a=!1));this.fu=a}Ug(){return this.th}V1(){return 0<this.th.length}Dl(a){return this.yC.get(a.toLowerCase())||null}DO(a){a=Math.floor(+a);if(0>a||a>=this.th.length)throw new RangeError("invalid effect type index");return this.th[a]}Kv(a){return this.DO(a).Nb}eR(a,
b){this.DO(a).YA(b)}Hv(){return 0<this.sj.length}Xg(a){return this.ri[a]}static R5(a){return a&&a instanceof d.$a?{t:"color",v:a.toJSON()}:a}static T3(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.$a);b.fn(a.v);return b}throw Error("invalid effect parameter type");}return a}static TQ(a){return a.map(d.yl.R5)}static UP(a){return a.map(d.yl.T3)}Xb(){return this.th.map(a=>({name:a.Ba(),active:a.Nb,params:d.yl.TQ(this.ri[a.Ha()])}))}Pb(a){for(const b of a)if(a=this.Dl(b.name))a.YA(b.active),
this.ri[a.Ha()]=d.yl.UP(b.params);this.Xn()}}}
{"use strict";const d=self.j;d.lO=class extends d.ia{constructor(a,b,f){super();this.Ra=a;this.yf=b[0];this.Fa=b[1];this.Va=f;this.kb=null;this.Nb=!0}g(){this.kb=this.Ra=null}qZ(a){a=d.A(d.lO,a,[this.yf,this.Fa],-1);a.kb=this.kb;a.Nb=this.Nb;return a}XS(a){a=a.eP(this.yf);if(!a)throw Error("failed to find shader program '"+this.yf+"'");this.kb=a}Ba(){return this.Fa}Fda(a){this.Va=a}Ha(){return this.Va}H(){return this.Ra.H()}YA(a){this.Nb=!!a}O0(){const a=[];for(let b=0,f=this.kb.Ir.length;b<f;++b){const c=
this.kb.qA(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.$a,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.j;d.i3=class extends d.ia{constructor(a,b){super();this.L=a;this.iga=b;this.Ra=a.I().Ra;this.sq=[];this.sj=[];this.fu=!0;this.ri=[];for(const f of this.Ra.Ug())this.sq.push(!0);this.Xn()}g(){d.C(this.sq);d.C(this.sj);d.C(this.ri);this.Ra=this.L=null}Vaa(a){for(const b of a)this.ri.push(this.AI(b))}AI(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const e=d.A(d.$a);e.fn(c);a[b]=e}}return a}R3(){for(const a of this.Ra.Ug())this.ri.push(a.O0())}H(){return this.L.H()}Xn(){d.C(this.sj);
const a=this.Ra.Ug(),b=this.sj,f=this.sq;let c=!0;for(let e=0,k=a.length;e<k;++e)if(f[e]){const g=a[e];b.push(g);g.kb.fu||(c=!1)}this.fu=c;this.iga.Bda(!!b.length)}Xg(a){return this.ri[a]}Kv(a){return this.sq[a]}eR(a,b){this.sq[a]=!!b}Ug(){return this.Ra.Ug()}ma(){return this.Ra.Ug().map(a=>({name:a.Ba(),active:this.sq[a.Ha()],params:d.yl.TQ(this.ri[a.Ha()])}))}wa(a){for(const b of a)if(a=this.Ra.Dl(b.name))this.sq[a.Ha()]=b.active,this.ri[a.Ha()]=d.yl.UP(b.params);this.Xn()}}}
{"use strict";const d=self.j,a=[],b=[],f=d.A(d.nn),c=d.A(d.nn),e=d.A(d.Ec);d.A(d.Rect);d.A(d.Rect);let k=null,g=null,l=null;d.rZ=class extends d.ia{constructor(n){super();this.b=n;this.oy=[]}g(){this.b=null}VA(n,q){const r=n.i(),p=q.i();r&&p&&r.bh()&&p.bh()&&this.oy.push([n,q])}EN(n,q,r){for(const [p,w]of this.oy){let t;if(n===p)t=w;else if(n===w)t=p;else continue;t.Xr(q)&&(r.includes(t)||r.push(t))}}TN(n,q){if(!this.oy.length)return!1;for(const [r,p]of this.oy)if(n===r&&q===p||n===p&&q===r)return!0;
return!1}UN(){d.C(this.oy)}eq(n,q){if(!n||!q||n===q)return!1;n=n.i();q=q.i();if(!n.bh()||!q.bh())return!1;const r=n.ba(),p=q.ba();return r.K3(p)?this.kea(n,q):this.jea(n,q)}kea(n,q){if(!n.tb().YE(q.tb())||!n.mg().SM(q.mg())||n.Ck()&&q.Ck())return!1;if(n.Ck())return this.OH(n,q);if(q.Ck())return this.OH(q,n);if(!n.CA()&&!q.CA())return!0;const r=n.yk(),p=q.yk();return r.hz(p,q.O()-n.O(),q.P()-n.P())}jea(n,q){var r=n.Ck(),p=q.Ck();if(r&&!p)return this.GR(n,q);if(p&&!r)return this.GR(q,n);if(p||r)return!1;
p=n.ba();r=q.ba();f.qa(n.yk());c.qa(q.yk());var w=f.Pc;for(let t=0,v=w.length;t<v;t+=2){const x=t+1,z=w[x],[D,E]=p.Pp(w[t]+n.O(),z+n.P());w[t]=D;w[x]=E}n=c.Pc;for(let t=0,v=n.length;t<v;t+=2){p=t+1;w=n[p];const [x,z]=r.Pp(n[t]+q.O(),w+q.P());n[t]=x;n[p]=z}f.qN();c.qN();return f.hz(c,0,0)}GR(n,q){var r=n.ba(),p=q.ba();k||(k=d.A(d.nn));g||(g=d.A(d.Rect));l||(l=d.A(d.Ec));var w=q.O(),t=q.P();const [v,x]=p.Pp(w,t),[z,D]=r.Sh(v,x);r=z-w;t=D-t;g.qa(q.tb());g.offset(r,t);if(!n.tb().YE(g))return!1;l.qa(q.mg());
l.offset(r,t);if(!n.mg().SM(l))return!1;k.qa(q.yk());p=k.Pc;for(let E=0,M=p.length;E<M;E+=2)w=E+1,p[E]+=r,p[w]+=t;k.qN();return this.OH(n,q,z,D,k,g,l)}OH(n,q,r,p,w,t,v){t=void 0!==t?t:q.tb();const x=n.O(),z=n.P();var D=n.Ca().ja;r=void 0!==r?r:q.O();p=void 0!==p?p:q.P();n=q.CA();v=void 0!==v?v:q.mg();D.K0(t,b);for(let B=0,G=b.length;B<G;++B){var E=b[B];D=E.H1();if(t.cha(D,x,z)&&(e.Ph(D),e.offset(x,z),e.SM(v)))if(n){var M=void 0!==w?w:q.yk();if(E=E.WO()){if(E.hz(M,r-(x+D.M),p-(z+D.J)))return d.C(b),
!0}else if(f.rN(e,0,0),f.hz(M,r,p))return d.C(b),!0}else if(M=E.WO()){if(f.rN(v,0,0),M.hz(f,-(x+D.M),-(z+D.J)))return d.C(b),!0}else return d.C(b),!0}d.C(b);return!1}gB(n,q,r){const p=n.Z();var w=this.b.Gb();if(!w)throw Error("cannot call outside event");w=w.je;if(p.ec){p.Me(!1);d.C(p.D);for(var t of n.la()){var v=t.i(),x=v.ba();const [z,D]=x.Sh(q,r,v.Qf());v.hv(z,D)?p.mq(t):w&&p.bo(t)}}else{t=w?p.xc:p.D;v=0;for(let z=0,D=t.length;z<D;++z){x=t[z];const E=x.i(),M=E.ba(),[B,G]=M.Sh(q,r,E.Qf());E.hv(B,
G)?w?p.mq(x):t[v++]=x:w&&(t[v++]=x)}t.length=v}n.oc();return p.xG()}dA(n,q,r,p){n=n?1!==n.ye||1!==n.Ae:!1;if(q.Ya)for(const w of q.vo)n||w.uJ?d.hp(p,w.la()):(w.zU(),w.lC.UA(r,p));else n||q.uJ?d.hp(p,q.la()):(q.zU(),q.lC.UA(r,p))}TO(n,q,r,p){for(const w of q)this.dA(n,w,r,p)}J1(n,q,r){const p=this.b.rG();p&&this.TO(n,p.pA(),q,r)}UG(n,q){return n.dT()&&(!q||q.i().UG(n.Yd().get("solidTags")))}Wn(n){const q=n.i();this.J1(q.ba(),q.tb(),a);for(const r of a)if(this.UG(r,n)&&this.eq(n,r))return d.C(a),r;
d.C(a);return null}xQ(n,q,r,p){p=p||50;const w=n.i(),t=w.O(),v=w.P();let x=null,z=null;for(let D=0;D<p;++D)if(w.re(t+q*D,v+r*D),w.ua(),!this.eq(n,x))if(x=this.Wn(n))z=x;else if(!x)return z&&this.i5(n,q,r,z),!0;w.re(t,v);w.ua();return!1}i5(n,q,r,p){let w=2,t=!1;var v=!1;const x=n.i();let z=x.O(),D=x.P();for(;16>=w;)v=1/w,w*=2,x.Rv(q*v*(t?1:-1),r*v*(t?1:-1)),x.ua(),this.eq(n,p)||this.Wn(n)?v=t=!0:(v=t=!1,z=x.O(),D=x.P());v&&(x.re(z,D),x.ua())}j5(n){let q=0;const r=n.i(),p=r.O(),w=r.P();let t=0,v=this.Wn(n);
if(!v)return!0;for(;100>=q;){let x=0,z=0;switch(t){case 0:x=0;z=-1;q++;break;case 1:x=1;z=-1;break;case 2:x=1;z=0;break;case 3:z=x=1;break;case 4:x=0;z=1;break;case 5:x=-1;z=1;break;case 6:x=-1;z=0;break;case 7:z=x=-1}t=(t+1)%8;r.re(Math.floor(p+x*q),Math.floor(w+z*q));r.ua();if(!this.eq(n,v)&&(v=this.Wn(n),!v))return!0}r.re(p,w);r.ua();return!1}}}
{"use strict";const d=self.j;d.A7=class extends d.ia{constructor(a,b){super();this.KJ=a;this.JJ=b;this.Aj=d.A(d.Tv)}g(){this.Aj.g();this.Aj=null}sn(a,b,f){let c=this.Aj.ea(a,b);return c?c:f?(c=d.A(d.S1,this,a,b),this.Aj.Set(a,b,c),c):null}nj(a){a=Math.floor(a/this.KJ);return isFinite(a)?a:0}oj(a){a=Math.floor(a/this.JJ);return isFinite(a)?a:0}Wl(a,b,f){if(b)for(let c=b.M,e=b.V;c<=e;++c)for(let k=b.J,g=b.S;k<=g;++k){if(f&&f.hg(c,k))continue;const l=this.sn(c,k,!1);l&&(l.ci(a),l.Bn()&&this.Aj.pn(c,
k))}if(f)for(let c=f.M,e=f.V;c<=e;++c)for(let k=f.J,g=f.S;k<=g;++k)b&&b.hg(c,k)||this.sn(c,k,!0).FA(a)}UA(a,b){let f=this.nj(a.M);const c=this.oj(a.J),e=this.nj(a.V);a=this.oj(a.S);if(isFinite(e)&&isFinite(a))for(;f<=e;++f)for(let k=c;k<=a;++k){const g=this.sn(f,k,!1);g&&g.KF(b)}}}}{"use strict";const d=self.j;d.S1=class extends d.ia{constructor(a,b,f){super();this.X=b;this.T=f;this.D=d.A(d.tF)}g(){this.D.g();this.D=null}Bn(){return this.D.Bn()}FA(a){this.D.Sc(a)}ci(a){this.D.pn(a)}KF(a){d.hp(a,this.D.SF())}}}
{"use strict";const d=self.j;d.mna=class{constructor(){this.Nga=this.Mga=0;this.rect=new d.Rect;this.cz=0}Set(a,b,f,c){this.Mga=f-a;this.Nga=c-b;this.rect.set(a,b,f,c);this.rect.normalize();this.cz=0;return this}}}
{"use strict";const d=self.j,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),f=self.rl.np,c=f.create(),e=d.A(d.Ec),k=d.A(d.Rect);d.RN=class extends d.ia{constructor(g){super();this.b=g;this.Tk=null;this.PV=!1;this.kk=this.ib=null;this.qK="high-performance";this.no=this.mo=this.mi=this.ni=this.Zc=this.qd=this.bp=this.cp=0;this.Ft=!0;this.Ij=this.Xk=this.gM=0;this.dfa=this.kV="letterbox-scale";this.cfa=this.bfa=0;this.tC=f.create();
this.Qj=this.xM="high";this.Nt=!1;this.Yw=[];this.DE=new Set;this.dE=self.C3_Shaders;this.Bg=this.xo=0;this.Jt=NaN;this.QC=null;this.bL=new Map;this.vx=NaN;this.JE=new Map;this.hE="";this.TL=1;this.OW=d.A(d.Rect);this.UL="";this.PW=this.Ey=null;this.Zx=0;this.Ze=-1;this.Eo=0;this.hL=l=>this.Eo=l.progress;this.dg=null;this.eg={lz:null,pz:null,zz:null};this.YL=this.RW=this.ZL=0;this.gk="fade-in";this.XL=null;this.QW=new Promise(l=>this.XL=l)}zda(g){this.qK=g}Wda(g){this.PV=!!g}async ef(g){this.Tk=g.canvas;
this.b.Qi("runtime","window-resize",q=>this.Zba(q));this.b.Qi("runtime","fullscreenchange",q=>this.Iba(q));this.b.Qi("runtime","fullscreenerror",q=>this.Jba(q));this.Tk.addEventListener("webglcontextlost",q=>this.Jw(q));this.Tk.addEventListener("webglcontextrestored",()=>this.II());this.Nt=!!g.isFullscreen;var l=navigator.gpu&&this.PV;let n=!1;if(l)try{await this.aT(!0)}catch(q){this.kk=null}if(!this.pb())try{await this.$S(!0)}catch(q){this.ib=null}this.pb()||(n=!0);if(!this.pb()&&l)try{await this.aT(!1)}catch(q){this.kk=
null}if(!this.pb())try{await this.$S(!1)}catch(q){this.ib=null}l=this.pb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.u6(n);this.Rb(g.windowInnerWidth,g.windowInnerHeight,!0);this.kk?await this.Daa():this.ib&&await this.Caa();l.xH(this.Ft);l.Jk()&&(this.Jt=0);g=!1;for(const q of this.b.oJ){for(const r of q.Ug())r.XS(l),r.kb.Wy&&(g=!0);q.Xn()}this.b.Sda(g)}async aT(g){g={powerPreference:this.qK,depth:this.b.Um,failIfMajorPerformanceCaveat:g};this.kk=d.A(d.$.Mqa);
await this.kk.Ta(this.Tk,g)}async $S(g){g={powerPreference:this.qK,wX:!0,depth:this.b.Um,failIfMajorPerformanceCaveat:g};"Android"===d.Hd.Cs&&"Chromium"===d.Hd.Ez&&75>d.Hd.xF&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.FX=1);"standard"===this.b.tt?g.alpha=!0:(g.alpha=!1,g.WM=!0);this.ib=d.A(d.$.o8,this.Tk,g);await this.ib.EA()}async Daa(){if(this.dE){const g=[];for(const [l,n]of Object.entries(this.dE))g.push(this.kk.HF(l,
n.av,d.$.Nqa.gA()));await Promise.all(g)}}async Caa(){if(this.dE){const g=[];for(const [l,n]of Object.entries(this.dE))n.src=n.Eu,g.push(this.ib.HF(n,d.$.rw.gA(),l));await Promise.all(g);this.ib.F5();this.ib.wg()}this.ib.Jk()&&(this.QC=d.A(d.$.TR,this.ib))}g(){this.Tk=this.ib=this.b=null}Zba(g){const l=this.b,n=g.devicePixelRatio;l.um&&(self.devicePixelRatio=n);l.tda(n);this.Nt=!!g.isFullscreen;this.Rb(g.innerWidth,g.innerHeight);l.R();l.Jb&&(l.Iv()||self.Rh.Nka())&&l.gH()}Iba(g){this.Nt=!!g.isFullscreen;
this.Rb(g.innerWidth,g.innerHeight,!0);this.b.R()}Jba(g){this.Nt=!!g.isFullscreen;this.Rb(g.innerWidth,g.innerHeight,!0);this.b.R()}Rb(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.cp!==g||this.bp!==l||n){this.cp=g;this.bp=l;n=this.wv();"letterbox-scale"===n?this.a9(g,l):"letterbox-integer-scale"===n?this.Z8(g,l):"off"===n?this.X8(g,l):this.Y8(g,l);this.uea(n);this.Tk.width=this.ni;this.Tk.height=this.mi;this.b.Ln("canvas","update-size",{marginLeft:this.mo,
marginTop:this.no,styleWidth:this.qd,styleHeight:this.Zc});g=this.pb();g.Rb(this.ni,this.mi,!0);for(var q of this.Yw)g.d_(q);d.C(this.Yw);g.gv(this.tC,this.Wg()/this.og());q=this.b.gb;q.Js();q.Is()}}a9(g,l){const n=this.b.Bl(),q=this.b.Xe,r=this.b.We,p=q/r;g/l>p?(this.qd=Math.round(l*p),this.Zc=l,this.mo=Math.floor((g-this.qd)/2),this.no=0):(this.qd=g,this.Zc=Math.round(g/p),this.mo=0,this.no=Math.floor((l-this.Zc)/2));this.ni=Math.round(this.qd*n);this.mi=Math.round(this.Zc*n);this.b.pw(q,r)}Z8(g,
l){const n=this.b.Bl();1!==n&&(g+=1,l+=1);const q=this.b.Xe,r=this.b.We;var p=q/r;p=g/l>p?l*p*n/q:g/p*n/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.ni=Math.round(q*p);this.mi=Math.round(r*p);this.qd=this.ni/n;this.Zc=this.mi/n;this.mo=Math.max(Math.floor((g-this.qd)/2),0);this.no=Math.max(Math.floor((l-this.Zc)/2),0);this.b.pw(q,r)}Y8(g,l){const n=this.b.Bl();this.qd=g;this.Zc=l;this.ni=Math.round(this.qd*n);this.mi=Math.round(this.Zc*n);this.no=this.mo=0;g=this.Cl();this.b.pw(this.qd/g,
this.Zc/g)}X8(g,l){const n=this.b.Bl();this.qd=this.b.Og;this.Zc=this.b.Ng;this.ni=Math.round(this.qd*n);this.mi=Math.round(this.Zc*n);this.Nt?(this.mo=Math.floor((g-this.qd)/2),this.no=Math.floor((l-this.Zc)/2)):this.no=this.mo=0;this.b.pw(this.b.Og,this.b.Ng)}uea(g){if("high"===this.xM)this.Xk=this.ni,this.Ij=this.mi,this.Qj="high";else{let n;if("off"===this.wv()){var l=this.b.Og;n=this.b.Ng}else l=this.b.Xe,n=this.b.We;this.ni<l&&this.mi<n?(this.Xk=this.ni,this.Ij=this.mi,this.Qj="high"):(this.Xk=
l,this.Ij=n,this.Qj="low","scale-inner"===g?(g=l/n,l=this.cp/this.bp,l<g?this.Xk=this.Ij*l:l>g&&(this.Ij=this.Xk/l)):"scale-outer"===g&&(g=l/n,l=this.cp/this.bp,l>g?this.Xk=this.Ij*l:l<g&&(this.Ij=this.Xk/l)))}}s6(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.kV=g;g=this.b.gb;g.Js();g.Is()}kA(){return this.kV}wv(){return this.Nt?this.dfa:this.kA()}fR(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.xM=g;this.b.gb.Js()}static V$(g){switch(g){case 0:return"off";case 1:return"crop";
case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Wg(){return this.Xk}og(){return this.Ij}xH(g){this.Ft=!!g}Rda(g){this.gM=g}D3(){return this.pb().An()}Jw(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Yw=[];this.DE.clear();this.ib.Pl();this.b.Jw()}async II(){await this.ib.$G();await this.dra();for(const g of this.b.oJ)for(const l of g.Ug())l.XS(this.ib);
await this.b.II();console.log("[Construct 3] WebGL context restored")}Ip(){return this.ib}Gv(){return this.kk}pb(){return this.kk||this.ib}un(){return"low"===this.Qj?1/this.b.Bl():this.Cl()}Cl(){const g=this.wv();if("off"===g||"crop"===g)return 1;const l=this.b.Xe,n=this.b.We,q=l/n,r=this.ni/this.mi;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.Zc/n:this.qd/l}cR(g,l,n){l=l||this.Xk;n=n||this.Ij;const q=l/2+this.bfa,r=n/2+this.cfa;{let p=this.tC;if(l!==this.Xk||n!==this.Ij)g.gv(c,l/n),
p=c;g.Rs(p)}l=g.dv(q,r,100*this.b.Bl(),q,r,n||this.Ij);g.Ps(l)}e6(g){var l=this.qd/2;const n=this.Zc/2;g.Rs(this.tC);l=g.dv(l,n,100,l,n);g.Ps(l)}tv(){return this.mo}uv(){return this.no}qv(g){g.depth=this.b.Um;const l=this.Yw,n=l.findIndex(r=>r.p3(g));let q;-1!==n?(q=l[n],l.splice(n,1)):q=this.pb().PZ(g);this.DE.add(q);return q}Nn(g){if(!this.DE.has(g))throw Error("render target not in use");this.DE.delete(g);this.Yw.push(g)}*OE(){for(const g of this.b.gb.vz())for(const l of g.lc){const n=this.bL.get(l);
n&&(yield n)}}PO(g){if(!this.pb().Jk())return null;let l=this.bL.get(g);l||(l={name:g.Ba(),vN:d.A(d.$.TR,this.ib),QE:0,EX:0},this.bL.set(g,l));return l.vN}rea(){const g=this.pb();if(g.Jk()&&0===this.Bg){this.Bg=g.vi;this.vx=NaN;for(const l of this.OE())l.QE=NaN}}yea(){this.ib&&this.ib.Jk()&&this.zea();this.kk&&this.kk.Jk()&&this.Aea()}zea(){if(isNaN(this.vx)&&(this.vx=this.QC.IO(this.xo,this.Bg),!isNaN(this.vx))){if(this.b.Jb)for(const g of this.OE())if(g.QE=g.vN.IO(this.xo,this.Bg),isNaN(g.QE))return;
this.QC.gO(this.Bg);this.Jt=Math.min(this.vx,1);if(this.b.Jb){for(const g of this.OE())g.vN.gO(this.Bg),g.EX=Math.min(g.QE,1);self.Rh.b8(this.Jt,[...this.OE()])}this.xo=this.Bg;this.Bg=0}}Aea(){if(0!==this.Bg){for(var g=this.xo;g<this.Bg;++g){var l=this.JE.get(g);if(l&&!l.DA())return}l=this.b.Wb();g=d.fh(l.lc.length+1,0);for(var n=this.xo;n<this.Bg;++n){var q=this.JE.get(n);if(q){q=q.tA();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const w=q[2*r],t=q[2*r+1];g[r]=0===Number(w)||0===Number(t)?
NaN:g[r]+Number(t-w)/1E9}}}this.Jt=d.fa(g[0],0,1);if(this.b.Jb){n=[];l=l.lc;for(let r=0,p=Math.min(l.length,g.length-1);r<p;++r)n.push({name:l[r].Ba(),EX:d.fa(g[r+1],0,1)});self.Rh.b8(this.Jt,n)}for(g=this.xo;g<this.Bg;++g)this.JE.delete(g);this.xo=this.Bg;this.Bg=0}}P8(g){this.JE.set(this.kk.vi,g)}mA(){return this.Jt}DR(g,l,n,q,r,p){this.hE=g;this.TL=l;this.OW.Pi(n,q,r,p);return this.Ey?this.Ey:this.Ey=new Promise(w=>{this.PW=w})}tba(){if(this.hE){var g=this.Tk,l=this.OW,n=d.fa(Math.floor(l.M),0,
g.width),q=d.fa(Math.floor(l.J),0,g.height),r=l.width();r=0===r?g.width-n:d.fa(Math.floor(r),0,g.width-n);l=l.height();l=0===l?g.height-q:d.fa(Math.floor(l),0,g.height-q);(0!==n||0!==q||r!==g.width||l!==g.height)&&0<r&&0<l&&(g=d.ef(r,l),g.getContext("2d").drawImage(this.Tk,n,q,r,l,0,0,r,l));d.Gz(g,this.hE,this.TL).then(p=>{this.UL=URL.createObjectURL(p);this.Ey=null;this.PW(this.UL)});this.hE="";this.TL=1}}Q2(g){this.ib&&(2===g?(this.dg=d.A(d.$.EQ,this.pb()),this.dg.A6(),this.dg.p6(),this.dg.q6(),
this.dg.w6(),this.dg.p7(),this.dg.Rb(300,200)):0===g?(g=this.b.Ut)&&g.Hn(this.ib).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.gba().then(l=>{"done"===this.gk?this.ib.Ie(l):this.eg.lz=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.fT("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.gk?this.ib.Ie(l):this.eg.pz=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.fT("splash-images/splash-website-512.png").then(l=>
{"done"===this.gk?this.ib.Ie(l):this.eg.zz=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async gba(){var g=(new URL("splash-images/splash-logo.svg",this.b.UF())).toString();g=await d.zl(g);g=await this.b.m5(g);return await this.ib.Oz(g,{mz:"high"})}async fT(g){g=(new URL(g,this.b.UF())).toString();g=await d.zl(g);return await this.ib.Oz(g,{mz:"high"})}AG(){this.b.Ln("runtime","hide-cordova-splash")}F7(){this.Zx=Date.now();this.b.Fb().addEventListener("loadingprogress",this.hL);this.Ze=
requestAnimationFrame(()=>this.uS());3!==this.b.Tt&&this.AG()}async i0(){if(this.ib){this.Eo=1;var g=this.b.Tt;4===g&&await this.QW;this.QW=this.XL=null;-1!==this.Ze&&(cancelAnimationFrame(this.Ze),this.Ze=-1);this.b.Fb().removeEventListener("loadingprogress",this.hL);this.hL=null;this.dg&&(this.dg.g(),this.dg=null);this.b.q5();this.ib.qw();this.eg.lz&&(this.ib.Ie(this.eg.lz),this.eg.lz=null);this.eg.pz&&(this.ib.Ie(this.eg.pz),this.eg.pz=null);this.eg.zz&&(this.ib.Ie(this.eg.zz),this.eg.zz=null);
this.ib.Lz();this.ib.es();this.gk="done";this.xo=this.ib.vi;3===g&&this.AG()}}uS(){if(-1!==this.Ze){var g=this.ib;if(g){g.qw();this.Ze=-1;var l=this.b.Pd.tK,n=this.b.Tt;3!==n&&(this.e6(g),g.Lz(),g.Hs(),g.wg(),g.fe(null));if(0===n)this.y$(l);else if(1===n)this.qB(l,120,0);else if(2===n)this.x$(l);else if(3!==n)if(4===n)this.z$(l);else throw Error("invalid loader style");g.es();this.Ze=requestAnimationFrame(()=>this.uS())}}}x$(g){g?this.dg.YQ(1,0,0):this.dg.YQ(.6,.6,.6);this.dg.Ts(Math.round(100*this.Eo)+
"%");g=this.qd/2;const l=this.Zc/2;e.UX(g-150,l-100,g+150,l+100);this.ib.fe(this.dg.Cb());this.ib.Rl(e,this.dg.Zh())}qB(g,l,n){const q=this.ib;q.ew();g?q.Sf(1,0,0,1):q.Sf(.118,.565,1,1);g=this.qd/2;const r=this.Zc/2,p=l/2;k.Pi(g-p,r-4+n,Math.floor(l*this.Eo),8);q.Rect(k);k.Pi(g-p,r-4+n,l,8);k.offset(-.5,-.5);k.XE(.5,.5);q.Sf(0,0,0,1);q.OP(k);k.XE(1,1);q.Sf(1,1,1,1);q.OP(k)}y$(g){var l=this.b.Ut;if(l)if(l=l.Cb()){var n=l.K(),q=l.G(),r=this.qd/2,p=this.Zc/2,w=n/2;q/=2;e.UX(r-w,p-q,r+w,p+q);this.ib.fe(l);
this.ib.Ec(e);this.qB(g,n,q+16)}else this.qB(g,120,0);else this.qB(g,120,0)}z$(g){const l=this.ib,n=this.eg.lz,q=this.eg.pz,r=this.eg.zz,p=Date.now();0===this.ZL&&(this.Zx=p);const w=this.b.As()||this.b.tfa&&!this.b.q3(),t=w?0:200,v=w?0:3E3;let x=1;"fade-in"===this.gk?x=Math.min((p-this.Zx)/300,1):"fade-out"===this.gk&&(x=Math.max(1-(p-this.YL)/300,0));l.ew();l.Sf(.231*x,.251*x,.271*x,x);k.set(0,0,this.qd,this.Zc);l.Rect(k);const z=Math.ceil(this.qd),D=Math.ceil(this.Zc);let E;256<this.Zc?(l.Sf(.302*
x,.334*x,.365*x,x),E=Math.max(.005*D,2),k.Pi(0,.8*D-E/2,z,E),l.Rect(k),g?l.Sf(x,0,0,x):l.Sf(.161*x,.953*x,.816*x,x),g=z*this.Eo,k.Pi(.5*z-g/2,.8*D-E/2,g,E),l.Rect(k),l.Sf(x,x,x,x),l.wg(),q&&(g=1.5*d.fa(.22*D,105,.6*z),E=g/8,k.Pi(.5*z-g/2,.2*D-E/2,g,E),l.fe(q),l.Rect(k)),n&&(E=g=Math.min(.395*D,.95*z),k.Pi(.5*z-g/2,.485*D-E/2,g,E),l.fe(n),l.Rect(k)),r&&(g=1.5*d.fa(.22*D,105,.6*z),E=g/8,k.Pi(.5*z-g/2,.868*D-E/2,g,E),l.fe(r),l.Rect(k))):(l.Sf(.302*x,.334*x,.365*x,x),E=Math.max(.005*D,2),k.Pi(0,.85*D-
E/2,z,E),l.Rect(k),g?l.Sf(x,0,0,x):l.Sf(.161*x,.953*x,.816*x,x),g=z*this.Eo,k.Pi(.5*z-g/2,.85*D-E/2,g,E),l.Rect(k),l.Sf(x,x,x,x),l.wg(),n&&(E=g=.55*D,k.Pi(.5*z-g/2,.45*D-E/2,g,E),l.fe(n),l.Rect(k)));this.ZL++;"fade-in"===this.gk&&300<=p-this.Zx&&2<=this.ZL&&(this.gk="wait",this.RW=p);"wait"===this.gk&&p-this.RW>=v&&1<=this.Eo&&(this.gk="fade-out",this.YL=p);("fade-out"===this.gk&&p-this.YL>=300+t||w&&1<=this.Eo&&500>p-this.Zx)&&this.XL()}}}
{"use strict";const d=self.j,a=self.Rh,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.SQ=class extends d.ia{constructor(c){c=Object.assign({},b,c);super();this.ey=c.messagePort;this.Oea=c.baseUrl;this.um=!!c.isInWorker;f=c.ife;this.uo=c.exportType;this.QV=!!c.isiOSCordova;this.tfa=!!c.isFBInstantAvailable;this.Qfa=c.opusWasmScriptUrl;this.sW=c.opusWasmBinaryUrl;this.Se=this.Uea=this.Jb=!("preview"!==this.uo||!c.isDebug);this.SJ=
0;this.VB=[];this.Hea=[];this.FL=this.AW=this.YD="";this.We=this.Xe=0;this.WU=self.devicePixelRatio;this.Tt=this.Ng=this.Og=this.AL=this.zL=0;this.EE=!1;this.Wj=!0;this.uM=!1;this.Ut=null;this.Pd=d.A(d.QY,this,c);this.gb=d.A(d.P3,this);this.ya=d.A(d.m0,this);this.Hm=d.A(d.X4,this);this.uh=d.A(d.rZ,this);this.Lb=d.A(d.O7,this);this.iM=d.A(d.S7,this);this.md=[];this.tL=new Map;this.uL=new Map;this.eV=0;this.Jea=[];this.oJ=[];this.kx=[];this.tm=[];this.$C=new Map;this.RC=!1;this.gy=this.vL=0;this.Wq=
new Map;this.Xq=new Set;this.aD=new Set;this.ND=[];this.SV=[];this.aa=null;this.Um=!1;this.kK="vsync";this.tt="standard";this.zc="trilinear";this.Xj=!1;this.rL=!0;this.SK=this.uW=!1;this.dga={JX:e=>{this.Km=this.Ze=-1;this.ge(e)},Uha:e=>{this.Km=-1;this.ge(e,!1,"skip-render")},Iha:()=>{this.Ze=-1;this.gH()}};this.Km=this.Ze=-1;this.Ht=this.il=0;this.zV=this.gD=this.SC=!1;this.OK=!0;this.ou=0;this.Wfa=()=>Math.random();this.vC=this.wC=this.zD=this.Oo=0;this.Fe=1;this.lW=30;this.oK=d.A(d.Mv);this.pK=
d.A(d.Mv);this.wM=d.A(d.Mv);this.NC=-1;this.JD=this.Am=this.MC=this.Nq=0;this.cl=!1;this.Yx=this.ty="";this.St=null;this.gr="";this.ML=this.EL=null;this.$b=d.A(d.Event.Fb);this.XJ=new Map;this.CL=new Map;this.Mfa=0;this.NV=this.XU=this.YU=!1;this.vM=[];this.Lq={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",!1)};
this.Lq.instancedestroy.instance=null;this.He=d.A(d.Event.Fb);this.cX=null;this.jo=d.A(d.Rp,d.Cz.JH);this.Aq=d.A(d.Rp,d.Cz.JH);this.ko=d.A(d.Rp,d.Cz.JH);this.Qx=d.A(d.M3,this,c.jobScheduler);c.canvas&&(this.aa=d.A(d.RN,this));this.ey.onmessage=e=>this._OnMessageFromDOM(e.data);this.Qi("runtime","visibilitychange",e=>this.Wba(e));this.Qi("runtime","opus-decode",e=>this.Dea(e.arrayBuffer));this.Qi("runtime","get-remote-preview-status-info",()=>this.kaa());this.Qi("runtime","js-invoke-function",e=>this.zB(e));
this.Qi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.$b.addEventListener("window-blur",e=>this.Xba(e));this.$b.addEventListener("window-focus",()=>this.Yba());this.Lb.EY();this.Sj=null;this.ofa=new WeakMap;this.hx={keyboard:null,GX:null,xN:null}}static Ta(c){return d.A(d.SQ,c)}g(){d.C(this.md);this.tL.clear();this.uL.clear();this.gb.g();this.gb=null;this.ya.g();this.ya=null;this.Hm.g();this.Hm=null;this.Pd.g();this.Pd=null;this.uh.g();this.uh=null;this.Lb.g();this.Lb=null;this.iM.g();
this.iM=null;this.aa&&(this.aa.g(),this.aa=null);this.$b.g();this.$b=null}["_OnMessageFromDOM"](c){const e=c.type;if("event"===e)this.rT(c);else if("result"===e)this.Tba(c);else throw Error(`unknown message '${e}'`);}rT(c){if(this.NV){var e=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===e&&(n&&(c=new d.Event(k),c.data=g,this.$b.Jga(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.Th(c)}if(c=this.XJ.get(e))if(c=c.get(k)){n=null;try{n=c(g)}catch(r){console.error(`Exception in '${e}' handler '${k}':`,r);null!==q&&this.DB(q,!1,""+r);return}null!==q&&(n&&n.then?n.then(r=>this.DB(q,!0,r)).catch(r=>{console.error(`Rejection from '${e}' handler '${k}':`,r);this.DB(q,!1,""+r)}):this.DB(q,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${e}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${e}'`)}else this.vM.push(c)}DB(c,
e,k){this.ey.postMessage({type:"result",responseId:c,isOk:e,result:k})}Tba(c){const e=c.responseId,k=c.isOk;c=c.result;const g=this.CL.get(e);k?g.resolve(c):g.reject(c);this.CL.delete(e)}Qi(c,e,k){let g=this.XJ.get(c);g||(g=new Map,this.XJ.set(c,g));if(g.has(e))throw Error(`[Runtime] Component '${c}' already has handler '${e}'`);g.set(e,k)}Ln(c,e,k){this.ey.postMessage({type:"event",component:c,handler:e,data:k,responseId:null})}Vv(c,e){const k=this.Mfa++,g=new Promise((l,n)=>{this.CL.set(k,{resolve:l,
reject:n})});this.ey.postMessage({type:"event",component:"runtime",handler:c,data:e,responseId:k});return g}async zn(c){this.Jb?await a.zn(this):self.Rh&&self.Rh.Dka(this);var [e]=await Promise.all([this.Pd.qO("data.json"),this.sba(),this.Qx.zn()]);this.Taa(e);await this.Eaa(c);this.As()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Ip()?(e=this.Ip(),console.info(`[C3 runtime] Hosted in ${this.um?"worker":"DOM"}, rendering with WebGL ${e.Vd} [${e.Ty}] (${e.s3()?
"desynchronized":"standard"} compositing)`)):this.Gv()&&console.info(`[C3 runtime] Hosted in ${this.um?"worker":"DOM"}, rendering with experimental WebGPU`);this.pb().uK&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.NV=!0;for(const k of this.vM)this.rT(k);d.C(this.vM);this.aa&&this.aa.F7();for(const k of c.runOnStartupFunctions)this.VB.push(this.Mca(k));await Promise.all([this.Pd.RR(),
...this.VB]);d.C(this.VB);if(this.Pd.tK)this.aa&&this.aa.AG();else return this.aa&&await this.aa.i0(),await this.$b.KM(new d.Event("beforeruntimestart")),await this.qw(),this.ey.postMessage({type:"runtime-ready"}),this}async Mca(c){try{await c(this.Sj)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}Taa(c){c=c.project;this.YD=c[0];this.AW=c[16];this.FL=c[31];const e=c[39]||"loading-logo.png";this.Xj=!!c[9];this.Xe=this.Og=c[10];this.We=this.Ng=c[11];this.zL=this.Xe/2;this.AL=
this.We/2;this.tt=c[36];this.kK=c[37];"low-latency"===this.tt&&this.m3()&&77>=d.Hd.xF&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.tt="standard");this.Um=!!c[40];this.zc=c[14];this.EE=!!c[18];this.Tt=c[19];this.gy=c[21];this.uW=c[22];const k=this.Pd;k.nda(c[7]);k.yda(c[32]);k.Dda(c[28]);k.Vda(c[29]);if(0===this.Tt){let r="";this.As()?k.xI(e)&&
(r=k.QO(e)):r=k.AV+e;r&&(this.Ut=k.Ov({url:r}))}this.aa&&(this.aa.s6(d.RN.V$(c[12])),this.aa.fR(c[23]?"high":"low"),this.aa.xH(0!==c[24]),this.aa.zda(c[34]),this.aa.Rda(c[41]),this.aa.Wda(c[13]));this.Hm.QZ();this.ND=self.MN();for(var g of c[2])this.Hm.OZ(g);this.ND=self.MN();this.aba();for(var l of c[3])g=d.YG.Ta(this,this.md.length,l),this.md.push(g),this.tL.set(g.Ba().toLowerCase(),g),this.uL.set(g.jb,g);for(const r of c[4])this.md[r[0]].Waa(r);for(var n of c[27])l=n.map(r=>this.md[r]),this.Jea.push(d.A(d.CZ,
this,l));for(const r of this.md)r.Cba();for(const r of c[5])this.gb.Ta(r);(n=c[1])&&(n=this.gb.ks(n))&&this.gb.n6(n);for(var q of c[33])this.Lb.Ta(q);for(const r of c[35])this.iM.Ta(r);this.Baa();for(const r of c[6])this.ya.Ta(r);this.ya.Sb();this.xaa();d.C(this.ND);this.pe();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Ln("runtime","set-target-orientation",{targetOrientation:q})}zY(c){this.VB.push(c)}gaa(){return this.eV++}F8(c){this.oJ.push(c)}async Eaa(c){this.aa&&(await this.aa.ef(c),
this.aa.Q2(this.Tt))}async sba(){if(!this.Pd.n3()){var c=null;try{c=this.QV&&this.Pd.Mx?await this.Pd.aO(this.sW):await this.Pd.mv(this.sW)}catch(e){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",e);return}c?this.wY(c):this.vY();await this.xY([this.Qfa])}}async Dea(c){return await this.pF("OpusDecode",{arrayBuffer:c},[c])}async qw(){this.SC=!0;this.Oo=Date.now();if(this.EE){for(var c of this.md)c.Ya||c.RK||!c.$f||c.Qb();this.Pd.RR().then(()=>{this.Wj=!1;this.uT()})}else this.Wj=
!1;this.Pd.x6();this.Jb&&a.loa(f);for(const e of this.gb.uj)e.u9();c=this.gb.c1();await c.zI(null,this.pb());await c.sU(!0);this.Nq=performance.now();this.EE||this.uT();(await this.Vv("before-start-ticking")).isSuspended?this.ou++:this.ge()}uT(){this.Aa(d.B.Xa.F.H4,null,null);this.Ln("runtime","register-sw")}Wh(c){c=Math.floor(c);const e=this.ND;if(0>c||c>=e.length)throw Error("invalid object reference");return e[c]}aba(){for(const c of self.XY){const e=d.first(Object.keys(c));this.SV.push(e)}}Zi(c){c=
Math.floor(c);const e=this.SV;if(0>c||c>=e.length)throw Error("invalid prop reference");return e[c]}UF(){return this.Oea}ka(){return this.ya}hd(){return this.ya.hd()}Mf(){return this.ya.Mf()}Gb(){return this.ya.Gb()}ng(){return this.ya.ng()}r3(){return 0===this.Mf().lm}vv(){return this.ya.vv()}Cv(){return this.Hm.Cv()}Pf(c){c=Math.floor(c);if(0>c||c>=this.md.length)throw new RangeError("invalid index");return this.md[c]}iG(c){return this.tL.get(c.toLowerCase())||null}aj(c){return this.uL.get(c)||
null}*lga(){for(const c of this.md)c.Ya||(yield*c.zX())}Fb(){return this.$b}Th(c){c.Rc=this.Sj;const e=this.Jb&&!this.ya.IA();e&&a.LH();this.He.dispatchEvent(c);e&&a.rF()}wp(c){c.Rc=this.Sj;return this.He.KM(c)}O6(c,e){if(this.Xe!==c||this.We!==e)this.Xe=c,this.We=e,c=this.gb,c.Js(),c.Is()}pw(c,e){if(this.Og!==c||this.Ng!==e)this.Og=c,this.Ng=e,c=this.gb,c.Js(),c.Is()}tda(c){this.WU=c}Bl(){return this.WU}Wg(){return this.aa?this.aa.Wg():this.Og}og(){return this.aa?this.aa.og():this.Ng}un(){return this.aa?
this.aa.un():1}Cl(){return this.aa?this.aa.Cl():1}tv(){return this.aa?this.aa.tv():0}uv(){return this.aa?this.aa.uv():0}I0(){return this.aa?this.aa.qd:0}H0(){return this.aa?this.aa.Zc:0}kA(){return this.aa?this.aa.kA():"off"}qv(c){return this.aa?this.aa.qv(c):null}Nn(c){this.aa&&this.aa.Nn(c)}Sda(c){this.uM=!!c}mA(){return this.aa?this.aa.mA():NaN}OG(){return"nearest"!==this.zc}q5(){this.Ut&&(this.Ut.g(),this.Ut=null)}Wb(){return this.gb.Wb()}Ov(c){return this.Pd.Ov(c)}FF(c,e,k,g,l){return this.Ti(c,
e,!1,k,g,!1,l)}Ti(c,e,k,g,l,n,q){var r=null;let p=null;c instanceof d.YG?(p=c,p.Ya&&(r=p.vo,p=r[Math.floor(this.Mn()*r.length)]),r=p.Ct):(r=c,p=this.Pf(r[1]));c=p.Hb().$f;if(this.Wj&&c&&!p.RK)return null;const w=e;c||(e=null);var t=k&&!n&&r&&!this.Wq.has(r[2])?r[2]:this.gy++;const v=r?r[0]:null,x=d.A(d.Instance,{Rc:this,bN:p,oe:e,gY:v,yX:r?r[3]:null,uid:t});this.Wq.set(t,x);t=null;c&&(t=x.i(),"undefined"!==typeof g&&"undefined"!==typeof l&&(t.Tf(g),t.kh(l)),p.WT());e&&(q||e.hi(x,!0),1===e.ye&&1===
e.Ae||p.RI(!0),e.qc().XP(p));this.vL++;if(p.Kc()&&!k&&!n){for(var z of p.Dj.Fm){if(z===p)continue;const M=this.Ti(z,w,!1,t?t.O():g,t?t.P():l,!0,!1);x.Zs(M)}for(var D of x.Sd){D.Zs(x);for(var E of x.Sd)D!==E&&D.Zs(E)}}c&&!k&&q&&this.$H(x,v,t,e,g,l);if(p.Kc()&&!k&&!n&&q)for(const M of x.Sd)if(z=M.i())D=M.Hb(),E=M.I().Ct[0],D.$f?this.$H(M,E,z,e,z.O(),z.P()):this.$H(M,E,z,e);if(q&&!n&&!k&&x.Kc())for(const M of x.Sd)for(const B of M.Sd)x===B&&w.co(M,!0);!n&&q&&("undefined"===typeof g&&(g=v[0]),"undefined"===
typeof l&&(l=v[1]),e=t.wA(),g=g-t.O()+e.O(),l=l-t.P()+e.P(),e.re(g,l));p.Lw();l=r?d.PE(r[5]):null;r=r?r[4].map(M=>d.PE(M)):null;c&&v&&v[13]&&x.Cda();x.nB(l,r);this.tm.push(x);this.RC=!0;this.Jb&&a.Eka(x);return x}$H(c,e,k,g,l,n){var q=k.KW,r=k.NL;c.i().yH(q);if(r){"undefined"===typeof l&&(l=e[0]);"undefined"===typeof n&&(n=e[1]);q=new Set;k=e[0];e=e[1];for(const x of r){var p=x[1],w=x[2];r=x[3];var t=!!x[4];const z=x[5];w=this.gb.hG(x[0]).ba(p).j1(w);p=this.Pf(w[1]);var v=c.f2(p);const D=q.has(p);
v&&!D&&t?(t=c.fP(p),v=l+w[0][0]-k,w=n+w[0][1]-e,t.i().re(v,w),t.i().yH(z),c.ln(t,{Yu:!!(r>>0&1),Zu:!!(r>>1&1),Tr:!!(r>>2&1),Sr:!!(r>>3&1),Xu:!!(r>>4&1),bz:!!(r>>5&1),$u:!!(r>>6&1)}),q.add(p)):(p=this.Ti(w,g,!1,l+w[0][0]-k,n+w[0][1]-e,!1,!0),p.i().yH(z),c.ln(p,{Yu:!!(r>>0&1),Zu:!!(r>>1&1),Tr:!!(r>>2&1),Sr:!!(r>>3&1),Xu:!!(r>>4&1),bz:!!(r>>5&1),$u:!!(r>>6&1)}))}}}qn(c){if(!this.Xq.has(c)){var e=c.I(),k=this.$C.get(e);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.$C.set(e,k);this.Jb&&
a.Fka(c);c.CI();this.RC=!0;if(c.Kc())for(const g of c.Sd)this.qn(g);for(const g of c.children())g.hA()&&this.qn(g);this.gb.EP()||this.cl||(e=this.ka(),e.df(!0),c.nea(),e.df(!1));c.N$(this.gb.EP())}}pe(){this.RC&&(this.P$(),this.Q$(),this.RC=!1,this.R())}P$(){for(const c of this.tm){const e=c.I();e.hi(c);for(const k of e.ti)k.hi(c),k.Lw()}d.C(this.tm)}Q$(){this.$b.Ms(!0);for(const [c,e]of this.$C.entries())this.R$(c,e),e.clear();this.$C.clear();this.$b.Ms(!1)}R$(c,e){for(const g of e){var k=this.Lq.instancedestroy;
k.instance=g;this.$b.dispatchEvent(k);this.Wq.delete(g.Qc);if(k=g.i())k.FT(),k.GT(),k.CI();this.Xq.add(g);this.vL--}d.Oh(c.la(),e);c.Lw();this.aD.add(c);0===c.la().length&&c.RI(!1);for(const g of c.ti)d.Oh(g.la(),e),g.Lw(),this.aD.add(g);if(c.Hb().$f){c=new Set([...e].map(g=>g.i().ba()));for(const g of c)g.rca(e)}}*RM(c){for(const e of this.tm)c.Ya?e.I().vF(c)&&(yield e):e.I()===c&&(yield e)}faa(){return this.gy++}oba(c,e){this.Wq.set(c,e)}Jw(){this.$b.dispatchEvent(d.A(d.Event,"webglcontextlost"));
this.ow(!0);for(var c of this.md)!c.Ya&&c.d2()&&c.bi();(c=this.Wb())&&c.Jw();d.Jv.Qp();d.uP.Qp()}async II(){await this.Wb().zI(null,this.Ip());this.$b.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.ow(!1);this.R()}Wba(c){this.ow(c.hidden)}Xba(c){this.As()&&this.uW&&!d.Hd.QG&&!c.data.parentHasFocus&&(this.ow(!0),this.SK=!0)}Yba(){this.SK&&(this.ow(!1),this.SK=!1)}HT(){const c=this.dga;"vsync"===this.kK?-1===this.Ze&&(this.Ze=self.requestAnimationFrame(c.JX)):"unlimited-tick"===this.kK?(-1===
this.Km&&(this.Km=d.jH(c.Uha)),-1===this.Ze&&(this.Ze=self.requestAnimationFrame(c.Iha))):-1===this.Km&&(this.Km=d.jH(c.JX))}h9(){-1!==this.Ze&&(self.cancelAnimationFrame(this.Ze),this.Ze=-1);-1!==this.Km&&(d.fZ(this.Km),this.Km=-1)}Np(){return 0<this.ou}ow(c){var e=this.Np();this.ou+=c?1:-1;0>this.ou&&(this.ou=0);c=this.Np();!e&&c?(console.log("[Construct 3] Suspending"),this.h9(),this.$b.dispatchEvent(d.A(d.Event,"suspend")),this.Aa(d.B.Xa.F.P4,null,null)):e&&!c&&(console.log("[Construct 3] Resuming"),
this.Nq=this.zD=e=performance.now(),this.Am=this.JD=this.MC=this.NC=0,this.$b.dispatchEvent(d.A(d.Event,"resume")),this.Aa(d.B.Xa.F.M4,null,null),this.Iv()||this.ge(e))}B8(c){this.jo.Sc(c)}C8(c){this.ko.Sc(c)}tca(c){this.jo.ci(c)}sca(c){this.Aq.ci(c)}uca(c){this.ko.ci(c)}S8(){this.jo.di(!0);for(const c of this.jo)c.ge();this.jo.di(!1)}Q8(){this.Aq.di(!0);for(const c of this.Aq);this.Aq.di(!1)}T8(){this.ko.di(!0);for(const c of this.ko)c.fq();this.ko.di(!1)}*E9(){this.jo.di(!0);for(const c of this.jo){const e=
c.ge();d.En(e)&&(yield*e)}this.jo.di(!1)}*D9(){this.Aq.di(!0);for(const c of this.Aq)d.En(void 0)&&(yield*void 0);this.Aq.di(!1)}*F9(){this.ko.di(!0);for(const c of this.ko){const e=c.fq();d.En(e)&&(yield*e)}this.ko.di(!1)}async ge(c,e,k){this.zV=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.SC&&(!this.Np()||e||g)&&(e=performance.now(),this.gD=!0,this.vba(c||0),c=this.H7(),this.Se&&await c,c=this.$b.Kga(this.Lq.pretick),c instanceof Promise&&await c,c=this.G7(),
this.Se&&await c,this.Aba()&&await this.qaa(),this.gb.zs()&&await this.qba(),c=this.I7(),this.Se&&await c,k&&this.gH(),this.Np()||g||this.HT(),this.il++,this.Ht++,this.gD=!1,this.Am+=performance.now()-e)}async H7(){const c=this.ya,e=this.Jb;this.pe();c.df(!0);this.Wv(this.Wb());e&&a.Vs();this.Se?await c.YZ():c.Q5();e&&a.uY();this.Uv();c.df(!1);this.pe();c.df(!0)}async G7(){const c=this.Jb,e=this.Se,k=this.$b,g=this.Lq,l=this.cX;c&&a.Vs();e?await this.Sz(this.E9()):this.S8();e?await this.Sz(this.D9()):
this.Q8();c&&a.pY();c&&a.Vs();e?await this.eO(g.tick):k.dispatchEvent(g.tick);c&&a.AY();this.ya.df(!1);this.Th(l.tick)}async I7(){const c=this.ya,e=this.$b,k=this.Lq,g=this.Jb,l=this.Se;g&&a.Vs();l?await c.WZ(this.gb):c.O5(this.gb);g&&a.uY();this.uh.UN();this.CT();this.OK=!1;c.df(!0);g&&a.Vs();l?await this.Sz(this.F9()):this.T8();g&&a.pY();g&&a.Vs();l?await this.eO(k.tick2):e.dispatchEvent(k.tick2);g&&a.AY();c.df(!1);l&&await c.RQ()}CT(){if(0!==this.Xq.size){var c=this.$b;c.Ms(!0);for(const e of this.aD)e.Mo.Sp(this.Xq);
this.aD.clear();this.ya.s5(this.Xq);for(const e of this.Xq)e.g();this.Xq.clear();c.Ms(!1)}}async qba(){const c=this.gb;let e=0;for(;c.zs()&&10>e++;)await this.pS(c.hy)}vba(c){let e=0;0!==this.zD&&(e=Math.max(c-this.zD,0)/1E3,.5<e&&(e=0),this.wC=Math.min(e,1/this.lW));this.zD=c;this.vC=this.wC*this.Fe;this.oK.Sc(this.vC);this.pK.Sc(e*this.Fe);this.wM.Sc(this.wC);this.aa&&this.aa.yea();1E3<=c-this.Nq&&(this.Nq+=1E3,1E3<=c-this.Nq&&(this.Nq=c),this.MC=this.NC,this.NC=0,this.JD=Math.min(this.Am/1E3,1),
this.Am=0,this.aa&&this.aa.rea(),this.Jb&&a.Eqa());this.NC++}async pS(c){const e=this.$b,k=this.gb.Wb();await k.iea();k.qea(c,this.pb());k===c&&this.ya.Iz();this.uh.UN();this.CT();e.dispatchEvent(this.Lq.beforelayoutchange);d.tl.gR(!0);await c.zI(k,this.pb());d.tl.gR(!1);await c.sU(!1);e.dispatchEvent(this.Lq.layoutchange);this.R();this.OK=!0;this.pe()}R(){this.rL=!0}Ip(){return this.aa?this.aa.Ip():null}Gv(){return this.aa?this.aa.Gv():null}pb(){return this.aa?this.aa.pb():null}gH(){const c=this.aa;
if(c&&!c.D3()){var e=this.pb(),k=e.Jk(),g=k&&e.Lv();k=k&&!1;g&&e.iZ();if(this.rL){var l=this.gb.Wb();e.qw();var n=this.Jb;n&&a.Vs();this.rL=!1;var q=null;g&&(q=c.QC.sF(),e.MH(q));g=null;k&&(g=e.Tpa(2*(1+l.lc.length)),e.t8(0));this.Um&&"low"===c.Qj?e.o6(c.Wg(),c.og()):e.Z5();this.Bca(this.pb(),l);q&&e.MF(q);k&&(e.t8(1),this.aa.P8(g));e.es();n&&(a.ria(),a.Fqa());c&&c.tba()}else e.D2()}}Bca(c,e){c.wg();c.pH();c.Sf(1,1,1,1);c.qf(null);c.fe(null);c.Sn(this.Um);e.Nd(c)}Aa(c,e,k){if(!this.SC)return!1;var g=
!this.gD&&!this.ya.NG();let l=0;g&&(l=performance.now());const n=this.Jb;n&&this.Ls(!1);c=this.ya.Sw(this.gb,c,e,k);g&&(g=performance.now()-l,this.Am+=g,n&&a.uia(g));n&&this.Ls(!0);return c}async Vf(c,e,k){if(!this.Se)return this.Aa(c,e,k);if(!this.SC)return!1;if(this.Iv())return this.ya.l5(c,e,k);if(!this.Wb())return this.ya.eH(c,e,k);const g=performance.now();c=this.ya.xw(this.gb,c,e,k);for(e=c.next();!e.done;)await this.$r(e.value),e=c.next();this.Np()||this.ya.NG()||(await this.ya.RQ(),this.zV&&
!this.gD&&this.HT());this.Am+=performance.now()-g;return e.value}Wv(c){this.kx.push(c)}Uv(){if(!this.kx.length)throw Error("layout stack empty");this.kx.pop()}Ma(){return this.kx.length?this.kx.$e(-1):this.Wb()}zp(c){return c&&-1!==c.Fe?this.wC*c.Fe:this.vC}DH(c){if(isNaN(c)||0>c)c=0;this.Fe=c}nR(c){this.lW=d.fa(c,1,120)}Of(){return this.oK.ea()}h1(){return this.pK.ea()}vG(){return this.wM.ea()}Kl(){++this.Ht}Xi(c){if(this.cl)throw Error("cannot call while loading state - wait until afterload event");
return this.Wq.get(c)||null}zT(){this.Wq.clear();for(const c of this.md)if(!c.Ya)for(const e of c.la())this.Wq.set(e.Qc,e)}As(){return"preview"===this.uo}q3(){return"cordova"===this.uo}m3(){return"Android"===d.Hd.Cs&&("cordova"===this.uo||"playable-ad"===this.uo||"instant-games"===this.uo)}rG(){return this.Hm.rG()}S6(c){c=!!c;this.Xj!==c&&(this.Xj=c,this.gb.Is(),this.R())}S5(c){this.ty=c}S3(c){this.Yx=c}WG(c){this.St=c}Aba(){return!(!this.ty&&!this.Yx&&null===this.St)}async qaa(){this.ty&&(this.pe(),
await this.h$(this.ty),this.YH());this.Yx&&(await this.g$(this.Yx),this.YH(),this.Jb&&a.Upa());if(null!==this.St){this.pe();try{await this.qS(this.St),this.gr=this.St,await this.Vf(d.B.Xa.F.lQ,null),this.gr=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Vf(d.B.Xa.F.mQ,null)}this.YH()}}YH(){this.Yx=this.ty="";this.St=null}jaa(){this.EL||(this.EL=localforage.HM({name:"c3-localstorage-"+this.FL,description:this.YD}));return this.EL}MS(){this.ML||(this.ML=
localforage.HM({name:"c3-savegames-"+this.FL,description:this.YD}));return this.ML}async h$(c){const e=await this.eda();try{await this.MS().setItem(c,e),console.log("[Construct 3] Saved state to storage ("+e.length+" chars)"),this.gr=e,await this.Vf(d.B.Xa.F.N4,null),this.gr=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Vf(d.B.Xa.F.O4,null)}}async g$(c){try{const e=await this.MS().getItem(c);if(!e)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
e.length+" chars)");await this.qS(e);this.gr=e;await this.Vf(d.B.Xa.F.lQ,null);this.gr=""}catch(e){console.error("[Construct 3] Failed to load state from storage: ",e),await this.Vf(d.B.Xa.F.mQ,null)}}async eda(){const c={c3save:!0,version:1,rt:{time:this.Of(),timeRaw:this.h1(),walltime:this.vG(),timescale:this.Fe,tickcount:this.il,execcount:this.Ht,next_uid:this.gy,running_layout:this.Wb().jb,start_time_offset:Date.now()-this.Oo},types:{},layouts:{},events:this.ya.ma(),timelines:this.Lb.ma(),user_script_data:null};
for(var e of this.md)e.Ya||e.pP()||(c.types[e.jb.toString()]=e.ma());for(const k of this.gb.uj)c.layouts[k.jb.toString()]=k.ma();e=this.cI("save");e.saveData=null;await this.wp(e);c.user_script_data=e.saveData;return JSON.stringify(c)}async qS(c){var e=this.gb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.$b.dispatchEvent(d.A(d.Event,"beforeload"));
for(var k of this.lga())k.BB();this.cl=!0;k=c.rt;this.oK.Set(k.time);k.hasOwnProperty("timeRaw")&&this.pK.Set(k.timeRaw);this.wM.Set(k.walltime);this.Fe=k.timescale;this.il=k.tickcount;this.Ht=k.execcount;this.Oo=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Wb().jb)if(g=e.hG(g))await this.pS(g);else return;for(const [l,n]of Object.entries(c.types))g=this.aj(parseInt(l,10)),!g||g.Ya||g.pP()||g.wa(n);this.pe();this.zT();this.cl=!1;this.gy=k.next_uid;for(const [l,n]of Object.entries(c.layouts))(k=
e.hG(parseInt(l,10)))&&k.wa(n);this.ya.wa(c.events);for(const l of this.md)if(!l.Ya&&l.Kc())for(const n of l.la()){k=n.Bp();for(const q of l.Dj.Fm)if(q!==l){g=q.la();if(0>k||k>=g.length)throw Error("missing sibling instance");n.Zs(g[k])}}this.Lb.wa(c.timelines);e.Js();e.Is();this.$b.dispatchEvent(d.A(d.Event,"afterload"));e=this.cI("load");e.saveData=c.user_script_data;await this.wp(e);this.R()}async xY(c){c=(await Promise.all(c.map(e=>this.Pd.zl(e)))).map(e=>URL.createObjectURL(e));this.Qx.C2(c)}vY(){this.Qx.U5()}wY(c){this.Qx.V5(c)}pF(c,
e,k){return this.Qx.pF(c,e,k)}k3(c,e){this.Ln("runtime","invoke-download",{url:c,filename:e})}async m5(c){var e=e||2048;var k=k||2048;return this.um?(await this.Vv("raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:e,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,e,k)}Gs(){this.YU||(this.YU=!0,this.Ln("runtime","enable-device-orientation"))}On(){this.XU||(this.XU=!0,this.Ln("runtime","enable-device-motion"))}Mn(){return this.Wfa()}kaa(){const c=
this.Ip();return{fps:this.MC,cpu:this.JD,gpu:this.mA(),layout:this.Wb()?this.Wb().Ba():"",renderer:c?c.Ty:"<unavailable>"}}Iv(){return this.Jb?a.Iv():!1}$r(c){return this.Se?a.$r(c):Promise.resolve()}Bc(){return this.Se?a.Ria():!1}Ls(c){c?this.SJ--:this.SJ++;this.tea()}tea(){this.Se=this.Jb&&this.Uea&&0===this.SJ}GG(){return this.Jb&&a.GG()}KG(){return this.Jb&&this.pb().Jk()&&a.KG()}async Sz(c){if(c)for(const e of c)await this.$r(e)}eO(c){return this.Sz(this.$b.Lga(c))}zB(c){return this.ya.zB(c.name,
c.params)}cI(c){c=d.A(d.Event,c,!1);c.Rc=this.Sj;return c}Baa(){var c={};for(const e of this.md)c[e.Zi()]={value:e.Cx,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Sj=new self.r2(this,c);this.cX={tick:this.cI("tick")}}xaa(){const c={};for(const e of this.ka().pJ)c[e.Zi()]=e.NS();this.Sj.yaa(c)}hT(c,e){this.ofa.set(c,e)}};self.C3_CreateRuntime=d.SQ.Ta;self.C3_InitRuntime=(c,e)=>c.zn(e)}
{"use strict";const d=self.j;d.M3=class extends d.ia{constructor(a,b){super();this.b=a;this.cr=new Map;this.Ofa=0;this.Hx=b.inputPort;b.outputPort.onmessage=f=>this.tT(f);this.fW=b.maxNumWorkers;this.Rx=1;this.sV=this.Kx=!1}async zn(){}C2(a){this.Hx.postMessage({type:"_import_scripts",scripts:a})}U5(){this.Hx.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}V5(a){this.Hx.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}pF(a,b,f){f||(f=[]);const c=this.Ofa++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:f};b=new Promise((e,k)=>{this.cr.set(c,{resolve:e,progress:void 0,reject:k,GM:!1})});this.Hx.postMessage(a,f);this.jT();return b}tT(a){a=a.data;const b=a.type,f=a.jobId;switch(b){case "result":this.Nba(f,a.result);break;case "progress":this.Mba(f,a.progress);break;case "error":this.Lba(f,a.error);break;case "ready":this.Oba();break;default:throw Error(`unknown message from worker '${b}'`);}}Nba(a,b){const f=this.cr.get(a);if(!f)throw Error("invalid job ID");
f.GM||f.resolve(b);this.cr.delete(a)}Mba(a,b){a=this.cr.get(a);if(!a)throw Error("invalid job ID");!a.GM&&a.progress&&a.progress(b)}Lba(a,b){const f=this.cr.get(a);if(!f)throw Error("invalid job ID");f.GM||f.reject(b);this.cr.delete(a)}Oba(){this.Kx&&(this.Kx=!1,this.Rx++,this.Rx<this.fW?this.jT():this.Hx.postMessage({type:"_no_more_workers"}))}async jT(){if(!(this.Rx>=this.fW||this.Kx||this.sV||this.cr.size<=this.Rx))try{this.Kx=!0,(await this.b.Vv("create-job-worker")).outputPort.onmessage=a=>this.tT(a)}catch(a){this.sV=
!0,this.Kx=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Rx} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.water={Eu:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nprecision mediump float;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nconst float PI = 3.1415926535897932;\nuniform float speed;\nuniform float speed_x;\nuniform float speed_y;\nuniform float intensity;\nconst float steps = 8.0;\nuniform float frequency;\nuniform float angle; // better when a prime\nuniform float delta;\nuniform float intence;\nuniform float emboss;\nfloat col(vec2 coord)\n{\nfloat delta_theta = 2.0 * PI / angle;\nfloat col = 0.0;\nfloat theta = 0.0;\nfor (float i = 0.0; i < steps; i++)\n{\nvec2 adjc = coord;\ntheta = delta_theta*i;\nadjc.x += cos(theta)*seconds*speed + seconds * speed_x;\nadjc.y -= sin(theta)*seconds*speed - seconds * speed_y;\ncol = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n}\nreturn cos(col);\n}\nvoid main(void)\n{\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nvec2 p = tex, c1 = p, c2 = p;\nfloat cc1 = col(c1);\nc2.x += (1.0 / pixelSize.x) / delta;\nfloat dx = emboss*(cc1-col(c2))/delta;\nc2.x = p.x;\nc2.y += (1.0 / pixelSize.y) / delta;\nfloat dy = emboss*(cc1-col(c2))/delta;\nc1.x += dx;\nc1.y = -(c1.y+dy);\nfloat alpha = 1.+dot(dx,dy)*intence;\nc1.y = -c1.y;\nc1 = clamp(c1, 0.0, 1.0);\ngl_FragColor = texture2D(samplerFront, mix(srcStart, srcEnd, c1)) * alpha;\n}",av:"",
Cu:40,Du:40,Bu:!1,Nu:!1,Ou:!1,yu:!0,parameters:[["speed",0,"percent"],["speed_x",0,"percent"],["speed_y",0,"percent"],["intensity",0,"float"],["frequency",0,"float"],["angle",0,"float"],["delta",0,"float"],["intence",0,"float"],["emboss",0,"percent"]]};
self.C3_Shaders.vignette={Eu:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp float d = distance(tex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",av:"",
Cu:0,Du:0,Bu:!1,Nu:!1,Ou:!0,yu:!1,parameters:[["vignetteStart",0,"percent"],["vignetteEnd",0,"percent"]]};
self.C3_Shaders.radialblur={Eu:"precision mediump float;\nvarying vec2 vTex;\nuniform sampler2D samplerFront;\nuniform vec2 srcStart;\nuniform vec2 srcEnd;\nuniform float layerScale;\nuniform float intensity;\nuniform float radius;\nvoid main(void)\n{\nvec2 dir = ((srcStart + srcEnd) / 2.0 - vTex) / (length(srcEnd - srcStart) / 2.0);\nfloat dist = sqrt(dir.x*dir.x + dir.y*dir.y);\ndir = dir/dist;\nvec4 front = texture2D(samplerFront, vTex);\nvec4 sum = front;\nfloat scaledRadius = radius * layerScale;\nsum += texture2D(samplerFront, vTex + dir * -0.08 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.08 * scaledRadius);\nsum /= 11.0;\nfloat t = dist * 2.2;\nt = clamp(t, 0.0, 1.0);\ngl_FragColor = mix(front, mix(front, sum, t), intensity);\n}",av:"",
Cu:50,Du:50,Bu:!1,Nu:!1,Ou:!1,yu:!1,parameters:[["radius",0,"percent"],["intensity",0,"percent"]]};
self.C3_Shaders.glowvertical={Eu:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelHeight = pixelSize.y;\nmediump float halfPixelHeight = pixelHeight / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",av:"",
Cu:0,Du:8,Bu:!1,Nu:!1,Ou:!1,yu:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.glowhorizontal={Eu:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",av:"",
Cu:8,Du:0,Bu:!1,Nu:!1,Ou:!1,yu:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.noise={Eu:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform highmedp float seconds;\nuniform lowp float intensity;\nuniform lowp float noiseColor;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nhighmedp float seconds_mod = mod(seconds, 10.0);\nmediump vec3 noise = vec3(fract(sin(dot(vTex.xy, vec2(12.9898,78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.yx, vec2(12.9898,-78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.xy, vec2(-12.9898,-78.233)) + seconds_mod) * 43758.5453));\nnoise = mix(vec3(noise.r), noise, noiseColor);\nfront.rgb += (noise * intensity) - (intensity / 2.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",av:"",
Cu:0,Du:0,Bu:!1,Nu:!1,Ou:!0,yu:!0,parameters:[["intensity",0,"percent"],["noiseColor",0,"percent"]]};
{"use strict";const d=self.j;let a=null,b="",f="",c=[],e="",k="",g="";const l=d.A(d.OY);function n(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.B.Xa=class extends d.ij{constructor(q){super(q);this.bg=this.b.ka().bg;this.he=this.b.ka().hd();this.Fx=this.Tq=0;this.mV=new Map}g(){super.g()}R(){this.b.R()}Aa(q){this.b.Aa(q,null,null)}rA(q,r){a&&q===b&&r===f||(a=new RegExp(q,r),b=q,f=r);a.lastIndex=0;return a}YO(q,r,p){if(q===e&&r===k&&
p===g)return c;const w=this.rA(r,p);c=q.match(w);e=q;k=r;g=p;return c}async BI(q,r){if(r.length){this.Tq+=r.length;var p=[];for(const w of r)p.push(q.XP(w));await d.e5(p,()=>{this.Fx++});this.Fx++;this.Fx===this.Tq&&(this.b.Aa(d.B.Xa.F.D4,null,null),this.Tq=this.Fx=0)}}xU(q,r){for(const p of r)0===p.D.length&&q.c4(p)}JS(){return l}Cca(q){var r=this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Dk();const z=p.Na(t),D=r.bg,E=D.Na();if(x)for(x=0;x<q&&!E.Hc;++x)r.de(v),E.Vc(x),t.nf(w,z),r.Db(v);
else for(r=0;r<q&&!E.Hc;++r)E.Vc(r),t.nf(w,z);p.Ia();D.Ia();return!1}*L9(q){var r=this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Dk();const z=p.Na(t),D=r.bg,E=D.Na();if(x)for(x=0;x<q&&!E.Hc;++x)r.de(v),E.Vc(x),yield*t.Tg(w,z),r.Db(v);else for(r=0;r<q&&!E.Hc;++r)E.Vc(r),yield*t.Tg(w,z);p.Ia();D.Ia();return!1}Eea(){var q=this.b.ka();const r=q.hd(),p=r.gf(),w=p.Gb(),t=w.Fd();var v=p.Dk();const x=r.Na(w),z=q.bg,D=z.Na();if(v)for(v=0;!D.Hc;++v)q.de(t),D.Vc(v),w.nf(p,x)||D.nh(),q.Db(t);else for(q=
0;!D.Hc;++q)D.Vc(q),w.nf(p,x)||D.nh();r.Ia();z.Ia();return!1}*e$(){var q=this.b.ka();const r=q.hd(),p=r.gf(),w=p.Gb(),t=w.Fd();var v=p.Dk();const x=r.Na(w),z=q.bg,D=z.Na();if(v)for(v=0;!D.Hc;++v)q.de(t),D.Vc(v),(yield*w.Tg(p,x))||D.nh(),q.Db(t);else for(q=0;!D.Hc;++q)D.Vc(q),(yield*w.Tg(p,x))||D.nh();r.Ia();z.Ia();return!1}S$(q,r,p){var w=this.b.ka();const t=w.hd(),v=t.gf(),x=v.Gb(),z=x.Fd(),D=v.Dk(),E=t.Na(x),M=w.bg,B=M.Na();B.eB(q);if(p<r)if(D)for(q=r;q>=p&&!B.Hc;--q)w.de(z),B.Vc(q),x.nf(v,E),w.Db(z);
else for(w=r;w>=p&&!B.Hc;--w)B.Vc(w),x.nf(v,E);else if(D)for(q=r;q<=p&&!B.Hc;++q)w.de(z),B.Vc(q),x.nf(v,E),w.Db(z);else for(w=r;w<=p&&!B.Hc;++w)B.Vc(w),x.nf(v,E);t.Ia();M.Ia();return!1}*I9(q,r,p){var w=this.b.ka();const t=w.hd(),v=t.gf(),x=v.Gb(),z=x.Fd(),D=v.Dk(),E=t.Na(x),M=w.bg,B=M.Na();B.eB(q);if(p<r)if(D)for(q=r;q>=p&&!B.Hc;--q)w.de(z),B.Vc(q),yield*x.Tg(v,E),w.Db(z);else for(w=r;w>=p&&!B.Hc;--w)B.Vc(w),yield*x.Tg(v,E);else if(D)for(q=r;q<=p&&!B.Hc;++q)w.de(z),B.Vc(q),yield*x.Tg(v,E),w.Db(z);
else for(w=r;w<=p&&!B.Hc;++w)B.Vc(w),yield*x.Tg(v,E);t.Ia();M.Ia();return!1}T$(q){var r=this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Dk();const z=p.Na(t),D=r.bg,E=D.Na(),M=q.Kc(),B=q.Z(),G=l.Na();d.xd(G,B.la());if(x)for(let H=0,J=G.length;H<J&&!E.Hc;++H)r.de(v),x=G[H],q.Z().Ik(x),M&&x.lj(),E.Vc(H),t.nf(w,z),r.Db(v);else{B.Me(!1);q=B.D;d.C(q);q.push(null);for(let H=0,J=G.length;H<J&&!E.Hc;++H)r=G[H],q[0]=r,M&&r.lj(),E.Vc(H),t.nf(w,z)}p.Ia();D.Ia();d.C(G);l.Ia();return!1}*J9(q){var r=
this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Dk();const z=p.Na(t),D=r.bg,E=D.Na(),M=q.Kc(),B=q.Z(),G=l.Na();d.xd(G,B.la());if(x)for(let H=0,J=G.length;H<J&&!E.Hc;++H)r.de(v),x=G[H],q.Z().Ik(x),M&&x.lj(),E.Vc(H),yield*t.Tg(w,z),r.Db(v);else{B.Me(!1);q=B.D;d.C(q);q.push(null);for(let H=0,J=G.length;H<J&&!E.Hc;++H)r=G[H],q[0]=r,M&&r.lj(),E.Vc(H),yield*t.Tg(w,z)}p.Ia();D.Ia();d.C(G);l.Ia();return!1}U$(q,r){var p=this.b.ka();const w=p.hd(),t=p.ng(),v=w.gf(),x=v.Gb(),z=x.Fd(),D=v.Dk(),
E=w.Na(x),M=p.bg,B=M.Na(),G=q.Kc(),H=q.Z(),J=l.Na();d.C(J);const P=H.la();for(let Q=0,T=P.length;Q<T;++Q)J.push([P[Q],t.Yv(1,Q)]);J.sort(n);1===r&&J.reverse();if(D)for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p.de(z),r=J[Q][0],q.Z().Ik(r),G&&r.lj(),B.Vc(Q),x.nf(v,E),p.Db(z);else{H.Me(!1);q=H.D;d.C(q);q.push(null);for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p=J[Q][0],q[0]=p,G&&p.lj(),B.Vc(Q),x.nf(v,E)}w.Ia();M.Ia();d.C(J);l.Ia();return!1}*K9(q,r){var p=this.b.ka();const w=p.hd(),t=p.ng(),v=w.gf(),x=v.Gb(),z=x.Fd(),
D=v.Dk(),E=w.Na(x),M=p.bg,B=M.Na(),G=q.Kc(),H=q.Z(),J=l.Na();d.C(J);const P=H.la();for(let Q=0,T=P.length;Q<T;++Q)J.push([P[Q],t.Yv(1,Q)]);J.sort(n);1===r&&J.reverse();if(D)for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p.de(z),r=J[Q][0],q.Z().Ik(r),G&&r.lj(),B.Vc(Q),yield*x.Tg(v,E),p.Db(z);else{H.Me(!1);q=H.D;d.C(q);q.push(null);for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p=J[Q][0],q[0]=p,G&&p.lj(),B.Vc(Q),yield*x.Tg(v,E)}w.Ia();M.Ia();d.C(J);l.Ia();return!1}tB(q,r){let p=this.mV.get(q);if(p)return p;if(!r)return null;
p={kp:null,kF:new Map};this.mV.set(q,p);return p}f$(q,r,p,w,t){r.Nf().N5(p);w&&q.Db(t)}*G9(q,r,p,w,t){yield*r.Nf().VZ(p);w&&q.Db(t)}}}{"use strict";const d=self.j;d.B.Xa.ue=class extends d.ia{constructor(a){super();this.N=a;this.b=a.H();this.Ai=a.Hb()}Qb(){}g(){this.Ai=this.b=this.N=null}}}{"use strict";const d=self.j;d.B.Xa.Instance=class extends d.ia{constructor(a){super();this.L=a;this.N=this.L.I();this.Oa=this.N.Oa;this.b=this.L.H()}g(){this.b=this.Oa=this.N=this.L=null}}}
{"use strict";const d=self.j,a=[];d.B.Xa.F={p0(){return!0},kQ(){return!0},jQ(){return!0},P4(){return!0},M4(){return!0},Np(){return this.b.Np()},mO(){const b=this.b.Mf();return b.$J?!1:!b.dr},T7(){const b=this.b.ng().Yd();let f=b.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,b.set("TriggerOnce_lastTick",-1));const c=this.b.il;b.set("TriggerOnce_lastTick",c);return this.b.OK||f!==c-1},o0(b){const f=this.b.ng().Yd(),c=f.get("Every_lastTime")||0,e=this.b.Of();f.has("Every_seconds")||f.set("Every_seconds",
b);const k=f.get("Every_seconds");if(e>=c+k)return f.set("Every_lastTime",c+k),e>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",e),f.set("Every_seconds",b),!0;e<c-.1&&f.set("Every_lastTime",e);return!1},xs(b){return(b=this.b.ka().EO(b))&&b.xs()},As(){return this.b.As()},QG(){return d.Hd.QG},H4(){return!0},t4(){return!0},Oja(){return!0},N4(){return!0},O4(){return!0},lQ(){return!0},mQ(){return!0},pma(b){return!!this.b.Xi(b)},fla(b){switch(b){case 0:return"browser"===d.Hd.CF;case 1:return"iOS"===
d.Hd.Cs;case 2:return"Android"===d.Hd.Cs;case 8:return"cordova"===d.Hd.CF;case 9:return"scirra-arcade"===this.b.uo;case 10:return"nwjs"===d.Hd.CF;case 13:return"windows-uwp"===this.b.uo;default:return!1}},nna(b,f,c){return this.rA(f,c).test(b)},fja(b,f,c){return d.compare(b,f,c)},ija(b,f,c){return b>=f&&b<=c},yZ(b,f,c){return d.compare(b.ae(),f,c)},jja(b){return!!b.ae()},xZ(b,f){const c=this.b.Of();return 0===b?(b=this.b.ng().Yd(),!b.get("CompareTime_executed")&&c>=f?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,f)},dla(b){return isNaN(b)},IY(b,f,c){return d.Zm(d.eb(b),d.eb(c))<=d.eb(f)},o3(b,f){return d.fg(d.eb(b),d.eb(f))},yP(b,f,c){b=d.eb(b);f=d.eb(f);c=d.eb(c);return d.fg(c,f)?d.fg(b,f)&&!d.fg(b,c):!(!d.fg(b,f)&&d.fg(b,c))},nla(b,f){return"number"===typeof b?0===f:1===f},Rja(b){return!!b},Kma(b,f,c,e){if(!b)return!1;const k=this.JS(),g=k.Na(),l=b.Z();d.xd(g,l.la());l.ec&&d.C(l.xc);const n=this.b.ng();let q=0;for(let r=0,p=g.length;r<p;++r){const w=g[r];g[q]=w;f=n.Yv(1,r);e=n.Yv(3,
r);d.compare(f,c,e)?++q:l.bo(w)}d.bf(g,q);l.$v(g);f=!!g.length;d.C(g);k.Ia();b.oc();return f},Lma(b,f){if(!b)return!1;const c=this.JS(),e=c.Na(),k=b.Z();d.xd(e,k.la());k.ec&&d.C(k.xc);const g=this.b.ng();let l=0;for(let n=0,q=e.length;n<q;++n){const r=e[n];e[l]=r;(f=g.Yv(1,n))?++l:k.bo(r)}d.bf(e,l);k.$v(e);f=!!e.length;d.C(e);c.Ia();b.oc();return f},Rma(b,f){if(!b)return!1;const c=b.Z(),e=c.la();f=Math.floor(f);if(f>=e.length)return!1;c.Kn(e[f]);b.oc();return!0},Vma(b){if(!b)return!1;const f=b.Z(),
c=f.la(),e=Math.floor(this.b.Mn()*c.length);if(e>=c.length)return!1;f.Kn(c[e]);b.oc();return!0},Jma(b){if(!b||!b.D.length)return!1;b.Z().Me(!0);b.oc();return!0},Tma(b,f,c){if(!b)return!1;const e=b.Z();var k=e.la();const g=this.b.Gb().je,l=this.b.ng().Vj;e.ec?(d.xd(a,k),e.Jz(),e.Me(!1)):g?(d.xd(a,e.xc),d.C(e.xc)):(d.xd(a,e.D),d.C(e.D));for(let n=0,q=a.length;n<q;++n)k=a[n],d.xor(k.i().hv(f,c),l)?e.mq(k):e.bo(k);b.oc();return d.xor(!!e.D.length,l)},Qma(b){if(!b)return!1;var f=b.Ya;let c=null;const e=
this.b.tm;for(let k=e.length-1;0<=k;--k){const g=e[k];if(f){if(g.I().vF(b)){c=g;break}}else if(g.I()===b){c=g;break}}c||(f=b.la(),f.length&&(c=f.$e(-1)));if(!c)return!1;b.Z().Kn(c);b.oc();return!0},qna(b){return this.b.Se?this.L9(b):this.Cca(b)},Oqa(){return this.b.Se?this.e$():this.Eea()},Xja(b,f,c){return this.b.Se?this.I9(b,f,c):this.S$(b,f,c)},Yja(b){return this.b.Se?this.J9(b):this.T$(b)},Zja(b,f,c){return this.b.Se?this.K9(b,c):this.U$(b,c)},Ala(b){return b?b.Tc():!1},xla(b){return b?!b.D.length:
!1},wla(b,f,c){return b?d.compare(100*b.kf(),f,c):!1},D4(){return!0},ala(){return 0<this.Tq}}}
{"use strict";const d=self.j;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const f=[],c=[],e=d.A(d.Rect),k=d.A(d.$a);d.B.Xa.Ga={n7(g,l){g.jh(l)},FY(g,l){g.Fn()&&"number"!==typeof l&&(l=parseFloat(l));g.jh(g.ae()+l)},J7(g,l){g.Fn()&&g.jh(g.ae()-l)},zoa(g,l){g.jh(!!l)},oqa(g){g.jh(!g.ae())},doa(){this.b.ka().C5()},NZ(g,l,n,q,r){g&&l&&(n=this.b.FF(g,l,n,q,r))&&(r&&l.IH(n),l=this.b.ka(),l.df(!0),n.OB(),l.df(!1),g.Z().Ik(n),n.Kc()&&n.lj())},Bja(g,l,n,q,r){g&&
l&&(g=this.b.iG(g))&&d.B.Xa.Ga.NZ.call(this,g,l,n,q,r)},Xv(g,l,n,q,r,p,w,t,v,x){if(g){var z=this.b.Ma();if(p&&(z=this.b.gb.ks(p),!z))return;p=null;if("number"!==typeof w||0<=w)if(p=z.ba(w),!p)return;e.set(l,n,q,r);l=z.Xv(g,e,p,t,v,x);g.Z().$v(l);g.oc()}},Wpa(){const g=this.bg;g.GP()&&g.gs().nh()},Os(g,l){(g=this.b.ka().EO(g))&&(0===l?g.Os(!1):1===l?g.Os(!0):g.Os(!g.xs()))},zpa(g){this.b.DH(g)},upa(g,l){0>l&&(l=0);if(g){g=g.Z().la();for(const n of g)n.DH(l)}},goa(g){if(g){g=g.Z().la();for(const l of g)l.J5()}},
SH(g){if(!(0>g))return this.b.ka().qF().g3(g),!0},Iqa(g){this.b.ka().qF().e3(g);return!0},k8(){const g=this.b.ka();g.qF().S2(g.G1());return!0},Jpa(g){g=g.toLowerCase();for(const l of this.b.ka().Kg)l.G3()&&l.zy===g&&l.zH()},async DR(g,l,n,q,r,p){const w=this.b.aa;w&&(this.R(),await w.DR(0===g?"image/png":"image/jpeg",l/100,n,q,r,p),await this.b.Vf(d.B.Xa.F.t4,null))},Boa(g,l){if(!(0>=g||0>=l)){this.b.pw(g,l);var n=this.b.Ma();n.Dz();for(const q of n.lc)q.RH();if(n=this.b.aa)"off"!==n.wv()&&this.b.O6(g,
l),n.Rb(n.cp,n.bp,!0),this.b.R()}},Qoa(g){const l=this.b.aa;l&&"off"!==l.wv()&&(l.fR(0!==g?"high":"low"),l.Rb(l.cp,l.bp,!0))},Yp(g){this.b.S5(g)},Mla(g){this.b.S3(g)},Nla(g){this.b.WG(g)},Soa(){},eoa(){for(const g of this.b.gb.uj)g.G5()},wpa(g){this.b.S6(0!==g)},nR(g){this.b.nR(g)},Mpa(g,l){if(g){var n=g.Z().la(),q=this.b.Ma(),r=g.Ya;g=g.Mj;for(let w=0,t=n.length;w<t;++w){var p=n[w];const v=p.i();if(!v)continue;let x;x=r?p.jf(l+p.I().GO(g)):p.jf(l);f.push([v.ba().Ha(),v.Ak()]);c.push([p,x])}if(f.length){f.sort(a);
c.sort(b);l=!1;for(let w=0,t=f.length;w<t;++w)n=c[w][0],r=q.nA(f[w][0]),g=f[w][1],p=r.D,p[g]!==n&&(p[g]=n,n.i().Mw(r),r.mh(),l=!0);l&&this.b.R();d.C(f);d.C(c)}}},R1(g){if(!this.b.Wj){var l=this.b.gb;l.zs()||l.Hz(g)}},kka(g){if(!this.b.Wj){var l=this.b.gb;l.zs()||(g=l.ks(g))&&l.Hz(g)}},ima(g){if(!this.b.Wj){var l=this.b.gb;if(!l.zs()){var n=l.uj,q=n.indexOf(l.Wb());g&&0===q||(g||q!==n.length-1)&&l.Hz(n[q+(g?-1:1)])}}},I5(){if(!this.b.Wj){var g=this.b.gb;g.zs()||(g.Hz(g.Wb()),this.b.ka().D5())}},E6(g,
l){g&&g.Ke(l)},D6(g,l){g&&g.kj(l/100)},epa(g,l){g&&g.pR(l)},fpa(g,l){g&&g.V6(l)},Zoa(g,l){g&&g.Fc(d.eb(+l))},gpa(g,l,n){g&&(g.hw(!0),g.ei(l),g.gi(n))},foa(g){g&&g.hw(!1)},dpa(g,l,n){g&&g.P6(l/100,n/100)},ipa(g,l){g&&g.Le(+l)},$oa(g,l){g&&(k.Ru(l),k.fa(),g=g.jm,g.an(k)||(g.lk(k),this.R()))},hpa(g,l){g&&g.j7(l)},apa(g,l){g&&g.pf(l)},C6(g,l,n){g&&(g=g.Ra,n=g.Dl(n))&&(l=1===l,n.Nb!==l&&(n.YA(l),g.Xn(),this.b.R()))},bpa(g,l,n,q){if(g&&(g=g.Ra,l=g.Dl(l))&&(g=g.Xg(l.Ha()),n=Math.floor(n),!(0>n||n>=g.length))){var r=
l.kb.qA(n);if("color"===r){k.Ru(q);n=g[n];if(k.an(n))return;n.lk(k)}else{"percent"===r&&(q/=100);if(g[n]===q)return;g[n]=q}l.Nb&&this.b.R()}},cpa(g,l){g&&g.r6(l)},npa(g){this.b.Ma().aq(+g)},jpa(g){this.b.Ma().Fc(d.eb(+g))},kpa(g,l){const n=this.b.Ma().Ra;if(l=n.Dl(l))g=1===g,l.Nb!==g&&(l.YA(g),n.Xn(),this.b.R())},lpa(g,l,n){var q=this.b.Ma().Ra;if(g=q.Dl(g))if(q=q.Xg(g.Ha()),l=Math.floor(l),!(0>l||l>=q.length)){var r=g.kb.qA(l);if("color"===r){k.Ru(n);l=q[l];if(k.an(l))return;l.lk(k)}else{"percent"===
r&&(n/=100);if(q[l]===n)return;q[l]=n}g.Nb&&this.b.R()}},opa(g,l){this.b.Ma().m7(g/100,l/100)},mpa(g){const l=this.b.Ma();0===g?l.rR():l.oR()},soa(g){this.b.Ma().ei(g)},toa(g){this.b.Ma().gi(g)},qoa(g,l){const n=this.b.Ma();n.ei(g);n.gi(l)},roa(g){if(g&&(g=g.bG())&&(g=g.i())){var l=this.b.Ma();l.ei(g.O());l.gi(g.P())}},async U3(g){const l=this.b.Wb();l&&g&&!this.b.Wj&&await this.BI(l,g.Ya?g.vo:[g])},async Lla(g){await d.B.Xa.Ga.U3.call(this,this.b.iG(g))},Cqa(g){const l=this.b.Wb();l&&g&&this.xU(l,
g.Ya?g.vo:[g])},V7(g){d.B.Xa.Ga.V7.call(this,this.b.iG(g))},Dqa(){const g=this.b.Wb();if(g){var l=g.paa();this.xU(g,l)}},async Jla(g){const l=this.b.Wb();g&&l&&!this.b.Wj&&await this.BI(l,g.KS())},async Kla(g){const l=this.b.Wb();(g=this.b.gb.ks(g))&&l&&!this.b.Wj&&await this.BI(l,g.KS())},bB(g){const l=this.he.M0();if(l)switch(l.nV){case 1:"number"===typeof g&&l.bB(g);break;case 2:"string"===typeof g&&l.bB(g);break;case 3:l.bB(g)}},Pla(g,l,n){var q=this.tB(g.toLowerCase(),!0);const r=q.kF,p=l.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.kp)&&0!==q.Ko!==(0!==n.Ko)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,n)},Qla(g,l){const n=this.tB(g.toLowerCase(),!0);n.kp&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(n.kF.values())||n.kp;q&&
0!==q.Ko!==(0!==l.Ko)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.kp=l},Via(g,l,n){n=Math.floor(n);var q=this.tB(g.toLowerCase(),!1);if(q){var r=q.kF.get(l.toLowerCase());if(!r)if(q.kp)r=q.kp,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(r.jd())if(0!==r.Ko)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.b;l=g.ka();var p=l.Gb();q=p.Od();var w=0<q.length;w&&l.gh(q);var t=[];if(p=l.PF(p)){p=p.yh;for(let v=n,x=p.length;v<x;++v)t.push(p[v].ae())}n=r.yh;for(let v=t.length,x=n.length;v<x;++v)t.push(n[v].Vq);return g.Se?this.G9(l,r,t,w,q):this.f$(l,r,t,w,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.j;d.B.Xa.zd={rsa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Jra:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},gn(a){return a.toString()},jz(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.b.Mn()*a:this.b.Mn()*(b-a)+a},wga(...a){return a[Math.floor(this.b.Mn()*a.length)]},ita(){return Math.PI},osa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Jta(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.eb(a))},cos(a){return Math.cos(d.eb(a))},tan(a){return Math.tan(d.eb(a))},asin(a){return d.Wd(Math.asin(a))},acos(a){return d.Wd(Math.acos(a))},atan(a){return d.Wd(Math.atan(a))},exp(a){return Math.exp(a)},pha(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let e=a[f];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let e=a[f];"number"===typeof e&&b>e&&(b=e)}return b},fa(a,b,f){return d.fa(a,b,f)},cz(a,b,f,c){return d.Jf(a,b,f,c)},angle(a,b,f,c){return d.Wd(d.le(a,b,f,c))},nc(a,b,f){return d.nc(a,b,f)},lF(a,b,f){return d.lF(a,b,f)},cF(a,b,f,c){return d.cF(a,b,f,c)},rX(a,b,f,c,e){return d.rX(a,
b,f,c,e)},qX(a,b,f){return d.qX(a,b,f)},hra(a,b){return d.Wd(d.Zm(d.eb(a),d.eb(b)))},ira(a,b,f){return d.Wd(d.BM(d.eb(a),d.eb(b),f))},jra(a,b,f){return d.Wd(d.CM(d.eb(a),d.eb(b),d.eb(f)))},Vta(a,b,f){b|=0;return(a|0)&~(1<<b)|(0!==f?1:0)<<b},eua(a,b){return(a|0)^1<<(b|0)},hsa(a,b){return(a|0)&1<<(b|0)?1:0},Zsa(){return"\n"},lua(a){return"string"===typeof a?a.toUpperCase():""},Ssa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,f){return"string"!==
typeof a?"":0>f?a.substr(b):a.substr(b,f)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},fua(a,b,f){if("string"!==typeof a||"string"!==typeof f)return"";a=a.split(f);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},gua(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.lv(b),"i")):-1},Ira(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.lv(b),"")):-1},replace(a,b,f){return"string"===typeof a&&"string"===typeof b&&"string"===typeof f?a.replace(new RegExp(d.lv(b),"gi"),f):"string"===typeof a?a:""},uta(a,b,f){b=this.rA(b,f);return a?a.search(b):-1},tta(a,b,f,c){b=this.rA(b,f);return a?a.replace(b,c):""},sta(a,b,f){return(a=this.YO(a.toString(),b,f))?a.length:0},rta(a,b,f,c){c=Math.floor(c);a=this.YO(a.toString(),b,f);return!a||0>c||c>=a.length?"":a[c]},zua(a,b){let f=0>a?"-":"";0>a&&(a=-a);f+="0".repeat(Math.max(b-
a.toString().length,0));return f+a.toString()},nua(a){return encodeURIComponent(a)},mua(a){return decodeURIComponent(a)},vX(){return this.b.vC},cua(){return this.b.Fe},wua(){return(Date.now()-this.b.Oo)/1E3},jua(){return Date.now()},time(){return this.b.Of()},bua(){return this.b.il},cta(){return this.b.vL},Mra(){return this.b.MC},wra(){return this.b.JD},isa(){return this.b.mA()},yua(){return this.b.aa.ni},xua(){return this.b.aa.mi},gta(){return this.b.Xe},fta(){return this.b.We},eta(){return this.b.Xe},
dta(){return this.b.We},Mta(){return this.b.Ma().pg()},Nta(){return this.b.Ma().qg()},Msa(){return this.b.Ma().Ba()},Nsa(){return this.b.Ma().cc},Ksa(){return d.Wd(this.b.Ma().ta())},Osa(){return this.b.Ma().K()},Lsa(){return this.b.Ma().G()},sua(a){return(a=this.b.Ma().ba(a))?a.$o.M:0},uua(a){return(a=this.b.Ma().ba(a))?a.$o.J:0},tua(a){return(a=this.b.Ma().ba(a))?a.$o.V:0},qua(a){return(a=this.b.Ma().ba(a))?a.$o.S:0},vua(a){return(a=this.b.Ma().ba(a))?a.$o.width():0},rua(a){return(a=this.b.Ma().ba(a))?
a.$o.height():0},rra(a,b,f){return(a=this.b.Ma().ba(a))?a.Sh(b,f)[0]:0},sra(a,b,f){return(a=this.b.Ma().ba(a))?a.Sh(b,f)[1]:0},Hsa(a,b,f){return(a=this.b.Ma().ba(a))?a.Pp(b,f)[0]:0},Isa(a,b,f){return(a=this.b.Ma().ba(a))?a.Pp(b,f)[1]:0},Dsa(a){return(a=this.b.Ma().ba(a))?a.cc:0},ysa(a){return(a=this.b.Ma().ba(a))?d.Wd(a.Oe):0},Asa(a){return(a=this.b.Ma().ba(a))?100*a.kf():0},Esa(a){return(a=this.b.Ma().ba(a))?a.ek:0},Fsa(a){return(a=this.b.Ma().ba(a))?a.pg():0},Gsa(a){return(a=this.b.Ma().ba(a))?
a.qg():0},Bsa(a){return(a=this.b.Ma().ba(a))?100*a.ye:0},Csa(a){return(a=this.b.Ma().ba(a))?100*a.Ae:0},Jsa(a){return(a=this.b.Ma().ba(a))?a.Ua():0},zsa(a){return(a=this.b.Ma().ba(a))?a.Ha():-1},qra(){const a=this.b.aa;return a?a.UL:""},Rsa(a){const b=this.bg;return b.GP()?a?(a=b.u0(a))?a.Ha():0:b.gs().Ha():0},Kta(){return this.b.gr},pra(a,b,...f){var c=this.tB(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var e=c.kF.get(b.toLowerCase());
if(!e)if(c.kp)e=c.kp;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.Ko;const k=e.XF();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.jd())return k;a=this.b.ka();b=a.Gb().Od();const g=0<b.length;g&&a.gh(b);const l=e.yh;for(let n=f.length,q=l.length;n<q;++n)f.push(l[n].Vq);
e=e.Nf();f=e.PQ(e.Od(),c,k,...f);g&&a.Db(b);return f},Qsa(){return this.b.Pd.xD},lsa(){return 0===this.Tq?1:this.Fx/this.Tq},Kf(){return this.b.Gv()?"webgpu":"webgl"},xta(){return this.b.Gv()?"<unavailable>":this.b.Ip().Ty},nsa(){let a=this.b.pb().Q0();return Math.round(100*a/1048576)/100},yta(a,b,f){return d.T4(a,b,f)},Bta(a,b,f){return d.rQ(a/100,b/100,f/100)},zta(a,b,f,c){return d.SA(a/100,b/100,f/100,c/100)},Cta(a,b,f){return d.rQ(a/255,b/255,f/255)},Ata(a,b,f,c){return d.SA(a/255,b/255,f/255,
c/255)},lta(){return this.b.YD},mta(){return this.b.AW},yra(){return this.b.Gb().td.Ba()},xra(){return this.b.Gb().Dt}}}{"use strict";const d=self.j;d.B.Mb=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Mb.ue=class extends d.Sl{constructor(a){super(a);this.Gc=a.Gc}g(){d.C(this.Gc);super.g()}Qb(){for(const a of this.Gc)a.QP(this.b)}Ek(a){const b={Dd:this.b.zc};return Promise.all(this.Gc.map(f=>f.RP(a,b)))}bi(){for(const a of this.Gc)a.BQ()}QA(){this.AU()}AU(){for(const a of this.N.bha())a.ja.aJ()}ov(a){d.B.Mb.v0(this,a)}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Ec),f=d.A(d.Ys);d.B.Mb.Instance=class extends d.Xp{constructor(e,k){super(e);let g=!0,l="",n=0,q=!0;k&&(g=!!k[0],l=k[1],n=k[2],q=k[3]);this.Zb=this.N.vO(l)||this.N.Gc[0];this.Eb=d.fa(n,0,this.Zb.ie.length-1);this.xf=this.Zb.qk(this.Eb);k=this.xf.pc();this.xt=k.Cb();this.PJ=k.Zh();this.mx=k.ts();this.oP();e.fw(2,!0);e.fw(1,0<=this.Zb.Jl());this.Vk=Math.abs(this.Zb.Jl());this.wt=this.Zb.HW;this.YB=d.A(d.Mv);this.Rk=this.Pj=0;this.JU="";this.gx=-1;this.ot=
"";this.QU=0;e=this.i();this.IJ=e.mg();e.Ke(g);e.bw(q);e.Zp(this.xf.Xh());e.$p(this.xf.Yh());e.BH(this.xf.Cq);e.ua();1===this.N.Gc.length&&1===this.N.Gc[0].ie.length||0===this.Vk||this.uf()}g(){this.YB=this.xt=this.xf=this.Zb=null;super.g()}Ed(){return this.xf.pc()}Ml(){return!0}Qp(){this.xt=null}bH(){this.aJ()}Nd(e){var k=this.xt;null!==k&&(e.fe(k),k=this.i(),k.sg()?this.lI(k,e):this.mI(k,e))}mI(e,k){let g=this.IJ;this.b.Xj&&(g=e.Ds(g));k.TA(g,this.mx)}lI(e,k){const g=e.nP();if(e.JP()){e.Fz(a,b,
!1);let l=b;this.b.Xj&&(l=e.Ds(l));g.ON(e.dj(),l,this.mx);e.dB(!1)}g.Nd(k)}rv(){return this.YB.ea()}GA(){return this.L.eG(2)}Ks(e){this.L.fw(2,e)}KA(){return this.L.eG(1)}jw(e){this.L.fw(1,e)}MG(){return this.L.eG(4)}hR(e){this.L.fw(4,e)}ge(){this.ot&&this.oS();0<=this.gx&&this.jI();const e=this.Vk;if(this.GA()&&0!==e){this.YB.Sc(this.b.zp(this.L));var k=this.rv(),g=this.xf,l=g.ZU/e;if(!(k<this.Pj+l)){var n=this.Zb,q=this.wt,r=n.ie.length,p=n.vn(),w=n.hD,t=n.yfa;this.KA()?this.Eb++:this.Eb--;this.Pj+=
l;this.Eb>=r&&(t?(this.jw(!1),this.Eb=r-2):w?this.Eb=q:(this.Rk++,this.Rk>=p?this.pI(!1):this.Eb=q));0>this.Eb&&(t?(this.Eb=1,this.jw(!0),w||(this.Rk++,this.Rk>=p&&this.pI(!0))):w?this.Eb=q:(this.Rk++,this.Rk>=p?this.pI(!0):this.Eb=q));this.Eb=d.fa(this.Eb,0,r-1);l=n.qk(this.Eb);k>this.Pj+l.ZU/e&&(this.Pj=k);this.CB(g,l)}}else this.Qk()}pI(e){this.Eb=e?0:this.Zb.ie.length-1;this.Ks(!1);this.JU=this.Zb.Ba();this.hR(!0);this.Aa(d.B.Mb.F.r4);this.Aa(d.B.Mb.F.q4);this.hR(!1);this.Rk=0}CB(e,k){if(e!==
k){var g=this.i(),l=e.pc();e=k.pc();var n=l.K();l=l.G();var q=e.K(),r=e.G();n!==q&&g.rf(g.K()*(q/n));l!==r&&g.ld(g.G()*(r/l));g.Zp(k.Xh());g.$p(k.Yh());g.BH(k.Cq);g.ua();this.xf=k;this.xt=e.Cb();this.PJ=e.Zh();this.mx=e.ts();k=this.Ca().nd;for(let p=0,w=k.length;p<w;++p);this.Aa(d.B.Mb.F.A4);this.b.R()}}fea(e){this.Ks(!0);this.Pj=this.rv();1===e&&0!==this.Eb&&(this.gx=0,this.MG()||this.jI());this.uf()}jda(e,k){this.ot=e;this.QU=k;this.uf();this.MG()||this.oS()}HS(){return this.ot?this.ot:this.Zb.Ba()}kda(e){isFinite(e)&&
(this.gx=e,this.MG()||this.jI())}mda(e){this.Vk=Math.abs(e);this.jw(0<=e);0<this.Vk&&this.uf()}CS(){return this.KA()?this.Vk:-this.Vk}lda(e){this.wt=e=d.fa(Math.floor(e),0,this.Zb.ie.length-1)}oS(){const e=this.xf;var k=this.N.vO(this.ot);this.ot="";!k||k===this.Zb&&this.GA()||(this.Zb=k,this.jw(0<=k.Jl()),this.Vk=Math.abs(k.Jl()),this.wt=k.HW,this.Eb=d.fa(this.Eb,0,this.Zb.ie.length-1),1===this.QU&&(this.Eb=0),this.Ks(!0),this.Pj=this.rv(),k=this.Zb.qk(this.Eb),this.CB(e,k))}jI(){const e=this.xf;
var k=this.Eb;this.Eb=d.fa(Math.floor(this.gx),0,this.Zb.ie.length-1);this.gx=-1;k!==this.Eb&&(k=this.Zb.qk(this.Eb),this.CB(e,k),this.Pj=this.rv())}aJ(){const e=this.xf.pc();this.xt=e.Cb();this.PJ=e.Zh();this.mx=e.ts();this.i().dB(!0)}Cb(){return this.xt}Zh(){return this.PJ}ts(){return this.mx}xv(){return this.xf.xv()}Fl(e){const k=this.xf,g=this.i();if("string"===typeof e)e=k.KO(e);else if("number"===typeof e)e=k.JO(e-1);else throw new TypeError("expected string or number");if(!e)return[g.O(),g.P()];
f.qa(e.WD);if(g.sg()){const [l,n]=g.dj().QH(f.X,f.T);f.set(l,n)}f.offset(-k.Xh(),-k.Yh());f.scale(g.K(),g.G());f.rotate(g.ta());f.offset(g.O(),g.P());return[f.X,f.T]}J0(){return this.i().yk().oz()}AO(e){e=Math.floor(e);const k=this.i();var g=k.yk();const l=g.oz();e===l&&(e=0);if(0>e||e>=l)return[0,0];g=g.Pc;return[g[2*e]+k.O(),g[2*e+1]+k.P()]}Xb(){const e={a:this.Zb.jb};0!==this.Pj&&(e.fs=this.Pj);var k=this.rv();0!==k&&(e.at=k);0!==this.Eb&&(e.f=this.Eb);0!==this.Vk&&(e.cas=this.Vk);1!==this.Rk&&
(e.ar=this.Rk);0!==this.wt&&(e.rt=this.wt);this.GA()||(e.ap=this.GA());this.KA()||(e.af=this.KA());k=this.i();k.bh()&&(e.ce=k.bh());return e}Pb(e){var k=this.I().D0(e.a);k&&(this.Zb=k);this.Pj=e.hasOwnProperty("fs")?e.fs:0;this.YB.Set(e.hasOwnProperty("at")?e.at:0);k=e.hasOwnProperty("f")?e.f:0;this.Eb=d.fa(k,0,this.Zb.ie.length-1);this.Vk=e.hasOwnProperty("cas")?e.cas:0;this.Rk=e.hasOwnProperty("ar")?e.ar:1;k=e.hasOwnProperty("rt")?e.rt:0;this.wt=d.fa(k,0,this.Zb.ie.length-1);this.Ks(e.hasOwnProperty("ap")?
!!e.ap:!0);this.jw(e.hasOwnProperty("af")?!!e.af:!0);this.xf=k=this.Zb.qk(this.Eb);this.aJ();const g=this.i();g.Zp(k.Xh());g.$p(k.Yh());g.BH(k.Cq);g.bw(!!e.ce)}Bb(e){const k=this.i();switch(e){case 3:return k.bh();case 2:return d.fa(this.Eb,0,this.Zb.ie.length-1)}}Jd(e,k){var g=this.i();switch(e){case 3:g.bw(!!k);break;case 2:this.Ks(!1);e=this.Zb.ie.length-1;g=k=d.fa(k,0,e);k=this.Zb.qk(this.Eb);const l=this.Zb.qk(g);this.CB(k,l);this.Eb=d.fa(g,0,e)}}Zg(){return self.t2}};const c=new WeakMap;self.t2=
class extends self.vs{constructor(){super();c.set(this,self.yn.cm().ja)}get animationName(){return c.get(this).HS()}get imageWidth(){return c.get(this).Ed().K()}get imageHeight(){return c.get(this).Ed().G()}}}
{"use strict";const d=self.j;d.B.Mb.F={Gka(a){return d.pl(this.HS(),a)},tZ(a,b){return d.compare(this.Eb,a,b)},hja(a,b){return d.compare(this.CS(),a,b)},q4(a){return d.pl(this.JU,a)},r4(){return!0},A4(){return!0},bla(){return 0>this.i().K()},Tka(){return 0>this.i().G()},RA(){return!0},aH(){return!0},bh(){return this.i().bh()}}}
{"use strict";const d=self.j;d.B.Mb.Ga={Npa(a,b,f,c){if(a&&b){var [e,k]=this.Fl(f);if(f=this.b.FF(a,b,e,k,c)){c&&b.IH(f);a.Hb().Mp()&&(b=f.i(),b.Fc(this.i().ta()),b.ua());b=this.b.ka();b.df(!0);f.OB();b.df(!1);c=this.b.vv().Yd();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.b.Ht)b=!0,c.set("Spawn_LastExec",this.b.Ht);if(a!==this.I()&&(a=a.Z(),a.Me(!1),a=a.D,b&&d.C(a),a.push(f),f.Kc()))for(const g of f.Sd)f=g.I().Z(),b?f.Ik(g):(f.Me(!1),f.mq(g))}}},Vpa(){this.Ks(!1)},Spa(a){this.fea(a)},
uoa(a,b){this.jda(a,b)},Y5(a){this.kda(a)},woa(a){this.mda(a)},voa(a){this.lda(a)},tpa(a){const b=this.i(),f=b.K();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.rf(a),b.ua())},Ooa(a){const b=this.i(),f=b.G();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.ld(a),b.ua())},aq(a){const b=this.xf.pc(),f=this.i();var c=0>f.K()?-1:1;const e=0>f.G()?-1:1;c*=b.K()*a;a=b.G()*a*e;if(f.K()!==c||f.G()!==a)f.Rb(c,a),f.ua()},async V3(a,b){const f=this.xf.pc(),c=this.i(),e=this.b;if(f.ik===a)0===b&&(c.Rb(f.K(),f.G()),c.ua()),this.Aa(d.B.Mb.F.RA);
else{var k=d.A(d.Jv);try{await k.TP(e,a);if(!k.JA())throw Error("image failed to load");await k.Hn(e.pb(),{Dd:this.b.zc})}catch(g){console.error("Load image from URL failed: ",g);this.Aa(d.B.Mb.F.aH);return}f.B5(k);this.Oa.AU();this.hq()||0!==b||(c.Rb(f.K(),f.G()),c.ua());e.R();this.hq()||await this.Vf(d.B.Mb.F.RA)}},Doa(a){this.i().bw(a)},AH(a,b){this.i().AH(0===a,b)},uH(a){this.i().pf(a);this.b.R()}}}"use strict";
self.j.B.Mb.zd={yia(){return this.Eb},zia(){return this.Zb.ie.length},Aia(){return this.Zb.Ba()},Bia(){return this.CS()},Dma(){return this.Zb.Jl()},xka(d){return this.Fl(d)[0]},yka(d){return this.Fl(d)[1]},wka(){return this.xv()},B2(){return this.Ed().K()},z2(){return this.Ed().G()},dna(d){return this.AO(d)[0]},ena(d){return this.AO(d)[1]},cna(){return this.J0()}};{"use strict";const d=self.j;d.B.Touch=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j,a=self.Sg;d.B.Touch.ue=class extends d.Sl{constructor(f){super(f)}g(){super.g()}Qb(){}Zg(){return self.w2}};let b=null;self.w2=class extends self.DG{constructor(f){super(f);b=f;f.H().hx.xN=this}requestPermission(f){a.qe(f);const c=b.Il().ja;if("orientation"===f)return c.JI(0);if("motion"===f)return c.JI(1);throw Error("invalid type");}}}
{"use strict";const d=self.j;d.B.Touch.Instance=class extends d.Zv{constructor(a,b){super(a,"touch");this.Bd=new Map;this.iD=this.aX=!1;this.PC=this.pi=this.oi=this.jM=this.AE=this.tu=this.fJ=this.eJ=this.dJ=this.iJ=this.hJ=this.gJ=this.yL=this.xL=this.wL=this.OD=0;this.QD=[];b&&(this.aX=b[0]);this.BN("permission-result",f=>this.Qba(f));a=this.H().Fb();this.Ad=new d.Zr(d.gd.Xd(a,"pointerdown",f=>this.Rba(f.data)),d.gd.Xd(a,"pointermove",f=>this.Sba(f.data)),d.gd.Xd(a,"pointerup",f=>this.vT(f.data,
!1)),d.gd.Xd(a,"pointercancel",f=>this.vT(f.data,!0)),d.gd.Xd(a,"deviceorientation",f=>this.Eba(f.data)),d.gd.Xd(a,"deviceorientationabsolute",f=>this.Fba(f.data)),d.gd.Xd(a,"devicemotion",f=>this.Dba(f.data)),d.gd.Xd(a,"tick2",()=>this.HI()))}g(){this.Bd.clear();super.g()}Rba(a){if("mouse"===a.pointerType)if(this.aX)this.iD=!0;else return;const b=a.pointerId;if(!this.Bd.has(b)){var f=a.pageX-this.b.tv();a=a.pageY-this.b.uv();var c=performance.now(),e=this.Bd.size;this.tu=e;this.AE=b;var k=d.A(d.B.Touch.P7);
k.zn(c,f,a,b,e);this.Bd.set(b,k);this.Aa(d.B.Touch.F.J4);this.Aa(d.B.Touch.F.pQ);this.oi=f;this.pi=a;this.Aa(d.B.Touch.F.S4)}}Sba(a){if("mouse"!==a.pointerType||this.iD){var b=this.Bd.get(a.pointerId);if(b){var f=performance.now();2>f-b.Ea()||b.Wl(f,a.pageX-this.b.tv(),a.pageY-this.b.uv(),a.width,a.height,a.pressure)}}}vT(a,b){if("mouse"===a.pointerType)if(this.iD)this.iD=!1;else return;const f=performance.now();a=a.pointerId;const c=this.Bd.get(a);c&&(this.tu=c.Ih,this.AE=c.rk(),this.Aa(d.B.Touch.F.I4),
this.Aa(d.B.Touch.F.oQ),b||(b=c.v7(f),"single-tap"===b?(this.Aa(d.B.Touch.F.Q4),this.oi=c.O(),this.pi=c.P(),this.Aa(d.B.Touch.F.R4)):"double-tap"===b&&(this.Aa(d.B.Touch.F.y4),this.oi=c.O(),this.pi=c.P(),this.Aa(d.B.Touch.F.z4))),c.g(),this.Bd.delete(a))}JI(a){this.yT("request-permission",{type:a});return new Promise((b,f)=>{this.QD.push({type:a,resolve:b,reject:f})})}Qba(a){const b=a.result,f=a.type;this.jM=f;a=this.QD.filter(c=>c.type===f);for(const c of a)c.resolve(b?"granted":"denied");this.QD=
this.QD.filter(c=>c.type!==f);b?(this.Aa(d.B.Touch.F.L4),0===f?this.b.Gs():this.b.On()):this.Aa(d.B.Touch.F.K4)}Eba(a){"number"===typeof a.webkitCompassHeading?this.OD=a.webkitCompassHeading:a.absolute&&(this.OD=a.alpha);this.wL=a.alpha;this.xL=a.beta;this.yL=a.gamma}Fba(a){this.OD=a.alpha}Dba(a){const b=a.acceleration;b&&(this.gJ=b.x,this.hJ=b.y,this.iJ=b.z);if(a=a.accelerationIncludingGravity)this.dJ=a.x,this.eJ=a.y,this.fJ=a.z}HI(){const a=performance.now();let b=0;for(const f of this.Bd.values())f.Ea()<=
a-50&&f.Ida(a),f.u7(a)&&(this.tu=f.Ih,this.AE=f.rk(),this.PC=b,this.Aa(d.B.Touch.F.B4),this.oi=f.O(),this.pi=f.P(),this.Aa(d.B.Touch.F.C4),this.PC=0),++b}pj(a){a=Math.floor(a);for(const b of this.Bd.values()){if(0===a)return b;--a}return null}Cw(a,b){return 0<=a&&0<=b&&a<this.b.I0()&&b<this.b.H0()}}}
{"use strict";const d=self.j,a=[];d.B.Touch.F={pQ(){return!0},oQ(){return!0},Vka(){return 0<this.Bd.size},S4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.gB(b,this.oi,this.pi):!1},J3(b){if(!b)return!1;const f=b.Z();var c=f.la();for(const e of c){c=e.i();const k=c.ba();for(const g of this.Bd.values()){if(!this.Cw(g.O(),g.P()))continue;const [l,n]=k.Sh(g.O(),g.P(),c.Qf());if(c.hv(l,n)){a.push(e);break}}}return a.length?(f.$v(a),b.oc(),d.C(a),!0):!1},qja(b,f,c){return(b=this.pj(b))?d.compare(b.Jl(),
f,c):!1},Cma(){return!0},Xla(){return!0},mja(b,f,c){this.b.Gs();return d.compare(0===b?this.wL:1===b?this.xL:this.yL,f,c)},gja(b,f,c){this.b.On();return d.compare(0===b?this.dJ:1===b?this.eJ:2===b?this.fJ:3===b?this.gJ:4===b?this.hJ:this.iJ,f,c)},J4(b){b=Math.floor(b);return b===this.tu},I4(b){b=Math.floor(b);return b===this.tu},nka(b){b=Math.floor(b);return this.Bd.size>=b+1},B4(){return!0},Q4(){return!0},y4(){return!0},C4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.gB(b,this.oi,this.pi):!1},
R4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.gB(b,this.oi,this.pi):!1},z4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.gB(b,this.oi,this.pi):!1},L4(b){return this.jM===b},K4(b){return this.jM===b}}}"use strict";self.j.B.Touch.Ga={tna(d){this.JI(d)}};
{"use strict";const d=self.j;d.B.Touch.zd={qqa(){return this.Bd.size},u8(a){const b=this.pj(this.PC);return b?b.qs(this.b.Ma(),a,!0):0},v8(a){const b=this.pj(this.PC);return b?b.qs(this.b.Ma(),a,!1):0},Tqa(a,b){return(a=this.pj(a))?a.qs(this.b.Ma(),b,!0):0},Vqa(a,b){return(a=this.pj(a))?a.qs(this.b.Ma(),b,!1):0},Uqa(a,b){return(a=this.Bd.get(a))?a.qs(this.b.Ma(),b,!0):0},Wqa(a,b){return(a=this.Bd.get(a))?a.qs(this.b.Ma(),b,!1):0},fia(){const a=this.pj(0);return a?a.O():0},iia(){const a=this.pj(0);
return a?a.P():0},gia(a){return(a=this.pj(a))?a.O():0},jia(a){return(a=this.pj(a))?a.P():0},hia(a){return(a=this.Bd.get(a))?a.O():0},kia(a){return(a=this.Bd.get(a))?a.P():0},Opa(a){return(a=this.pj(a))?a.Jl():0},Ppa(a){return(a=this.Bd.get(a))?a.Jl():0},wia(a){return(a=this.pj(a))?d.Wd(a.ta()):0},xia(a){return(a=this.Bd.get(a))?d.Wd(a.ta()):0},xja(){this.b.Gs();return this.OD},via(){this.b.Gs();return this.wL},Mia(){this.b.Gs();return this.xL},eka(){this.b.Gs();return this.yL},mia(){this.b.On();return this.dJ},
oia(){this.b.On();return this.eJ},qia(){this.b.On();return this.fJ},lia(){this.b.On();return this.gJ},nia(){this.b.On();return this.hJ},pia(){this.b.On();return this.iJ},sqa(){return this.tu},rqa(){return this.AE},Qqa(a){return(a=this.Bd.get(a))?a.K():0},oka(a){return(a=this.Bd.get(a))?a.G():0},gna(a){return(a=this.Bd.get(a))?a.zW:0}}}
{"use strict";const d=self.j;let a=-1E3,b=-1E3,f=-1E4;d.B.Touch.P7=class extends d.ia{constructor(){super();this.zW=this.U=this.W=this.CD=this.BD=this.T=this.X=this.qE=this.pE=this.AD=this.ed=this.Oo=this.Ih=this.yW=0;this.pD=this.vK=!1}g(){}zn(c,e,k,g,l){this.yW=g;this.Ih=l;this.Oo=this.AD=this.ed=c;this.pE=e;this.qE=k;this.X=e;this.T=k;this.BD=e;this.CD=k}Wl(c,e,k,g,l,n){this.AD=this.ed;this.ed=c;this.BD=this.X;this.CD=this.T;this.X=e;this.T=k;this.W=g;this.U=l;this.zW=n;!this.pD&&15<=d.Jf(this.pE,
this.qE,this.X,this.T)&&(this.pD=!0)}rk(){return this.yW}Ea(){return this.ed}Ida(c){this.AD=c}O(){return this.X}P(){return this.T}Jl(){const c=d.Jf(this.X,this.T,this.BD,this.CD),e=(this.ed-this.AD)/1E3;return 0<e?c/e:0}ta(){return d.le(this.BD,this.CD,this.X,this.T)}K(){return this.W}G(){return this.U}u7(c){return this.vK?!1:500<=c-this.Oo&&!this.pD&&15>d.Jf(this.pE,this.qE,this.X,this.T)?this.vK=!0:!1}v7(c){if(this.vK)return"";if(333>=c-this.Oo&&!this.pD&&15>d.Jf(this.pE,this.qE,this.X,this.T)){if(666>=
c-f&&25>d.Jf(a,b,this.X,this.T))return b=a=-1E3,f=-1E4,"double-tap";a=this.X;b=this.T;f=c;return"single-tap"}return""}qs(c,e,k){return"undefined"===typeof e?c.nA(0).gZ(this.X,this.T)[k?0:1]:(c=c.ba(e))?c.Sh(this.X,this.T)[k?0:1]:0}}}{"use strict";const d=self.j;d.B.Keyboard=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Keyboard.ue=class extends d.Sl{constructor(a){super(a)}g(){super.g()}Qb(){}Zg(){return self.o2}};self.o2=class extends self.DG{constructor(a){super(a);a.H().hx.keyboard=this}}}
{"use strict";const d=self.j;d.B.Keyboard.Instance=class extends d.Zv{constructor(a){super(a);this.Ux=new Set;this.Pt=new Set;this.jl=0;this.Ry=this.BE="";a=this.H().Fb();this.Ad=new d.Zr(d.gd.Xd(a,"keydown",b=>this.FI(b.data)),d.gd.Xd(a,"keyup",b=>this.GI(b.data)),d.gd.Xd(a,"window-blur",()=>this.ft()),d.gd.Xd(a,"keyboard-blur",()=>this.ft()))}g(){super.g()}FI(a){const b=a.which,f=a.code||b.toString();a=a.key;this.Ux.has(f)||(this.Ux.add(f),this.Pt.add(b),this.BE=f,this.jl=b,this.Ry=a,this.Aa(d.B.Keyboard.F.s4),
this.Aa(d.B.Keyboard.F.fQ),this.Aa(d.B.Keyboard.F.F4),this.Aa(d.B.Keyboard.F.E4))}GI(a){const b=a.which,f=a.code||b.toString();a=a.key;this.Ux.delete(f);this.Pt.delete(b);this.BE=f;this.jl=b;this.Ry=a;this.Aa(d.B.Keyboard.F.dQ);this.Aa(d.B.Keyboard.F.hQ);this.Aa(d.B.Keyboard.F.G4);this.Aa(d.B.Keyboard.F.gQ)}ft(){for(const a of this.Pt)this.Pt.delete(a),this.jl=a,this.Aa(d.B.Keyboard.F.dQ),this.Aa(d.B.Keyboard.F.hQ),this.Aa(d.B.Keyboard.F.gQ);this.Ux.clear()}Xb(){return{tk:this.jl,tkk:this.Ry}}Pb(a){this.jl=
a.tk;a.hasOwnProperty("tkk")&&(this.Ry=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.j.B.Keyboard.F={Yka(a){return this.Pt.has(a)},fQ(a){return this.jl===a},s4(){return!0},dQ(){return!0},hQ(a){return this.jl===a},Xka(a){a=Math.floor(a);return this.Pt.has(a)},E4(a){return this.jl===a},gQ(a){return this.jl===a},F4(a){return this.BE===d[a]},G4(a){return this.BE===d[a]},Zka(a){return this.Ux.has(d[a])}}}"use strict";
self.j.B.Keyboard.Ga={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.j.B.Keyboard.zd={vla(){return this.jl},Zpa(a){return d(a)},xqa(){return this.Ry}}}{"use strict";const d=self.j;d.B.Uf=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.Uf.ue=class extends d.Sl{constructor(a){super(a);this.Gc=a.Gc}g(){d.C(this.Gc);super.g()}Qb(){for(const a of this.Gc)a.QP(this.b)}Ek(a){const b={Dd:this.b.zc};return Promise.all(this.Gc.map(f=>f.RP(a,b)))}bi(){for(const a of this.Gc)a.BQ()}}}
{"use strict";const d=self.j,a=self.Sg,b=d.A(d.Ec),f=d.A(d.Ys);function c(g,l,n,q,r,p,w,t,v,x,z){q=[d.nc(g,q,x),d.nc(l,r,x),d.nc(n,p,x)];const [D,E,M]=q;l=E+(t-l);n=M+(v-n);return[d.nc(D,D+(w-g),z),d.nc(E,l,z),d.nc(M,n,z)]}d.B.Uf.Instance=class extends d.Xp{constructor(g,l){super(g);this.wr=0;this.nl=15;g=!0;this.KU=this.N.Gc[0];this.si=[!1,!0,!0,!0,!0,!0];this.EC=[0,1,2,3,4,5];this.Kr=8;this.qx=[null,null,null,null,null,null];l&&(this.wr=l[0],this.nl=l[1],g=!!l[2],this.si[0]=!!l[3],this.si[1]=!!l[4],
this.si[2]=!!l[5],this.si[3]=!!l[6],this.si[4]=!!l[7],this.si[5]=!!l[8],this.Kr=l[9],this.oq(0,this.b.aj(l[10])),this.oq(1,this.b.aj(l[11])),this.oq(2,this.b.aj(l[12])),this.oq(3,this.b.aj(l[13])),this.oq(4,this.b.aj(l[14])),this.oq(5,this.b.aj(l[15])));l=this.i();l.tH(this.nl);this.IJ=l.mg();l.Ke(g);g=this.Yz();l.Zp(g.Xh());l.$p(g.Yh());l.ua()}g(){super.g()}Yz(){return this.KU.qk(0)}Ed(){return this.Yz().pc()}Ml(){return!0}Nd(g){var l=this.i(),n=this.IJ;this.b.Xj&&(n=l.Ds(n));const q=n.rb,r=n.mb,
p=n.Vb,w=n.hc,t=n.tc,v=n.uc,x=n.ic,z=n.jc;var D=this.wr;const E=this.nl;var M=this.si,B=M[0];let G=M[1],H=M[2],J=M[3],P=M[4];M=M[5];l.t3()?M=P=J=H=G=!1:l.u3()&&(B=!1);B&&this.rc(g,0,q,r,0,p,w,0,t,v,0,x,z,0,0);0===D?(H&&this.rc(g,2,q,r,E,x,z,E,x,z,0,q,r,0,0),J&&this.rc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.rc(g,4,p,w,E,q,r,E,q,r,0,p,w,0,0),M&&this.rc(g,5,x,z,E,t,v,E,t,v,0,x,z,0,0),G&&this.rc(g,1,q,r,E,p,w,E,t,v,E,x,z,E,0)):1===D?(n=(q+x)/2,l=(r+z)/2,D=(p+t)/2,B=(w+v)/2,H&&this.rc(g,2,n,l,E,n,l,E,
x,z,0,q,r,0,4),J&&this.rc(g,3,D,B,E,D,B,E,p,w,0,t,v,0,4),P&&this.rc(g,4,D,B,E,n,l,E,q,r,0,p,w,0,0),M&&this.rc(g,5,n,l,E,D,B,E,t,v,0,x,z,0,0)):2===D?(H&&this.rc(g,2,p,w,E,t,v,E,x,z,0,q,r,0,0),J&&this.rc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.rc(g,4,p,w,E,p,w,E,q,r,0,p,w,0,2),M&&this.rc(g,5,t,v,E,t,v,E,t,v,0,x,z,0,3)):3===D?(l=n.op(),n=n.pp(),H&&this.rc(g,2,l,n,E,l,n,E,x,z,0,q,r,0,4),J&&this.rc(g,3,l,n,E,l,n,E,p,w,0,t,v,0,4),P&&this.rc(g,4,l,n,E,l,n,E,q,r,0,p,w,0,4),M&&this.rc(g,5,l,n,E,l,n,E,t,v,0,
x,z,0,4)):4===D?(H&&this.rc(g,2,p,w,E,p,w,E,x,z,0,q,r,0,2),J&&this.rc(g,3,p,w,E,p,w,E,p,w,0,t,v,0,3),P&&this.rc(g,4,p,w,E,p,w,E,q,r,0,p,w,0,2),M&&this.rc(g,5,p,w,E,p,w,E,t,v,0,x,z,0,3)):5===D&&(H&&this.rc(g,2,q,r,E,q,r,E,x,z,0,q,r,0,2),J&&this.rc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.rc(g,4,p,w,E,q,r,E,q,r,0,p,w,0,0),M&&this.rc(g,5,t,v,E,t,v,E,t,v,0,x,z,0,3),G&&this.rc(g,1,q,r,E,p,w,E,t,v,E,x,z,0,1))}rc(g,l,n,q,r,p,w,t,v,x,z,D,E,M,B){var G=null,H=null,J=!1;G=this.qx[l];if(null!==G){G=G.UO(this.Ca());
if(!G)return;l=G.ja;if(d.B.Mb&&l instanceof d.B.Mb.Instance){G=l.Cb();if(null===G)return;H=l.ts()}else if(d.B.oh&&l instanceof d.B.oh.Instance||d.B.Jn&&l instanceof d.B.Jn.Instance){let P=0,Q=0;J=this.Kr;switch(B){case 0:case 1:P=Math.hypot(p-n,w-q,(t-r)*J);Q=Math.hypot(v-p,x-w,(z-t)*J);break;case 2:P=Math.hypot(v-D,x-E,(z-M)*J);Q=Math.hypot(D-n,E-q,(M-r)*J);break;case 3:P=Math.hypot(v-D,x-E,(z-M)*J);Q=Math.hypot(v-p,x-w,(z-t)*J);break;case 4:P=Math.hypot(v-D,x-E,(z-M)*J),Q=Math.hypot((D+v)/2-n,(E+
x)/2-q,((M+z)/2-r)*J)}if(d.B.oh&&l instanceof d.B.oh.Instance){G=l.Cb();if(null===G)return;l.bZ(P,Q,b);J=!0}else{if(0!==B)return;l.VT((T,W)=>{T.mk(P,Q);const Z=T.M,Y=T.J,fa=T.V;T=T.S;const [ja,xa,Ka]=c(n,q,r,p,w,t,D,E,M,Z,Y),[Ta,Pa,Ua]=c(n,q,r,p,w,t,D,E,M,fa,Y),[db,Qa,La]=c(n,q,r,p,w,t,D,E,M,fa,T),[Ya,Va,gb]=c(n,q,r,p,w,t,D,E,M,Z,T);g.k5(ja,xa,Ka,Ta,Pa,Ua,db,Qa,La,Ya,Va,gb,W)});l.sS(g,0,0,P,Q);l.VT(null);return}}else return}else{l=this.EC[l];H=this.KU.qk(l).pc();G=H.Cb();if(null===G)return;H=H.ts()}g.fe(G);
3<=B||J?(J||b.qa(H),3===B?(b.VX(b.Vb),b.WX(b.mb)):4===B&&(b.VX((b.rb+b.Vb)/2),b.WX((b.mb+b.hc)/2)),g.Fs(n,q,r,p,w,t,v,x,z,D,E,M,b)):g.Fs(n,q,r,p,w,t,v,x,z,D,E,M,H)}Tp(){return this.bT(0)}xv(){return this.Yz().xv()}Fl(g){const l=this.Yz(),n=this.i();if("string"===typeof g)g=l.KO(g);else if("number"===typeof g)g=l.JO(g-1);else throw new TypeError("expected string or number");if(!g)return[n.O(),n.P()];f.qa(g.WD);if(n.sg()){const [q,r]=n.dj().QH(f.X,f.T);f.set(q,r)}f.offset(-l.Xh(),-l.Yh());f.scale(n.K(),
n.G());f.rotate(n.ta());f.offset(n.O(),n.P());return[f.X,f.T]}kU(g){this.wr!==g&&(this.wr=g,this.b.R())}Yda(g){g=Math.max(g,0);this.nl!==g&&(this.nl=g,this.i().tH(g),this.b.R())}xda(g,l){l=!!l;this.si[g]!==l&&(this.si[g]=l,this.b.R())}bT(g){return this.si[g]}wda(g,l){const n=this.EC,q=this.qx;if(n[g]!==l||null!==q[g])n[g]=l,q[g]=null,this.b.R()}oq(g,l){null!==l&&l.Ya&&(l=l.vo[0]);const n=this.qx;n[g]!==l&&(n[g]=l,this.b.R())}Zda(g){this.Kr!==g&&(this.Kr=g,this.b.R())}Xb(){return{s:this.wr,zh:this.nl,
fv:this.si,fi:this.EC,fo:this.qx.map(g=>g?g.jb:-1),zf:this.Kr}}Pb(g){this.wr=g.s;this.nl=g.zh;this.i().tH(this.nl);this.si=g.fv.slice(0);this.EC=g.fi.slice(0);g.hasOwnProperty("fo")&&(this.qx=g.fo.map(l=>this.b.aj(l)));g.hasOwnProperty("zf")&&(this.Kr=g.zf)}Bb(){}Jd(){}Zg(){return self.j2}};const e=new WeakMap,k="box prism wedge pyramid corner-out corner-in".split(" ");self.j2=class extends self.vs{constructor(){super();e.set(this,self.yn.cm().ja)}set shape(g){a.qe(g);g=k.indexOf(g);if(-1===g)throw new TypeError("invalid shape");
e.get(this).kU(g)}get shape(){return k[e.get(this).cra()]}}}{"use strict";const d=self.j;d.B.Uf.F={nja(a){return this.wr===a},wja(a,b){return d.compare(this.nl,a,b)},Rka(a){return this.bT(a)}}}"use strict";self.j.B.Uf.Ga={ypa(d){this.kU(d)},Gpa(d){this.Yda(d)},Noa(d,a){this.xda(d,a)},Loa(d,a){this.wda(d,a)},Hpa(d){this.Zda(d)},Moa(d,a){this.oq(d,a)}};"use strict";self.j.B.Uf.zd={Yqa(){return this.nl},ara(){return this.Kr}};
{"use strict";const d=self.j;d.B.Qr=class extends d.ij{constructor(a){super(a);this.Tfa=this.b.Ov({url:"penumbra.png"});this.vW=null;this.b.zY(this.Tfa.VP().then(b=>this.vW=b))}g(){super.g()}}}{"use strict";const d=self.j;d.B.Qr.ue=class extends d.Sl{constructor(a){super(a)}g(){super.g()}Qb(){}Ek(){}bi(){}}}
{"use strict";const d=self.j,a=[0,0,0],b=["all","same-tag","different-tag"],f=d.A(d.$a),c=d.A(d.nn),e=[],k=d.A(d.Rect);d.B.Qr.Instance=class extends d.Xp{constructor(g,l){super(g);g=this.i();this.Fg=g.O();this.Gg=g.P();this.Bh=0;this.Ue=1E3;this.Eg=0;this.Ja=d.A(d.$a);this.zj=0;this.Lg="";this.vD=g.O();this.wD=g.P();this.Dh=null;l&&(this.Bh=l[0],this.Eg=0===this.Bh?l[1]:0,g=l[2],this.Ja.Uu(g[0],g[1],g[2]),this.zj=l[3],this.Lg=l[4]);this.Fh=d.A(self.r7);this.oP();this.qq()}g(){this.ET();this.Fh&&(this.Fh.g(),
this.Fh=null);this.Ja=null;super.g()}Xb(){return{lx:this.Fg,ly:this.Gg,lh:this.Bh,lr:this.Eg,lkx:this.vD,lky:this.wD,sc:this.Ja.toJSON(),cf:this.zj,t:this.Lg}}Pb(g){g.hasOwnProperty("lx")&&(this.Fg=g.lx);g.hasOwnProperty("ly")&&(this.Gg=g.ly);this.Bh=g.lh;this.Eg=g.lr;g.hasOwnProperty("lkx")&&(this.vD=g.lkx);g.hasOwnProperty("lky")&&(this.wD=g.lky);this.Ja.fn(g.sc);this.zj=g.cf;this.Lg=g.t}ET(){this.Dh&&(this.b.pb().Ie(this.Dh),this.Dh=null)}Qp(){this.Dh=null}bH(){}j9(g){switch(this.zj){case 0:return!0;
case 1:return d.pl(this.Lg,g);case 2:return!d.pl(this.Lg,g)}}fq(){const g=this.i();if(this.vD!==g.O()||this.wD!==g.P())this.Fg=g.O(),this.Gg=g.P();g.ba().uG(g.Qf(),k);const l=k.op(),n=k.pp(),q=k.width()+this.Ue,r=k.height()+this.Ue;if(l!==g.O()||n!==g.P()||q!==g.K()||r!==g.G())g.re(l,n),g.Rb(q,r),g.ua();this.vD=g.O();this.wD=g.P();this.Ue=15*d.Jf(k.M,k.J,k.V,k.S)}maa(){var g=this.b.Hm.xO(d.xa.Pr);if(!g)return[];var l=this.i();const n=l.ba();l=l.tb();g=g.pA();const q=[];this.b.uh.TO(n,g,l,q);return[...new Set(q)]}wea(){this.Fh.G6(this.Fg);
this.Fh.H6(this.Gg);this.Fh.I6(this.Bh);this.Fh.F6(this.Eg);this.Fh.XQ(b[this.zj]);this.Fh.Vl(this.Lg);this.Fh.L6(this.Ue)}rba(g){if(!this.Dh){var l=this.Hb().vW,n=l.width,q=l.height,r=d.ef(n,q),p=r.getContext("2d");p.drawImage(l,0,0,n,q);l=p.getImageData(0,0,n,q);n=l.data;q=Math.floor(255*this.Ja.Za);var w=Math.floor(255*this.Ja.cb),t=Math.floor(255*this.Ja.bb);for(let v=0,x=n.length;v<x;v+=4)n[v]=q,n[v+1]=w,n[v+2]=t;p.putImageData(l,0,0);this.Dh=g.Ui(r,{Dd:this.b.zc})}}Nd(g){this.wea();this.rba(g);
this.Fh.Q6(this.Dh);const l=this.i();f.lk(this.Ja);f.Rg(l.kf());f.qz();g.jj(f);g.ew();for(const n of this.maa())this.o$(g,n)}o$(g,l){var n=l.Yd();if(n.get("shadowcasterEnabled")&&this.j9(n.get("shadowcasterTag")))if(n=n.get("shadowcasterHeight"),l.Ck())this.D$(g,l,n);else{l=l.i();const q=l.yk();c.qa(q);c.offset(l.O(),l.P());this.Fh.DQ(g,c,n)}}D$(g,l,n){var q=this.i().tb();l.ja.K0(q,e);q=l.i();l=q.O();q=q.P();for(let p=0,w=e.length;p<w;++p){var r=e[p];const t=r.H1();(r=r.WO())?(c.qa(r),c.offset(l+
t.M,q+t.J)):c.Ph(t,-l,-q);this.Fh.DQ(g,c,n)}d.C(e)}Bb(g){switch(g){case 0:return this.Bh;case 1:return this.Eg;case 2:return a[0]=this.Ja.Za,a[1]=this.Ja.cb,a[2]=this.Ja.bb,a.slice(0);case 3:return this.zj;case 4:return this.Lg}}Jd(g,l){switch(g){case 0:this.Bh=l;break;case 1:this.Eg=l;break;case 2:this.Ja.Uu(l[0],l[1],l[2]);break;case 3:this.zj=l;break;case 4:this.Lg=l}}}}"use strict";self.j.B.Qr.F={};
{"use strict";const d=self.j,a=d.A(d.$a);d.B.Qr.Ga={qpa(b){this.Bh!==b&&(this.Bh=b,this.b.R())},ppa(b){a.Ru(b);a.fa();this.Ja.an(a)||(this.Ja.lk(a),this.ET(),this.b.R())},Vl(b){this.Lg!==b&&(this.Lg=b,this.b.R())},XQ(b){this.zj!==b&&(this.zj=b,this.b.R())}}}"use strict";self.j.B.Qr.zd={Gla(){return this.Fg},Hla(){return this.Gg},L7(){return this.Lg}};
{"use strict";const d=self.j;let a=0,b=0,f=new d.Ec,c=new d.Ec;const e=new Set(["all","same-tag","different-tag"]);self.r7=class{constructor(){this.Eg=this.Bh=this.Gg=this.Fg=0;this.zj="all";this.Lg="";this.Ue=1E3;this.vj=[];this.xJ=[];this.Ge=[];this.tq=this.hm=this.Fq=this.Wk=-1;this.eu=this.du=this.qC=this.pC=this.UB=this.TB=this.RJ=this.QJ=this.lJ=this.kJ=0;this.Dh=null}g(){this.kd();this.Dh=this.Ge=this.xJ=this.vj=null}kd(){d.C(this.vj);d.C(this.xJ);d.C(this.Ge);this.tq=this.hm=this.Fq=this.Wk=
-1;this.eu=this.du=this.qC=this.pC=this.UB=this.TB=this.RJ=this.QJ=this.lJ=this.kJ=0}G6(k){this.Fg=k}H6(k){this.Gg=k}I6(k){this.Bh=k}F6(k){0>k&&(k=0);this.Eg=k}XQ(k){if(!e.has(k))throw Error("invalid cast-from");this.zj=k}Vl(k){this.Lg=k}Dv(){return this.Lg}L6(k){this.Ue=k}Q6(k){this.Dh=k}DQ(k,g,l){this.kd();this.aZ(g,l);k.ew();6<=this.Ge.length&&k.EZ(this.Ge);0<this.Eg&&this.Dh&&(-1<this.Wk&&-1<this.Fq&&(k.wg(),k.fe(this.Dh),this.rO(k,g,!0)),-1<this.hm&&-1<this.tq&&(k.wg(),k.fe(this.Dh),this.rO(k,
g,!1)))}aZ(k,g){this.du=k.y1();this.eu=k.z1();0<this.Eg?this.d9(k):this.e9(k,g)}d9(k){this.WH(k,-this.Eg);this.oI();d.xd(this.xJ,this.vj);this.Fq=this.Wk;this.tq=this.hm;d.C(this.vj);this.hm=this.Wk=-1;this.WH(k,this.Eg);this.oI();-1!==this.Wk&&-1!==this.hm&&-1!==this.Fq&&-1!==this.tq&&this.V8(k)}e9(k,g){this.WH(k,0);this.oI();k=k.Pc;for(let l=0,n=k.length;l<n;l+=2)this.U8(l/2,this.Fg,this.Gg,k[l],k[l+1],g)}WH(k,g){let l=this.Fg,n=this.Gg,q=l,r=n,p=0;0!==g&&(p=d.le(l,n,this.du,this.eu)-Math.PI/2);
k=k.Pc;for(let t=0,v=k.length;t<v;t+=2){var w=t+2;w===v&&(w=0);let x=k[t],z=k[t+1],D=k[w];w=k[w+1];0!==g&&(q=l+Math.cos(p)*g,r=n+Math.sin(p)*g);this.vj.push(d.Zm(d.le(x,z,q,r),d.le(x,z,D,w)-Math.PI/2)>=Math.PI/2)}}DS(k){k%=this.vj.length;0>k&&(k+=this.vj.length);return this.vj[k]}oI(){for(let k=0,g=this.vj.length;k<g;++k){let l=this.vj[k],n=this.DS(k-1);n&&!l&&(this.Wk=k);!n&&l&&(this.hm=k)}}U8(k,g,l,n,q,r){var p=this.DS(k-1);let w=k===this.Wk,t=k===this.hm;this.vj[k]||p?(k=d.le(g,l,n,q),p=d.Jf(g,
l,n,q),r=this.W8(g,l,n,q,r),g+=Math.cos(k)*(p+r),l+=Math.sin(k)*(p+r)):(g=n,l=q);t&&(this.Ge.push(n),this.Ge.push(q));this.Ge.push(g);this.Ge.push(l);w&&(this.Ge.push(n),this.Ge.push(q))}W8(k,g,l,n,q){return q>=this.Bh?this.Ue:0>=q?0:d.fa(d.Jf(k,g,l,n)/(this.Bh-q)*q,0,this.Ue)}V8(k){for(var g=this.Fq,l,n=k.E1(),q=k.Pc;g===n&&(g=0),l=2*g,k=q[l],l=q[l+1],this.Ge.push(k),this.Ge.push(l),g!==this.hm;++g);var r=this.Eg;g=k;k=l;var p=d.le(this.Fg,this.Gg,this.du,this.eu);l=this.Fg+Math.cos(p-Math.PI/2)*
r;n=this.Gg+Math.sin(p-Math.PI/2)*r;p=d.le(l,n,g,k);var w=d.Jf(l,n,g,k);l+=Math.cos(p)*(w+this.Ue);n+=Math.sin(p)*(w+this.Ue);p=2*this.Fq;var t=q[p];q=q[p+1];p=d.le(this.Fg,this.Gg,this.du,this.eu);var v=this.Fg+Math.cos(p+Math.PI/2)*r,x=this.Gg+Math.sin(p+Math.PI/2)*r;p=d.le(v,x,t,q);w=d.Jf(v,x,t,q);r=v+Math.cos(p)*(w+this.Ue);p=x+Math.sin(p)*(w+this.Ue);this.kJ=g;this.lJ=k;this.QJ=t;this.RJ=q;{v=l-g;x=n-k;let z=r-t,D=p-q,E=-z*x+v*D;0===E?g=!1:(w=(-x*(g-t)+v*(k-q))/E,E=-z*x+v*D,0===E?g=!1:(t=(z*
(k-q)-D*(g-t))/E,0<=w&&1>=w&&0<=t&&1>=t?(a=g+t*v,b=k+t*x,g=!0):g=!1))}g?(this.Ge.push(a),this.Ge.push(b),this.TB=a,this.UB=b,this.pC=a,this.qC=b):(this.Ge.push(l),this.Ge.push(n),this.Ge.push(r),this.Ge.push(p),this.TB=l,this.UB=n,this.pC=r,this.qC=p)}rO(k,g,l){var n=this.Fg,q=this.Gg,r=g.Pc;let p,w,t;l?(g=this.QJ,p=this.RJ,w=this.pC,t=this.qC):(g=this.kJ,p=this.lJ,w=this.TB,t=this.UB);var v=this.Eg,x=d.le(n,q,this.du,this.eu),z=Math.PI/2;l&&(z=-z);n+=Math.cos(x+z)*v;q+=Math.sin(x+z)*v;z=v=0;if(l){if(l=
this.Wk!==this.Fq)v=r[2*this.Wk],z=r[2*this.Wk+1]}else if(l=this.hm!==this.tq)v=r[2*this.tq],z=r[2*this.tq+1];x=l?d.le(v,z,g,p):d.le(n,q,g,p);r=g+Math.cos(x)*this.Ue;let D=p+Math.sin(x)*this.Ue,E=0,M=0,B=0,G=0,H=1;l&&(n=d.le(n,q,v,z),E=v+Math.cos(n)*this.Ue,M=z+Math.sin(n)*this.Ue,B=d.Zm(x,n)/d.Zm(d.le(g,p,w,t),n),n=d.Jf(v,z,g,p),n/=n+this.Ue,q=d.le(0,1,B,0),x=d.Jf(0,1,B,0),G+=Math.cos(q)*n*x,H+=Math.sin(q)*n*x);f.set(g,p,w,t,r,D,r,D);c.set(G,H,1,0,B,0,B,0);k.TA(f,c);l&&(f.set(v,z,r,D,E,M,E,M),c.set(0,
1,B,0,0,0,0,0),k.TA(f,c))}}}{"use strict";const d=self.j;d.B.mj=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.mj.ue=class extends d.Sl{constructor(a){super(a);this.xb=d.A(self.C7)}g(){super.g()}Qb(){this.pc().Nv(this.b)}Ek(a){return this.pc().Hn(a,{Dd:this.b.zc})}bi(){this.pc().hh()}d8(a,b,f,c){const e=this.pc(),k=this.xb;k.rf(e.K());k.ld(e.G());k.ZA(a);k.rH(b);k.sH(f);k.CH(c);k.NR()}}}
{"use strict";const d=self.j,a=self.Sg,b=["left","center","right"],f=["top","center","bottom"];d.B.mj.Instance=class extends d.Xp{constructor(k,g){super(k);this.mc="";this.so=!0;this.yg=this.vf=16;this.oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.Bj=1;this.ke=this.we=this.Ic=this.Cj=0;this.Wm=!0;this.Ce=null;this.kl=this.uu=-1;this.Sy=0;g&&(this.mc=g[0],this.so=g[1],this.vf=g[2],this.yg=g[3],this.oo=g[4],k=g[5],this.Bj=
g[6],this.Cj=g[7],this.Ic=g[8],this.we=g[9],this.ke=g[10],this.Wm=0===g[11],this.i().Ke(g[12]));this.Oa.d8(this.vf,this.yg,this.oo,k);this.Ce=d.A(self.E7,this.Oa.xb);g=this.i();this.Ce.Rb(g.K(),g.G());this.qh();this.L.M6()}g(){this.Yn();this.Ce.g();this.Ce=null;super.g()}qh(){const k=this.Ce;k&&(k.WQ(this.so),k.Ts(this.mc),k.BR(this.Wm?"word":"character"),k.v6(b[this.we]),k.o7(f[this.ke]),k.wR(this.Cj),k.cB(this.Ic))}Nd(k){const g=this.N.pc();var l=g.Cb();if(l){k.fe(l);l=this.i();var n=l.mg(),q=this.Ce;
q.aq(this.Bj);q.W6(l.ZO());this.b.Xj&&(n=l.Ds(n));q.Rb(l.K(),l.G());q.xb.a7(g.Zh());q.jj(l.Ja);q.Nd(k,n.rb,n.mb,l.ta())}}Xb(){const k={t:this.mc,ebbc:this.so,csc:this.Bj,csp:this.Cj,lh:this.Ic,ha:this.we,va:this.ke,w:this.Wm,cw:this.Oa.xb.vf,ch:this.Oa.xb.yg,cs:this.Oa.xb.oo,sd:this.Oa.xb.mu};-1!==this.kl&&(k.tw={st:this.uu,en:this.kl,l:this.Sy});return k}Pb(k){this.Yn();this.mc=k.t;this.so=k.ebbc;this.Bj=k.csc;this.Cj=k.csp;this.Ic=k.lh;this.we=k.ha;this.ke=k.va;this.Wm=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.uu=g.st;this.kl=g.en;this.Sy=k.l}g=this.Oa.xb;g.ZA(k.cw);g.rH(k.ch);g.sH(k.cs);g.CH(k.sd);this.qh();-1!==this.kl&&this.uf()}Bb(k){switch(k){case 0:return this.mc;case 1:return this.so;case 2:return this.Oa.xb.vf;case 3:return this.Oa.xb.yg;case 4:return this.Oa.xb.oo;case 5:return this.Oa.xb.mu;case 6:return this.Bj;case 7:return this.Cj;case 8:return this.Ic;case 9:return this.we;case 10:return this.ke;case 11:return this.Wm?1:0}}Jd(k,g){switch(k){case 0:if(this.mc===g)break;this.mc=g;
this.qh();break;case 1:if(this.so===!!g)break;this.so=!!g;this.qh();break;case 2:this.Oa.xb.ZA(g);break;case 3:this.Oa.xb.rH(g);break;case 4:this.Oa.xb.sH(g);break;case 5:this.Oa.xb.CH(g);break;case 6:if(this.Bj===g)break;this.Bj=g;this.qh();break;case 7:if(this.Cj===g)break;this.Cj=g;this.qh();break;case 8:if(this.Ic===g)break;this.Ic=g;this.qh();break;case 9:if(this.we===g)break;this.we=g;this.qh();break;case 10:if(this.ke===g)break;this.ke=g;this.qh();break;case 11:this.Wm!==(0===g)&&(this.Wm=
0===g,this.qh())}}LB(k){this.mc!==k&&(this.mc=k,this.Ce.Ts(k),this.b.R())}gea(k,g){this.LB(k);this.uu=this.b.vG();this.kl=this.uu+g/this.Ca().B0();this.Sy=d.wl.FR(k).length;this.Ce.$A(0);this.uf()}Yn(){this.kl=this.uu=-1;this.Sy=0;this.Ce.$A(-1);this.Qk()}I$(){-1!==this.kl&&(this.Yn(),this.Aa(d.B.mj.F.qQ),this.b.R())}Lda(k){this.Bj!==k&&(this.Bj=k,this.Ce.aq(this.Bj),this.b.R())}pda(k){this.Cj!==k&&(this.Cj=k,this.Ce.wR(this.Cj),this.b.R())}gU(k){this.Ic!==k&&(this.Ic=k,this.Ce.cB(this.Ic),this.b.R())}Ada(k){this.we!==
k&&(this.we=k,this.qh(),this.b.R())}nU(k){this.ke!==k&&(this.ke=k,this.qh(),this.b.R())}Xda(k){k=!!k;this.Wm!==k&&(this.Wm=k,this.qh(),this.b.R())}ge(){var k=this.b.vG();k>=this.kl?(this.Yn(),this.Aa(d.B.mj.F.qQ),this.b.R()):(k=d.Hha(this.uu,this.kl,k,this.Sy),k=Math.floor(k),k!==this.Ce.wh&&(this.Ce.$A(k),this.b.R()))}Zg(){return self.s2}};const c=new WeakMap,e=new Map([["top",0],["center",1],["bottom",2]]);self.s2=class extends self.vs{constructor(){super();c.set(this,self.yn.cm().ja)}get text(){return c.get(this).mc}set text(k){a.qe(k);
const g=c.get(this);g.Yn();g.LB(k)}set lineHeight(k){a.hj(k);c.get(this).gU(k)}get lineHeight(){return c.get(this).Ic}set verticalAlign(k){a.qe(k);k=e.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).nU(k)}get verticalAlign(){return f[c.get(this).ke]}}}{"use strict";const d=self.j;d.B.mj.F={wZ(a,b){return b?this.mc===a:d.pl(this.mc,a)},kla(){return-1!==this.kl},qQ(){return!0}}}"use strict";
self.j.B.mj.Ga={Ts(d){this.Yn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.LB(d.toString())},Cia(d){this.Yn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.LB(this.mc+d)},zqa(d,a){this.Yn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.gea(d.toString(),a)},yqa(){this.I$()},aq(d){this.Lda(d)},Coa(d){this.pda(d)},cB(d){this.gU(d)},ZA(d,a){let b=!1;const f=this.Oa.xb;for(const c of d)if(" "===c)f.X6(a),b=!0;else if(d=f.bA(c))d.dR(a),b=
!0;b&&f.d6();this.b.R()},uH(d){this.i().pf(d);this.b.R()},Roa(d){this.Ada(d)},Bpa(d){this.nU(d)},Epa(d){this.Xda(0===d)}};{"use strict";const d=self.j;d.B.mj.zd={aja(a){return(a=this.Oa.xb.bA(a))?a.YF():this.Oa.xb.vf},Yia(){return this.yg},Zia(){return this.Bj},$ia(){return this.Cj},Ila(){return this.Ic},Text(){return this.mc},ana(){return this.so?d.wl.FR(this.mc):this.mc},kqa(){const a=this.i();this.Ce.Rb(a.K(),a.G());return this.Ce.kP()},jqa(){const a=this.i();this.Ce.Rb(a.K(),a.G());return this.Ce.jP()}}}
{"use strict";const d=self.j;self.D7=class{constructor(a,b,f,c){b=a.vf;let e=a.yg;this.xb=a;this.DW=new d.Rect(f,c,f+b,c+e);this.hl=new d.Rect;this.VJ=-1;this.FU()}g(){this.hl=this.DW=this.xb=null}FU(){let a=this.xb.K(),b=this.xb.G();this.hl.qa(this.DW);this.hl.mk(a,b);this.hl.nha(this.xb.Zh())}Zh(){return this.hl}dR(a){this.VJ=a}YF(){return 0>this.VJ?this.xb.vf:this.VJ}}}
{"use strict";const d=self.j,a=new d.Rect,b=new d.Ec,f=new d.$a,c=new Set(["left","center","right"]),e=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.E7=class{constructor(g){this.xb=g;this.mm=this.wf=0;this.mc="";this.Re=!1;this.wj=null;this.If=d.A(d.uw);this.Jr="word";this.zM=!1;this.we="left";this.ke="top";this.vy=this.cc=1;this.Ic=this.Ar=0;this.Ja=d.A(d.$a);this.wh=-1;this.vh=0;this.cy=(l,n)=>this.Hw(l,n);this.xb.N8(this)}g(){this.xb.Aca(this);this.cy=this.Ja=null;this.If.Jc();
this.wj=this.xb=this.If=null}Hw(g,l){var n=this.Xc(l,"scale"),q=(n?parseFloat(n.wd):this.cc)*this.vy;n=this.Xc(l,"scalex");n=(n?parseFloat(n.wd):1)*q;l=this.Xc(l,"scaley");l=this.xb.yg*(l?parseFloat(l.wd):1)*q+this.Ic;const r=this.xb;q=r.vf*n;const p=this.Ar;if(r.Kt){let t=0,v=0;for(var w of g){g=q;const x=r.bA(w);x?g=x.YF()*n:" "===w&&(g=r.gP()*n);v+=g;++t}return{width:v+t*p,height:l}}w=[...g].length;return{width:q*w+Math.max(w,0)*p,height:l}}Ok(){this.zM=!0;this.If.Jc()}Rb(g,l){0>=g||0>=l||this.wf===
g&&this.mm===l||(this.wf!==g&&this.Ok(),this.wf=g,this.mm=l)}$A(g){this.wh=Math.floor(g)}Xc(g,l){for(let n=g.length-1;0<=n;--n){const q=g[n];if(q.tag===l)return q}return null}$n(g,l){return!!this.Xc(g,l)}lq(){if(this.zM){!this.Re||this.wj&&this.wj.toString()===this.mc||(this.wj=new d.wl(this.mc,{IX:!0}));var g=-this.Ar;this.If.uw(this.Re?this.wj.$X():this.mc,this.cy,this.wf,this.Jr,g);this.zM=!1}}Nd(g,l,n,q){this.lq();let r=this.vh=0;const p=this.Ic,w=d.PE(this.If.el),t=Math.sin(q);q=Math.cos(q);
var v=w.reduce((x,z)=>x+z.height,0)-p;"center"===this.ke?r=Math.max(Math.floor(this.mm/2-v/2),0):"bottom"===this.ke&&(r=Math.floor(this.mm-v));for(let x=0,z=w.length;x<z;++x){v=w[x];const D=v.height;if(0<x&&r>this.mm-(D-p))break;0<=r&&this.w$(g,v,l,n,r,t,q);r+=D}}w$(g,l,n,q,r,p,w){const t=l.height;let v=0;"center"===this.we?v=Math.max(Math.floor((this.wf-l.width)/2),0):"right"===this.we&&(v=Math.max(Math.floor(this.wf-l.width),0));for(const x of l.LM)this.n$(g,x,n,q,v,r,p,w,t),v+=x.width}n$(g,l,n,
q,r,p,w,t,v){var x=l.text,z=l.width,D=l.yd;if(-1!==this.wh){if(this.vh>=this.wh)return;this.vh+x.length>this.wh&&(x=x.substr(0,this.wh-this.vh),z=this.Hw(x,D).width);this.vh+=x.length}var E=this.Xc(D,"background");if(!(d.LA(x)&&!E||this.$n(D,"hide"))){l=this.Xc(D,"scale");var M=(l?parseFloat(l.wd):this.cc)*this.vy;l=this.Xc(D,"scalex");l=(l?parseFloat(l.wd):1)*M;var B=this.Xc(D,"scaley");M*=this.xb.yg*(B?parseFloat(B.wd):1);p+=v-this.Ic-M;v=this.Xc(D,"offsetx");r+=v?parseFloat(v.wd):0;v=this.Xc(D,
"offsety");p+=v?parseFloat(v.wd):0;E&&(g.ew(),f.NX(E.wd),f.Rg(1),g.jj(f),a.set(r,p,r+z,p+M),a.V>this.wf&&a.Oha(this.wf),b.fF(a,w,t),b.offset(n,q),g.Ec(b),g.wg());(z=this.Xc(D,"color"))?(f.NX(z.wd),f.Rg(this.Ja.Wa)):f.qa(this.Ja);(z=this.Xc(D,"opacity"))&&f.Rg(f.Wa*parseFloat(z.wd)/100);f.qz();g.jj(f);z=this.xb.vf*l;D=Math.abs(this.Ar);for(const G of x)if(x=this.xb.bA(G)){E=x.YF()*l;if(r+E>this.wf+D+1E-5)break;a.set(r,p,r+z,p+M);b.fF(a,w,t);b.offset(n,q);g.Rl(b,x.Zh());r+=E+this.Ar}else r+=this.xb.gP()*
l+this.Ar}}WQ(g){g=!!g;this.Re!==g&&(this.Re=g,this.Ok())}Ts(g){this.mc!==g&&(this.mc=g,this.Ok())}BR(g){if(!k.has(g))throw Error("invalid word wrap mode");this.Jr!==g&&(this.Jr=g,this.Ok())}v6(g){if(!c.has(g))throw Error("invalid alignment");this.we=g}o7(g){if(!e.has(g))throw Error("invalid alignment");this.ke=g}aq(g){this.cc!==g&&(this.cc=g,this.Ok())}W6(g){this.vy!==g&&(this.vy=g,this.Ok())}ZO(){return this.vy}wR(g){this.Ar!==g&&(this.Ar=g,this.Ok())}cB(g){this.Ic=g;this.Ok()}kj(g){g=d.fa(g,0,
1);this.Ja.ep=g}jj(g){this.Ja.fd(g)||this.Ja.qa(g)}kP(){this.lq();return this.If.RO()}jP(){this.lq();const g=this.Ic;return this.If.el.length*(this.xb.yg*this.cc+g)-g}}}
{"use strict";const d=self.j,a={width:256,height:256,nX:16,mX:16,characterSet:""};self.C7=class{constructor(b){b=Object.assign({},a,b);if(0>=b.width||0>=b.height||0>=b.nX||0>=b.mX)throw Error("invalid size");this.W=b.width;this.U=b.height;this.vf=b.nX;this.yg=b.mX;this.oo=b.characterSet;this.mu="";this.Fy=null;this.Kt=!1;this.zr=-1;this.hl=new d.Rect(0,0,1,1);this.Bq=new Map;this.Fo=!0;this.wq=new Set}g(){this.hl=null;this.BT();this.Bq=null;this.wq&&this.wq.clear();this.wq=null}BT(){for(let b of this.Bq.values())b.g();
this.Bq.clear()}N8(b){this.wq.add(b)}Aca(b){this.wq.delete(b)}NR(){if(this.Fo){this.BT();var b=[...this.oo],f=Math.floor(this.W/this.vf),c=f*Math.floor(this.U/this.yg);for(let e=0,k=b.length;e<k&&!(e>=c);++e){let g=b[e];this.Bq.set(g,d.A(self.D7,this,g,e%f*this.vf,Math.floor(e/f)*this.yg))}this.Kt=!1;this.zr=-1;if(Array.isArray(this.Fy))for(let e of this.Fy)if(Array.isArray(e)&&2===e.length&&(b=e[0],f=e[1],"number"===typeof b&&isFinite(b)&&"string"===typeof f&&b!==this.vf))for(let k of f)(f=this.Bq.get(k))?
(f.dR(b),this.Kt=!0):" "===k&&(this.zr=b,this.Kt=!0);this.Fo=!1;for(let e of this.wq)e.Ok()}}d6(){this.Kt=!0;for(const b of this.wq)b.Ok()}bA(b){this.NR();return this.Bq.get(b)||null}rf(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.W!==b&&(this.W=b,this.Fo=!0)}K(){return this.W}ld(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.U!==b&&(this.U=b,this.Fo=!0)}G(){return this.U}a7(b){if(!this.hl.fd(b)){this.hl.qa(b);for(const f of this.Bq.values())f.FU()}}Zh(){return this.hl}ZA(b){b=
Math.floor(b);if(0>=b)throw Error("invalid size");this.vf!==b&&(this.vf=b,this.Fo=!0)}rH(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.yg!==b&&(this.yg=b,this.Fo=!0)}sH(b){this.oo!==b&&(this.oo=b,this.Fo=!0)}CH(b){if(this.mu!==b&&(this.mu=b,this.Fo=!0,this.Fy=null,this.mu.length))try{this.Fy=JSON.parse(this.mu)}catch(f){this.Fy=null}}X6(b){0>b&&(b=-1);this.zr!==b&&(this.zr=b,0<=this.zr&&(this.Kt=!0))}gP(){return 0>this.zr?this.vf:this.zr}}}{"use strict";const d=self.j;d.B.oh=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;function a(b){switch(b){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.B.oh.ue=class extends d.Sl{constructor(b,f){super(b);this.Ym=this.Xm="repeat";f&&(this.Xm=a(f[0]),this.Ym=a(f[1]))}g(){super.g()}Qb(){this.pc().Nv(this.b)}Ek(b){return this.pc().Hn(b,{Dd:this.b.zc,jn:this.Xm,kn:this.Ym})}bi(){this.pc().hh()}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Ec),f=d.A(d.Rect),c=d.A(d.Ec);d.B.oh.Instance=class extends d.Xp{constructor(k,g){super(k);this.Qq=this.Pq=0;this.Sq=this.Rq=1;this.$k=0;this.ir=null;g&&(this.i().Ke(!!g[0]),this.Pq=g[4],this.Qq=g[5],this.Rq=g[6],this.Sq=g[7],this.$k=d.eb(g[8]))}g(){this.DT();super.g()}DT(){this.ir&&(this.ir.g(),this.ir=null)}bZ(k,g,l){var n=this.Ed();const q=n.K();n=n.G();const r=this.Pq/q,p=this.Qq/n,w=this.$k;f.set(0,0,k/(q*this.Rq),g/(n*this.Sq));f.offset(-r,
-p);0===w?l.Ph(f):l.Su(f,-w)}Nd(k){var g=this.Ed(),l=g.Cb();if(null!==l){k.fe(l);l=g.K();g=g.G();var n=this.Pq/l,q=this.Qq/g,r=this.i();f.set(0,0,r.K()/(l*this.Rq),r.G()/(g*this.Sq));f.offset(-n,-q);r.sg()?this.lI(r,k):this.mI(r,k)}}mI(k,g){let l=k.mg();this.b.Xj&&(l=k.Ds(l));0===this.$k?g.Rl(l,f):(c.Su(f,-this.$k),g.TA(l,c))}lI(k,g){const l=k.nP();if(k.JP()){k.Fz(a,b,!1);let n=b;this.b.Xj&&(n=k.Ds(n));let q=f;0!==this.$k&&(c.Su(f,-this.$k),q=c);l.ON(k.dj(),n,q);k.dB(!1)}l.Nd(g)}Ed(){return this.ir||
this.N.pc()}Ml(){return!0}Cb(){return this.Ed().Cb()}Nw(){this.i().dB(!0)}cU(k){this.Pq!==k&&(this.Pq=k,this.b.R(),this.Nw())}dU(k){this.Qq!==k&&(this.Qq=k,this.b.R(),this.Nw())}eU(k){this.Rq!==k&&(this.Rq=k,this.b.R(),this.Nw())}fU(k){this.Sq!==k&&(this.Sq=k,this.b.R(),this.Nw())}bU(k){this.$k!==k&&(this.$k=k,this.b.R(),this.Nw())}Bb(k){switch(k){case 4:return this.Pq;case 5:return this.Qq;case 6:return this.Rq;case 7:return this.Sq;case 8:return this.$k}}Jd(k,g){switch(k){case 4:this.cU(g);break;
case 5:this.dU(g);break;case 6:this.eU(g);break;case 7:this.fU(g);break;case 8:this.bU(g)}}Zg(){return self.v2}};const e=new WeakMap;self.v2=class extends self.vs{constructor(){super();e.set(this,self.yn.cm().ja)}get imageWidth(){return e.get(this).Ed().K()}get imageHeight(){return e.get(this).Ed().G()}}}"use strict";self.j.B.oh.F={RA(){return!0},aH(){return!0}};
{"use strict";const d=self.j;d.B.oh.Ga={Voa(a){this.cU(a)},Woa(a){this.dU(a)},Xoa(a){this.eU(a/100)},Yoa(a){this.fU(a/100)},Uoa(a){this.bU(d.eb(a))},uH(a){this.i().pf(a);this.b.R()},async V3(a){if(!this.ir||this.ir.ik!==a){var b=this.b,f=d.A(d.Jv);try{await f.TP(b,a);if(!f.JA())throw Error("image failed to load");if(this.hq())return f.g(),null;if(!await f.Hn(b.pb(),{Dd:this.b.zc,jn:"repeat",kn:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.Aa(d.B.oh.F.aH);return}this.hq()?
f.g():(this.DT(),this.ir=f,b.R(),await this.Vf(d.B.oh.F.RA))}}}}{"use strict";const d=self.j;d.B.oh.zd={B2(){return this.Ed().K()},z2(){return this.Ed().G()},uka(){return this.Pq},vka(){return this.Qq},zka(){return 100*this.Rq},Aka(){return 100*this.Sq},rka(){return d.Wd(this.$k)}}}{"use strict";const d=self.j;d.B.Jn=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Jn.ue=class extends d.Sl{constructor(a){super(a);this.YJ=this.Qo=null}g(){this.bi();super.g()}Qb(){this.pc().Nv(this.b)}async Ek(){this.YJ=await this.pc().q0()}dO(a,b,f,c){!this.Qo&&this.YJ&&(this.Qo=new self.f4(this),this.Qo.RZ(this.YJ,a,b,f,c))}bi(){this.Qo&&(this.Qo.g(),this.Qo=null)}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Rect),f=d.A(d.Ec);d.B.Jn.Instance=class extends d.Xp{constructor(c,e){super(c);this.eC=this.vE=this.bE=this.DD=16;this.hV=this.$U=1;this.OV=!0;this.bx=null;e&&(this.DD=e[0],this.bE=e[1],this.vE=e[2],this.eC=e[3],this.$U=e[4],this.hV=e[5],this.OV=!!e[8],this.i().Ke(!!e[6]));this.Oa.dO(this.DD,this.bE,this.vE,this.eC)}g(){super.g()}VT(c){this.bx=c}Nd(c){const e=this.i(),k=e.mg();this.sS(c,k.rb,k.mb,e.K(),e.G())}sS(c,e,k,g,l){let n=this.Oa.Qo;if(!n&&
(this.Oa.dO(this.DD,this.bE,this.vE,this.eC),n=this.Oa.Qo,!n))return;const q=this.DD,r=this.bE,p=this.vE,w=this.eC,t=n.Ex-r,v=n.Dx-w;var x=this.OV?1:0;const z=this.$U,D=this.hV;0<q&&0<p&&this.$l(c,n.Cb(),0,0,q+x,p+x,e,k,q+x,p+x);0<r&&0<p&&this.$l(c,n.Cb(),t-x,0,r+x,p+x,e+g-r-x,k,r+x,p+x);0<r&&0<w&&this.$l(c,n.Cb(),t-x,v-x,r+x,w+x,e+g-r-x,k+l-w-x,r+x,w+x);0<q&&0<w&&this.$l(c,n.Cb(),0,v-x,q+x,w+x,e,k+l-w-x,q+x,w+x);0===z?(x=2===D?0:x,0<q&&v>p&&this.Rw(c,n.ED,e,k+p,q+x,l-p-w,0,0),0<r&&v>p&&this.Rw(c,
n.cE,e+g-r-x,k+p,r+x,l-p-w,x,0),0<p&&t>q&&this.Rw(c,n.wE,e+q,k,g-q-r,p+x,0,0),0<w&&t>q&&this.Rw(c,n.fC,e+q,k+l-w-x,g-q-r,w+x,0,x)):1===z&&(0<q&&v>p&&this.$l(c,n.Cb(),0,p,q,v-p,e,k+p,q,l-p-w),0<r&&v>p&&this.$l(c,n.Cb(),t,p,r,v-p,e+g-r,k+p,r,l-p-w),0<p&&t>q&&this.$l(c,n.Cb(),q,0,t-q,p,e+q,k,g-q-r,p),0<w&&t>q&&this.$l(c,n.Cb(),q,v,t-q,w,e+q,k+l-w,g-q-r,w));v>p&&t>q&&(0===D?this.Rw(c,n.HC,e+q,k+p,g-q-r,l-p-w,0,0):1===D&&this.$l(c,n.Cb(),q,p,t-q,v-p,e+q,k+p,g-q-r,l-p-w))}$l(c,e,k,g,l,n,q,r,p,w){const t=
e.K(),v=e.G();c.fe(e);a.set(q,r,q+p,r+w);b.set(k/t,g/v,(k+l)/t,(g+n)/v);null===this.bx?(e=this.i(),g=e.mg(),k=g.rb,g=g.mb,a.offset(-k,-g),f.Su(a,e.ta()),f.offset(k,g),c.Rl(f,b)):this.bx(a,b)}Rw(c,e,k,g,l,n,q,r){const p=e.K(),w=e.G();c.fe(e);a.set(k,g,k+l,g+n);b.set(-q/p,-r/w,(l-q)/p,(n-r)/w);null===this.bx?(e=this.i(),g=e.mg(),k=g.rb,g=g.mb,a.offset(-k,-g),f.Su(a,e.ta()),f.offset(k,g),c.Rl(f,b)):this.bx(a,b)}Ed(){}Bb(){}Jd(){}}}"use strict";self.j.B.Jn.F={};"use strict";
self.j.B.Jn.Ga={uH(d){this.i().pf(d);this.b.R()}};"use strict";self.j.B.Jn.zd={};
{"use strict";const d=self.j;function a(b){const f=d.ef(b.width,b.height);f.getContext("2d").drawImage(b,0,0);return f}self.f4=class{constructor(b){this.Oa=b;this.b=this.Oa.H();this.fC=this.wE=this.cE=this.ED=this.HC=this.hb=null;this.Dx=this.Ex=0;this.ga=this.b.pb();this.Vm=this.Wj=!1}g(){this.ga.An()||(this.ga.Ie(this.hb),this.ga.Ie(this.HC),this.ga.Ie(this.ED),this.ga.Ie(this.cE),this.ga.Ie(this.wE),this.ga.Ie(this.fC));this.ga=this.Oa=this.fC=this.wE=this.cE=this.ED=this.HC=this.hb=null;this.Vm=
!0}hq(){return this.Vm}RZ(b,f,c,e,k){this.dea(b,f,c,e,k)}dea(b,f,c,e,k){if(!this.Vm){var g=b.width,l=b.height;this.Ex=g;this.Dx=l;var n=g-c,q=l-k,r=this.b.zc,p=this.b.aa.gM;this.hb=this.ga.Ui(a(b),{Dd:r,gp:p});n>f&&q>e&&(this.HC=this.ga.Ui(this.Qw(a(b),f,e,n,q),{jn:"repeat",kn:"repeat",Dd:r,gp:p}));0<f&&q>e&&(this.ED=this.ga.Ui(this.Qw(a(b),0,e,f,q),{kn:"repeat",Dd:r,gp:p}));0<c&&q>e&&(this.cE=this.ga.Ui(this.Qw(a(b),n,e,g,q),{kn:"repeat",Dd:r,gp:p}));0<e&&n>f&&(this.wE=this.ga.Ui(this.Qw(a(b),f,
0,n,e),{jn:"repeat",Dd:r,gp:p}));0<k&&n>f&&(this.fC=this.ga.Ui(this.Qw(a(b),f,q,n,l),{jn:"repeat",Dd:r,gp:p}))}}Qw(b,f,c,e,k){e-=f;k-=c;const g=d.ef(e,k);g.getContext("2d").drawImage(b,f,c,e,k,0,0,e,k);return g}Cb(){return this.hb}}}{"use strict";const d=self.j;d.B.mn=class extends d.ij{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.mn.ue=class extends d.Sl{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j,a=self.yn;function b(c,e,k){if(e<c.length)d.bf(c,e);else if(e>c.length)if("function"===typeof k)for(var g=c.length;g<e;++g)c.push(k());else for(g=c.length;g<e;++g)c.push(k)}d.B.mn.Instance=class extends d.Zv{constructor(c,e){super(c);this.Tb=10;this.wc=this.vc=1;this.Yc=null;this.LC=[];this.iK=[];this.jK=[];this.Nj=-1;e&&(this.Tb=e[0],this.vc=e[1],this.wc=e[2]);this.Yc=d.fh(this.Tb,()=>d.fh(this.vc,()=>d.fh(this.wc,0)))}g(){this.Yc=null;super.g()}ul(c,e,k){c=Math.floor(c);
e=Math.floor(e);k=Math.floor(k);return 0<=c&&c<this.Tb&&0<=e&&e<this.vc&&0<=k&&k<this.wc?this.Yc[c][e][k]:0}Set(c,e,k,g){c=Math.floor(c);e=Math.floor(e);k=Math.floor(k);0<=c&&c<this.Tb&&0<=e&&e<this.vc&&0<=k&&k<this.wc&&(this.Yc[c][e][k]=g)}Rb(c,e,k){c=Math.floor(c);e=Math.floor(e);k=Math.floor(k);0>c&&(c=0);0>e&&(e=0);0>k&&(k=0);if(this.Tb!==c||this.vc!==e||this.wc!==k){this.Tb=c;this.vc=e;this.wc=k;var g=this.Yc;b(g,c,()=>d.fh(e,()=>d.fh(k,0)));for(let l=0;l<c;++l){b(g[l],e,()=>d.fh(k,0));for(let n=
0;n<e;++n)b(g[l][n],k,0)}}}K(){return this.Tb}G(){return this.vc}Al(){return this.wc}wO(){return JSON.stringify({c2array:!0,size:[this.Tb,this.vc,this.wc],data:this.Yc})}Xb(){return{size:[this.Tb,this.vc,this.wc],data:this.Yc}}Pb(c){const e=c.size;this.Tb=e[0];this.vc=e[1];this.wc=e[2];this.Yc=c.data}rI(){return 0<=this.Nj&&this.Nj<this.LC.length?this.LC[this.Nj]:0}sI(){return 0<=this.Nj&&this.Nj<this.iK.length?this.iK[this.Nj]:0}tI(){return 0<=this.Nj&&this.Nj<this.jK.length?this.jK[this.Nj]:0}Zg(){return self.l2}};
const f=new WeakMap;self.l2=class extends a{constructor(){super();f.set(this,a.cm().ja)}get width(){return f.get(this).K()}get height(){return f.get(this).G()}get depth(){return f.get(this).Al()}}}
{"use strict";const d=self.j;d.B.mn.F={WN(a,b,f){return d.compare(this.ul(a,0,0),b,f)},tja(a,b,f,c){return d.compare(this.ul(a,b,0),f,c)},uja(a,b,f,c,e){return d.compare(this.ul(a,b,f),c,e)},Fia(a){const b=this.b,f=b.ka(),c=b.Gb(),e=c.Fd(),k=b.hd(),g=k.gf(),l=k.Na(c),n=++this.Nj,q=this.LC;var r=this.iK,p=this.jK;const w=this.Tb;var t=this.vc,v=this.wc;n===this.LC.length?(q.push(0),r.push(0),p.push(0)):(q[n]=0,r[n]=0,p[n]=0);b.Ls(!1);if(0===a)for(let M=0;M<w;++M)for(let B=0;B<t;++B)for(let G=0;G<v;++G){q[n]=
M;r[n]=B;p[n]=G;a=f;var x=c,z=e,D=g,E=l;a.de(z);x.nf(D,E);a.Db(z)}else if(1===a)for(D=0;D<w;++D)for(E=0;E<t;++E)q[n]=D,r[n]=E,p=f,v=c,a=e,x=g,z=l,p.de(a),v.nf(x,z),p.Db(a);else for(x=0;x<w;++x)q[n]=x,r=f,t=c,p=e,v=g,a=l,r.de(p),t.nf(v,a),r.Db(p);b.Ls(!0);this.Nj--;k.Ia();return!1},lja(a,b){return d.compare(this.ul(this.rI(),this.sI(),this.tI()),a,b)},yja(a){const b=this.Tb,f=this.vc,c=this.wc,e=this.Yc;for(let k=0;k<b;++k)for(let g=0;g<f;++g)for(let l=0;l<c;++l)if(e[k][g][l]===a)return!0;return!1},
Bn(){return 0===this.Tb||0===this.vc||0===this.wc},oja(a,b,f){let c=0;switch(a){case 0:c=this.Tb;break;case 1:c=this.vc;break;case 2:c=this.wc}return d.compare(c,b,f)}}}
{"use strict";const d=self.j;function a(b,f){if("number"===typeof b&&"number"===typeof f)return b-f;b=b.toString();f=f.toString();return b<f?-1:b>f?1:0}d.B.mn.Ga={Jc(b){const f=this.Tb,c=this.vc,e=this.wc,k=this.Yc;for(let g=0;g<f;++g)for(let l=0;l<c;++l)for(let n=0;n<e;++n)k[g][l][n]=b},Rb(b,f,c){this.Rb(b,f,c)},Tf(b,f){this.Set(b,0,0,f)},re(b,f,c){this.Set(b,f,0,c)},Fpa(b,f,c,e){this.Set(b,f,c,e)},Na(b,f,c){var e=this.Tb,k=this.vc;const g=this.wc,l=this.Yc;if(0===c)e=d.fh(k,()=>d.fh(g,f)),0===b?
l.push(e):l.unshift(e),this.Tb++;else if(1===c){for(k=0;k<e;++k)c=d.fh(g,f),0===b?l[k].push(c):l[k].unshift(c);this.vc++}else{for(c=0;c<e;++c)for(let n=0;n<k;++n)0===b?l[c][n].push(f):l[c][n].unshift(f);this.wc++}},Ia(b,f){const c=this.Tb;var e=this.vc,k=this.wc;const g=this.Yc;if(0===f)0!==c&&(0===b?g.pop():g.shift(),this.Tb--);else if(1===f){if(0!==e){for(e=0;e<c;++e)0===b?g[e].pop():g[e].shift();this.vc--}}else if(0!==k){for(f=0;f<c;++f)for(k=0;k<e;++k)0===b?g[f][k].pop():g[f][k].shift();this.wc--}},
L5(b){const f=this.Tb;var c=this.vc,e=this.wc;const k=this.Yc;if(0!==f&&0!==c&&0!==e)if(0===b)k.reverse();else if(1===b)for(c=0;c<f;++c)k[c].reverse();else for(b=0;b<f;++b)for(e=0;e<c;++e)k[b][e].reverse()},Kpa(b){const f=this.Tb;var c=this.vc,e=this.wc;const k=this.Yc;if(0!==f&&0!==c&&0!==e)if(0===b)k.sort((g,l)=>a(g[0][0],l[0][0]));else if(1===b)for(c=0;c<f;++c)k[c].sort((g,l)=>a(g[0],l[0]));else for(b=0;b<f;++b)for(e=0;e<c;++e)k[b][e].sort(a)},pn(b,f){b=Math.floor(b);if(!(0>b)){var c=this.Tb,e=
this.vc,k=this.wc,g=this.Yc;if(0===f)b>=c||(g.splice(b,1),this.Tb--);else if(1===f){if(!(b>=e)){for(e=0;e<c;++e)g[e].splice(b,1);this.vc--}}else if(!(b>=k)){for(f=0;f<c;++f)for(k=0;k<e;++k)g[f][k].splice(b,1);this.wc--}}},FA(b,f,c){f=Math.floor(f);if(!(0>f)){var e=this.Tb,k=this.vc,g=this.wc,l=this.Yc;if(0===c)f>e||(l.splice(f,0,d.fh(k,()=>d.fh(g,b))),this.Tb++);else if(1===c){if(!(f>k)){for(k=0;k<e;++k)l[k].splice(f,0,d.fh(g,b));this.vc++}}else if(!(f>g)){for(c=0;c<e;++c)for(let n=0;n<k;++n)l[c][n].splice(f,
0,b);this.wc++}}},pla(b){let f=null;try{f=JSON.parse(b)}catch(c){console.error("[Construct 3] Failed to parse JSON: ",c);return}f.c2array&&(b=f.size,this.Tb=b[0],this.vc=b[1],this.wc=b[2],this.Yc=f.data)},ola(b){const f=URL.createObjectURL(new Blob([this.wO()],{type:"application/json"}));this.b.k3(f,b)}}}"use strict";
self.j.B.mn.zd={ul(d,a,b){return this.ul(d,a||0,b||0)},q8(){return this.Tb},sP(){return this.vc},Kja(){return this.wc},Eja(){return this.rI()},Fja(){return this.sI()},Gja(){return this.tI()},Dja(){return this.ul(this.rI(),this.sI(),this.tI())},bka(){return this.ul(0,0,0)},Lia(){return this.ul(this.Tb-1,0,0)},Cka(d){const a=this.Yc;for(let b=0,f=this.Tb;b<f;++b)if(a[b][0][0]===d)return b;return-1},ula(d){const a=this.Yc;for(let b=this.Tb-1;0<=b;--b)if(a[b][0][0]===d)return b;return-1},GN(){return this.wO()}};
{"use strict";const d=self.j;d.xa.xp=class extends d.Up{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.xp.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j,a=self.Sg,b=self.tP;d.xa.xp.Instance=class extends d.Vp{constructor(c,e){super(c);this.Cy=this.By=this.Ay=this.Dy=this.TC=this.ry=this.Wx=this.ox=this.Uy=!1;this.wb=this.ub=0;this.ak=200;this.Wf=600;this.Ag=500;this.ho=this.ro=3;this.Ka=this.om=!0;e&&(this.ak=e[0],this.Wf=e[1],this.Ag=e[2],this.ro=e[3],this.ho=e[4],this.om=!!e[5],this.Ka=!!e[6]);this.Ka&&this.uf();this.om&&this.VH()}VH(){if(!this.Ad){var c=this.b.Fb();this.Ad=new d.Zr(d.gd.Xd(c,"keydown",e=>this.FI(e.data)),
d.gd.Xd(c,"keyup",e=>this.GI(e.data)),d.gd.Xd(c,"window-blur",()=>this.ft()),d.gd.Xd(c,"keyboard-blur",()=>this.ft()))}}wU(){this.Ad&&(this.Ad.g(),this.Ad=null)}g(){super.g()}Xb(){return{dx:this.ub,dy:this.wb,e:this.Ka,ms:this.ak,acc:this.Wf,dec:this.Ag,d:this.ro,am:this.ho,dc:this.om,ii:this.TC}}Pb(c){this.ub=c.dx;this.wb=c.dy;this.fm(c.e);this.ak=c.ms;this.Wf=c.acc;this.Ag=c.dec;this.ro=c.d;this.ho=c.am;this.om=c.dc;this.TC=c.ii;this.Cy=this.By=this.Ay=this.Dy=this.ry=this.Wx=this.ox=this.Uy=!1;
this.om?this.VH():this.wU()}FI(c){switch(c.key){case "ArrowLeft":this.Wx=!0;break;case "ArrowUp":this.Uy=!0;break;case "ArrowRight":this.ry=!0;break;case "ArrowDown":this.ox=!0}}GI(c){switch(c.key){case "ArrowLeft":this.Wx=!1;break;case "ArrowUp":this.Uy=!1;break;case "ArrowRight":this.ry=!1;break;case "ArrowDown":this.ox=!1}}ft(){this.ry=this.Wx=this.ox=this.Uy=!1}ge(){var c=this.b.zp(this.L);const e=this.b.uh;var k=this.Wx||this.By,g=this.ry||this.Cy,l=this.Uy||this.Dy,n=this.ox||this.Ay;this.Ay=
this.Dy=this.Cy=this.By=!1;if(this.Ka){var q=e.Wn(this.L);if(q&&(e.VA(this.L,q),!e.j5(this.L)))return;this.TC&&(k=g=l=n=!1);0===this.ro?k=g=!1:1===this.ro&&(l=n=!1);2===this.ro&&(l||n)&&(k=g=!1);k===g&&(0>this.ub?this.ub=Math.min(this.ub+this.Ag*c,0):0<this.ub&&(this.ub=Math.max(this.ub-this.Ag*c,0)));l===n&&(0>this.wb?this.wb=Math.min(this.wb+this.Ag*c,0):0<this.wb&&(this.wb=Math.max(this.wb-this.Ag*c,0)));var r=q=0;k&&!g&&(q=0<this.ub?-(this.Wf+this.Ag):-this.Wf);g&&!k&&(q=0>this.ub?this.Wf+this.Ag:
this.Wf);l&&!n&&(r=0<this.wb?-(this.Wf+this.Ag):-this.Wf);n&&!l&&(r=0>this.wb?this.Wf+this.Ag:this.Wf);this.ub+=q*c;this.wb+=r*c;if(0!==this.ub||0!==this.wb){g=Math.atan2(this.wb,this.ub);k=this.ak*Math.cos(g);g=this.ak*Math.sin(g);Math.sqrt(this.ub*this.ub+this.wb*this.wb)>this.ak&&(this.ub=k,this.wb=g);var p=Math.abs(k)*c;n=Math.abs(g)*c;k=this.L.i();const w=k.O();l=k.P();g=k.ta();p=d.fa(this.ub*c+.5*q*c*c,-p,p);k.Qv(p);k.ua();if(q=e.Wn(this.L))e.xQ(this.L,0>this.ub?1:-1,0,Math.max(Math.abs(Math.floor(p)),
1))||(k.Tf(w),k.ua()),this.ub=0,e.VA(this.L,q);c=d.fa(this.wb*c+.5*r*c*c,-n,n);k.Sv(c);k.ua();if(q=e.Wn(this.L))e.xQ(this.L,0,0>this.wb?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(k.kh(l),k.ua()),this.wb=0,e.VA(this.L,q);c=d.dF(this.ub);r=d.dF(this.wb);0===c&&0===r||!this.L.Hb().Mp()||(1===this.ho?k.Fc(d.eb(90*Math.round(d.Wd(Math.atan2(r,c))/90))):2===this.ho?k.Fc(d.eb(45*Math.round(d.Wd(Math.atan2(r,c))/45))):3===this.ho&&k.Fc(Math.atan2(r,c)));k.ua();k.ta()!=g&&(q=e.Wn(this.L))&&(k.Fc(g),k.ua(),
e.VA(this.L,q))}}}Bb(c){switch(c){case 0:return this.ak;case 1:return this.Wf;case 2:return this.Ag;case 3:return this.ro;case 4:return this.ho;case 5:return this.om;case 6:return this.Ka}}Jd(c,e){switch(c){case 0:this.iU(e);break;case 1:this.QI(e);break;case 2:this.YT(e);break;case 3:this.ro=e;break;case 4:this.ho=e;break;case 5:this.ZT(!!e);break;case 6:this.fm(!!e)}}tU(){this.wb=this.ub=0}LT(){this.ub*=-1;this.wb*=-1}iT(){const c=Math.hypot(this.ub,this.wb);c>this.ak&&this.WI(c)}WI(c){c=d.fa(c,
0,this.ak);const e=Math.atan2(this.wb,this.ub);this.ub=c*Math.cos(e);this.wb=c*Math.sin(e)}xB(){return Math.hypot(this.ub,this.wb)}iU(c){this.ak=Math.max(c,0)}QI(c){this.Wf=Math.max(c,0)}YT(c){this.Ag=Math.max(c,0)}eaa(){return Math.atan2(this.wb,this.ub)}Tda(c){this.ub=c;this.iT()}Uda(c){this.wb=c;this.iT()}cea(c){if(this.Ka)switch(c){case 0:this.By=!0;break;case 1:this.Cy=!0;break;case 2:this.Dy=!0;break;case 3:this.Ay=!0}}ZT(c){c=!!c;this.om!==c&&((this.om=c)?this.VH():(this.wU(),this.ft()))}Eda(c){this.TC=
!!c}fm(c){(this.Ka=!!c)?this.uf():(this.Ay=this.Dy=this.Cy=this.By=!1,this.Qk())}Zg(){return self.k2}};const f=new WeakMap;self.k2=class extends b{constructor(){super();f.set(this,b.cm().ja)}stop(){f.get(this).tU()}reverse(){f.get(this).LT()}get speed(){return f.get(this).xB()}set speed(c){a.hj(c);f.get(this).WI(c)}get acceleration(){return f.get(this).Wf}set acceleration(c){a.hj(c);f.get(this).QI(c)}get isEnabled(){return f.get(this).Ka}set isEnabled(c){f.get(this).fm(!!c)}}}
{"use strict";const d=self.j;d.xa.xp.F={cla(){return 1E-10<this.xB()},pja(a,b){return d.compare(this.xB(),a,b)},jd(){return this.Ka}}}"use strict";self.j.xa.xp.Ga={nh(){this.tU()},L5(){this.LT()},Toa(d){this.Eda(d)},xR(d){this.WI(d)},rpa(d){this.iU(d)},W5(d){this.QI(d)},Eoa(d){this.YT(d)},w7(d){this.cea(d)},ee(d){this.fm(d)},Cpa(d){this.Tda(d)},Dpa(d){this.Uda(d)},Goa(d){this.ZT(!!d)}};
{"use strict";const d=self.j;d.xa.xp.zd={B7(){return this.xB()},Sla(){return this.ak},mY(){return this.Wf},Jja(){return this.Ag},dma(){return d.Wd(this.eaa())},Gqa(){return this.ub},Hqa(){return this.wb}}}{"use strict";const d=self.j;d.xa.Nr=class extends d.Up{constructor(a){super(a);this.QL=this.gE=this.xy=this.PL=0}g(){super.g()}tR(a){this.PL=a}vR(a){this.xy=a}sR(a){this.gE=a}uR(a){this.QL=a}}}{"use strict";const d=self.j;d.xa.Nr.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Nr.Instance=class extends d.Vp{constructor(a,b){super(a);this.Ka=!0;b&&(this.Ka=b[0]);this.Ka&&this.qq()}g(){super.g()}Xb(){const a=this.Vg();return{e:this.Ka,smg:a.PL,ss:a.xy,se:a.gE,smd:a.QL}}Pb(a){const b=this.Vg();b.tR(a.smg);b.vR(a.ss);b.sR(a.se);b.uR(a.smd);(this.Ka=a.e)?this.qq():this.rq()}jd(){return this.Ka}fq(){if(this.jd()){var a=this.Vg(),b=a.la(),f=0,c=0,e=0;for(var k of b)(b=k.E0(d.xa.Nr))&&b.ja.jd()&&(b=k.i(),f+=b.O(),c+=b.P(),++e);k=this.L.i().qc();
var g=this.b.Of(),l=b=0;g>=a.xy&&g<a.gE&&(b=a.PL*Math.min(this.b.Fe,1),0===a.QL&&(b*=1-(g-a.xy)/(a.gE-a.xy)),a=this.b.Mn()*Math.PI*2,g=this.b.Mn()*b,b=Math.cos(a)*g,l=Math.sin(a)*g);k.ei(f/e+b);k.gi(c/e+l)}}Bb(a){switch(a){case 0:return this.Ka}}Jd(a,b){switch(a){case 0:(this.Ka=!!b)?this.qq():this.rq()}}}}"use strict";self.j.xa.Nr.F={jd(){return this.Ka}};"use strict";
self.j.xa.Nr.Ga={Ipa(d,a,b){const f=this.Vg();f.tR(d);f.vR(this.b.Of());f.sR(this.b.Of()+a);f.uR(b)},ee(d){(this.Ka=0!==d)?this.qq():this.rq()}};"use strict";self.j.xa.Nr.zd={};{"use strict";const d=self.j;d.xa.Vr=class extends d.Up{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.Vr.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Vr.Instance=class extends d.Vp{constructor(a,b){super(a);this.yq=this.xq=2;this.jt=this.kt=0;this.Ka=!0;a=this.L.i().tb();this.KE=a.M;this.NE=a.J;this.LE=this.b.Xe-a.M;this.ME=this.b.We-a.J;this.ny=this.b.Xe-a.V;this.Zw=this.b.We-a.S;b&&(this.xq=b[0],this.yq=b[1],this.kt=b[2],this.jt=b[3],this.Ka=!!b[4]);b=this.b.Fb();this.Ad=new d.Zr(d.gd.Xd(b,"layoutchange",()=>this.Pba()));this.Ka&&this.uf()}g(){super.g()}Xb(){return{xl:this.KE,yt:this.NE,xr:this.LE,yb:this.ME,
rd:this.ny,bd:this.Zw,al:this.xq,at:this.yq,ar:this.kt,ab:this.jt,e:this.Ka}}Pb(a){this.KE=a.xl;this.NE=a.yt;this.LE=a.xr;this.ME=a.yb;this.ny=a.rd;this.Zw=a.bd;this.xq=a.al;this.yq=a.at;this.kt=a.ar;this.jt=a.ab;(this.Ka=a.e)?this.uf():this.Qk()}QB(){if(this.Ka){var a=this.L.i(),b=a.ba().Hf;if(0===this.xq){var f=b.M+this.KE-a.tb().M;0!==f&&(a.Qv(f),a.ua())}else 1===this.xq&&(f=b.V-this.LE-a.tb().M,0!==f&&(a.Qv(f),a.ua()));0===this.yq?(f=b.J+this.NE-a.tb().J,0!==f&&(a.Sv(f),a.ua())):1===this.yq&&
(f=b.S-this.ME-a.tb().J,0!==f&&(a.Sv(f),a.ua()));1===this.kt&&(f=b.V-this.ny-a.tb().V,0!==f&&(a.Qv(a.Xh()*f),a.rf(Math.max(a.K()+f),0),a.ua(),this.ny=b.V-a.tb().V));1===this.jt&&(f=b.S-this.Zw-a.tb().S,0!==f&&(a.Sv(a.Yh()*f),a.ld(Math.max(a.G()+f,0)),a.ua(),this.Zw=b.S-a.tb().S))}}ge(){this.QB()}Pba(){this.QB()}Bb(a){switch(a){case 0:return this.xq;case 1:return this.yq;case 2:return this.kt;case 3:return this.jt;case 4:return this.Ka}}Jd(a,b){switch(a){case 0:this.xq=b;break;case 1:this.yq=b;break;
case 2:this.kt=b;break;case 3:this.jt=b;break;case 4:(this.Ka=!!b)?this.uf():this.Qk()}}}}"use strict";self.j.xa.Vr.F={jd(){return this.Ka}};"use strict";self.j.xa.Vr.Ga={ee(d){this.Ka&&0===d?(this.Ka=!1,this.Qk()):this.Ka||0===d||(d=this.L.i().tb(),this.KE=d.M,this.NE=d.J,this.LE=this.b.Xe-d.M,this.ME=this.b.We-d.J,this.ny=this.b.Xe-d.V,this.Zw=this.b.We-d.S,this.Ka=!0,this.uf())}};"use strict";self.j.xa.Vr.zd={};{"use strict";const d=self.j;d.xa.Pn=class extends d.Up{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.Pn.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Pn.Instance=class extends d.Vp{constructor(a,b){super(a);this.gm=this.Hh=0;this.Ka=!0;b&&(this.Hh=d.eb(b[0]),this.gm=d.eb(b[1]),this.Ka=b[2]);this.Ka&&this.uf()}g(){super.g()}Xb(){return{s:this.Hh,a:this.gm,e:this.Ka}}Pb(a){this.Hh=a.s;this.gm=a.a;this.fm(a.e)}ge(){if(this.Ka){var a=this.b.zp(this.L);if(0!==a&&(0!==this.gm&&(this.Hh+=this.gm*a),0!==this.Hh)){const b=this.L.i();b.Fc(b.ta()+this.Hh*a);b.ua()}}}Bb(a){switch(a){case 0:return d.Wd(this.Hh);case 1:return d.Wd(this.gm);
case 2:return this.Ka}}Jd(a,b){switch(a){case 0:this.Hh=d.eb(b);break;case 1:this.gm=d.eb(b);break;case 2:this.fm(b)}}fm(a){(this.Ka=!!a)?this.uf():this.Qk()}}}"use strict";self.j.xa.Pn.F={jd(){return this.Ka}};{"use strict";const d=self.j;d.xa.Pn.Ga={xR(a){this.Hh=d.eb(a)},W5(a){this.gm=d.eb(a)},ee(a){this.fm(a)}}}{"use strict";const d=self.j;d.xa.Pn.zd={B7(){return d.Wd(this.Hh)},mY(){return d.Wd(this.gm)}}}{"use strict";const d=self.j;d.xa.tp=class extends d.Up{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.tp.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.tp.Instance=class extends d.Vp{constructor(a,b){super(a);this.ee(!0);b&&(this.ee(b[0]),this.Ss(b[1]))}g(){super.g()}ee(a){this.L.Qda(!!a)}jd(){return this.L.dT()}Ss(a){const b=this.L.Yd();if(a.trim()){var f=b.get("solidTags");f||(f=new Set,b.set("solidTags",f));f.clear();for(const c of a.split(" "))c&&f.add(c.toLowerCase())}else b.delete("solidTags")}Xb(){return{e:this.jd()}}Pb(a){this.ee(a.e)}Bb(a){switch(a){case 0:return this.jd()}}Jd(a,b){switch(a){case 0:this.ee(b)}}}}"use strict";
self.j.xa.tp.F={jd(){return this.jd()}};"use strict";self.j.xa.tp.Ga={ee(d){this.ee(d)},Ss(d){this.Ss(d)}};"use strict";self.j.xa.tp.zd={};{"use strict";const d=self.j;d.xa.Ql=class extends d.Up{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.Ql.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Ql.Instance=class extends d.Vp{constructor(a,b){super(a);this.fl=null;this.RD=-1;this.Ch="";this.nr=new Set;this.Bo=this.xC=this.qo=this.At=this.Bt=this.wb=this.ub=this.iy=this.kr=this.Ye=0;this.uC=!1;b&&(this.uC=b[0]);a=this.b.Fb();this.Ad=new d.Zr(d.gd.Xd(a,"instancedestroy",f=>this.Kba(f.instance)),d.gd.Xd(a,"afterload",()=>this.Iw()))}g(){this.fl=null;super.g()}Ow(a){a?(this.fl=a,this.qq()):(this.fl=null,this.rq())}ao(a,b,f){if(a&&(a=a.bG(this.L)))if(this.Ch=
b,this.Ow(a),b=this.L.i(),a=a.i(),"properties"===this.Ch){const c=this.nr;c.clear();for(const e of f)c.add(e);this.ub=b.O()-a.O();this.wb=b.P()-a.P();this.qo=b.ta()-a.ta();this.Bo=b.ta();this.xC=b.Ua()-a.Ua();c.has("x")&&c.has("y")&&(this.kr=d.le(a.O(),a.P(),b.O(),b.P())-a.ta(),this.Ye=d.Jf(a.O(),a.P(),b.O(),b.P()));c.has("width-abs")?this.Bt=b.K()-a.K():c.has("width-scale")&&(this.Bt=b.K()/a.K());c.has("height-abs")?this.At=b.G()-a.G():c.has("height-scale")&&(this.At=b.G()/a.G())}else this.Ye=d.Jf(a.O(),
a.P(),b.O(),b.P())}Xb(){const a=this.nr,b=this.Ch,f={uid:this.fl?this.fl.Qc:-1,m:b};if("rope"===b||"bar"===b)f.pd=this.Ye;else if("properties"===b){f.ps=[...this.nr];a.has("imagepoint")?f.ip=this.iy:a.has("x")&&a.has("y")?(f.pa=this.kr,f.pd=this.Ye):(a.has("x")&&(f.dx=this.ub),a.has("y")&&(f.dy=this.wb));a.has("angle")&&(f.da=this.qo,f.lka=this.Bo);if(a.has("width-abs")||a.has("width-scale"))f.dw=this.Bt;if(a.has("height-abs")||a.has("height-scale"))f.dh=this.At;a.has("z")&&(f.dz=this.xC)}return f}Pb(a){const b=
a.m,f=this.nr;f.clear();this.RD=a.uid;if("number"===typeof b)this.Xaa(a);else if(this.Ch=b,"rope"===b||"bar"===b)this.Ye=a.pd;else if("properties"===b){for(const c of a.ps)f.add(c);f.has("imagepoint")?this.iy=a.ip:f.has("x")&&f.has("y")?(this.kr=a.pa,this.Ye=a.pd):(f.has("x")&&(this.ub=a.dx),f.has("y")&&(this.wb=a.dy));f.has("angle")&&(this.qo=a.da,this.Bo=a.lka||0);if(f.has("width-abs")||f.has("width-scale"))this.Bt=a.dw;if(f.has("height-abs")||f.has("height-scale"))this.At=a.dh;f.has("z")&&(this.xC=
a.dz)}}Xaa(a){const b=this.nr,f=a.msa,c=a.tsa,e=a.pa,k=a.pd;switch(a.m){case 0:this.Ch="properties";b.add("x").add("y").add("angle");this.kr=e;this.Ye=k;this.qo=f-c;this.Bo=a.lka;break;case 1:this.Ch="properties";b.add("x").add("y");this.kr=e;this.Ye=k;break;case 2:this.Ch="properties";b.add("angle");this.qo=f-c;this.Bo=a.lka;break;case 3:this.Ch="rope";this.Ye=a.pd;break;case 4:this.Ch="bar",this.Ye=a.pd}}Iw(){-1===this.RD?this.Ow(null):(this.Ow(this.b.Xi(this.RD)),this.RD=-1)}Kba(a){this.fl===a&&
(this.Ow(null),this.uC&&this.b.qn(this.L))}fq(){var a=this.fl;if(a){var b=a.i(),f=this.L.i(),c=this.Ch,e=!1;if("rope"===c||"bar"===c){if(a=d.Jf(f.O(),f.P(),b.O(),b.P()),a>this.Ye||"bar"===c&&a<this.Ye)e=d.le(b.O(),b.P(),f.O(),f.P()),f.re(b.O()+Math.cos(e)*this.Ye,b.P()+Math.sin(e)*this.Ye),e=!0}else{c=this.nr;if(c.has("imagepoint")){const [k,g]=a.Fl(this.iy);f.OF(k,g)||(f.re(k,g),e=!0)}else if(c.has("x")&&c.has("y")){a=b.O()+Math.cos(b.ta()+this.kr)*this.Ye;const k=b.P()+Math.sin(b.ta()+this.kr)*
this.Ye;f.OF(a,k)||(f.re(a,k),e=!0)}else a=b.O()+this.ub,c.has("x")&&a!==f.O()&&(f.Tf(a),e=!0),a=b.P()+this.wb,c.has("y")&&a!==f.P()&&(f.kh(a),e=!0);c.has("angle")&&(this.Bo!==f.ta()&&(this.qo=d.me(this.qo+(f.ta()-this.Bo))),a=d.me(b.ta()+this.qo),a!==f.ta()&&(f.Fc(a),e=!0),this.Bo=f.ta());c.has("width-abs")&&(a=b.K()+this.Bt,a!==f.K()&&(f.rf(a),e=!0));c.has("width-scale")&&(a=b.K()*this.Bt,a!==f.K()&&(f.rf(a),e=!0));c.has("height-abs")&&(a=b.G()+this.At,a!==f.G()&&(f.ld(a),e=!0));c.has("height-scale")&&
(a=b.G()*this.At,a!==f.G()&&(f.ld(a),e=!0));c.has("z")&&(a=b.Ua()+this.xC,a!==f.Ua()&&(f.Le(a),this.b.R()))}e&&f.ua()}}}}"use strict";self.j.xa.Ql.F={jla(){return!!this.fl},Rqa(){return this.uC}};"use strict";
self.j.xa.Ql.Ga={Yma(d,a){this.ao(d,0===a?"rope":"bar")},W4(d,a,b,f,c,e,k){const g=[];a&&g.push("x");b&&g.push("y");f&&g.push("angle");k&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===e?g.push("height-abs"):2===e&&g.push("height-scale");0!==g.length&&this.ao(d,"properties",g)},Zma(d,a,b,f,c,e){const k=["imagepoint"];b&&k.push("angle");e&&k.push("z");1===f?k.push("width-abs"):2===f&&k.push("width-scale");1===c?k.push("height-abs"):2===c&&k.push("height-scale");this.iy=a;this.ao(d,
"properties",k)},vpa(d){if("rope"===this.Ch||"bar"===this.Ch)this.Ye=Math.max(d,0)},Hoa(d){this.uC=d},W7(){this.Ow(null);this.Ch="";this.nr.clear();this.iy=""},Ql(d,a){switch(a){case 0:this.ao(d,"properties",["x","y","angle"]);break;case 1:this.ao(d,"properties",["x","y"]);break;case 2:this.ao(d,"properties",["angle"]);break;case 3:this.ao(d,"rope");break;case 4:this.ao(d,"bar")}}};"use strict";self.j.xa.Ql.zd={$ma(){return this.fl?this.fl.Qc:-1}};{"use strict";const d=self.j;d.xa.Pr=class extends d.Up{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.Pr.ue=class extends d.Wp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Pr.Instance=class extends d.Vp{constructor(a,b){super(a);b?(this.ld(b[0]),this.Vl(b[1]),this.ee(!!b[2])):(this.ld(100),this.Vl(""),this.ee(!0))}g(){super.g()}ld(a){this.L.Yd().set("shadowcasterHeight",a)}G(){return this.L.Yd().get("shadowcasterHeight")}Vl(a){this.L.Yd().set("shadowcasterTag",a)}Dv(){return this.L.Yd().get("shadowcasterTag")}ee(a){this.L.Yd().set("shadowcasterEnabled",!!a)}jd(){return this.L.Yd().get("shadowcasterEnabled")}Xb(){return{h:this.G(),t:this.Dv(),
e:this.jd()}}Pb(a){this.ld(a.h);this.Vl(a.t);this.ee(a.e)}Bb(a){switch(a){case 0:return this.G();case 1:return this.Dv();case 2:return this.jd()}}Jd(a,b){switch(a){case 0:this.ld(b);break;case 1:this.Vl(b);break;case 2:this.ee(b)}}}}{"use strict";const d=self.j;d.xa.Pr.F={jd(){return this.jd()},uZ(a,b){return d.compare(this.G(),a,b)}}}"use strict";self.j.xa.Pr.Ga={ee(d){this.ee(d)},ld(d){this.G()!==d&&(this.ld(d),this.b.R())},Vl(d){this.Dv()!==d&&(this.Vl(d),this.b.R())}};"use strict";
self.j.xa.Pr.zd={sP(){return this.G()},L7(){return this.Dv()}};
{const d=self.j;self.MN=function(){return[d.B.Mb,d.xa.xp,d.xa.Nr,d.xa.Vr,d.B.Touch,d.xa.Pn,d.B.Keyboard,d.B.Uf,d.xa.tp,d.B.Qr,d.xa.Ql,d.B.mj,d.B.oh,d.B.Jn,d.B.mn,d.xa.Pr,d.B.Xa.F.xs,d.B.Xa.F.yZ,d.B.Xa.Ga.J7,d.B.Xa.Ga.FY,d.B.Xa.Ga.R1,d.B.Xa.F.p0,d.B.Xa.Ga.D6,d.B.Xa.F.kQ,d.B.Xa.Ga.E6,d.B.Xa.Ga.C6,d.xa.Ql.Ga.W4,d.B.mj.F.BF,d.B.Mb.F.tZ,d.xa.Ql.Ga.W7,d.B.Touch.F.pQ,d.B.Mb.F.BF,d.B.Touch.F.J3,d.B.Xa.Ga.SH,d.B.Xa.Ga.n7,d.B.Xa.F.T7,d.B.Mb.Ga.Y5,d.B.Qr.Ga.Ke,d.B.oh.Ga.i6,d.B.Xa.F.o0,d.B.Uf.F.BF,d.B.Uf.Ga.jR,
d.B.Uf.F.zZ,d.B.Uf.Ga.Le,d.B.Uf.zd.w8,d.B.Mb.F.A3,d.B.Mb.Ga.T6,d.B.Touch.F.oQ,d.xa.Pn.Ga.xR,d.B.Xa.Ga.k8,d.xa.Pn.Ga.ee,d.B.Keyboard.F.fQ,d.B.Mb.Ga.Ke,d.B.Mb.F.z3,d.B.Mb.F.yP,d.B.Mb.Ga.Fc,d.xa.xp.Ga.w7,d.B.Mb.F.u4,d.B.Uf.Ga.iO,d.B.mj.F.wZ,d.B.mj.Ga.Ts,d.B.Mb.zd.HY,d.B.Mb.Ga.jR,d.B.Mb.Ga.iO,d.B.Xa.Ga.I5,d.B.Uf.F.Tc,d.B.Uf.Ga.Ke,d.B.Uf.Ga.Rb,d.B.Xa.F.mO,d.B.Mb.Ga.kj,d.B.Mb.F.vZ,d.B.Mb.zd.Opacity,d.B.Xa.F.jQ,d.B.mn.F.WN,d.B.mn.Ga.Tf,d.B.Xa.F.xZ]};self.XY=[{"8\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439":0},
{Dua:0},{bna:0},{nra:0},{Jua:0},{Uia:0},{Eua:0},{fma:0},{Bua:0},{Xia:0},{Qpa:0},{mka:0},{Aua:0},{dja:0},{Rpa:0},{es:0},{Fua:0},{Qia:0},{Xqa:0},{Pia:0},{Yla:0},{ema:0},{lqa:0},{Cua:0},{Hua:0},{sla:0},{aua:0},{Ula:0},{Gua:0},{Tia:0},{Sqa:0},{Tla:0},{iqa:0},{Dla:0},{Bla:0},{Cla:0},{tqa:0},{"9\u043f\u0430\u0442\u0447":0},{Gia:0},{ina:0},{Fla:0},{Xpa:0},{Ela:0},{Hja:0},{tla:0},{mma:0},{Iua:0},{"3DRot":0},{Wja:0},{mqa:0},{"9pathRot":0},{Nja:0},{dka:0},{wqa:0},{rla:0},{jka:0},{Cja:0},{vqa:0},{ika:0}]}
{function d(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}self.WY=[()=>"SystemGroup",()=>"Yes",()=>0,()=>1,()=>"No",()=>100,()=>"BlackBlack",a=>{const b=a.Lk().to;return()=>b.ae()},()=>"UI_WIN",()=>"RotateLayer",()=>"\u0420\u0430\u0434\u0438\u0430\u043b\u044c\u043d\u043e\u0435\u0420\u0430\u0437\u043c\u044b\u0442\u0438\u0435",()=>"Options",()=>2,()=>"On",()=>.1,()=>
"Off",()=>3,()=>"BlockLight",()=>"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435",()=>"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435",()=>"LazerEffect",()=>"\u0412\u043e\u0434\u0430",()=>"Animation3D",()=>"Up",()=>1.5,()=>"Down",()=>-15,a=>{const b=a.Lk();return()=>b.ds()-.5},a=>{const b=a.Lk();return()=>b.ds()+.5},a=>{const b=a.Lk();return()=>
b.ds()-.1},()=>8,a=>{const b=a.Lk();return()=>b.ds()+.1},()=>"WaitPlayer",()=>"Arrow",()=>180,()=>"Rotate1",()=>-180,()=>"UI",()=>"Rotate2",()=>85,()=>95,()=>90,()=>"MoveCube",()=>175,()=>185,()=>265,()=>275,()=>270,()=>355,()=>5,()=>360,()=>"LanternAndFinish",()=>"Text",a=>{const b=a.Lk().to;return()=>d("\u0421\u043e\u0431\u0440\u0430\u043d\u043e \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u043e\u0432: ",b.ae())+" \u0438\u0437 3"},()=>"MachanicGame",a=>{const b=a.Lk();return()=>b.ds()},()=>"End",
()=>-5,()=>32,()=>16,a=>{const b=a.Lk();return()=>b.ds()+1},()=>"GameLevelScript",()=>6,()=>4,a=>{const b=a.Lk().to;return()=>d("\u0423 \u0432\u0430\u0441 ",b.ae())+" \u043a\u0440\u0438\u0441\u0442\u0430\u043b\u043e\u0432."},()=>"ButtonMenu",()=>"VariantLevel",()=>-14,a=>{const b=a.Lk().to;return()=>d("\u0412\u044b \u0441\u043e\u0431\u0440\u0430\u043b\u0438 \u0432\u0441\u0435\u0433\u043e: ",b.ae())+" \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u043e\u0432"},()=>"VariantLevelBUTTON"]};
