// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Xa=this;
function $a(d){function a(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2];u=u[3];h[0]=y*F+C*I;h[1]=A*F+m*I;h[2]=y*L+C*u;h[3]=A*L+m*u;return h}function b(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function f(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=u[0],O=u[1],R=u[2],S=u[3],X=u[4];u=u[5];h[0]=y*L+C*O;h[1]=A*L+F*O;h[2]=y*R+C*S;h[3]=A*R+F*S;h[4]=y*X+C*u+I;h[5]=A*X+F*u+m;return h}function c(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-
u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];return h}function e(){var h=new pa(9);pa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=u[0],X=u[1],V=u[2],ea=u[3],ca=u[4],aa=u[5],ta=u[6],oa=u[7];u=u[8];h[0]=S*y+X*F+V*O;h[1]=S*A+X*I+V*R;h[2]=S*C+X*L+V*m;h[3]=ea*y+ca*F+aa*O;h[4]=ea*A+ca*I+aa*R;h[5]=ea*C+ca*L+aa*m;h[6]=ta*y+oa*F+u*O;h[7]=ta*A+oa*I+u*R;h[8]=ta*C+oa*L+
u*m;return h}function g(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function n(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=m[8],X=m[9],V=m[10],ea=m[11],ca=m[12],aa=m[13],ta=m[14];m=m[15];var oa=u[0],ra=u[1],sa=u[2],qa=u[3];h[0]=
oa*y+ra*I+sa*S+qa*ca;h[1]=oa*A+ra*L+sa*X+qa*aa;h[2]=oa*C+ra*O+sa*V+qa*ta;h[3]=oa*F+ra*R+sa*ea+qa*m;oa=u[4];ra=u[5];sa=u[6];qa=u[7];h[4]=oa*y+ra*I+sa*S+qa*ca;h[5]=oa*A+ra*L+sa*X+qa*aa;h[6]=oa*C+ra*O+sa*V+qa*ta;h[7]=oa*F+ra*R+sa*ea+qa*m;oa=u[8];ra=u[9];sa=u[10];qa=u[11];h[8]=oa*y+ra*I+sa*S+qa*ca;h[9]=oa*A+ra*L+sa*X+qa*aa;h[10]=oa*C+ra*O+sa*V+qa*ta;h[11]=oa*F+ra*R+sa*ea+qa*m;oa=u[12];ra=u[13];sa=u[14];qa=u[15];h[12]=oa*y+ra*I+sa*S+qa*ca;h[13]=oa*A+ra*L+sa*X+qa*aa;h[14]=oa*C+ra*O+sa*V+qa*ta;h[15]=oa*
F+ra*R+sa*ea+qa*m;return h}function q(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=y+y,L=A+A,O=C+C;m=y*I;var R=y*L;y*=O;var S=A*L;A*=O;C*=O;I*=F;L*=F;F*=O;h[0]=1-(S+C);h[1]=R+F;h[2]=y-L;h[3]=0;h[4]=R-F;h[5]=1-(m+C);h[6]=A+I;h[7]=0;h[8]=y+L;h[9]=A-I;h[10]=1-(m+S);h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h}function r(h,m){h[0]=m[12];h[1]=m[13];h[2]=m[14];return h}function p(h,m){var u=m[4],y=m[5],A=m[6],C=m[8],F=m[9],I=m[10];h[0]=Math.hypot(m[0],m[1],m[2]);h[1]=Math.hypot(u,y,A);h[2]=Math.hypot(C,
F,I);return h}function w(h,m){var u=new pa(3);p(u,m);var y=1/u[0],A=1/u[1],C=1/u[2],F=m[0]*y;u=m[1]*A;var I=m[2]*C,L=m[4]*y,O=m[5]*A,R=m[6]*C;y*=m[8];A*=m[9];m=m[10]*C;C=F+O+m;0<C?(F=2*Math.sqrt(C+1),h[3]=.25*F,h[0]=(R-A)/F,h[1]=(y-I)/F,h[2]=(u-L)/F):F>O&&F>m?(F=2*Math.sqrt(1+F-O-m),h[3]=(R-A)/F,h[0]=.25*F,h[1]=(u+L)/F,h[2]=(y+I)/F):O>m?(F=2*Math.sqrt(1+O-F-m),h[3]=(y-I)/F,h[0]=(u+L)/F,h[1]=.25*F,h[2]=(R+A)/F):(F=2*Math.sqrt(1+m-F-O),h[3]=(u-L)/F,h[0]=(y+I)/F,h[1]=(R+A)/F,h[2]=.25*F);return h}function t(h,
m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];h[9]=m[9]-u[9];h[10]=m[10]-u[10];h[11]=m[11]-u[11];h[12]=m[12]-u[12];h[13]=m[13]-u[13];h[14]=m[14]-u[14];h[15]=m[15]-u[15];return h}function v(){var h=new pa(3);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,m,u){var y=new pa(3);y[0]=h;y[1]=m;y[2]=u;return y}function D(h,m,u){h[0]=m[0]-u[0];h[1]=
m[1]-u[1];h[2]=m[2]-u[2];return h}function E(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];return h}function M(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];return h}function B(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],m[2]-h[2])}function G(h,m){var u=m[0]-h[0],y=m[1]-h[1];h=m[2]-h[2];return u*u+y*y+h*h}function H(h){var m=h[0],u=h[1];h=h[2];return m*m+u*u+h*h}function J(h,m){var u=m[0],y=m[1],A=m[2];u=u*u+y*y+A*A;0<u&&(u=1/Math.sqrt(u));h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h}function P(h,
m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]}function Q(h,m,u){var y=m[0],A=m[1];m=m[2];var C=u[0],F=u[1];u=u[2];h[0]=A*u-m*F;h[1]=m*C-y*u;h[2]=y*F-A*C;return h}function T(){var h=new pa(4);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function W(h){var m=new pa(4);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];return m}function Z(h,m,u,y){var A=new pa(4);A[0]=h;A[1]=m;A[2]=u;A[3]=y;return A}function Y(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h}function fa(h,m,u,y,A){h[0]=m;h[1]=u;h[2]=
y;h[3]=A;return h}function ja(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h}function xa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function Ka(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];h[3]=m[3]*u[3];return h}function Ta(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];h[3]=m[3]/u[3];return h}function Pa(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h}function Ua(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],
m[2]-h[2],m[3]-h[3])}function db(h,m){var u=m[0]-h[0],y=m[1]-h[1],A=m[2]-h[2];h=m[3]-h[3];return u*u+y*y+A*A+h*h}function Qa(h){return Math.hypot(h[0],h[1],h[2],h[3])}function La(h){var m=h[0],u=h[1],y=h[2];h=h[3];return m*m+u*u+y*y+h*h}function Ya(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*u+y*y+A*A+m*m;0<C&&(C=1/Math.sqrt(C));h[0]=u*C;h[1]=y*C;h[2]=A*C;h[3]=m*C;return h}function Va(h,m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]+h[3]*m[3]}function gb(h,m,u,y){var A=m[0],C=m[1],F=m[2];m=m[3];h[0]=A+
y*(u[0]-A);h[1]=C+y*(u[1]-C);h[2]=F+y*(u[2]-F);h[3]=m+y*(u[3]-m);return h}function ub(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]}function vb(h,m){var u=h[0],y=h[1],A=h[2];h=h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}function hb(){var h=new pa(4);pa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function wb(h,m,u){u*=.5;var y=Math.sin(u);h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=Math.cos(u);return h}function xb(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2];u=u[3];h[0]=y*u+m*F+A*L-C*I;h[1]=A*u+m*I+C*F-y*L;h[2]=C*u+m*L+y*I-A*F;h[3]=m*u-y*F-A*I-C*L;return h}function yb(h,m,u){u*=.5;var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+m*F;h[1]=A*u+C*F;h[2]=C*u-A*F;h[3]=m*u-y*F;return h}function zb(h,m,u){u*=.5;var y=
m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u-C*F;h[1]=A*u+m*F;h[2]=C*u+y*F;h[3]=m*u-A*F;return h}function Ab(h,m,u){u*=.5;var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+A*F;h[1]=A*u-y*F;h[2]=C*u+m*F;h[3]=m*u-C*F;return h}function Bb(h,m){var u=m[0],y=m[1],A=m[2],C=Math.sqrt(u*u+y*y+A*A);m=Math.exp(m[3]);var F=0<C?m*Math.sin(C)/C:0;h[0]=u*F;h[1]=y*F;h[2]=A*F;h[3]=m*Math.cos(C);return h}function Cb(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=Math.sqrt(u*
u+y*y+A*A);C=0<C?Math.atan2(C,m)/C:0;h[0]=u*C;h[1]=y*C;h[2]=A*C;h[3]=.5*Math.log(u*u+y*y+A*A+m*m);return h}function ib(h,m,u,y){var A=m[0],C=m[1],F=m[2];m=m[3];var I=u[0],L=u[1],O=u[2];u=u[3];var R=A*I+C*L+F*O+m*u;0>R&&(R=-R,I=-I,L=-L,O=-O,u=-u);if(1E-6<1-R){var S=Math.acos(R);var X=Math.sin(S);R=Math.sin((1-y)*S)/X;y=Math.sin(y*S)/X}else R=1-y;h[0]=R*A+y*I;h[1]=R*C+y*L;h[2]=R*F+y*O;h[3]=R*m+y*u;return h}function Db(h,m){var u=m[0]+m[4]+m[8];if(0<u)u=Math.sqrt(u+1),h[3]=.5*u,u=.5/u,h[0]=(m[5]-m[7])*
u,h[1]=(m[6]-m[2])*u,h[2]=(m[1]-m[3])*u;else{var y=0;m[4]>m[0]&&(y=1);m[8]>m[3*y+y]&&(y=2);var A=(y+1)%3,C=(y+2)%3;u=Math.sqrt(m[3*y+y]-m[3*A+A]-m[3*C+C]+1);h[y]=.5*u;u=.5/u;h[3]=(m[3*A+C]-m[3*C+A])*u;h[A]=(m[3*A+y]+m[3*y+A])*u;h[C]=(m[3*C+y]+m[3*y+C])*u}return h}function Eb(h,m,u){var y=.5*u[0],A=.5*u[1];u=.5*u[2];var C=m[0],F=m[1],I=m[2];m=m[3];h[0]=C;h[1]=F;h[2]=I;h[3]=m;h[4]=y*m+A*I-u*F;h[5]=A*m+u*C-y*I;h[6]=u*m+y*F-A*C;h[7]=-y*C-A*F-u*I;return h}function Fb(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];
h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];return h}function Gb(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=u[4],L=u[5],O=u[6],R=u[7],S=m[4],X=m[5],V=m[6];m=m[7];var ea=u[0],ca=u[1],aa=u[2];u=u[3];h[0]=y*u+F*ea+A*aa-C*ca;h[1]=A*u+F*ca+C*ea-y*aa;h[2]=C*u+F*aa+y*ca-A*ea;h[3]=F*u-y*ea-A*ca-C*aa;h[4]=y*R+F*I+A*O-C*L+S*u+m*ea+X*aa-V*ca;h[5]=A*R+F*L+C*I-y*O+X*u+m*ca+V*ea-S*aa;h[6]=C*R+F*O+y*L-A*I+V*u+m*aa+S*ca-X*ea;h[7]=F*R-y*I-A*L-C*O+m*u-S*ea-X*ca-V*aa;return h}function jb(){var h=new pa(2);pa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Wa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];return h}function kb(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];return h}function lb(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];return h}function Za(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1])}function mb(h,m){var u=m[0]-h[0];h=m[1]-h[1];return u*u+h*h}function Na(h){return Math.hypot(h[0],h[1])}function nb(h){var m=h[0];h=h[1];return m*m+h*h}var pa="undefined"!==typeof Float32Array?Float32Array:Array,Ja=Math.random,Hb=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,m=arguments.length;m--;)h+=arguments[m]*arguments[m];return Math.sqrt(h)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get fia(){return pa},lna:Ja,Uta:function(h){pa=h},eua:function(h){return h*Hb},fd:function(h,m){return Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}}),Ob=Object.freeze({__proto__:null,create:function(){var h=new pa(4);pa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new pa(4);m[0]=h[0];m[1]=h[1];
m[2]=h[2];m[3]=h[3];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h},hz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},jg:function(h,m,u,y){var A=new pa(4);A[0]=h;A[1]=m;A[2]=u;A[3]=y;return A},set:function(h,m,u,y,A){h[0]=m;h[1]=u;h[2]=y;h[3]=A;return h},cY:function(h,m){if(h===m){var u=m[1];h[1]=m[2];h[2]=u}else h[0]=m[0],h[1]=m[2],h[2]=m[1],h[3]=m[3];return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*m-A*y;if(!C)return null;C=1/C;h[0]=m*C;h[1]=-y*
C;h[2]=-A*C;h[3]=u*C;return h},iX:function(h,m){var u=m[0];h[0]=m[3];h[1]=-m[1];h[2]=-m[2];h[3]=u;return h},KM:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:a,rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+C*F;h[1]=A*u+m*F;h[2]=y*-F+C*u;h[3]=A*-F+m*u;return h},scale:function(h,m,u){var y=m[1],A=m[2],C=m[3],F=u[0];u=u[1];h[0]=m[0]*F;h[1]=y*F;h[2]=A*u;h[3]=C*u;return h},WE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;
return h},OM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];return h},fn:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},NM:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},rla:function(h,m,u,y){h[2]=y[2]/y[0];u[0]=y[0];u[1]=y[1];u[3]=y[3]-h[2]*u[1];return[h,m,u]},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h},gn:b,mk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]},fd:function(h,m){var u=h[0],y=h[1],A=h[2];h=
h[3];var C=m[0],F=m[1],I=m[2];m=m[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-I)<=1E-6*Math.max(1,Math.abs(A),Math.abs(I))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},aN:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h},bN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},pp:a,sub:b}),Pb=Object.freeze({__proto__:null,create:function(){var h=
new pa(6);pa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new pa(6);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];return h},hz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},jg:function(h,m,u,y,A,C){var F=new pa(6);F[0]=h;F[1]=m;F[2]=u;F[3]=y;F[4]=A;F[5]=C;return F},set:function(h,m,u,y,A,C,F){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=
F;return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4];m=m[5];var I=u*C-y*A;if(!I)return null;I=1/I;h[0]=C*I;h[1]=-y*I;h[2]=-A*I;h[3]=u*I;h[4]=(A*m-C*F)*I;h[5]=(y*F-u*m)*I;return h},KM:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:f,rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=Math.sin(u);u=Math.cos(u);h[0]=y*u+C*L;h[1]=A*u+F*L;h[2]=y*-L+C*u;h[3]=A*-L+F*u;h[4]=I;h[5]=m;return h},scale:function(h,m,u){var y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=u[0];u=u[1];
h[0]=m[0]*L;h[1]=y*L;h[2]=A*u;h[3]=C*u;h[4]=F;h[5]=I;return h},translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4];m=m[5];var L=u[0];u=u[1];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=y*L+C*u+I;h[5]=A*L+F*u+m;return h},WE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;h[4]=0;h[5]=0;return h},OM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];h[4]=0;h[5]=0;return h},PM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=m[0];h[5]=m[1];return h},fn:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},NM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];return h},gn:c,aN:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;return h},bN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;return h},mk:function(h,m){return h[0]===
m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4];h=h[5];var I=m[0],L=m[1],O=m[2],R=m[3],S=m[4];m=m[5];return Math.abs(u-I)<=1E-6*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(y-L)<=1E-6*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(A-O)<=1E-6*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(F-S)<=1E-6*Math.max(1,Math.abs(F),Math.abs(S))&&Math.abs(h-m)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(m))},pp:f,sub:c}),Qb=Object.freeze({__proto__:null,create:e,Qga:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[4];h[4]=m[5];h[5]=m[6];h[6]=m[8];h[7]=m[9];h[8]=m[10];return h},clone:function(h){var m=new pa(9);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},jg:function(h,m,u,y,A,C,F,I,L){var O=new pa(9);O[0]=
h;O[1]=m;O[2]=u;O[3]=y;O[4]=A;O[5]=C;O[6]=F;O[7]=I;O[8]=L;return O},set:function(h,m,u,y,A,C,F,I,L,O){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;return h},hz:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},cY:function(h,m){if(h===m){var u=m[1],y=m[2],A=m[5];h[1]=m[3];h[2]=m[6];h[3]=u;h[5]=m[7];h[6]=y;h[7]=A}else h[0]=m[0],h[1]=m[3],h[2]=m[6],h[3]=m[1],h[4]=m[4],h[5]=m[7],h[6]=m[2],h[7]=m[5],h[8]=m[8];return h},Hu:function(h,m){var u=m[0],y=
m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];var R=m*F-I*O,S=-m*C+I*L,X=O*C-F*L,V=u*R+y*S+A*X;if(!V)return null;V=1/V;h[0]=R*V;h[1]=(-m*y+A*O)*V;h[2]=(I*y-A*F)*V;h[3]=S*V;h[4]=(m*u-A*L)*V;h[5]=(-I*u+A*C)*V;h[6]=X*V;h[7]=(-O*u+y*L)*V;h[8]=(F*u-y*C)*V;return h},iX:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7];m=m[8];h[0]=F*m-I*O;h[1]=A*O-y*m;h[2]=y*I-A*F;h[3]=I*L-C*m;h[4]=u*m-A*L;h[5]=A*C-u*I;h[6]=C*O-F*L;h[7]=y*L-u*O;h[8]=u*F-y*C;return h},KM:function(h){var m=
h[3],u=h[4],y=h[5],A=h[6],C=h[7],F=h[8];return h[0]*(F*u-y*C)+h[1]*(-F*m+y*A)+h[2]*(C*m-u*A)},multiply:k,translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=u[0];u=u[1];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=I;h[5]=L;h[6]=S*y+u*F+O;h[7]=S*A+u*I+R;h[8]=S*C+u*L+m;return h},rotate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7];m=m[8];var S=Math.sin(u);u=Math.cos(u);h[0]=u*y+S*F;h[1]=u*A+S*I;h[2]=u*C+S*L;h[3]=u*F-S*y;h[4]=u*I-S*A;h[5]=
u*L-S*C;h[6]=O;h[7]=R;h[8]=m;return h},scale:function(h,m,u){var y=u[0];u=u[1];h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=u*m[3];h[4]=u*m[4];h[5]=u*m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},PM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=m[0];h[7]=m[1];h[8]=1;return h},WE:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=-u;h[4]=m;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},OM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=m[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
Pra:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=0;h[3]=m[2];h[4]=m[3];h[5]=0;h[6]=m[4];h[7]=m[5];h[8]=1;return h},Rga:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u+u,F=y+y,I=A+A;u*=C;var L=y*C;y*=F;var O=A*C,R=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-y-A;h[3]=L-m;h[6]=O+F;h[1]=L+m;h[4]=1-u-A;h[7]=R-C;h[2]=O-F;h[5]=R+C;h[8]=1-u-y;return h},bta:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];var ta=u*I-y*F,oa=u*L-A*
F,ra=u*O-C*F,sa=y*L-A*I,qa=y*O-C*I,Ca=A*O-C*L,Da=R*ca-S*ea,Ea=R*aa-X*ea;R=R*m-V*ea;var Fa=S*aa-X*ca;S=S*m-V*ca;X=X*m-V*aa;V=ta*X-oa*S+ra*Fa+sa*R-qa*Ea+Ca*Da;if(!V)return null;V=1/V;h[0]=(I*X-L*S+O*Fa)*V;h[1]=(L*R-F*X-O*Ea)*V;h[2]=(F*S-I*R+O*Da)*V;h[3]=(A*S-y*X-C*Fa)*V;h[4]=(u*X-A*R+C*Ea)*V;h[5]=(y*R-u*S-C*Da)*V;h[6]=(ca*Ca-aa*qa+m*sa)*V;h[7]=(aa*ra-ea*Ca-m*oa)*V;h[8]=(ea*qa-ca*ra+m*ta)*V;return h},QX:function(h,m,u){h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/u;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},fn:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},NM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];return h},gn:g,aN:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;return h},bN:function(h,m,u,y){h[0]=
m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;return h},mk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7];h=h[8];var R=m[0],S=m[1],X=m[2],V=m[3],ea=m[4],ca=m[5],aa=m[6],ta=m[7];m=m[8];return Math.abs(u-R)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(R))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(C-V)<=1E-6*Math.max(1,Math.abs(C),Math.abs(V))&&Math.abs(F-ea)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ea))&&Math.abs(I-ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ca))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ta)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ta))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},pp:k,sub:g}),Rb=Object.freeze({__proto__:null,
create:function(){var h=new pa(16);pa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var m=new pa(16);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15];return m},qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=
m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},jg:function(h,m,u,y,A,C,F,I,L,O,R,S,X,V,ea,ca){var aa=new pa(16);aa[0]=h;aa[1]=m;aa[2]=u;aa[3]=y;aa[4]=A;aa[5]=C;aa[6]=F;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=R;aa[11]=S;aa[12]=X;aa[13]=V;aa[14]=ea;aa[15]=ca;return aa},set:function(h,m,u,y,A,C,F,I,L,O,R,S,X,V,ea,ca,aa){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;h[9]=R;h[10]=S;h[11]=X;h[12]=V;h[13]=ea;h[14]=ca;h[15]=aa;return h},hz:l,cY:function(h,
m){if(h===m){var u=m[1],y=m[2],A=m[3],C=m[6],F=m[7],I=m[11];h[1]=m[4];h[2]=m[8];h[3]=m[12];h[4]=u;h[6]=m[9];h[7]=m[13];h[8]=y;h[9]=C;h[11]=m[14];h[12]=A;h[13]=F;h[14]=I}else h[0]=m[0],h[1]=m[4],h[2]=m[8],h[3]=m[12],h[4]=m[1],h[5]=m[5],h[6]=m[9],h[7]=m[13],h[8]=m[2],h[9]=m[6],h[10]=m[10],h[11]=m[14],h[12]=m[3],h[13]=m[7],h[14]=m[11],h[15]=m[15];return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];var ta=
u*I-y*F,oa=u*L-A*F,ra=u*O-C*F,sa=y*L-A*I,qa=y*O-C*I,Ca=A*O-C*L,Da=R*ca-S*ea,Ea=R*aa-X*ea,Fa=R*m-V*ea,Ha=S*aa-X*ca,Ra=S*m-V*ca,Sa=X*m-V*aa,za=ta*Sa-oa*Ra+ra*Ha+sa*Fa-qa*Ea+Ca*Da;if(!za)return null;za=1/za;h[0]=(I*Sa-L*Ra+O*Ha)*za;h[1]=(A*Ra-y*Sa-C*Ha)*za;h[2]=(ca*Ca-aa*qa+m*sa)*za;h[3]=(X*qa-S*Ca-V*sa)*za;h[4]=(L*Fa-F*Sa-O*Ea)*za;h[5]=(u*Sa-A*Fa+C*Ea)*za;h[6]=(aa*ra-ea*Ca-m*oa)*za;h[7]=(R*Ca-X*ra+V*oa)*za;h[8]=(F*Ra-I*Fa+O*Da)*za;h[9]=(y*Fa-u*Ra-C*Da)*za;h[10]=(ea*qa-ca*ra+m*ta)*za;h[11]=(S*ra-R*qa-
V*ta)*za;h[12]=(I*Ea-F*Ha-L*Da)*za;h[13]=(u*Ha-y*Ea+A*Da)*za;h[14]=(ca*oa-ea*sa-aa*ta)*za;h[15]=(R*sa-S*oa+X*ta)*za;return h},iX:function(h,m){var u=m[0],y=m[1],A=m[2],C=m[3],F=m[4],I=m[5],L=m[6],O=m[7],R=m[8],S=m[9],X=m[10],V=m[11],ea=m[12],ca=m[13],aa=m[14];m=m[15];h[0]=I*(X*m-V*aa)-S*(L*m-O*aa)+ca*(L*V-O*X);h[1]=-(y*(X*m-V*aa)-S*(A*m-C*aa)+ca*(A*V-C*X));h[2]=y*(L*m-O*aa)-I*(A*m-C*aa)+ca*(A*O-C*L);h[3]=-(y*(L*V-O*X)-I*(A*V-C*X)+S*(A*O-C*L));h[4]=-(F*(X*m-V*aa)-R*(L*m-O*aa)+ea*(L*V-O*X));h[5]=u*
(X*m-V*aa)-R*(A*m-C*aa)+ea*(A*V-C*X);h[6]=-(u*(L*m-O*aa)-F*(A*m-C*aa)+ea*(A*O-C*L));h[7]=u*(L*V-O*X)-F*(A*V-C*X)+R*(A*O-C*L);h[8]=F*(S*m-V*ca)-R*(I*m-O*ca)+ea*(I*V-O*S);h[9]=-(u*(S*m-V*ca)-R*(y*m-C*ca)+ea*(y*V-C*S));h[10]=u*(I*m-O*ca)-F*(y*m-C*ca)+ea*(y*O-C*I);h[11]=-(u*(I*V-O*S)-F*(y*V-C*S)+R*(y*O-C*I));h[12]=-(F*(S*aa-X*ca)-R*(I*aa-L*ca)+ea*(I*X-L*S));h[13]=u*(S*aa-X*ca)-R*(y*aa-A*ca)+ea*(y*X-A*S);h[14]=-(u*(I*aa-L*ca)-F*(y*aa-A*ca)+ea*(y*L-A*I));h[15]=u*(I*X-L*S)-F*(y*X-A*S)+R*(y*L-A*I);return h},
KM:function(h){var m=h[0],u=h[1],y=h[2],A=h[3],C=h[4],F=h[5],I=h[6],L=h[7],O=h[8],R=h[9],S=h[10],X=h[11],V=h[12],ea=h[13],ca=h[14];h=h[15];return(m*F-u*C)*(S*h-X*ca)-(m*I-y*C)*(R*h-X*ea)+(m*L-A*C)*(R*ca-S*ea)+(u*I-y*F)*(O*h-X*V)-(u*L-A*F)*(O*ca-S*V)+(y*L-A*I)*(O*ea-R*V)},multiply:n,translate:function(h,m,u){var y=u[0],A=u[1];u=u[2];if(m===h)h[12]=m[0]*y+m[4]*A+m[8]*u+m[12],h[13]=m[1]*y+m[5]*A+m[9]*u+m[13],h[14]=m[2]*y+m[6]*A+m[10]*u+m[14],h[15]=m[3]*y+m[7]*A+m[11]*u+m[15];else{var C=m[0];var F=m[1];
var I=m[2];var L=m[3];var O=m[4];var R=m[5];var S=m[6];var X=m[7];var V=m[8];var ea=m[9];var ca=m[10];var aa=m[11];h[0]=C;h[1]=F;h[2]=I;h[3]=L;h[4]=O;h[5]=R;h[6]=S;h[7]=X;h[8]=V;h[9]=ea;h[10]=ca;h[11]=aa;h[12]=C*y+O*A+V*u+m[12];h[13]=F*y+R*A+ea*u+m[13];h[14]=I*y+S*A+ca*u+m[14];h[15]=L*y+X*A+aa*u+m[15]}return h},scale:function(h,m,u){var y=u[0],A=u[1];u=u[2];h[0]=m[0]*y;h[1]=m[1]*y;h[2]=m[2]*y;h[3]=m[3]*y;h[4]=m[4]*A;h[5]=m[5]*A;h[6]=m[6]*A;h[7]=m[7]*A;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*
u;h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},rotate:function(h,m,u,y){var A=y[0],C=y[1];y=y[2];var F=Math.hypot(A,C,y);if(1E-6>F)return null;F=1/F;A*=F;C*=F;y*=F;var I=Math.sin(u);var L=Math.cos(u);var O=1-L;u=m[0];F=m[1];var R=m[2];var S=m[3];var X=m[4];var V=m[5];var ea=m[6];var ca=m[7];var aa=m[8];var ta=m[9];var oa=m[10];var ra=m[11];var sa=A*A*O+L;var qa=C*A*O+y*I;var Ca=y*A*O-C*I;var Da=A*C*O-y*I;var Ea=C*C*O+L;var Fa=y*C*O+A*I;var Ha=A*y*O+C*I;A=C*y*O-A*I;C=y*y*O+L;h[0]=u*sa+
X*qa+aa*Ca;h[1]=F*sa+V*qa+ta*Ca;h[2]=R*sa+ea*qa+oa*Ca;h[3]=S*sa+ca*qa+ra*Ca;h[4]=u*Da+X*Ea+aa*Fa;h[5]=F*Da+V*Ea+ta*Fa;h[6]=R*Da+ea*Ea+oa*Fa;h[7]=S*Da+ca*Ea+ra*Fa;h[8]=u*Ha+X*A+aa*C;h[9]=F*Ha+V*A+ta*C;h[10]=R*Ha+ea*A+oa*C;h[11]=S*Ha+ca*A+ra*C;m!==h&&(h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h},nN:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var A=m[4],C=m[5],F=m[6],I=m[7],L=m[8],O=m[9],R=m[10],S=m[11];m!==h&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[12]=m[12],h[13]=m[13],h[14]=m[14],
h[15]=m[15]);h[4]=A*u+L*y;h[5]=C*u+O*y;h[6]=F*u+R*y;h[7]=I*u+S*y;h[8]=L*u-A*y;h[9]=O*u-C*y;h[10]=R*u-F*y;h[11]=S*u-I*y;return h},oN:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var A=m[0],C=m[1],F=m[2],I=m[3],L=m[8],O=m[9],R=m[10],S=m[11];m!==h&&(h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*u-L*y;h[1]=C*u-O*y;h[2]=F*u-R*y;h[3]=I*u-S*y;h[8]=A*y+L*u;h[9]=C*y+O*u;h[10]=F*y+R*u;h[11]=I*y+S*u;return h},pN:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);
var A=m[0],C=m[1],F=m[2],I=m[3],L=m[4],O=m[5],R=m[6],S=m[7];m!==h&&(h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*u+L*y;h[1]=C*u+O*y;h[2]=F*u+R*y;h[3]=I*u+S*y;h[4]=L*u-A*y;h[5]=O*u-C*y;h[6]=R*u-F*y;h[7]=S*u-I*y;return h},PM:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=m[0];h[13]=m[1];h[14]=m[2];h[15]=1;return h},OM:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=m[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},WE:function(h,m,u){var y=u[0],A=u[1];u=u[2];var C=Math.hypot(y,A,u);if(1E-6>C)return null;C=1/C;y*=C;A*=C;u*=C;C=Math.sin(m);m=Math.cos(m);var F=1-m;h[0]=y*y*F+m;h[1]=A*y*F+u*C;h[2]=u*y*F-A*C;h[3]=0;h[4]=y*A*F-u*C;h[5]=A*A*F+m;h[6]=u*A*F+y*C;h[7]=0;h[8]=y*u*F+A*C;h[9]=A*u*F-y*C;h[10]=u*u*F+m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Vra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=m;h[6]=u;h[7]=0;h[8]=0;h[9]=-u;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Wra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=0;h[2]=-u;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=u;h[9]=0;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Xra:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=0;h[4]=-u;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Sga:q,Rra:function(h,m){var u=new pa(3),
y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=y*y+A*A+C*C+F*F;0<S?(u[0]=2*(I*F+R*y+L*C-O*A)/S,u[1]=2*(L*F+R*A+O*y-I*C)/S,u[2]=2*(O*F+R*C+I*A-L*y)/S):(u[0]=2*(I*F+R*y+L*C-O*A),u[1]=2*(L*F+R*A+O*y-I*C),u[2]=2*(O*F+R*C+I*A-L*y));q(h,m,u);return h},Vga:r,hsa:p,gsa:w,Sra:function(h,m,u,y){var A=m[0],C=m[1],F=m[2],I=m[3],L=A+A,O=C+C,R=F+F;m=A*L;var S=A*O;A*=R;var X=C*O;C*=R;F*=R;L*=I;O*=I;I*=R;R=y[0];var V=y[1];y=y[2];h[0]=(1-(X+F))*R;h[1]=(S+I)*R;h[2]=(A-O)*R;h[3]=0;h[4]=(S-I)*V;h[5]=(1-
(m+F))*V;h[6]=(C+L)*V;h[7]=0;h[8]=(A+O)*y;h[9]=(C-L)*y;h[10]=(1-(m+X))*y;h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h},Tra:function(h,m,u,y,A){var C=m[0],F=m[1],I=m[2],L=m[3],O=C+C,R=F+F,S=I+I;m=C*O;var X=C*R,V=C*S;C=F*R;F*=S;var ea=I*S;I=L*O;R*=L;var ca=L*S,aa=y[0],ta=y[1];S=y[2];y=A[0];L=A[1];A=A[2];O=(1-(C+ea))*aa;var oa=(X+ca)*aa;aa*=V-R;X=(X-ca)*ta;ea=(1-(m+ea))*ta;ta*=F+I;V=(V+R)*S;F=(F-I)*S;m=(1-(m+C))*S;h[0]=O;h[1]=oa;h[2]=aa;h[3]=0;h[4]=X;h[5]=ea;h[6]=ta;h[7]=0;h[8]=V;h[9]=F;
h[10]=m;h[11]=0;h[12]=u[0]+y-(O*y+X*L+V*A);h[13]=u[1]+L-(oa*y+ea*L+F*A);h[14]=u[2]+A-(aa*y+ta*L+m*A);h[15]=1;return h},Rga:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u+u,F=y+y,I=A+A;u*=C;var L=y*C;y*=F;var O=A*C,R=A*F;A*=I;C*=m;F*=m;m*=I;h[0]=1-y-A;h[1]=L+m;h[2]=O-F;h[3]=0;h[4]=L-m;h[5]=1-u-A;h[6]=R+C;h[7]=0;h[8]=O+F;h[9]=R-C;h[10]=1-u-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Tga:function(h,m,u,y,A,C,F){var I=1/(u-m),L=1/(A-y),O=1/(C-F);h[0]=2*C*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*C*L;h[6]=0;h[7]=0;h[8]=(u+m)*I;h[9]=(A+y)*L;h[10]=(F+C)*O;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*C*2*O;h[15]=0;return h},perspective:function(h,m,u,y,A){m=1/Math.tan(m/2);h[0]=m/u;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(u=1/(y-A),h[10]=(A+y)*u,h[14]=2*A*y*u):(h[10]=-1,h[14]=-2*y);return h},ita:function(h,m,u,y){var A=Math.tan(m.lua*Math.PI/180),C=Math.tan(m.Era*Math.PI/180),F=Math.tan(m.Qsa*Math.PI/180);m=Math.tan(m.Eta*Math.PI/
180);var I=2/(F+m),L=2/(A+C);h[0]=I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=L;h[6]=0;h[7]=0;h[8]=-((F-m)*I*.5);h[9]=(A-C)*L*.5;h[10]=y/(u-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*u/(u-y);h[15]=0;return h},Aha:function(h,m,u,y,A,C,F){var I=1/(m-u),L=1/(y-A),O=1/(C-F);h[0]=-2*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*L;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*O;h[11]=0;h[12]=(m+u)*I;h[13]=(A+y)*L;h[14]=(F+C)*O;h[15]=1;return h},rha:function(h,m,u,y){var A=m[0],C=m[1];m=m[2];var F=y[0];var I=y[1];var L=y[2];var O=u[0];y=
u[1];var R=u[2];if(1E-6>Math.abs(A-O)&&1E-6>Math.abs(C-y)&&1E-6>Math.abs(m-R))return l(h);u=A-O;y=C-y;O=m-R;var S=1/Math.hypot(u,y,O);u*=S;y*=S;O*=S;R=I*O-L*y;L=L*u-F*O;F=F*y-I*u;(S=Math.hypot(R,L,F))?(S=1/S,R*=S,L*=S,F*=S):F=L=R=0;I=y*F-O*L;var X=O*R-u*F;var V=u*L-y*R;(S=Math.hypot(I,X,V))?(S=1/S,I*=S,X*=S,V*=S):V=X=I=0;h[0]=R;h[1]=I;h[2]=u;h[3]=0;h[4]=L;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=V;h[10]=O;h[11]=0;h[12]=-(R*A+L*C+F*m);h[13]=-(I*A+X*C+V*m);h[14]=-(u*A+y*C+O*m);h[15]=1;return h},aua:function(h,
m,u,y){var A=m[0],C=m[1];m=m[2];var F=y[0],I=y[1],L=y[2];y=A-u[0];var O=C-u[1];u=m-u[2];var R=y*y+O*O+u*u;0<R&&(R=1/Math.sqrt(R),y*=R,O*=R,u*=R);var S=I*u-L*O;L=L*y-F*u;F=F*O-I*y;R=S*S+L*L+F*F;0<R&&(R=1/Math.sqrt(R),S*=R,L*=R,F*=R);h[0]=S;h[1]=L;h[2]=F;h[3]=0;h[4]=O*F-u*L;h[5]=u*S-y*F;h[6]=y*L-O*S;h[7]=0;h[8]=y;h[9]=O;h[10]=u;h[11]=0;h[12]=A;h[13]=C;h[14]=m;h[15]=1;return h},fn:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},NM:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];h[9]=m[9]+u[9];h[10]=m[10]+u[10];h[11]=m[11]+u[11];h[12]=m[12]+u[12];h[13]=m[13]+u[13];h[14]=m[14]+u[14];h[15]=m[15]+u[15];return h},gn:t,aN:function(h,m,
u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*u;h[12]=m[12]*u;h[13]=m[13]*u;h[14]=m[14]*u;h[15]=m[15]*u;return h},bN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;h[9]=m[9]+u[9]*y;h[10]=m[10]+u[10]*y;h[11]=m[11]+u[11]*y;h[12]=m[12]+u[12]*y;h[13]=m[13]+u[13]*y;h[14]=m[14]+u[14]*
y;h[15]=m[15]+u[15]*y;return h},mk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]&&h[9]===m[9]&&h[10]===m[10]&&h[11]===m[11]&&h[12]===m[12]&&h[13]===m[13]&&h[14]===m[14]&&h[15]===m[15]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7],R=h[8],S=h[9],X=h[10],V=h[11],ea=h[12],ca=h[13],aa=h[14];h=h[15];var ta=m[0],oa=m[1],ra=m[2],sa=m[3],qa=m[4],Ca=m[5],Da=m[6],Ea=m[7],Fa=m[8],Ha=m[9],
Ra=m[10],Sa=m[11],za=m[12],Ib=m[13],Jb=m[14];m=m[15];return Math.abs(u-ta)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(y-oa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(oa))&&Math.abs(A-ra)<=1E-6*Math.max(1,Math.abs(A),Math.abs(ra))&&Math.abs(C-sa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(sa))&&Math.abs(F-qa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(qa))&&Math.abs(I-Ca)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Ca))&&Math.abs(L-Da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Da))&&Math.abs(O-Ea)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Ea))&&Math.abs(R-Fa)<=1E-6*Math.max(1,Math.abs(R),Math.abs(Fa))&&Math.abs(S-Ha)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ha))&&Math.abs(X-Ra)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Ra))&&Math.abs(V-Sa)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Sa))&&Math.abs(ea-za)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(za))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),Math.abs(Ib))&&Math.abs(aa-Jb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Jb))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},
pp:n,sub:t}),ob=function(){var h=v();return function(m,u,y,A,C,F){u||(u=3);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],C(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2];return m}}();ob=Object.freeze({__proto__:null,create:v,clone:function(h){var m=new pa(3);m[0]=h[0];m[1]=h[1];m[2]=h[2];return m},length:x,jg:z,qa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];return h},set:function(h,m,u,y){h[0]=m;h[1]=u;h[2]=y;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=
m[1]+u[1];h[2]=m[2]+u[2];return h},gn:D,multiply:E,lk:M,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=
Math.round(m[1]);h[2]=Math.round(m[2]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h},qN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;return h},ez:B,$X:G,jF:H,IX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];return h},normalize:J,kp:P,JM:Q,nc:function(h,m,u,y){var A=m[0],C=m[1];m=m[2];h[0]=A+y*(u[0]-A);h[1]=C+y*(u[1]-C);h[2]=m+y*(u[2]-m);return h},lsa:function(h,m,u,y,A,C){var F=
C*C,I=F*(2*C-3)+1,L=F*(C-2)+C,O=F*(C-1);C=F*(3-2*C);h[0]=m[0]*I+u[0]*L+y[0]*O+A[0]*C;h[1]=m[1]*I+u[1]*L+y[1]*O+A[1]*C;h[2]=m[2]*I+u[2]*L+y[2]*O+A[2]*C;return h},nra:function(h,m,u,y,A,C){var F=1-C,I=F*F,L=C*C,O=I*F;I*=3*C;F*=3*L;C*=L;h[0]=m[0]*O+u[0]*I+y[0]*F+A[0]*C;h[1]=m[1]*O+u[1]*I+y[1]*F+A[1]*C;h[2]=m[2]*O+u[2]*I+y[2]*F+A[2]*C;return h},random:function(h,m){m=m||1;var u=2*Ja()*Math.PI,y=2*Ja()-1,A=Math.sqrt(1-y*y)*m;h[0]=Math.cos(u)*A;h[1]=Math.sin(u)*A;h[2]=y*m;return h},zN:function(h,m,u){var y=
m[0],A=m[1];m=m[2];var C=u[3]*y+u[7]*A+u[11]*m+u[15];C=C||1;h[0]=(u[0]*y+u[4]*A+u[8]*m+u[12])/C;h[1]=(u[1]*y+u[5]*A+u[9]*m+u[13])/C;h[2]=(u[2]*y+u[6]*A+u[10]*m+u[14])/C;return h},Yha:function(h,m,u){var y=m[0],A=m[1];m=m[2];h[0]=y*u[0]+A*u[3]+m*u[6];h[1]=y*u[1]+A*u[4]+m*u[7];h[2]=y*u[2]+A*u[5]+m*u[8];return h},Zha:function(h,m,u){var y=u[0],A=u[1],C=u[2],F=m[0],I=m[1];m=m[2];var L=A*m-C*I,O=C*F-y*m,R=y*I-A*F;u=2*u[3];h[0]=F+L*u+2*(A*R-C*O);h[1]=I+O*u+2*(C*L-y*R);h[2]=m+R*u+2*(y*O-A*L);return h},nN:function(h,
m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=m[2]-u[2];C[0]=A[0];C[1]=A[1]*Math.cos(y)-A[2]*Math.sin(y);C[2]=A[1]*Math.sin(y)+A[2]*Math.cos(y);h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},oN:function(h,m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=m[2]-u[2];C[0]=A[2]*Math.sin(y)+A[0]*Math.cos(y);C[1]=A[1];C[2]=A[2]*Math.cos(y)-A[0]*Math.sin(y);h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},pN:function(h,m,u,y){var A=[],C=[];A[0]=m[0]-u[0];A[1]=m[1]-u[1];A[2]=
m[2]-u[2];C[0]=A[0]*Math.cos(y)-A[1]*Math.sin(y);C[1]=A[0]*Math.sin(y)+A[1]*Math.cos(y);C[2]=A[2];h[0]=C[0]+u[0];h[1]=C[1]+u[1];h[2]=C[2]+u[2];return h},angle:function(h,m){var u=h[0],y=h[1],A=h[2],C=m[0],F=m[1],I=m[2];h=(u=Math.sqrt(u*u+y*y+A*A)*Math.sqrt(C*C+F*F+I*I))&&P(h,m)/u;return Math.acos(Math.min(Math.max(h,-1),1))},mY:function(h){h[0]=0;h[1]=0;h[2]=0;return h},fn:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},mk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]},fd:function(h,
m){var u=h[0],y=h[1];h=h[2];var A=m[0],C=m[1];m=m[2];return Math.abs(u-A)<=1E-6*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(y-C)<=1E-6*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},sub:D,pp:E,vX:M,tX:B,ZX:G,kz:x,iF:H,forEach:ob});var pb=function(){var h=T();return function(m,u,y,A,C,F){u||(u=4);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],h[3]=m[y+3],C(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2],m[y+3]=
h[3];return m}}();pb=Object.freeze({__proto__:null,create:T,clone:W,jg:Z,qa:Y,set:fa,add:ja,gn:xa,multiply:Ka,lk:Ta,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);h[3]=Math.ceil(m[3]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);h[3]=Math.floor(m[3]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);h[3]=Math.min(m[3],u[3]);return h},max:function(h,m,u){h[0]=
Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);h[3]=Math.max(m[3],u[3]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);h[2]=Math.round(m[2]);h[3]=Math.round(m[3]);return h},scale:Pa,qN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},ez:Ua,$X:db,length:Qa,jF:La,IX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=-m[3];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];h[3]=1/m[3];return h},
normalize:Ya,kp:Va,JM:function(h,m,u,y){var A=u[0]*y[1]-u[1]*y[0],C=u[0]*y[2]-u[2]*y[0],F=u[0]*y[3]-u[3]*y[0],I=u[1]*y[2]-u[2]*y[1],L=u[1]*y[3]-u[3]*y[1];u=u[2]*y[3]-u[3]*y[2];y=m[0];var O=m[1],R=m[2];m=m[3];h[0]=O*u-R*L+m*I;h[1]=-(y*u)+R*F-m*C;h[2]=y*L-O*F+m*A;h[3]=-(y*I)+O*C-R*A;return h},nc:gb,random:function(h,m){m=m||1;do{var u=2*Ja()-1;var y=2*Ja()-1;var A=u*u+y*y}while(1<=A);do{var C=2*Ja()-1;var F=2*Ja()-1;var I=C*C+F*F}while(1<=I);A=Math.sqrt((1-A)/I);h[0]=m*u;h[1]=m*y;h[2]=m*C*A;h[3]=m*
F*A;return h},zN:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];h[0]=u[0]*y+u[4]*A+u[8]*C+u[12]*m;h[1]=u[1]*y+u[5]*A+u[9]*C+u[13]*m;h[2]=u[2]*y+u[6]*A+u[10]*C+u[14]*m;h[3]=u[3]*y+u[7]*A+u[11]*C+u[15]*m;return h},Zha:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=u[0],I=u[1],L=u[2];u=u[3];var O=u*y+I*C-L*A,R=u*A+L*y-F*C,S=u*C+F*A-I*y;y=-F*y-I*A-L*C;h[0]=O*u+y*-F+R*-L-S*-I;h[1]=R*u+y*-I+S*-F-O*-L;h[2]=S*u+y*-L+O*-I-R*-F;h[3]=m[3];return h},mY:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},fn:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},mk:ub,fd:vb,sub:xa,pp:Ka,vX:Ta,tX:Ua,ZX:db,kz:Qa,iF:La,forEach:pb});var qb=function(){var h=v(),m=z(1,0,0),u=z(0,1,0);return function(y,A,C){var F=P(A,C);if(-.999999>F)return Q(h,m,A),1E-6>x(h)&&Q(h,u,A),J(h,h),wb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;Q(h,A,C);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return Ya(y,y)}}(),rb=function(){var h=hb(),m=hb();return function(u,y,A,C,F,I){ib(h,y,F,I);ib(m,A,C,I);ib(u,h,m,2*I*(1-I));return u}}(),
eb=function(){var h=e();return function(m,u,y,A){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-u[0];h[5]=-u[1];h[8]=-u[2];return Ya(m,Db(m,h))}}();qb=Object.freeze({__proto__:null,create:hb,hz:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},Sta:wb,dsa:function(h,m){var u=2*Math.acos(m[3]),y=Math.sin(u/2);1E-6<y?(h[0]=m[0]/y,h[1]=m[1]/y,h[2]=m[2]/y):(h[0]=1,h[1]=0,h[2]=0);return u},bsa:function(h,m){h=Va(h,m);return Math.acos(2*h*h-1)},multiply:xb,nN:yb,oN:zb,pN:Ab,pra:function(h,
m){var u=m[0],y=m[1];m=m[2];h[0]=u;h[1]=y;h[2]=m;h[3]=Math.sqrt(Math.abs(1-u*u-y*y-m*m));return h},exp:Bb,qha:Cb,pow:function(h,m,u){Cb(h,m);Pa(h,h,u);Bb(h,h);return h},Xta:ib,random:function(h){var m=Ja(),u=Ja(),y=Ja(),A=Math.sqrt(1-m);m=Math.sqrt(m);h[0]=A*Math.sin(2*Math.PI*u);h[1]=A*Math.cos(2*Math.PI*u);h[2]=m*Math.sin(2*Math.PI*y);h[3]=m*Math.cos(2*Math.PI*y);return h},Hu:function(h,m){var u=m[0],y=m[1],A=m[2];m=m[3];var C=u*u+y*y+A*A+m*m;C=C?1/C:0;h[0]=-u*C;h[1]=-y*C;h[2]=-A*C;h[3]=m*C;return h},
Cga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];return h},Qra:Db,Ora:function(h,m,u,y){var A=.5*Math.PI/180;m*=A;u*=A;y*=A;A=Math.sin(m);m=Math.cos(m);var C=Math.sin(u);u=Math.cos(u);var F=Math.sin(y);y=Math.cos(y);h[0]=A*u*y-m*C*F;h[1]=m*C*y+A*u*F;h[2]=m*u*F-A*C*y;h[3]=m*u*y+A*C*F;return h},fn:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:W,jg:Z,qa:Y,set:fa,add:ja,pp:xb,scale:Pa,kp:Va,nc:gb,length:Qa,kz:Qa,jF:La,iF:La,normalize:Ya,mk:ub,fd:vb,Ita:qb,Yta:rb,
Rta:eb});rb=Object.freeze({__proto__:null,create:function(){var h=new pa(8);pa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var m=new pa(8);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];return m},jg:function(h,m,u,y,A,C,F,I){var L=new pa(8);L[0]=h;L[1]=m;L[2]=u;L[3]=y;L[4]=A;L[5]=C;L[6]=F;L[7]=I;return L},Ura:function(h,m,u,y,A,C,F){var I=new pa(8);I[0]=h;I[1]=m;I[2]=u;I[3]=y;A*=.5;C*=.5;F*=.5;I[4]=A*y+C*u-F*
m;I[5]=C*y+F*h-A*u;I[6]=F*y+A*m-C*h;I[7]=-A*h-C*m-F*u;return I},Sga:Eb,PM:function(h,m){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*m[0];h[5]=.5*m[1];h[6]=.5*m[2];h[7]=0;return h},WE:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},Qga:function(h,m){var u=hb();w(u,m);var y=new pa(3);r(y,m);Eb(h,u,y);return h},qa:Fb,hz:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,m,u,y,A,C,F,I,L){h[0]=m;h[1]=u;h[2]=y;h[3]=A;h[4]=C;h[5]=
F;h[6]=I;h[7]=L;return h},fsa:Y,esa:function(h,m){h[0]=m[4];h[1]=m[5];h[2]=m[6];h[3]=m[7];return h},Vta:Y,Tta:function(h,m){h[4]=m[0];h[5]=m[1];h[6]=m[2];h[7]=m[3];return h},Vga:function(h,m){var u=m[4],y=m[5],A=m[6],C=m[7],F=-m[0],I=-m[1],L=-m[2];m=m[3];h[0]=2*(u*m+C*F+y*L-A*I);h[1]=2*(y*m+C*I+A*F-u*L);h[2]=2*(A*m+C*L+u*I-y*F);return h},translate:function(h,m,u){var y=m[0],A=m[1],C=m[2],F=m[3],I=.5*u[0],L=.5*u[1];u=.5*u[2];var O=m[4],R=m[5],S=m[6];m=m[7];h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=F*I+A*u-
C*L+O;h[5]=F*L+C*I-y*u+R;h[6]=F*u+y*L-A*I+S;h[7]=-y*I-A*L-C*u+m;return h},nN:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-I*y-L*A-O*C;yb(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},oN:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-
I*y-L*A-O*C;zb(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},pN:function(h,m,u){var y=-m[0],A=-m[1],C=-m[2],F=m[3],I=m[4],L=m[5],O=m[6],R=m[7],S=I*F+R*y+L*C-O*A,X=L*F+R*A+O*y-I*C,V=O*F+R*C+I*A-L*y;I=R*F-I*y-L*A-O*C;Ab(h,m,u);y=h[0];A=h[1];C=h[2];F=h[3];h[4]=S*F+I*y+X*C-V*A;h[5]=X*F+I*A+V*y-S*C;h[6]=V*F+I*C+S*A-X*y;h[7]=I*F-S*y-X*A-V*C;return h},Gta:function(h,m,u){var y=u[0],A=u[1],C=u[2];u=u[3];var F=m[0],I=m[1],L=
m[2],O=m[3];h[0]=F*u+O*y+I*C-L*A;h[1]=I*u+O*A+L*y-F*C;h[2]=L*u+O*C+F*A-I*y;h[3]=O*u-F*y-I*A-L*C;F=m[4];I=m[5];L=m[6];O=m[7];h[4]=F*u+O*y+I*C-L*A;h[5]=I*u+O*A+L*y-F*C;h[6]=L*u+O*C+F*A-I*y;h[7]=O*u-F*y-I*A-L*C;return h},Hta:function(h,m,u){var y=m[0],A=m[1],C=m[2];m=m[3];var F=u[0],I=u[1],L=u[2],O=u[3];h[0]=y*O+m*F+A*L-C*I;h[1]=A*O+m*I+C*F-y*L;h[2]=C*O+m*L+y*I-A*F;h[3]=m*O-y*F-A*I-C*L;F=u[4];I=u[5];L=u[6];O=u[7];h[4]=y*O+m*F+A*L-C*I;h[5]=A*O+m*I+C*F-y*L;h[6]=C*O+m*L+y*I-A*F;h[7]=m*O-y*F-A*I-C*L;return h},
Fta:function(h,m,u,y){if(1E-6>Math.abs(y))return Fb(h,m);var A=Math.hypot(u[0],u[1],u[2]);y*=.5;var C=Math.sin(y),F=C*u[0]/A,I=C*u[1]/A;u=C*u[2]/A;y=Math.cos(y);A=m[0];C=m[1];var L=m[2],O=m[3];h[0]=A*y+O*F+C*u-L*I;h[1]=C*y+O*I+L*F-A*u;h[2]=L*y+O*u+A*I-C*F;h[3]=O*y-A*F-C*I-L*u;A=m[4];C=m[5];L=m[6];m=m[7];h[4]=A*y+m*F+C*u-L*I;h[5]=C*y+m*I+L*F-A*u;h[6]=L*y+m*u+A*I-C*F;h[7]=m*y-A*F-C*I-L*u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+
u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];return h},multiply:Gb,pp:Gb,scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;return h},kp:Va,nc:function(h,m,u,y){var A=1-y;0>Va(m,u)&&(y=-y);h[0]=m[0]*A+u[0]*y;h[1]=m[1]*A+u[1]*y;h[2]=m[2]*A+u[2]*y;h[3]=m[3]*A+u[3]*y;h[4]=m[4]*A+u[4]*y;h[5]=m[5]*A+u[5]*y;h[6]=m[6]*A+u[6]*y;h[7]=m[7]*A+u[7]*y;return h},Hu:function(h,m){var u=La(m);h[0]=-m[0]/u;h[1]=-m[1]/u;h[2]=-m[2]/u;h[3]=m[3]/u;h[4]=-m[4]/u;
h[5]=-m[5]/u;h[6]=-m[6]/u;h[7]=m[7]/u;return h},Cga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];h[4]=-m[4];h[5]=-m[5];h[6]=-m[6];h[7]=m[7];return h},length:Qa,kz:Qa,jF:La,iF:La,normalize:function(h,m){var u=La(m);if(0<u){u=Math.sqrt(u);var y=m[0]/u,A=m[1]/u,C=m[2]/u,F=m[3]/u,I=m[4],L=m[5],O=m[6];m=m[7];var R=y*I+A*L+C*O+F*m;h[0]=y;h[1]=A;h[2]=C;h[3]=F;h[4]=(I-y*R)/u;h[5]=(L-A*R)/u;h[6]=(O-C*R)/u;h[7]=(m-F*R)/u}return h},fn:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},mk:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]},fd:function(h,m){var u=h[0],y=h[1],A=h[2],C=h[3],F=h[4],I=h[5],L=h[6];h=h[7];var O=m[0],R=m[1],S=m[2],X=m[3],V=m[4],ea=m[5],ca=m[6];m=m[7];return Math.abs(u-O)<=1E-6*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(y-R)<=1E-6*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(A-S)<=1E-6*Math.max(1,Math.abs(A),Math.abs(S))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(F-V)<=1E-6*Math.max(1,Math.abs(F),Math.abs(V))&&Math.abs(I-ea)<=1E-6*Math.max(1,Math.abs(I),Math.abs(ea))&&Math.abs(L-ca)<=1E-6*Math.max(1,Math.abs(L),Math.abs(ca))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}});eb=function(){var h=jb();return function(m,u,y,A,C,F){u||(u=2);y||(y=0);for(A=A?Math.min(A*u+y,m.length):m.length;y<A;y+=u)h[0]=m[y],h[1]=m[y+1],C(h,h,F),m[y]=h[0],m[y+1]=h[1];return m}}();eb=Object.freeze({__proto__:null,
create:jb,clone:function(h){var m=new pa(2);m[0]=h[0];m[1]=h[1];return m},jg:function(h,m){var u=new pa(2);u[0]=h;u[1]=m;return u},qa:function(h,m){h[0]=m[0];h[1]=m[1];return h},set:function(h,m,u){h[0]=m;h[1]=u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];return h},gn:Wa,multiply:kb,lk:lb,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=
Math.min(m[1],u[1]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;return h},qN:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;return h},ez:Za,$X:mb,length:Na,jF:nb,IX:function(h,m){h[0]=-m[0];h[1]=-m[1];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];return h},normalize:function(h,m){var u=m[0],y=m[1];u=u*u+y*y;0<u&&(u=1/Math.sqrt(u));
h[0]=m[0]*u;h[1]=m[1]*u;return h},kp:function(h,m){return h[0]*m[0]+h[1]*m[1]},JM:function(h,m,u){m=m[0]*u[1]-m[1]*u[0];h[0]=h[1]=0;h[2]=m;return h},nc:function(h,m,u,y){var A=m[0];m=m[1];h[0]=A+y*(u[0]-A);h[1]=m+y*(u[1]-m);return h},random:function(h,m){m=m||1;var u=2*Ja()*Math.PI;h[0]=Math.cos(u)*m;h[1]=Math.sin(u)*m;return h},iua:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m;h[1]=u[1]*y+u[3]*m;return h},jua:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m+u[4];h[1]=u[1]*y+u[3]*m+u[5];
return h},Yha:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[3]*m+u[6];h[1]=u[1]*y+u[4]*m+u[7];return h},zN:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[4]*m+u[12];h[1]=u[1]*y+u[5]*m+u[13];return h},rotate:function(h,m,u,y){var A=m[0]-u[0];m=m[1]-u[1];var C=Math.sin(y);y=Math.cos(y);h[0]=A*y-m*C+u[0];h[1]=A*C+m*y+u[1];return h},angle:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];var A=Math.sqrt(u*u+h*h)*Math.sqrt(y*y+m*m);return Math.acos(Math.min(Math.max(A&&(u*y+h*m)/A,-1),1))},mY:function(h){h[0]=
0;h[1]=0;return h},fn:function(h){return"vec2("+h[0]+", "+h[1]+")"},mk:function(h,m){return h[0]===m[0]&&h[1]===m[1]},fd:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];return Math.abs(u-y)<=1E-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},kz:Na,sub:Wa,pp:kb,vX:lb,tX:Za,ZX:mb,iF:nb,forEach:eb});d.ql=Nb;d.Vsa=Ob;d.Wsa=Pb;d.Xsa=Qb;d.mp=Rb;d.pta=qb;d.qta=rb;d.qua=eb;d.nF=ob;d.zz=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.hra?define(["exports"],$a):(Xa=Xa||self,$a(Xa.ql={}));
{"use strict";function d(t,v,x,z){var D=v[0]-t[0];v=v[1]-t[1];var E=z[0]-x[0],M=z[1]-x[1];if(0===E*v-M*D)return!1;z=(D*(x[1]-t[1])+v*(t[0]-x[0]))/(E*v-M*D);t=(E*(t[1]-x[1])+M*(x[0]-t[0]))/(M*D-E*v);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,v,x){return(v[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(v[1]-t[1])}function b(t,v,x){return 0<a(t,v,x)}function f(t,v,x){return 0<=a(t,v,x)}function c(t,v,x){return 0>=a(t,v,x)}var ab=[],bb=[];function e(t,v){var x=v[0]-t[0];t=v[1]-t[1];return x*x+t*t}function k(t,v){var x=
t.length;return t[0>v?v%x+x:v%x]}function g(t,v,x,z){for(;x<z;x++)t.push(v[x])}function l(t,v){var x=k(t,v-1),z=k(t,v);t=k(t,v+1);return 0>a(x,z,t)}var cb=[],sb=[];function n(t,v,x,z){z=z||[];z.length=0;if(v<x)for(var D=v;D<=x;D++)z.push(t[D]);else{for(D=0;D<=x;D++)z.push(t[D]);for(D=v;D<t.length;D++)z.push(t[D])}return z}function q(t){for(var v=[],x,z,D=[],E=Number.MAX_VALUE,M=0;M<t.length;++M)if(l(t,M))for(var B=0;B<t.length;++B){a:{z=t;var G=M,H=B;if(f(k(z,G+1),k(z,G),k(z,H))&&c(k(z,G-1),k(z,G),
k(z,H)))x=!1;else{x=e(k(z,G),k(z,H));for(var J=0;J!==z.length;++J)if((J+1)%z.length!==G&&J!==G&&f(k(z,G),k(z,H),k(z,J+1))&&c(k(z,G),k(z,H),k(z,J))){cb[0]=k(z,G);cb[1]=k(z,H);sb[0]=k(z,J);sb[1]=k(z,J+1);var P=[0,0];var Q=cb[1][1]-cb[0][1];var T=cb[0][0]-cb[1][0];var W=Q*cb[0][0]+T*cb[0][1];var Z=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var fa=Z*sb[0][0]+Y*sb[0][1];var ja=Q*Y-Z*T;0>=Math.abs(ja-0)||(P[0]=(Y*W-T*fa)/ja,P[1]=(Q*fa-Z*W)/ja);ja=P;if(e(k(z,G),ja)<x){x=!1;break a}}x=!0}}if(x){x=q(n(t,M,
B,D));z=q(n(t,B,M,D));for(G=0;G<z.length;G++)x.push(z[G]);x.length<E&&(v=x,E=x.length,v.push([k(t,M),k(t,B)]))}}return v}function r(t,v){if(0===v.length)return[t];if(v instanceof Array&&v.length&&v[0]instanceof Array&&2===v[0].length&&v[0][0]instanceof Array){t=[t];for(var x=0;x<v.length;x++)for(var z=v[x],D=0;D<t.length;D++){var E=r(t[D],z);if(E){t.splice(D,1);t.push(E[0],E[1]);break}}return t}z=v;x=t.indexOf(z[0]);D=t.indexOf(z[1]);return-1!==x&&-1!==D?[n(t,x,D),n(t,D,x)]:!1}function p(t,v,x,z,
D){var E=v[1]-t[1];v=t[0]-v[0];t=E*t[0]+v*t[1];var M=z[1]-x[1];z=x[0]-z[0];x=M*x[0]+z*x[1];var B=E*z-M*v;return Math.abs(B-0)<=(D||0)?[0,0]:[(z*t-v*x)/B,(E*x-M*t)/B]}function w(t,v,x,z,D,E,M){E=E||100;M=M||0;D=D||25;v="undefined"!==typeof v?v:[];x=x||[];z=z||[];var B=[0,0],G=[0,0],H=[0,0],J,P=0,Q=0,T=0,W=[],Z=[];if(3>t.length)return v;M++;if(M>E)return console.warn("quickDecomp: max level ("+E+") reached."),v;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var fa=J=Number.MAX_VALUE;for(var ja=
0;ja<t.length;++ja){if(b(k(t,Y-1),k(t,Y),k(t,ja))&&c(k(t,Y-1),k(t,Y),k(t,ja-1))){H=p(k(t,Y-1),k(t,Y),k(t,ja),k(t,ja-1));var xa=k(t,Y+1);var Ka=k(t,Y);0>a(xa,Ka,H)&&(xa=e(t[Y],H),xa<J&&(J=xa,G=H,Q=ja))}b(k(t,Y+1),k(t,Y),k(t,ja+1))&&c(k(t,Y+1),k(t,Y),k(t,ja))&&(H=p(k(t,Y+1),k(t,Y),k(t,ja),k(t,ja+1)),b(k(t,Y-1),k(t,Y),H)&&(xa=e(t[Y],H),xa<fa&&(fa=xa,B=H,P=ja)))}if(Q===(P+1)%t.length)H[0]=(G[0]+B[0])/2,H[1]=(G[1]+B[1])/2,z.push(H),Y<P?(g(W,t,Y,P+1),W.push(H),Z.push(H),0!==Q&&g(Z,t,Q,t.length),g(Z,t,0,
Y+1)):(0!==Y&&g(W,t,Y,t.length),g(W,t,0,P+1),W.push(H),Z.push(H),g(Z,t,Q,Y+1));else{Q>P&&(P+=t.length);B=Number.MAX_VALUE;if(P<Q)return v;for(ja=Q;ja<=P;++ja)if(f(k(t,Y-1),k(t,Y),k(t,ja))&&c(k(t,Y+1),k(t,Y),k(t,ja))){xa=e(k(t,Y),k(t,ja));if(Q=xa<B)a:{Q=t;G=Y;H=ja;for(fa=0;fa!==Q.length;++fa)if(fa!==G&&fa!==H&&(fa+1)%Q.length!==G&&(fa+1)%Q.length!==H&&d(k(Q,G),k(Q,H),k(Q,fa),k(Q,fa+1))){Q=!1;break a}Q=!0}Q&&(B=xa,T=ja%t.length)}Y<T?(g(W,t,Y,T+1),0!==T&&g(Z,t,T,t.length),g(Z,t,0,Y+1)):(0!==Y&&g(W,t,
Y,t.length),g(W,t,0,T+1),g(Z,t,T,Y+1))}W.length<Z.length?(w(W,v,x,z,D,E,M),w(Z,v,x,z,D,E,M)):(w(Z,v,x,z,D,E,M),w(W,v,x,z,D,E,M));return v}v.push(t);return v}self.lta={Cra:function(t){var v=q(t);return 0<v.length?r(t,v):[t]},rta:w,wsa:function(t){var v;for(v=0;v<t.length-1;v++)for(var x=0;x<v-1;x++)if(d(t[v],t[v+1],t[x],t[x+1]))return!1;for(v=1;v<t.length-2;v++)if(d(t[0],t[t.length-1],t[v],t[v+1]))return!1;return!0},wta:function(t,v){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var D=k(t,z-1);var E=
k(t,z),M=k(t,z+1),B=v;B?(ab[0]=E[0]-D[0],ab[1]=E[1]-D[1],bb[0]=M[0]-E[0],bb[1]=M[1]-E[1],D=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<B):D=0===a(D,E,M);D&&(t.splice(z%t.length,1),x++)}return x},xta:function(t,v){for(var x=t.length-1;1<=x;--x)for(var z=t[x],D=x-1;0<=D;--D){var E=z,M=t[D],B=v;Math.abs(E[0]-M[0])<=(B||0)&&Math.abs(E[1]-M[1])<=(B||0)&&t.splice(x,1)}},Usa:function(t){for(var v=0,x=1;x<t.length;++x)if(t[x][1]<t[v][1]||t[x][1]===
t[v][1]&&t[x][0]>t[v][0])v=x;if(b(k(t,v-1),k(t,v),k(t,v+1)))return!1;v=[];x=t.length;for(var z=0;z!==x;z++)v.push(t.pop());for(z=0;z!==x;z++)t[z]=v[z];return!0}}}{"use strict";const d=self.j=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Iu=!1;d.WM=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Sg={}}
{"use strict";const d=self.j;d.zQ=class{constructor(a){this.Wfa=a;this.La=new Map;this.bca()}bca(){var a=this.Wfa;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.cca(b)}cca(a){if(a)if(a.includes("=")){var b=a.indexOf("="),f=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.La.set(f,a)}else this.La.set(a,null)}CA(a){return this.La.has(a)}ea(a){a=this.La.get(a);return"undefined"===typeof a?null:a}};d.AQ=new d.zQ(location.search);
d.Pla=new d.zQ(location.hash);d.AQ.ea("mode")}
{"use strict";const d=self.j,a=navigator.userAgent;let b={pha:/linux|openbsd|freebsd|netbsd/i.test(a),zga:/CrOS/.test(a),oF:/trident|iemobile|msie|tizen/i.test(a),asa:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),kX:/bb10/i.test(a),Pga:/edge\//i.test(a),eY:/trident/i.test(a),webkit:/webkit/i.test(a),Nha:/safari\//i.test(a),yga:/chrome\//i.test(a),Aga:/chromium\//i.test(a),Dga:/crosswalk|xwalk/i.test(a),cta:/nwjs/i.test(a),oga:/amazonwebappplatform/i.test(a),dia:/wv\)/.test(a),pga:/android/i.test(a),
xha:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Kb=/android\s+[0-9.]+/i.exec(a),Lb=/OPR\/[0-9.]+/.exec(a),Mb=/tizen\s+[0-9.]+/i.exec(a),Sb=/iphone\s+os\s+[0-9_]+/i.exec(a),Tb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Ub=/windows\s+phone\s+[0-9.]+/i.exec(a),Vb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Wb=/chrome\/[0-9.]+/i.exec(a),Xb=/chromium\/[0-9.]+/i.exec(a),Yb=/nwjs\/[0-9.]+/i.exec(a),Zb=/firefox\/[0-9.]+/i.exec(a),$b=/msie\s+[0-9.]+/i.exec(a),ac=/edge\/[0-9.]+/i.exec(a),
bc=/edg\/[0-9.]+/i.exec(a),cc=/silk\/[0-9.]+/i.exec(a);let f="(unknown)",c="(unknown)",e="(unknown)",k="(unknown)",g="(unknown)",l="browser",n=!1,q=!1,r=new Map;function p(t,v,x){!0===v?(x(),r.set(t,!0)):v&&v.length&&(x(v[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{f="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{f="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",b.pha,()=>{f="Linux"});p("isChromeOS",b.zga,()=>{f="Chrome OS"});p("isAndroid",!b.oF&&Kb,t=>{f="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Mb,t=>{f="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!b.oF&&Sb,t=>{f="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!b.oF&&Tb,t=>{f="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Ub,t=>{f="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Vb,t=>{f="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",b.kX,()=>{f="Blackberry";c="10";e="stock";g="webkit"});p("isChrome",!b.Pga&&!b.opera&&Wb,t=>{e="Chrome";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Lb,t=>{e="Opera";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Xb,t=>{g=e="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",Zb,t=>{e="Firefox";g="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",$b,
t=>{e="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==e&&b.eY,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(e="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",ac,t=>{g=e="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",bc,t=>{e="Edge";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",b.Nha&&!b.xha&&!b.yga&&!b.Aga&&!b.$ra&&!b.kX,()=>{e="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(a),v=/crios\/[0-9.]+/i.exec(a),
x=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);v&&v.length&&(e="Chrome for iOS",(v=v[0].split("/")[1])&&(k=v));x&&x.length&&(e="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",cc,t=>{e="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",b.Dga,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Yb,t=>{l="nwjs";e="NW.js";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",b.oga,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===e&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>e="stock");p("isAndroidWebview","Chrome"===e&&"browser"===l&&b.dia,()=>l="webview");p("isFirefoxOS","Firefox"===e&&"(unknown)"===f,()=>f="Firefox OS");p("isAndroidFallback","(unknown)"===f&&!b.oF&&b.pga,()=>f="Android");p("isTridentFallback",
"(unknown)"===f&&b.eY,()=>g="Trident");p("isWebkitFallback","(unknown)"===f&&b.webkit,()=>g="WebKit");p("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===l,()=>n=!0);q="nwjs"===l;const w="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;w&&(f="iOS",c=k,q=n=!1);d.Hd={Bs:f,mma:c,xF:e,Tia:k,yF:parseFloat(k),Fz:g,DF:l,Qka:n,SG:!n,Rka:q,Mka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Ika:"Mac OS X"===f||"iOS"===f,Xka:w,ala:"Linux"===f}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(w){return new Promise((t,v)=>{w.onsuccess=()=>t(w.result);w.onerror=()=>v(w.error)})}function c(w){return new Promise((t,v)=>{w.oncomplete=()=>t();w.onerror=()=>v(w.error);w.onabort=()=>v(w.error)})}function e(w,t){return g(w,t)}function k(w,t){return g(w,t,!0)}async function g(w,t,v=!1,
x=!0){const z=await l(w);try{const D=z.transaction(["keyvaluepairs"],v?"readwrite":"readonly");return t(D)}catch(D){if(x&&"InvalidStateError"===D.name)return d.delete(w),g(w,t,v,!1);throw D;}}function l(w){q(w);let t=d.get(w);t instanceof Promise||(t=n(w),d.set(w,t),t.catch(()=>d.delete(w)));return t}async function n(w){q(w);const t=indexedDB.open(w,2);t.addEventListener("upgradeneeded",v=>{try{v.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${w}`,
x)}});return f(t)}function q(w){if("string"!==typeof w)throw new TypeError("expected string");}function r(w,t){const v=w.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];v.onsuccess=D=>{if(D=D.target.result){switch(t){case "entries":z.push([D.key,D.value]);break;case "keys":z.push(D.key);break;case "values":z.push(D.value)}D.continue()}else x(z)}})}class p{constructor(w){q(w);this.name=w}async ready(){await l(this.name)}set(w,t){q(w);return k(this.name,async v=>{var x=v.objectStore("keyvaluepairs").put(t,
w);x=f(x);v=c(v);await Promise.all([v,x])})}get(w){q(w);return e(this.name,async t=>{var v=t.objectStore("keyvaluepairs").get(w);v=f(v);t=c(t);[,t]=await Promise.all([t,v]);return t})}delete(w){q(w);return k(this.name,async t=>{var v=t.objectStore("keyvaluepairs").delete(w);v=f(v);t=c(t);await Promise.all([t,v])})}clear(){return k(this.name,async w=>{var t=w.objectStore("keyvaluepairs").clear();t=f(t);w=c(w);await Promise.all([w,t])})}keys(){return e(this.name,async w=>{if(b){var t=w.objectStore("keyvaluepairs").getAllKeys();
t=f(t)}else t=r(w,"keys");w=c(w);[,w]=await Promise.all([w,t]);return w})}values(){return e(this.name,async w=>{if(a){var t=w.objectStore("keyvaluepairs").getAll();t=f(t)}else t=r(w,"values");w=c(w);[,w]=await Promise.all([w,t]);return w})}entries(){return e(this.name,async w=>{var t=r(w,"entries");w=c(w);[,t]=await Promise.all([w,t]);return t})}}self.O3=p}"use strict";
{const d=self.O3,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function e(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(n=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>n(p.data);q.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.L=l;b.set(this,new Map)}Gw(l){if(!f)for(const n of a)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);f=!0;break}}async qV(l){l=
b.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async MW(l,n){n=await k(n);b.get(this).set(l,n)}HW(l){b.get(this).delete(l)}SU(){b.get(this).clear()}VV(){return Array.from(b.get(this).keys())}async getItem(l,n){e(n);if(f)return await this.qV(l);let q;try{q=await this.L.get(l)}catch(r){this.Gw(r);if(f)return await this.qV(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,n,q){e(q);"undefined"===
typeof n&&(n=null);if(f)await this.MW(l,n);else try{await this.L.set(l,n)}catch(r){if(this.Gw(r),f)await this.MW(l,n);else throw r;}}async removeItem(l,n){e(n);if(f)this.HW(l);else try{await this.L.delete(l)}catch(q){this.Gw(q),f?this.HW(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){e(l);if(f)this.SU();else try{await this.L.clear()}catch(n){this.Gw(n),f?this.SU():console.error("Error clearing storage: ",n)}}async keys(l){e(l);if(f)return this.VV();l=[];try{l=await this.L.keys()}catch(n){this.Gw(n);
if(f)return this.VV();console.error("Error getting storage keys: ",n)}return l}ready(l){e(l);return f?Promise.resolve(!0):this.L.ready()}IM(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.j;d.Yb={};d.Yb.Mqa=(()=>{try{if("Safari"===d.Hd.xF||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.Yb.Mja="undefined"!==typeof HTMLDialogElement;d.Yb.tna=!!self.requestIdleCallback;d.Yb.ImageBitmap=!!self.createImageBitmap;d.Yb.ImageBitmapOptions=!1;if(d.Yb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Yb.ImageBitmapOptions=!0}).catch(()=>{d.Yb.ImageBitmapOptions=!1})}catch(a){d.Yb.ImageBitmapOptions=!1}d.Yb.dja=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Hd.xF);d.Yb.Hma=!(!navigator.permissions||!navigator.permissions.query);d.Yb.xQ="undefined"!==typeof Proxy;d.Yb.Nja="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Yb.Hz="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Yb.Tja="function"===typeof fetch;d.Yb.Jma=!!(self.isSecureContext&&"Opera"!==d.Hd.xF&&navigator.storage&&navigator.storage.persist);d.Yb.Zpa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var dc;if("undefined"===typeof document||"iOS"===d.Hd.Bs)dc=!1;else{var ec=document.documentElement;dc=!!(ec.requestFullscreen||ec.msRequestFullscreen||ec.mozRequestFullScreen||ec.webkitRequestFullscreen)}d.Yb.dka=dc;d.Yb.uka="undefined"!==typeof self.ImageDecoder;d.Yb.hma=!!self.showOpenFilePicker;
d.Yb.ima=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.j;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.lv(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,f){return b.reduce((c,e)=>{0<f&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,f-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.$e||(Array.prototype.$e=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.$e||(String.prototype.$e=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,
c)=>a({usage:f,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.j;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.aA())}}
{"use strict";const d=self.j,a=self.Sg;d.En=function(f){return"number"===typeof f};d.Bn=function(f){return d.En(f)&&isFinite(f)};d.ug=function(f){if(!d.En(f))throw new TypeError("expected number");};d.LQ=function(){};d.Pna=function(f,c,e){if(!d.En(f)||isNaN(f)||c>f||e<f)throw new RangeError("number outside of range");};d.Bna=function(...f){for(let c of f);};d.gj=function(f){if(!d.Bn(f))throw new TypeError("expected finite number");};d.IQ=function(){};d.yna=function(...f){for(let c of f);};d.dj=function(f){return"string"===
typeof f};d.qe=function(f){if(!d.dj(f))throw new TypeError("expected string");};d.NQ=function(){};d.Dna=function(...f){for(let c of f);};d.MP=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};d.boa=function(f){if(!d.MP(f))throw new TypeError("expected simple object");};d.Zna=function(f){if(!d.Je(f)&&!d.MP(f))throw new TypeError("expected simple object");};d.LP=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};d.GQ=function(f){if(!d.LP(f))throw new TypeError("expected object");
};d.MQ=function(){};d.Cna=function(...f){for(let c of f);};d.JG=function(f){return d.Cn(f,Blob)&&"string"===typeof f.name};d.Nna=function(f){if(!d.JG(f))throw new TypeError("expected file");};d.Xna=function(){};d.Jp=function(f){return Array.isArray(f)};d.lH=function(f){if(!d.Jp(f))throw new TypeError("expected array");};d.HQ=function(){};d.xna=function(...f){for(let c of f);};d.m3=function(f){return d.Jp(f)?f.length?d.Jp(f[0])?!0:!1:!0:!1};d.wna=function(f){if(!d.m3(f))throw new TypeError("expected 2d array");
for(let c of f)if(!d.Jp(c))throw new TypeError("expected 2d array");};d.Qna=function(){};d.KG=function(f){return"function"===typeof f};d.Fk=function(f,c){if(!d.KG(f))throw new TypeError("expected function");if(!d.Je(c)&&f!==c)throw new TypeError("expected same function reference");};d.JQ=function(){};d.zna=function(...f){for(let c of f);};d.Fna=function(f,...c){if(!d.KG(f))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let e of c)if(!d.Je(e)&&
f===e)return;throw new TypeError("expected same function reference");};d.Rna=function(...f){if(!d.Je(f))for(let c of f);};d.Cn=function(f,c){return f instanceof c};d.JP=function(f,...c){for(let e of c)if(d.Cn(f,e))return!0;return!1};d.mH=function(f,c){if(!d.Cn(f,c))throw new TypeError("unexpected type");};d.KQ=function(){};d.Ana=function(f,...c){for(let e of c);};d.Gna=function(f,...c){if(!d.JP(f,...c))throw new TypeError("unexpected type");};d.Hna=function(f,...c){if(!d.Je(f)&&!d.JP(f,...c))throw new TypeError("unexpected type");
};d.Jka=function(f,c){for(let e of f)if(!d.Cn(e,c))return!1;return!0};d.Kka=function(f){for(let c of f)if(!d.Bn(c))return!1;return!0};d.Ina=function(f){for(let c of f);};d.Sna=function(f){if(!d.Je(f))for(let c of f);};d.Jna=function(f){for(let c of f);};d.Tna=function(f){if(!d.Je(f))for(let c of f);};d.Nka=function(f,c){return d.Je(f)||!d.dj(f.nodeName)?!1:!c||d.ol(f.nodeName,c)};d.Kna=function(f,c){if(d.Je(f)||!d.dj(f.nodeName))throw new TypeError("expected DOM node");if(c&&!d.ol(f.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Una=function(){};d.MG=function(f,c){return d.Je(f)||!d.dj(f.tagName)?!1:!c||d.ol(f.tagName,c)};d.Ona=function(f,c){if(d.Je(f)||!d.dj(f.tagName))throw new TypeError("expected HTML element");if(c&&!d.ol(f.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Yna=function(){};d.DP=function(f){return d.MG(f,"img")||d.MG(f,"canvas")||d.MG(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};d.Lna=function(f){if(!d.DP(f))throw new TypeError("expected drawable");
};d.Vna=function(){};d.EP=function(f){return f instanceof ImageData?!0:d.DP(f)};d.Mna=function(f){if(!d.EP(f))throw new TypeError("expected drawable or image data");};d.Wna=function(f){if(!d.Je(f)&&!d.EP(f))throw new TypeError("expected drawable or image data");};d.I3=function(f){return"string"===typeof f||f instanceof d.CG||f instanceof d.ul};d.coa=function(f){if(!d.I3(f))throw new TypeError("expected string-like");};d.$na=function(){};d.Ena=function(...f){for(let c of f);};d.aoa=function(){throw Error("must be overridden");
};d.lma=function(){throw Error("not yet implemented");};d.Pka=function(f,...c){if("undefined"===typeof f)return!1;for(let e of c){if("undefined"===typeof f[e])return!1;f=f[e]}return!0};d.Je=function(f){return"undefined"===typeof f||null===f};d.Eia=function(f){let c=f[0].constructor;for(let e of f)if(e.constructor!==c)return!1;return c};d.Fia=function(f,c){for(let e of f)if(!(e instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.nla=function(f){return d.Cn(f,b)};d.doa=function(){};
d.Lqa=function(f){d.n8(f,b)};d.Kqa=function(f,...c){if(!d.m8(f,...c))throw new TypeError("unexpected type");};d.m8=function(f,...c){for(const e of c)if(d.TR(f,e))return!0;return!1};d.n8=function(f,c){if(!d.TR(f,c))throw new TypeError("unexpected type");};d.TR=function(f,c){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===c.name)return!0;return!1};a.ug=d.ug;a.LQ=d.LQ;a.gj=d.gj;a.IQ=d.IQ;a.qe=d.qe;a.NQ=d.NQ;a.GQ=d.GQ;a.MQ=d.MQ;a.lH=d.lH;a.HQ=d.HQ;a.Fk=d.Fk;a.JQ=d.JQ;a.mH=d.mH;a.KQ=d.KQ;a.Je=
d.Je}
{"use strict";const d=self.j,a=new Map;d.mna=function(r,...p){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);a.set(r,-1)}))};d.aA=function(){return Error().stack};d.Jja=function(){debugger};d.ura=function(r,p){return r&&r instanceof p?r:null};d.pl=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.En(r)?"<number>":d.dj(r)?"<string>":d.Jp(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.KG(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.XE=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let b=new Map,f=new Map,c=new WeakMap,e=new WeakMap;d.$r={};const k=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.aA())}d.$r.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||g(`Accessed missing property '${p}' from defended object '${d.pl(r)}', returning undefined`);e.has(r)&&"symbol"!==typeof p&&!k.has(p)&&g(`Accessed property '${p}' on a released object '${d.pl(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);return r[p]};d.$r.set=function(r,p,w){p in r||b.has(r)||g(`Set non-existent property '${p}' to '${w}' on defended object '${d.pl(r)}'`);
{var t=d.XE(r[p]);let v=d.XE(w);t="null"===t||"null"===v?!0:"undefined"===t||"undefined"===v?!1:t===v}t||b.has(r)||g(`Set '${d.XE(r[p])}' property '${p}' to type '${d.XE(w)}' on defended object '${d.pl(r)}'`);e.has(r)&&g(`Set property '${p}' on a released object '${d.pl(r)}'\nObject was originally released at: ${e.get(r)})\nCall stack at access: `);r[p]=w;return!0};d.$r.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.pl(r)}'`);};d.$r.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.pl(r)}'`);};d.$r.Gra=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.pl(r)}'`);};let l=-1;function n(){l=-1;if(0<b.size||0<f.size){let r=[...new Set([...b.keys()].map(p=>d.pl(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
f.clear()}}d.ia=class{constructor(){if(d.WM&&d.Yb.xQ){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.$r);b.set(r,p);f.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(n));return p}}};d.Fga=function(r){if(d.WM&&d.Yb.xQ&&r instanceof d.ia){if(!f.has(r))return r;let p=f.get(r);f.delete(r);b.delete(p);return r}return d.Iu?Object.seal(r):r};d.A=function(r,...p){let w;try{w=new r(...p)}catch(x){throw f.clear(),b.clear(),x;}if(d.WM){p=w;var t=new Set;for(v in p)t.add(v);var v=t;if(p=
q.get(r)){t=[];for(let x of p.values())v.has(x)?v.delete(x):t.push(x);d.gp(t,[...v]);t.length&&console.warn(`[Defence] '${d.pl(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,v)}return d.Fga(w)};d.g=function(r){(r=c.get(r))&&e.set(r,d.aA())};d.gq=function(){let r=c.get(void 0);return r?!!e.get(r):!1};let q=new Map;d.Gma=class{constructor(r){this.Fa="";r&&this.start(r)}start(r){this.Fa=r;performance.mark(this.Fa+"-Start")}end(){performance.mark(this.Fa+"-End");performance.measure(this.Fa,
this.Fa+"-Start",this.Fa+"-End")}next(r){this.end();this.Fa=r;performance.mark(this.Fa+"-Start")}}}
{"use strict";const d=self.j,a=2*Math.PI,b=Math.PI/180,f=180/Math.PI;d.wrap=function(e,k,g){e=Math.floor(e);k=Math.floor(k);g=Math.floor(g);return e<k?(e=g-(k-e)%(g-k),e===g?0:e):k+(e-k)%(g-k)};d.sha=function(e,k,g,l){return(e-k)*(l-0)/(g-k)};d.normalize=function(e,k,g){return(e-k)/(g-k)};d.fa=function(e,k,g){return e<k?k:e>g?g:e};d.me=function(e){e%=a;0>e&&(e+=a);return e};d.eb=function(e){return e*b};d.Wd=function(e){return e*f};d.Jf=function(e,k,g,l){return Math.hypot(g-e,l-k)};d.uX=function(e,
k,g,l){e=g-e;k=l-k;return e*e+k*k};d.le=function(e,k,g,l){return Math.atan2(l-k,g-e)};d.Ym=function(e,k){if(e===k)return 0;e=Math.sin(e)*Math.sin(k)+Math.cos(e)*Math.cos(k);return 1<=e?0:-1>=e?Math.PI:Math.acos(e)};d.DM=function(e,k,g){let l=Math.sin(e),n=Math.cos(e),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+n*r)>g?0<n*q-l*r?d.me(e+g):d.me(e-g):d.me(k)};d.fg=function(e,k){return 0>=Math.cos(e)*Math.sin(k)-Math.sin(e)*Math.cos(k)};d.CM=function(e,k,g,l=0){let n=d.Ym(e,k);l*=a;return d.fg(k,
e)?d.me(e+(n+l)*g):d.me(e-(n+l)*g)};d.rga=function(e,k,g,l=0){const n=d.Ym(e,k);l*=a;return d.fg(k,e)?d.me(e+(n+l)*g):d.me((a-n+l)*g)};d.qga=function(e,k,g,l=0){const n=d.Ym(e,k);l*=a;return d.fg(k,e)?d.me((-a+n-l)*g):d.me(e-(n+l)*g)};d.nc=function(e,k,g){return e+g*(k-e)};d.mF=function(e,k,g){return e===k?0:(g-e)/(k-e)};d.Iha=function(e,k,g,l){return d.nc(0,l,d.mF(e,k,g))};d.dF=function(e,k,g,l){return d.nc(d.nc(e,k,l),d.nc(k,g,l),l)};d.sX=function(e,k,g,l,n){return d.nc(d.dF(e,k,g,n),d.dF(k,g,l,
n),n)};d.rX=function(e,k,g){return(e+k+(e-k)*Math.cos(g*Math.PI))/2};d.rl=function(e){return 0<e&&0===(e-1&e)};d.cN=function(e){--e;for(let k=1;32>k;k<<=1)e|=e>>k;return e+1};d.Jta=function(e,k){return Math.round(e*k)/k};d.Lra=function(e,k){return Math.floor(e*k)/k};d.eF=function(e){return Math.round(1E6*e)/1E6};d.toFixed=function(e,k){e=e.toFixed(k);for(k=e.length-1;0<=k&&"0"===e.charAt(k);--k);0<=k&&"."===e.charAt(k)&&--k;return 0>k?e:e.substr(0,k+1)};d.U4=function(e,k,g){return d.fa(e,0,255)|d.fa(k,
0,255)<<8|d.fa(g,0,255)<<16};d.TA=function(e,k,g,l){e=d.fa(Math.floor(1024*e),-8192,8191);k=d.fa(Math.floor(1024*k),-8192,8191);g=d.fa(Math.floor(1024*g),-8192,8191);l=d.fa(Math.floor(1023*l),0,1023);0>e&&(e+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*e+16777216*k+1024*g+l)};d.sQ=function(e,k,g){return d.TA(e,k,g,1)};d.oG=function(e){if(0<=e)return(e&255)/255;e=Math.floor(-e/274877906944);8191<e&&(e-=16384);return e/1024};d.gG=function(e){if(0<=e)return((e&65280)>>8)/255;e=Math.floor(-e%
274877906944/16777216);8191<e&&(e-=16384);return e/1024};d.UF=function(e){if(0<=e)return((e&16711680)>>16)/255;e=Math.floor(-e%16777216/1024);8191<e&&(e-=16384);return e/1024};d.A0=function(e){return 0===e&&0>1/e?0:0<=e?1:Math.floor(-e%1024)/1023};d.Yga=function(e,k){e=Math.floor(e);for(k=Math.floor(k);0!==k;){let g=k;k=e%k;e=g}return e};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.csa=function(e,k){e=Math.floor(e);k=Math.floor(k);if(e===k)return[1,1];for(var g of c){let l=
e/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=e/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.Yga(e,k);return[e/g,k/g]};d.Qta=function(e,k,g,l,n,q,r,p){var w=Math.min(e,g),t=Math.max(n,r);if(Math.max(e,g)<Math.min(n,r)||w>t)return!1;w=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||w>t)return!1;w=n-e+r-g;t=q-k+p-l;e=g-e;k=l-k;n=r-n;q=p-q;p=Math.abs(k*n-q*e);return Math.abs(n*t-q*w)>p?!1:Math.abs(e*t-k*w)<=p};d.cn=function(e,k,g,l,n,q,r,p,w,t,v,x){const z=Math.max(w,v);if(q<
Math.min(w,v)||n>z)return!1;n=Math.max(t,x);if(p<Math.min(t,x)||r>n)return!1;r=w-e+v-g;p=t-k+x-l;e=g-e;k=l-k;w=v-w;t=x-t;x=Math.abs(k*w-t*e);return Math.abs(w*p-t*r)>x?!1:Math.abs(e*p-k*r)<=x};d.fF=function(e,k,g,l,n){const q=Math.min(e,g),r=Math.max(e,g),p=Math.min(k,l),w=Math.max(k,l),t=n.rb,v=n.mb,x=n.Vb,z=n.hc,D=n.tc,E=n.uc,M=n.ic;n=n.jc;return d.cn(e,k,g,l,q,r,p,w,t,v,x,z)||d.cn(e,k,g,l,q,r,p,w,x,z,D,E)||d.cn(e,k,g,l,q,r,p,w,D,E,M,n)||d.cn(e,k,g,l,q,r,p,w,M,n,t,v)};d.Pta=function(e,k,g,l,n){const q=
Math.min(e,g),r=Math.max(e,g),p=Math.min(k,l),w=Math.max(k,l);let t=0;for(let v=n.length-4;t<=v;t+=2)if(d.cn(e,k,g,l,q,r,p,w,n[t],n[t+1],n[t+2],n[t+3]))return!0;return d.cn(e,k,g,l,q,r,p,w,n[t],n[t+1],n[0],n[1])};d.Hha=function(e,k,g,l,n,q,r,p){g-=e;q=p-q;const w=g*q-(l-k)*(r-n);if(0===w)return 2;l=((k-l)*(r-e)+g*(p-k))/w;return 0<l&&1.000001>l?(q*(r-e)+(n-r)*(p-k))/w:2};d.sz=function(e,k,g,l,n,q,r,p,w){const t=(r-n)*w;w*=p-q;return d.Hha(e,k,g,l,n-t,q-w,r+t,p+w)};d.hha=function(e,k,g,l,n,q,r,p){n-=
g;q-=l;r-=g;p-=l;e-=g;g=k-l;k=n*n+q*q;l=n*r+q*p;n=n*e+q*g;q=r*r+p*p;r=r*e+p*g;p=1/(k*q-l*l);q=(q*n-l*r)*p;n=(k*r-l*n)*p;return 0<=q&&0<=n&&1>=q+n};d.bia=function(e,k,g,l,n,q,r,p){n-=g;q-=l;r-=g;p-=l;e-=g;const w=k-l;k=n*n+q*q;l=n*r+q*p;g=r*r+p*p;n=e*n+w*q;q=e*r+w*p;r=k*g-l*l;p=(g*n-l*q)/r;n=(k*q-l*n)/r;return[1-p-n,p,n]};d.aia=function(e,k,g,l,n,q,r,p,w){return[e*l+k*q+g*p,e*n+k*r+g*w]}}
{"use strict";const d=self.j;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.gka=function(){return b};d.VF=function(){if(!a)return"";const l=a.location;return d.D1(l.origin+l.pathname)+b};d.D1=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.ika=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.$0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.jA=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.i4=function(l){return l.replace(/\\/g,"/")};d.Tka=function(l,n){return n===(l?d.$0(l).slice(1):"")};d.Uja=function(l,n){let q,r;d.JG(l)&&(q=d.jA(l.name));d.dj(l)&&(q=
d.jA(l));d.JG(n)&&(r=d.jA(n.name));d.dj(n)&&(r=d.jA(n));return q===r};d.Fma=function(l){l=d.i4(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,w="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(w=p.slice(q),l=p.slice(0,-w.length));return{dir:r,mra:p,name:l,root:n,ext:w,Yra:n+r+p}};d.TH=function(l,n){return new Promise(q=>{self.setTimeout(q,
l,n)})};d.$ta=function(l){try{l()}catch(n){d.Iu&&console.warn("Swallowed exception: ",n)}};d.ata=function(){};d.ol=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Hra=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.cia=function(l,n){var q=0;l[q++]=n[0];l[q++]=n[1];l[q++]=n[2];l[q++]=n[3];l[q++]=n[4];l[q++]=n[5];l[q++]=n[6];l[q++]=n[7];l[q++]=n[8];l[q++]=n[9];
l[q++]=n[10];l[q++]=n[11];l[q++]=n[12];l[q++]=n[13];l[q++]=n[14];l[q]=n[15]};d.bf=function(l,n){l.length=n};d.C=function(l){l&&0!==l.length&&d.bf(l,0)};d.Bga=function(l){if(l){for(let n=0;n<l.length;n++)d.bf(l[n],0);d.bf(l,0)}};d.VE=function(l,n,q){n|=0;var r=l.length;if(!(n<=r))for(;r<n;++r)l.push(q)};d.SX=function(l){var n=4;const q=l.length;n<q?d.bf(l,n):n>q&&d.VE(l,n,"0")};d.xd=function(l,n){d.C(l);d.gp(l,n)};d.gp=function(l,n){if(1E4>n.length)l.push(...n);else for(let q=0,r=n.length;q<r;++q)l.push(n[q])};
d.uga=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var q=l.length-1;n<q;++n)l[n]=l[n+1];d.bf(l,q)}};d.Kr=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.lra=function(l,n){let q=l.length;if(n.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==n[r])return!1;return!0};d.tga=function(l,n){let q=[],r=0;for(let p=0,w=l.length;p<w;++p){let t=l[p];n(t)?q.push(t):(l[r]=t,++r)}d.bf(l,r);return q};d.Oh=function(l,n){const q=l.length;let r=0;for(let p=0,w=l.length;p<w;++p){let t=l[p];n.has(t)||
(l[r++]=t)}d.bf(l,r);return q-r};d.eha=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.pua=function(l,n){if(!d.eha(l,n))throw new RangeError("array index out of bounds");};d.QE=function(l){return l.slice()};d.Gga=function(l,n){let q=[];for(let r of l)if(d.LP(r)){l=n(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.Jp(r)?q.push(d.Gga(r,n)):q.push(r);return q};d.vra=function(l){let n=[];for(let q of l)n.push(q.slice());
return n};d.Ysa=function(l,n){return new Set([...l,...n])};d.Zsa=function(l,n){for(const q of n)l.add(q);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,q){switch(n){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.ksa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.f5=function(l,n){return l.length?new Promise((q,
r)=>{const p=[];let w=0,t=!1;for(let v=0,x=l.length;v<x;++v)p.push(void 0),l[v].then(z=>{t||(p[v]=z,++w,w===l.length?q(p):n(w,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let f=[];d.uia=function(l){f.push(l)};d.hka=function(){let l=0;for(let n of f){let q=n();l+=q}return Math.floor(l)};let c=1;const e=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const n=e.get(l);e.delete(l);n&&n(performance.now())};d.kH=function(l){const n=c++;e.set(n,l);k.port1.postMessage(n);
return n};d.gZ=function(l){e.delete(l)};d.b5=d.kH;d.j8=function(){return new Promise(l=>d.b5(l))};const g=new Set;d.vna=function(l){const n=self.requestAnimationFrame(async q=>{await d.j8();g.has(n)&&(g.delete(n),l(q))});g.add(n);return n};d.Xia=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.j;d.GG=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.TG=function(a){return!d.GG(a)};d.N7=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.Yz=function(a){return fetch(a,void 0).then(b=>{d.N7(b);return b})};d.nv=function(a){return d.Yz(a).then(b=>b.text())};d.rO=function(a){return d.Yz(a).then(b=>b.json())};d.yl=function(a){return d.Yz(a).then(b=>b.blob())};d.mv=function(a){return d.Yz(a).then(b=>
b.arrayBuffer())};d.s0=function(a){return new Promise((b,f)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>f(e);c.src=a})};d.WY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsArrayBuffer(a)})};d.KN=function(a){return"function"===typeof a.text?a.text():new Promise((b,f)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>f(c.error);c.readAsText(a)})};d.Pia=function(a){return d.KN(a).then(b=>
JSON.parse(b))};d.JN=async function(a,b){a=URL.createObjectURL(a);try{const f=await d.s0(a);URL.revokeObjectURL(a);a="";b&&"function"===typeof f.decode&&await f.decode();return f}finally{a&&URL.revokeObjectURL(a)}};d.ef=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=a;f.height=b;return f}return new OffscreenCanvas(a,b)};d.Hz=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return a.toBlob?
new Promise(c=>a.toBlob(c,b,f)):a.convertToBlob?a.convertToBlob({type:b,quality:f}):d.sl(()=>d.TN(a,b,f))};d.TN=function(a,b,f){"number"!==typeof f&&(f=1);b=b||"image/png";f=d.fa(f,0,1);return d.TZ(a.toDataURL(b,f))};d.TZ=function(a){a=d.V4(a);return d.VY(a.data,a.tha)};d.V4=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var f=a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=
b[2];f="base64"===b[1]||"base64"===c?atob(f):decodeURIComponent(f);return{tha:a,data:f}};d.VY=function(a,b){var f=a.length;let c=f>>2,e=new Uint8Array(f),k=new Uint32Array(e.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(f&=3;f--;)e[l]=a.charCodeAt(l),++l;return b?new Blob([e],{type:b}):new Blob([e])};d.kO=function(a){const b=d.ef(a.width,a.height);b.getContext("2d").drawImage(a,0,0);return d.Hz(b,void 0,void 0)};d.tka=
function(a,b,f){const c=d.ef(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.TN(c,b,f)};d.z2=function(a){if(d.Yb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.kO(b));if(d.Yb.ImageBitmap)return createImageBitmap(a).then(b=>d.kO(b));{const b=d.ef(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.Hz(b,void 0,void 0)}};d.HZ=function(a,b){a.clear();for(const f of b)a.add(f)};d.Sla=function(a){const b=Object.create(null);for(const [f,
c]of a.entries())b[f]=c;return b};d.oma=function(a,b){b.clear();for(const [f,c]of Object.entries(a))b.set(f,c)};d.QH=function f(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>f(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],f(c[1])])};{const c=Object.create(null);for(const [e,k]of Object.entries(b))c[e]=f(k);return c}}return b};d.RF=function c(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(e=>
c(e)));if("map"===f._c3type_)return new Map(f.data.map(e=>[e[0],c(e[1])]));{const e=Object.create(null);for(const [k,g]of Object.entries(f))e[k]=c(g);return e}}return f};d.ZY=function(f){let c="",e=!1;for(const k of f)"-"===k?e=!0:e?(c+=k.toUpperCase(),e=!1):c+=k;return c};d.Dn=function(f){return"object"===typeof f&&"function"===typeof f.next};d.fh=function(f,c){const e=[];if("function"===typeof c)for(var k=0;k<f;++k)e.push(c());else for(k=0;k<f;++k)e.push(c);return e}}
{"use strict";const d=self.j,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function f(c,e,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(e-c)*k:.5>k?e:k<2/3?c+(e-c)*(2/3-k)*6:c}d.$a=class{constructor(c,e,k,g){this.Wa=this.bb=this.cb=this.Za=0;c instanceof d.$a?this.set(c):this.rp(c||0,e||0,k||0,g||0)}Uu(c,e,k){this.Za=+c;this.cb=+e;this.bb=+k;this.fa()}rp(c,e,k,g){this.Za=+c;this.cb=+e;this.bb=+k;this.Wa=+g;this.fa()}set(c){this.Za=c.Za;this.cb=c.cb;this.bb=c.bb;
this.Wa=c.Wa;return this}qa(c){return this.set(c)}add(c){this.Za+=c.Za;this.cb+=c.cb;this.bb+=c.bb;this.Wa+=c.Wa;this.fa()}hX(c,e,k){this.Za+=+c;this.cb+=+e;this.bb+=+k;this.Wa+=0;this.fa()}kk(c){this.Za=c.Za;this.cb=c.cb;this.bb=c.bb}Nr(c){this.Za=d.fa(+c,0,1)}Tu(c){this.cb=d.fa(+c,0,1)}Qu(c){this.bb=d.fa(+c,0,1)}Rg(c){this.Wa=d.fa(+c,0,1)}clone(){return d.A(d.$a,this.Za,this.cb,this.bb,this.Wa)}toArray(){return[this.Za,this.cb,this.bb,this.Wa]}Qh(c,e){c[e++]=this.Za;c[e++]=this.cb;c[e++]=this.bb;
c[e]=this.Wa}fd(c){return this.Za===c.Za&&this.cb===c.cb&&this.bb===c.bb&&this.Wa===c.Wa}$m(c){return this.Za===c.Za&&this.cb===c.cb&&this.bb===c.bb}fz(c,e,k,g){return this.Za===c&&this.cb===e&&this.bb===k&&this.Wa===g}multiply(c){this.Za*=c.Za;this.cb*=c.cb;this.bb*=c.bb;this.Wa*=c.Wa}rz(){this.Za*=this.Wa;this.cb*=this.Wa;this.bb*=this.Wa}fa(){this.Za=d.fa(this.Za,0,1);this.cb=d.fa(this.cb,0,1);this.bb=d.fa(this.bb,0,1);this.Wa=d.fa(this.Wa,0,1);return this}Ru(c){this.Za=d.oG(c);this.cb=d.gG(c);
this.bb=d.UF(c);this.Wa=d.A0(c)}Uga(){return`rgb(${100*(d.Bn(void 0)?NaN:this.Za)}%, ${100*(d.Bn(void 0)?NaN:this.cb)}%, ${100*(d.Bn(void 0)?NaN:this.bb)}%)`}Cha(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var e=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)e=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(e)&&this.Nr(e);isFinite(k)&&this.Tu(k);
isFinite(c)&&this.Qu(c);this.Rg(1)}}bF(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/255;var k=parseInt(e[1].trim(),10)/255;e=parseInt(e[2].trim(),10)/255;isFinite(c)&&this.Nr(c);isFinite(k)&&this.Tu(k);isFinite(e)&&this.Qu(e);this.Rg(1)}}}LX(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var e=c.split(",");if(!(3>e.length)){c=parseInt(e[0].trim(),10)/100;var k=parseInt(e[1].trim(),10)/100;e=parseInt(e[2].trim(),
10)/100;isFinite(c)&&this.Nr(c);isFinite(k)&&this.Tu(k);isFinite(e)&&this.Qu(e);this.Rg(1)}}}NX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=parseInt(e[0].trim(),10)/255;var k=parseInt(e[1].trim(),10)/255,g=parseInt(e[2].trim(),10)/255;e=parseFloat(e[3].trim());isFinite(c)&&this.Nr(c);isFinite(k)&&this.Tu(k);isFinite(g)&&this.Qu(g);isFinite(e)&&this.Rg(e)}}}MX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var e=c.split(",");if(!(4>e.length)){c=
parseInt(e[0].trim(),10)/100;var k=parseInt(e[1].trim(),10)/100,g=parseInt(e[2].trim(),10)/100;e=parseFloat(e[3].trim());isFinite(c)&&this.Nr(c);isFinite(k)&&this.Tu(k);isFinite(g)&&this.Qu(g);isFinite(e)&&this.Rg(e)}}}OX(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.LX(c):this.bF(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.MX(c):this.NX(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Bha(c);return}{const e=
c.split(",");if(c.includes("%")){if(3===e.length){this.LX(c);return}4===e.length&&this.MX(c)}else{if(3===e.length){this.bF(c);return}4===e.length&&this.NX(c)}return}}this.Cha(c)}}toJSON(){return[this.Za,this.cb,this.bb,this.Wa]}UX(c,e,k,g){c%=360;e=d.fa(e,0,100);k=d.fa(k,0,100);g=d.fa(g,0,1);c/=360;e/=100;k/=100;if(0===e)k=e=c=k;else{const l=.5>k?k*(1+e):k+e-k*e,n=2*k-l;k=f(n,l,c+1/3);e=f(n,l,c);c=f(n,l,c-1/3)}this.Nr(k);this.Tu(e);this.Qu(c);this.Rg(g)}Bha(c){var e=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=a.exec(e);e=b.exec(e);c&&4===c.length?this.UX(+c[1],+c[2],+c[3],1):e&&5===e.length&&this.UX(+c[1],+c[2],+c[3],+c[4])}dn(c){!Array.isArray(c)||3>c.length||(this.Za=c[0],this.cb=c[1],this.bb=c[2],this.Wa=4<=c.length?c[3]:1)}set r(c){this.Nr(c)}get r(){return this.Za}set cp(c){this.Rg(c)}get cp(){return this.Wa}static KF(c,e){return d.fa(Math.max(c,e)-Math.min(c,e),0,1)}};d.$a.Qqa=Object.freeze(d.A(d.$a,1,1,1,1));d.$a.Oia=Object.freeze(d.A(d.$a,0,0,0,1));d.$a.vqa=Object.freeze(d.A(d.$a,0,0,0,0))}
{"use strict";const d=self.j;d.Xs=class{constructor(a,b){this.T=this.X=0;a instanceof d.Xs?this.qa(a):this.set(a||0,b||0)}set(a,b){this.X=+a;this.T=+b}qa(a){this.X=a.X;this.T=a.T}fd(a){return this.X===a.X&&this.T===a.T}toArray(){return[this.X,this.T]}Qh(a,b){a[b++]=this.X;a[b]=this.T}offset(a,b){this.X+=+a;this.T+=+b}scale(a,b){this.X*=a;this.T*=b}lk(a,b){this.X/=a;this.T/=b}round(){this.X=Math.round(this.X);this.T=Math.round(this.T)}floor(){this.X=Math.floor(this.X);this.T=Math.floor(this.T)}ceil(){this.X=
Math.ceil(this.X);this.T=Math.ceil(this.T)}angle(){return d.le(0,0,this.X,this.T)}nha(){return this.X*this.X+this.T*this.T}length(){return Math.sqrt(this.nha())}Lha(a,b){const f=this.X*b-this.T*a;this.T=this.T*b+this.X*a;this.X=f}rotate(a){0!==a&&this.Lha(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.X+=Math.cos(a)*b,this.T+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.X/=a,this.T/=a)}fa(a,b){this.X=d.fa(this.X,a,b);this.T=d.fa(this.T,a,b)}}}
{"use strict";const d=self.j;d.Rect=class{constructor(a,b,f,c){this.S=this.V=this.J=this.M=0;a instanceof d.Rect?this.qa(a):this.set(a||0,b||0,f||0,c||0)}set(a,b,f,c){this.M=+a;this.J=+b;this.V=+f;this.S=+c}Oi(a,b,f,c){a=+a;b=+b;this.M=a;this.J=b;this.V=a+ +f;this.S=b+ +c}qa(a){this.M=+a.M;this.J=+a.J;this.V=+a.V;this.S=+a.S}clone(){return new d.Rect(this.M,this.J,this.V,this.S)}fd(a){return this.M===a.M&&this.J===a.J&&this.V===a.V&&this.S===a.S}Pha(a){this.V=+a}toArray(){return[this.M,this.J,this.V,
this.S]}Wha(){new DOMRect(this.M,this.J,this.width(),this.height())}Qh(a,b){a[b++]=this.M;a[b++]=this.J;a[b++]=this.V;a[b]=this.S}iY(a,b){a[b++]=this.M;a[b++]=this.J;a[b++]=this.V;a[b++]=this.J;a[b++]=this.V;a[b++]=this.S;a[b++]=this.M;a[b]=this.S}width(){return this.V-this.M}height(){return this.S-this.J}np(){return(this.M+this.V)/2}op(){return(this.J+this.S)/2}offset(a,b){a=+a;b=+b;this.M+=a;this.J+=b;this.V+=a;this.S+=b}offsetLeft(a){this.M+=+a}offsetTop(a){this.J+=+a}zha(a){this.V+=+a}yha(a){this.S+=
+a}YE(a,b){a=+a;b=+b;this.M-=a;this.J-=b;this.V+=a;this.S+=b}multiply(a,b){this.M*=a;this.J*=b;this.V*=a;this.S*=b}lk(a,b){this.M/=a;this.J/=b;this.V/=a;this.S/=b}Uha(){const a=this.M;this.M=this.V;this.V=a}Qr(){const a=this.J;this.J=this.S;this.S=a}tN(a){const b=this.J;this.J=+a-this.S;this.S=+a-b}round(){this.M=Math.round(this.M);this.J=Math.round(this.J);this.V=Math.round(this.V);this.S=Math.round(this.S)}Mha(){this.M=Math.floor(this.M);this.J=Math.floor(this.J);this.V=Math.ceil(this.V);this.S=
Math.ceil(this.S)}floor(){this.M=Math.floor(this.M);this.J=Math.floor(this.J);this.V=Math.floor(this.V);this.S=Math.floor(this.S)}ceil(){this.M=Math.ceil(this.M);this.J=Math.ceil(this.J);this.V=Math.ceil(this.V);this.S=Math.ceil(this.S)}fa(a,b,f,c){this.M<a&&(this.M=+a);this.J<b&&(this.J=+b);this.V>f&&(this.V=+f);this.S>c&&(this.S=+c)}qX(){0>this.M&&(this.M=0);1<this.J&&(this.J=1);1<this.V&&(this.V=1);0>this.S&&(this.S=0)}normalize(){this.M>this.V&&this.Uha();this.J>this.S&&this.Qr()}ZE(a){return!(a.V<
this.M||a.S<this.J||a.M>this.V||a.J>this.S)}dha(a,b,f){return!(a.V+b<this.M||a.S+f<this.J||a.M+b>this.V||a.J+f>this.S)}hg(a,b){return a>=this.M&&a<=this.V&&b>=this.J&&b<=this.S}oha(a){this.M=d.nc(a.M,a.V,this.M);this.J=d.nc(a.J,a.S,this.J);this.V=d.nc(a.M,a.V,this.V);this.S=d.nc(a.J,a.S,this.S)}}}
{"use strict";const d=self.j;d.Ec=class{constructor(a,b,f,c,e,k,g,l){this.jc=this.ic=this.uc=this.tc=this.hc=this.Vb=this.mb=this.rb=0;a instanceof d.Ec?this.qa(a):this.set(a||0,b||0,f||0,c||0,e||0,k||0,g||0,l||0)}set(a,b,f,c,e,k,g,l){this.rb=+a;this.mb=+b;this.Vb=+f;this.hc=+c;this.tc=+e;this.uc=+k;this.ic=+g;this.jc=+l}VX(a,b,f,c){this.set(a,b,f,b,f,c,a,c)}qa(a){this.rb=a.rb;this.mb=a.mb;this.Vb=a.Vb;this.hc=a.hc;this.tc=a.tc;this.uc=a.uc;this.ic=a.ic;this.jc=a.jc}fd(a){return this.rb===a.rb&&this.mb===
a.mb&&this.Vb===a.Vb&&this.hc===a.hc&&this.tc===a.tc&&this.uc===a.uc&&this.ic===a.ic&&this.jc===a.jc}WX(a){this.rb=+a}XX(a){this.mb=+a}toArray(){return[this.rb,this.mb,this.Vb,this.hc,this.tc,this.uc,this.ic,this.jc]}Qh(a,b){a[b++]=this.rb;a[b++]=this.mb;a[b++]=this.Vb;a[b++]=this.hc;a[b++]=this.tc;a[b++]=this.uc;a[b++]=this.ic;a[b]=this.jc}eia(a,b,f){a[b++]=this.rb;a[b++]=this.mb;a[b++]=f;a[b++]=this.Vb;a[b++]=this.hc;a[b++]=f;a[b++]=this.tc;a[b++]=this.uc;a[b++]=f;a[b++]=this.ic;a[b++]=this.jc;
a[b]=f}offset(a,b){a=+a;b=+b;this.rb+=a;this.mb+=b;this.Vb+=a;this.hc+=b;this.tc+=a;this.uc+=b;this.ic+=a;this.jc+=b}round(){this.rb=Math.round(this.rb);this.mb=Math.round(this.mb);this.Vb=Math.round(this.Vb);this.hc=Math.round(this.hc);this.tc=Math.round(this.tc);this.uc=Math.round(this.uc);this.ic=Math.round(this.ic);this.jc=Math.round(this.jc)}floor(){this.rb=Math.floor(this.rb);this.mb=Math.floor(this.mb);this.Vb=Math.floor(this.Vb);this.hc=Math.floor(this.hc);this.tc=Math.floor(this.tc);this.uc=
Math.floor(this.uc);this.ic=Math.floor(this.ic);this.jc=Math.floor(this.jc)}ceil(){this.rb=Math.ceil(this.rb);this.mb=Math.ceil(this.mb);this.Vb=Math.ceil(this.Vb);this.hc=Math.ceil(this.hc);this.tc=Math.ceil(this.tc);this.uc=Math.ceil(this.uc);this.ic=Math.ceil(this.ic);this.jc=Math.ceil(this.jc)}Ph(a){this.rb=a.M;this.mb=a.J;this.Vb=a.V;this.hc=a.J;this.tc=a.V;this.uc=a.S;this.ic=a.M;this.jc=a.S}Su(a,b){0===b?this.Ph(a):this.gF(a,Math.sin(b),Math.cos(b))}gF(a,b,f){const c=a.M*b,e=a.J*b,k=a.V*b;
b*=a.S;const g=a.M*f,l=a.J*f,n=a.V*f;a=a.S*f;this.rb=g-e;this.mb=l+c;this.Vb=n-e;this.hc=l+k;this.tc=n-b;this.uc=a+k;this.ic=g-b;this.jc=a+c}RM(a){a.set(Math.min(this.rb,this.Vb,this.tc,this.ic),Math.min(this.mb,this.hc,this.uc,this.jc),Math.max(this.rb,this.Vb,this.tc,this.ic),Math.max(this.mb,this.hc,this.uc,this.jc))}hg(a,b){var f=this.Vb-this.rb,c=this.hc-this.mb;const e=this.tc-this.rb,k=this.uc-this.mb;a-=this.rb;b-=this.mb;var g=f*f+c*c;let l=f*e+c*k;c=f*a+c*b;const n=e*e+k*k,q=e*a+k*b;let r=
1/(g*n-l*l);f=(n*c-l*q)*r;g=(g*q-l*c)*r;if(0<=f&&0<g&&1>f+g)return!0;f=this.ic-this.rb;c=this.jc-this.mb;g=f*f+c*c;l=f*e+c*k;c=f*a+c*b;r=1/(g*n-l*l);f=(n*c-l*q)*r;g=(g*q-l*c)*r;return 0<=f&&0<g&&1>f+g}np(){return(this.rb+this.Vb+this.tc+this.ic)/4}op(){return(this.mb+this.hc+this.uc+this.jc)/4}UM(a){var b=a.np(),f=a.op();if(this.hg(b,f))return!0;b=this.np();f=this.op();if(a.hg(b,f))return!0;b=this.rb;f=this.mb;const c=this.Vb,e=this.hc,k=this.tc,g=this.uc,l=this.ic,n=this.jc;return d.fF(b,f,c,e,a)||
d.fF(c,e,k,g,a)||d.fF(k,g,l,n,a)||d.fF(l,n,b,f,a)}Kha(){const a=this.rb,b=this.mb;this.rb=this.Vb;this.mb=this.hc;this.Vb=this.tc;this.hc=this.uc;this.tc=this.ic;this.uc=this.jc;this.ic=a;this.jc=b}}}
{"use strict";const d=self.j,a=[0,0,1,0,1,1,0,1],b=d.A(d.Ec);d.mn=class extends d.ia{constructor(f,c=!0){super();f||(f=a);this.Pc=Float64Array.from(f);this.cC=new d.Rect;this.Xq=!0;this.xh=c}g(){}pz(){return this.Pc.length/2}hF(f){this.Pc.length===f.length?this.Pc.set(f):this.Pc=Float64Array.from(f);this.Xq=!0}Oha(){this.hF(a)}qa(f){this.hF(f.Pc)}rN(){this.Xq=!0}gga(){if(this.Xq){var f=this.Pc,c=f[0],e=f[1],k=c,g=e;for(let l=0,n=f.length;l<n;l+=2){const q=f[l],r=f[l+1];q<c&&(c=q);q>k&&(k=q);r<e&&
(e=r);r>g&&(g=r)}this.cC.set(c,e,k,g);this.Xq=!1}}Ph(f,c,e){let k=this.Pc;8!==k.length&&(this.Pc=k=new Float64Array(8));k[0]=f.M-c;k[1]=f.J-e;k[2]=f.V-c;k[3]=f.J-e;k[4]=f.V-c;k[5]=f.S-e;k[6]=f.M-c;k[7]=f.S-e;this.cC.qa(f);0===c&&0===e||this.cC.offset(-c,-e);this.Xq=!1}sN(f,c,e){b.qa(f);b.offset(c,e);this.hF(b.toArray());this.Xq=!0}transform(f,c,e){let k=0,g=1;0!==e&&(k=Math.sin(e),g=Math.cos(e));this.AN(f,c,k,g)}AN(f,c,e,k){const g=this.Pc;for(let l=0,n=g.length;l<n;l+=2){const q=l+1,r=g[l]*f,p=g[q]*
c;g[l]=r*k-p*e;g[q]=p*k+r*e}this.Xq=!0}offset(f,c){const e=this.Pc;for(let k=0,g=e.length;k<g;k+=2)e[k]+=f,e[k+1]+=c}hg(f,c){const e=this.Pc;if(f===e[0]&&c===e[1])return!0;this.gga();var k=this.cC;const g=k.M-110,l=k.J-101,n=k.V+131;k=k.S+120;let q,r,p,w,t,v,x,z;g<f?(q=g,p=f):(q=f,p=g);l<c?(r=l,w=c):(r=c,w=l);n<f?(t=n,x=f):(t=f,x=n);k<c?(v=k,z=c):(v=c,z=k);let D=0,E=0;for(let B=0,G=e.length;B<G;B+=2){var M=(B+2)%G;const H=e[B],J=e[B+1],P=e[M];M=e[M+1];d.cn(g,l,f,c,q,p,r,w,H,J,P,M)&&++D;d.cn(n,k,f,
c,t,x,v,z,H,J,P,M)&&++E}return 1===D%2||1===E%2}iz(f,c,e){const k=f.Pc,g=this.Pc;if(this.hg(k[0]+c,k[1]+e)||f.hg(g[0]-c,g[1]-e))return!0;for(let n=0,q=g.length;n<q;n+=2){var l=(n+2)%q;f=g[n];const r=g[n+1],p=g[l];l=g[l+1];let w,t,v,x;f<p?(w=f,v=p):(w=p,v=f);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,D=k.length;z<D;z+=2){const E=(z+2)%D;if(d.cn(f,r,p,l,w,v,t,x,k[z]+c,k[z+1]+e,k[E]+c,k[E+1]+e))return!0}}return!1}z1(){const f=this.Pc;let c=0;for(let e=0,k=f.length;e<k;e+=2)c+=f[e];return c/this.pz()}A1(){const f=
this.Pc;let c=0;for(let e=0,k=f.length;e<k;e+=2)c+=f[e+1];return c/this.pz()}F1(){return this.pz()}jd(){return this.xh}}}
{"use strict";const d=self.j;d.Tv=class extends d.ia{constructor(a){super();this.Xk=new Map;if(a)for(const [b,f,c]of a)this.Set(b,f,c)}g(){this.Jc();this.Xk=null}Jc(){const a=this.Xk;for(const b of a.values())b.clear();a.clear()}Set(a,b,f){const c=this.Xk;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,f)}ea(a,b){return(a=this.Xk.get(a))?a.get(b):a}CA(a){return(a=this.Xk.get(a))?a.has(void 0):!1}nn(a,b){const f=this.Xk,c=f.get(a);if(!c)return!1;(b=c.delete(b))&&0===c.size&&f.delete(a);return b}iO(a){const b=
this.Xk,f=b.get(a);f&&(f.clear(),b.delete(a));for(const [c,e]of b.entries())e.delete(a)&&0===e.size&&b.delete(c)}vn(){let a=0;for(const b of this.Xk.values())a+=b.size;return a}*values(){for(const a of this.Xk.values())yield*a.values()}*entries(){for(const [a,b]of this.Xk.entries())for(const [f,c]of b.entries())yield[a,f,c]}}}
{"use strict";const d=self.j;d.uF=class extends d.ia{constructor(){super();this.Ko=new Set;this.Yc=[];this.fy=!1}g(){this.Jc()}Jc(){this.Ko.clear();d.C(this.Yc);this.fy=!1}Sc(a){this.Ko.has(a)||(this.Ko.add(a),this.fy||this.Yc.push(a))}CA(a){return this.Ko.has(a)}nn(a){this.Ko.delete(a)&&(this.fy=!0)}vn(){return this.Ko.size}An(){return 0===this.Ko.size}TF(){this.fy&&(this.kca(),this.fy=!1);return this.Yc}kca(){const a=this.Yc;d.C(a);for(const b of this.Ko)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,f=new Map,c=new Map,e=new Map;e.set("linear","noease");e.set("default","noease");self.kv=class k{constructor(){}static y3(g){this.bI();return[...a.keys()].includes(g)}static aaa(g){const l=e.get(g);if(l)return d.get(l);if(k.y3(g))return d.get(g);if(c.has(g))return c.get(g)}static Cp(g){this.bI();const l=k.aaa(g);return l?l:f.get(g)}static bI(){0===d.size&&(this.Ib("default",()=>{}),this.Ib("noease",this.h4),this.Ib("easeinsine",this.Y_),this.Ib("easeoutsine",
this.g0),this.Ib("easeinoutsine",this.U_),this.Ib("easeinelastic",this.J_),this.Ib("easeoutelastic",this.b0),this.Ib("easeinoutelastic",this.P_),this.Ib("easeinback",this.G_),this.Ib("easeoutback",this.Z_),this.Ib("easeinoutback",this.L_),this.Ib("easeinbounce",this.lO),this.Ib("easeoutbounce",this.MF),this.Ib("easeinoutbounce",this.M_),this.Ib("easeincubic",this.I_),this.Ib("easeoutcubic",this.a0),this.Ib("easeinoutcubic",this.O_),this.Ib("easeinquad",this.V_),this.Ib("easeoutquad",this.d0),this.Ib("easeinoutquad",
this.R_),this.Ib("easeinquart",this.W_),this.Ib("easeoutquart",this.e0),this.Ib("easeinoutquart",this.S_),this.Ib("easeinquint",this.X_),this.Ib("easeoutquint",this.f0),this.Ib("easeinoutquint",this.T_),this.Ib("easeincirc",this.H_),this.Ib("easeoutcirc",this.$_),this.Ib("easeinoutcirc",this.N_),this.Ib("easeinexpo",this.K_),this.Ib("easeoutexpo",this.c0),this.Ib("easeinoutexpo",this.Q_),this.$R("cubicbezier",this.F_),this.$R("spline",this.h0))}static Ib(g,l){k.VH(g,l,"predefined")}static $R(g,l){k.VH(g,
l,"private")}static sY(g,l){this.bI();k.VH(g,l,"custom",void 0)}static VH(g,l,n,q){switch(n){case "predefined":d.set(g,l);a.set(g,l);break;case "custom":q?(b.has(q)||b.set(q,new Map),b.get(q).set(g,l)):f.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static h4(g,l,n,q){return n*g/q+l}static V_(g,l,n,q){return n*(g/=q)*g+l}static d0(g,l,n,q){return-n*(g/=q)*(g-2)+l}static R_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static I_(g,
l,n,q){return n*(g/=q)*g*g+l}static a0(g,l,n,q){return n*((g=g/q-1)*g*g+1)+l}static O_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static W_(g,l,n,q){return n*(g/=q)*g*g*g+l}static e0(g,l,n,q){return-n*((g=g/q-1)*g*g*g-1)+l}static S_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static X_(g,l,n,q){return n*(g/=q)*g*g*g*g+l}static f0(g,l,n,q){return n*((g=g/q-1)*g*g*g*g+1)+l}static T_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static Y_(g,
l,n,q){return-n*Math.cos(g/q*(Math.PI/2))+n+l}static g0(g,l,n,q){return n*Math.sin(g/q*(Math.PI/2))+l}static U_(g,l,n,q){return-n/2*(Math.cos(Math.PI*g/q)-1)+l}static K_(g,l,n,q){return 0===g?l:n*Math.pow(2,10*(g/q-1))+l}static c0(g,l,n,q){return g===q?l+n:n*(-Math.pow(2,-10*g/q)+1)+l}static Q_(g,l,n,q){return 0===g?l:g===q?l+n:1>(g/=q/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static H_(g,l,n,q){return-n*(Math.sqrt(1-(g/=q)*g)-1)+l}static $_(g,l,n,q){return n*Math.sqrt(1-(g=g/q-
1)*g)+l}static N_(g,l,n,q){return 1>(g/=q/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static J_(g,l,n,q){let r=0,p=n;if(0===g)return l;if(1===(g/=q))return l+n;r||(r=.3*q);p<Math.abs(n)?(p=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-n)*Math.PI/r))+l}static b0(g,l,n,q){let r,p=0,w=n;if(0===g)return l;if(1===(g/=q))return l+n;p||(p=.3*q);w<Math.abs(n)?(w=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/w);return w*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+n+l}static P_(g,l,n,q){let r,p=0,w=n;if(0===g)return l;if(2===(g/=q/2))return l+n;p||(p=.3*q*1.5);w<Math.abs(n)?(w=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/w);return 1>g?-.5*w*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+l:w*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+n+l}static G_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*(g/=q)*g*((r+1)*g-r)+l}static Z_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*((g=g/q-1)*g*((r+1)*g+r)+1)+l}static L_(g,l,n,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?n/2*g*g*(((r*=1.525)+1)*g-r)+l:n/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+l}static lO(g,l,n,q){return n-k.MF(q-g,0,n,q)+l}static MF(g,l,n,q){return(g/=q)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static M_(g,l,n,q){return g<q/2?.5*k.lO(2*g,0,n,q)+l:.5*k.MF(2*g-q,0,n,q)+.5*n+l}static F_(g,l,n,q,r){return l+3*g*(n-l)+3*g**2*(l+q-2*n)+g**3*(r-l+3*n-3*q)}static h0(g,l,n,q,r,p,w,t,v,x){if(q===
r&&p===w)return g;if(1==g)g=1;else{for(var z=0,D=1,E=x[D];10!=D&&E<=g;)D++,E=x[D],z+=.1;D--;E=x[D];x=z+(g-E)/(x[D+1]-E)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-g)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;D=0;let M;do x=q+(z-q)/2,E=((t*x+p)*x+l)*x-g,0<E?z=x:q=x,E=1E-7<Math.abs(E),M=10>++D;while(E&&M)}g=x}return(((v-3*w+3*r-n)*g+(3*w-6*r+3*n))*g+3*(r-n))*g}static G0(g,l,n,q){const r=[];q=q-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+n)*l+g)*l);return r}}}{"use strict";const d=self.j;d.ina=class{constructor(){this.SV=[]}g(){this.Jc();this.SV=null}Jc(){d.Bga(this.SV)}}}"use strict";
self.j.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.fha=this.lN=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.fha)throw Error(`cannot stop async event '${this.type}' propagation`);this.lN=!0}};
{"use strict";const d=self.j;d.Event.V1=class extends d.ia{constructor(a){super();this.za=a;this.Xf=[];this.mt=new Set;this.ag=[];this.Qt=new Set;this.rx=0;this.ny=[];this.fu=[];this.gu=[]}g(){0<this.rx||(d.C(this.Xf),this.mt.clear(),d.C(this.ag),this.Qt.clear(),d.C(this.ny),d.C(this.fu),d.C(this.gu),d.g(this))}YR(a,b){this.dT()?this.ny.push([a,b]):b?this.mt.has(a)||(this.Xf.push(a),this.mt.add(a)):this.Qt.has(a)||(this.ag.push(a),this.Qt.add(a))}yca(a,b){this.dT()?b?this.fu.push(a):this.gu.push(a):
b?this.mt.has(a)&&(this.mt.delete(a),d.Kr(this.Xf,a)):this.Qt.has(a)&&(this.Qt.delete(a),d.Kr(this.ag,a))}Laa(){return!this.Xf.length&&!this.ag.length}dT(){return 0<this.rx}hca(){for(var a of this.ny)this.YR(...a);d.C(this.ny);for(const b of this.gu)this.Qt.delete(b);for(const b of this.fu)this.mt.delete(b);a=new Set(this.fu);d.Oh(this.ag,new Set(this.gu));d.Oh(this.Xf,a);d.C(this.fu);d.C(this.gu)}N$(a){this.bt();let b=!1;for(let f=0,c=this.Xf.length;f<c;++f)if(this.Xf[f](a),a.lN){b=!0;break}if(!b)for(let f=
0,c=this.ag.length;f<c&&(this.ag[f](a),!a.lN);++f);this.Zs();return!a.defaultPrevented}P$(a){this.bt();for(let b=0,f=this.Xf.length;b<f;++b)this.Xf[b](a);for(let b=0,f=this.ag.length;b<f;++b)this.ag[b](a);this.Zs();return!0}bt(){this.rx++}Zs(){this.rx--;0===this.rx&&(this.ny.length||this.fu.length||this.gu.length)&&this.hca()}Ls(a){a?this.bt():this.Zs()}AS(a){const b=[];this.bt();for(let c=0,e=this.Xf.length;c<e;++c){var f=this.Xf[c](a);f instanceof Promise&&b.push(f)}for(let c=0,e=this.ag.length;c<
e;++c)f=this.ag[c](a),f instanceof Promise&&b.push(f);this.Zs();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async K$(a){return await this.AS(a)}async L$(a){this.bt();for(let f=0,c=this.Xf.length;f<c;++f){var b=this.Xf[f](a);b instanceof Promise&&await b}for(let f=0,c=this.ag.length;f<c;++f)b=this.ag[f](a),b instanceof Promise&&await b;this.Zs();return!a.defaultPrevented}*M$(a){this.bt();for(let f=0,c=this.Xf.length;f<c;++f){var b=this.Xf[f](a);d.Dn(b)&&(yield*b)}for(let f=
0,c=this.ag.length;f<c;++f)b=this.ag[f](a),d.Dn(b)&&(yield*b);this.Zs()}}}
{"use strict";const d=self.j;d.Event.Fb=class extends d.ia{constructor(){super();this.Jq=new Map;this.VJ=!1}g(){if(this.VJ)throw Error("already released");this.mZ();this.VJ=!0;d.g(this)}gq(){return this.VJ}mZ(){for(let a of this.Jq.values())a.g();this.Jq.clear()}jq(a,b){let f=this.Jq.get(a);return f?f:b?(f=d.A(d.Event.V1,a),this.Jq.set(a,f),f):null}xG(a){return this.Jq.has(a)}addEventListener(a,b,f){this.jq(a,!0).YR(b,!!f)}removeEventListener(a,b,f){let c=this.jq(a,!1);c&&(c.yca(b,!!f),c.Laa()&&this.Jq.delete(a))}dispatchEvent(a){const b=
this.jq(a.type,!1);return b?a.cancelable?b.N$(a):b.P$(a):!0}async LM(a){const b=this.jq(a.type,!1);return b?await b.K$(a):!0}Lga(a){const b=this.jq(a.type,!1);return b?b.AS(a):!0}async Kga(a){const b=this.jq(a.type,!1);b&&await b.L$(a)}Mga(a){const b=this.jq(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.M$(a)}Ls(a){for(const b of this.Jq.values())b.Ls(a)}}}
{"use strict";const d=self.j,a="undefined"!==typeof requestIdleCallback;let b=[],f=-1,c=0;function e(n){f=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){f=-1;if(b.length){var q=performance.now(),r=0;do{g(b.shift());var p=performance.now();++r;var w=(p-q)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof n?w<n.timeRemaining():12>p-q+w));-1===f&&b.length&&e(Math.max(16-(p-q),4))}}function g(n){let q;try{q=n.QM()}catch(r){n.reject(r);return}n.resolve(q)}let l=d.AQ.CA("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.sl=function(n){let q=null;d.Iu&&(q=d.aA());return new Promise((r,p)=>{b.push({QM:n,resolve:r,reject:p,stack:q});l?g(b.pop()):-1===f&&e(16)})};d.sl.hR=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.j;let a=-1;function b(){a=-1}d.Xz=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let f=-1,c=-1,e=new Set;function k(){c=f=-1;let g=Date.now();for(let l of e)if(l.l9(g)){let n=l.Fq;if(-1===c||n<c)c=n}else e.delete(l);-1!==c&&(f=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.y2=class{constructor(g,l){this.lt=g;this.vE=1E3*l;this.Fq=0;this.Nb=!1}kd(){let g=d.Xz();this.Fq=g+this.vE;this.Nb||(e.add(this),this.Nb=!0);-1===f?(c=this.Fq,f=self.setTimeout(k,this.vE+
100)):this.Fq<c&&c>g+1E3&&(self.clearTimeout(f),c=this.Fq,f=self.setTimeout(k,this.vE+100))}l9(g){return g>=this.Fq?this.lt()?(this.Fq=g+this.vE,!0):this.Nb=!1:!0}fZ(){this.Nb&&(e.delete(this),this.Nb=!1,0===e.size&&-1!==f&&(self.clearTimeout(f),c=f=-1))}g(){this.fZ();this.lt=null}}}
{"use strict";const d=self.j;d.gd=class a{constructor(b){this.Dt=!1;this.XJ=b}Uz(){this.Dt||(this.Dt=!0,this.XJ&&(this.XJ(),this.XJ=null))}g(){this.Uz()}static g(b){return new a(()=>b.g())}static Xd(b,f,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const k=new d.Yr;for(let g of f)b.addEventListener(g,c,e),k.Sc(d.A(d.gd,()=>b.removeEventListener(g,c,e)));return k}b.addEventListener(f,
c,e);return d.A(d.gd,()=>b.removeEventListener(f,c,e))}};d.hqa=class extends d.gd{};d.Yr=class extends d.gd{constructor(...a){super();this.Ad=new Set;for(let b of a)this.Sc(b)}Sc(...a){if(this.Dt)throw Error("already disposed");for(let b of a)this.Ad.add(b)}ci(a){if(this.Dt)throw Error("already disposed");this.Ad.delete(a)}Uz(){if(this.Dt)throw Error("already disposed");this.Dt=!0;for(let a of this.Ad)a.Uz();this.Ad.clear();this.Ad=null}g(){this.Uz()}}}
{"use strict";const d=self.j;d.Mv=class extends d.ia{constructor(){super();this.nu=this.Ky=this.T=this.hC=0}Sc(a){this.T=+a-this.hC;this.Ky=this.nu+this.T;this.hC=this.Ky-this.nu-this.T;this.nu=this.Ky}ea(){return this.nu}kd(){this.nu=this.Ky=this.T=this.hC=0}Set(a){this.Ky=this.T=this.hC=0;this.nu=+a}g(){}}}
{"use strict";const d=self.j,a={gH:function(b){this.dY=b;this.left=this.right=this.dY.sb;this.parent=null;this.color=!1;this.key=null},Qp:function(b){this.size=0;this.sb=new a.gH(this);this.sb.color=!1;this.root=this.sb;this.root.parent=this.sb;this.compare=b||this.Hga}};ya=a.Qp.prototype;ya.Hga=function(b,f){return b<f?-1:f<b?1:0};ya.clone=function(){var b=new a.Qp(this.compare);b.aha(this);return b};ya.clear=function(){this.size=0;this.sb=new a.gH(this);this.sb.color=!1;this.root=this.sb;this.root.parent=
this.sb};ya.jz=function(b){var f=b.right;b.right=f.left;f.left!=this.sb&&(f.left.parent=b);f.parent=b.parent;b.parent==this.sb?this.root=f:b==b.parent.left?b.parent.left=f:b.parent.right=f;f.left=b;b.parent=f};ya.vz=function(b){var f=b.left;b.left=f.right;f.right!=this.sb&&(f.right.parent=b);f.parent=b.parent;b.parent==this.sb?this.root=f:b==b.parent.right?b.parent.right=f:b.parent.left=f;f.right=b;b.parent=f};ya.Fu=function(b){if(this.contains(b))this.gz(b).key=b;else{var f=new a.gH(this);f.key=
b;b=this.sb;for(var c=this.root;c!=this.sb;)b=c,c=0>this.compare(f.key,c.key)?c.left:c.right;f.parent=b;b==this.sb?this.root=f:0>this.compare(f.key,b.key)?b.left=f:b.right=f;f.left=this.sb;f.right=this.sb;f.color=!0;this.bha(f);this.size++}};ya.bha=function(b){for(;b!=this.sb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var f=b.parent.parent.right;1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.jz(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.sb&&this.vz(b.parent.parent))}else f=b.parent.parent.left,1==f.color?(b.parent.color=!1,f.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.vz(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.sb&&this.jz(b.parent.parent));this.root.color=!1};ya.Jga=function(b){var f=b.left==this.sb||b.right==this.sb?b:this.tp(b);var c=f.left!=this.sb?f.left:f.right;c.parent=f.parent;f.parent==
this.sb?this.root=c:f==f.parent.left?f.parent.left=c:f.parent.right=c;f!=b&&(b.key=f.key);0==f.color&&this.Iga(c);this.size--};ya.Iga=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var f=b.parent.right;1==f.color&&(f.color=!1,b.parent.color=!0,this.jz(b.parent),f=b.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,b=b.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.vz(f),f=b.parent.right),f.color=b.parent.color,b.parent.color=!1,f.right.color=!1,this.jz(b.parent),
b=this.root)}else f=b.parent.left,1==f.color&&(f.color=!1,b.parent.color=!0,this.vz(b.parent),f=b.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,b=b.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.jz(f),f=b.parent.left),f.color=b.parent.color,b.parent.color=!1,f.left.color=!1,this.vz(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.gz(b);if(b!=this.sb){var f=b.key;this.Jga(b);return f}return null};ya.min=function(b){for(;b.left!=this.sb;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.sb;)b=b.right;return b};ya.tp=function(b){if(b.right!=this.sb)return this.min(b.right);for(var f=b.parent;f!=this.sb&&b==f.right;)b=f,f=f.parent;return f};ya.gz=function(b){for(var f=this.root;f!=this.sb&&0!=this.compare(f.key,b);)f=0>this.compare(b,f.key)?f.left:f.right;return f};ya.contains=function(b){return null!=this.gz(b).key};ya.SM=function(){var b=[];this.forEach(function(f){b.push(f)});return b};ya.aha=function(b){if("array"==a.BN(b))for(var f=0;f<b.length;f++)this.Fu(b[f]);
else if("function"==a.BN(b.forEach))b.forEach(this.Fu,this);else if("function"==a.BN(b.SM))for(b=b.SM(),f=0;f<b.length;f++)this.Fu(b[f]);else if("object"==a.BN(b))for(f in b)this.Fu(b[f])};ya.range=function(b,f){var c=[];this.$ha(function(e){c.push(e)},b,f);return c};ya.$ha=function(b,f,c){if(!this.Ju())for(f=this.gz(f),c=this.gz(c);f!=c&&!b.call(void 0,f.key,this);)f=this.tp(f)};ya.forEach=function(b,f){if(!this.Ju())for(var c=this.min(this.root);c!=this.sb;c=this.tp(c))b.call(f,c.key,c.key,this)};
ya.some=function(b,f){if(this.Ju())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.tp(c))if(b.call(f,c.key,c.key,this))return!0;return!1};ya.every=function(b,f){if(this.Ju())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.tp(c))if(!b.call(f,c.key,c.key,this))return!1;return!0};ya.map=function(b,f){var c=[];if(this.Ju())return c;for(var e=this.min(this.root);e!=this.sb;e=this.tp(e))c.push(b.call(f,e.key,e.key,this));return c};ya.filter=function(b,f){var c=[];if(this.Ju())return c;
for(var e=this.min(this.root);e!=this.sb;e=this.tp(e))b.call(f,e.key,e.key,this)&&c.push(e.key);return c};ya.Ju=function(){return 0==this.size};d.Qp=class extends d.ia{constructor(b){super();this.Ci=new a.Qp(b);this.Ft=!1;this.rr=new Set;this.tr=new Set}Sc(b){this.Ft?this.Ci.contains(b)?this.tr.delete(b):this.rr.add(b):this.Ci.Fu(b)}ci(b){this.Ft?this.Ci.contains(b)?this.tr.add(b):this.rr.delete(b):this.Ci.remove(b)}CA(b){return this.Ft?this.rr.has(b)?!0:!this.tr.has(b)&&this.Ci.contains(b):this.Ci.contains(b)}Jc(){this.Ci.clear();
this.rr.clear();this.tr.clear()}toArray(){if(this.Ft)throw Error("cannot be used in queueing mode");return this.Ci.SM()}vn(){return this.Ci.size+this.rr.size-this.tr.size}An(){return 0===this.vn()}di(b){b=!!b;if(this.Ft!==b&&(this.Ft=b,!b)){for(const f of this.tr)this.Ci.remove(f);this.tr.clear();for(const f of this.rr)this.Ci.Fu(f);this.rr.clear()}}*values(){if(!this.An()){var b=this.Ci;for(let f=b.min(b.root);f!=b.sb;f=b.tp(f))yield f.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.j;d.uQ=class{constructor(a=d.hardwareConcurrency){this.Hfa=a;this.IL=[];this.kJ=0}Sc(a){return new Promise((b,f)=>{this.IL.push({QM:a,resolve:b,reject:f});this.pT()})}async pT(){if(this.IL.length&&!(this.kJ>=this.Hfa)){this.kJ++;var a=this.IL.shift();try{const b=await a.QM();a.resolve(b)}catch(b){a.reject(b)}this.kJ--;this.pT()}}}}
{"use strict";const d=self.j;d.o5=class{constructor(a,b,f){this.lt=a;this.qfa=b;this.rfa=f||2*b;this.ru=-1;this.vD=-Infinity;this.ZW=()=>this.Wba();this.Zea=this.yK=!1;this.cx=null}eaa(){return"undefined"!==typeof d.TY&&d.TY.fla()?this.rfa:this.qfa}eZ(){var a=[];if(-1===this.ru){this.cx=a;a=d.Xz();var b=a-this.vD,f=this.eaa();b>=f&&this.Zea?(this.vD=a,this.PT()):this.ru=self.setTimeout(this.ZW,Math.max(f-b,4))}}PT(){this.yK=!0;const a=this.cx;this.cx=null;a?this.lt(...a):this.lt();this.yK=!1}kd(){this.yK||
(this.eS(),this.cx=null,this.vD=d.Xz())}Wba(){this.ru=-1;this.vD=d.Xz();this.PT()}eS(){-1!==this.ru&&(self.clearTimeout(this.ru),this.ru=-1)}g(){this.eS();this.ZW=this.cx=this.lt=null}}}"use strict";function fc(d,a){if(!d.pV)throw Error("no get base size callback set");return d.pV(a)}function gc(d){if(!d.FW)throw Error("no redraw callback set");d.FW()}self.j.qoa=class{constructor(){this.nfa=new Map;this.FW=this.GW=this.pV=null}};"use strict";
self.j.poa=class{constructor(d,a){this.Vt=d;this.bfa=a;this.dd=0;fc(this.Vt,a).then(()=>{gc(this.Vt)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);gc(this.Vt)});this.JL=null}g(){if(0>=this.dd)throw Error("already released");this.dd--;0===this.dd&&this.Kw()}Kw(){if(this.JL){var d=this.Vt;if(!d.GW)throw Error("no release result callback set");d.GW(this.JL);this.JL=null}this.Vt.nfa.delete(this.bfa);this.Vt=null}};
{"use strict";const d=self.j;d.Cqa="\ufeff";const a=new Set([..."0123456789"]);d.z3=function(n){return a.has(n)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.NA=function(n){return b.has(n)};d.Vja=function(n){return[...n].filter(q=>!d.NA(q)).join("")};d.MA=function(n){for(const q of n)if(!d.NA(q))return!1;return!0};d.M3=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.u0=function(n){return[...n].filter(q=>
!d.M3(q)).join("")};const f=new Set([..."0123456789.+-e"]);d.mla=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!a.has(q))return!1;for(let r of n)if(!f.has(r))return!1;return!0};d.x5=function(n){let q=n.length;for(;0<q&&d.z3(n.charAt(q-1));)--q;return n.substr(0,q)};d.Cka=function(n){let q=d.x5(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function e(n){return c.get(n)}
const k=/[&<>"']/g;d.k0=function(n){return n.replace(k,e)};d.Qja=function(n){n=d.fj(n,"\\","\\\\");n=d.fj(n,'"','\\"');n=d.fj(n,"\t","\\t");n=d.fj(n,"\r","");return d.fj(n,"\n","\\n")};d.Rja=function(n){n=d.fj(n,"&","&amp;");n=d.fj(n,"<","&lt;");n=d.fj(n,">","&gt;");return d.fj(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.lv=function(n){return n.replace(g,"\\$&")};d.Wja=function(n,q,r=!1){if(!q)return[];r||(n=n.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let w=[];for(;-1<(p=n.indexOf(q,
p));)w.push(p),p+=r;return w};d.fj=function(n,q,r){return n.replaceAll(q,()=>r)};d.sna=function(n,q,r){return n.replace(new RegExp(d.lv(q),"gi"),()=>r)};d.Loa=function(n,q){"string"===typeof q?n.textContent=q:q.MV?n.textContent=q.toString():(n.innerHTML=q.xN(),q instanceof d.ul&&q.vga(n))};d.cqa=function(n,q){return n instanceof d.CG||n instanceof d.ul?n.fd(q):q instanceof d.CG||q instanceof d.ul?q.fd(n):n===q};d.dqa=function(n,...q){let r=n;for(let p=0,w=q.length;p<w;++p){const t=`{${p}}`;if(!n.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.eqa=function(n,...q){let r=n,p=-1,w=-1;for(let t=0,v=q.length;t<v;++t){const x=`{${t}}`;n.includes(x)?(w=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=w&&p<w)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.fqa=function(n,q){for(let [r,p]of Object.entries(q))n=n.replaceAll(r,p.toString());return n};d.Mpa=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};d.aka=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.ysa;if(1024>n)return r(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(q+"terabytes",n)};const l={sga:!1,Ega:!0,$ga:!0,uha:!0,TX:!0};d.bka=function(n,q){q=Object.assign({},
l,q);d.P3.kna("common.time");const r=[],p=self.lang,w=self.xsa;if(q.Ega){var t=Math.floor(n/86400);0<t&&(n-=86400*t,r.push(w(".days",null,t)))}q.$ga&&(t=Math.floor(n/3600),0<t||r.length)&&(n-=3600*t,r.push(w(".hours",null,t)));q.uha&&(t=Math.floor(n/60),0<t||r.length||!q.TX)&&(n-=60*t,r.push(w(".minutes",null,t)));q.TX&&r.push(w(".seconds",null,Math.floor(n%60)));n=(q.sga?p(".approx-prefix"):"")+r.join(p(".separator"));d.P3.gna();return n};d.cra=function(n,q){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)r+="0";return r+n};d.gqa=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.sja=function(n,q){n=n.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.SX(n);d.SX(q);n=n.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=n[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.Bja=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
d.aqa=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,w=n.length;p<w;++p)n.charAt(p)!==q.charAt(p)&&++r;return r};d.bqa=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let r,p,w,t;if(n.length>q.length){var v=n;n=q;q=v}t=Array(n.length+1);for(v=0;v<=n.length;v++)t[v]=v;for(v=1;v<=q.length;v++){p=v;for(r=1;r<=n.length;r++)w=q[v-1]===n[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=w;t[n.length]=p}return t[n.length]}}
{"use strict";const d=self.j,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
f=/\[(\/?)([^\[]*?)\]/g;let c=null,e=0;function k(l,n,q){var r=a.get(q);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],n?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${e++}">`:l}const g=/\n/g;d.ul=class{constructor(l,n){this.li=n&&n.JX?l:d.k0(l);this.xK="";this.TU=!1;this.Xx=[];if(n&&(this.TU=!!n.wra,n.links)){if(9<n.links.length)throw Error("too many links");this.Xx=n.links}this.uV=this.li.includes("[");this.qW=this.TU&&this.li.includes("\n");this.MV=!this.uV&&!this.qW&&!this.li.includes("&");this.yV=!1;this.tx=[]}toString(){return this.li}valueOf(){return this.li}xN(){if(this.MV)return this.li;if(!this.xK&&this.li){let l=this.li;this.uV&&
(e=0,c=this.Xx,l=l.replace(b,k),c=null);this.qW&&(l=l.replace(g,"<br>"));this.xK=l}return this.xK}vga(l){if(this.Xx.length)for(let n=0,q=this.Xx.length;n<q;++n){const r=this.Xx[n];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}fd(l){return l instanceof d.CG?this.xN()===l.xN():l instanceof d.ul?this.li===l.li:this.li===l}aY(){if(this.yV)return this.tx;const l=this.li,n=[];let q=f.lastIndex=0;for(var r;null!==
(r=f.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var w=r[1],t=r[2];const v=l.substring(q,p);q=p+r[0].length;v&&this.tx.push({text:v,yd:n.slice(0)});if(t)if(w)for(t=t.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===t){n.splice(r,1);break}}else r=t,p=null,w=t.indexOf("="),-1!==w?(r=t.substring(0,w).toLowerCase(),p=t.substring(w+1)):r=r.toLowerCase(),n.push({tag:r,wd:p})}q<l.length&&this.tx.push({text:l.substring(q),yd:n.slice(0)});for(const v of this.tx)v.text=this.gca(v.text);
this.yV=!0;return this.tx}gca(l){l=d.fj(l,"\\[","[");return d.fj(l,"\\\\","\\")}static GR(l){return l.replace(f,"")}}}
{"use strict";const d=self.j;d.uw=class{constructor(){this.dl=[]}rT(a,b){let f=0,c=0,e=0,k=0,g=0;for(const l of a)-1===l.width&&(a=b(l.text,l.yd),l.width=a.width,l.height=a.height,l.Pg=a.Pg||0,l.ig=a.ig||0,l.kg=a.kg||0),f+=l.width,c=Math.max(c,l.height),e=Math.max(e,l.Pg),k=Math.max(k,l.ig),g=Math.max(g,l.kg);return{width:f,height:c,Pg:e,ig:k,kg:g}}nB(a,b,f,c,e,k){this.dl.push({MM:a,width:b,height:f,Pg:c,ig:e,kg:k})}uw(a,b,f,c,e){"string"===typeof a&&(a=[{text:a,yd:[]}]);d.C(this.dl);if(!(!a.length||
1===a.length&&!a[0].text.length||2>f)){if(1===a.length){var k=a[0];const g=k.text;k=k.yd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,Pg:q,ig:r,kg:p}=b(g,k);l+=e;q=q||0;r=r||0;p=p||0;if(l<=f){this.nB([{text:g,yd:k,width:l,height:n,Pg:q,ig:r,kg:p}],l,n,q,r,p);return}}}if("word"===c)c=this.mea(a);else{c=[];for(const g of a)d.gp(c,[...g.text].map(l=>[{text:l,yd:g.yd}]))}this.Gea(c,b,f,e)}}mea(a){const b=[];let f=[],c=!1;for(const k of a){var e=k.text;a=k.yd;for(const g of e)"\n"===g?(0<
f.length&&b.push(f),b.push([{text:"\n",yd:a}]),f=[]):0===f.length?(f.push({text:g,yd:a}),c=d.NA(g)):(e=d.NA(g),e===c?(e=f.$e(-1),e.yd===a?e.text+=g:f.push({text:g,yd:a})):(b.push(f),f=[],f.push({text:g,yd:a}),c=e))}0<f.length&&b.push(f);return b}o9(a){return a.map(b=>({text:b.text,yd:b.yd,width:b.width,height:b.height,Pg:b.Pg,ig:b.ig,kg:b.kg}))}cS(a,b){var f=a.length?a.$e(-1):null;let c=0;f&&b[0].yd===f.yd&&(f.text+=b[0].text,f.width=-1,f.height=-1,f.Pg=-1,f.ig=-1,f.kg=-1,c=1);for(f=b.length;c<f;++c){const e=
b[c];a.push({text:e.text,yd:e.yd,width:-1,height:-1,Pg:-1,ig:-1,kg:-1})}}Gea(a,b,f,c){let e=[],k=0,g=0,l=0,n=0;var q=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===g&&(q=b(" ",r[0].yd),g=q.height,l=q.Pg||0,n=q.ig||0,q=q.kg||0);this.nB(e,k,g,l,n,q);e=[];q=n=l=g=k=0;continue}a=this.o9(e);this.cS(a,r);const p=this.rT(a,b),w=p.width;w>=f?(0<e.length&&this.nB(e,k,g,l,n,q),e=[],d.MA(r[0].text)?q=n=l=g=k=0:(this.cS(e,r),q=this.rT(e,b),k=q.width,g=q.height,l=q.Pg,n=q.ig,q=q.kg)):(e=a,k=w,g=p.height,
l=p.Pg,n=p.ig,q=p.kg)}0<e.length&&this.nB(e,k,g,l,n,q);this.pea(b,c)}pea(a,b){for(const c of this.dl){const e=c.MM;if(!e.length)continue;let k=e.$e(-1);var f=k.text;const g=f.trimEnd();if(!g)c.width-=k.width,e.pop();else if(g.length<f.length){f=a(g,k.yd).width;const l=k.width-f;k.width=f;k.text=g;c.width-=l}0!==b&&0<e.length&&(k=e.$e(-1),k.width+=b,c.width+=b)}}Jc(){d.C(this.dl)}SO(){return this.dl.reduce((a,b)=>Math.max(a,b.width),0)}O1(){return this.dl.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.j,a=self.ql,b=a.nF,f=a.zz,c=a.mp,e=b.create(),k=b.create(),g=b.create(),l=f.create(),n=c.create(),q=b.create(),r=b.create(),p=b.create(),w=b.create(),t=b.create(),v=b.create(),x=b.create(),z=b.create(),D=f.jg(0,0,1,1);d.$={e5(G,H,J,P,Q,T,W){const Z=P[0]*G+P[4]*H+P[8]*J+P[12],Y=P[1]*G+P[5]*H+P[9]*J+P[13],fa=P[2]*G+P[6]*H+P[10]*J+P[14];P=P[3]*G+P[7]*H+P[11]*J+P[15];G=Q[0]*Z+Q[4]*Y+Q[8]*fa+Q[12]*P;H=Q[1]*Z+Q[5]*Y+Q[9]*fa+Q[13]*P;J=Q[2]*Z+Q[6]*Y+Q[10]*fa+Q[14]*P;Q=Q[3]*Z+Q[7]*
Y+Q[11]*fa+Q[15]*P;if(0===Q)return!1;Q=1/Q;W[0]=(G*Q*.5+.5)*T[2]+T[0];W[1]=(H*Q*.5+.5)*T[3]+T[1];W[2]=.5*(1+J*Q);return!0},Jk(G,H,J,P,Q,T,W){c.multiply(n,Q,P);if(null===c.Hu(n,n))return!1;l[0]=(G-T[0])/T[2]*2-1;l[1]=(H-T[1])/T[3]*2-1;l[2]=2*J-1;l[3]=1;f.zN(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];W[0]=l[0]*l[3];W[1]=l[1]*l[3];W[2]=l[2]*l[3];return!0},Y7(G,H,J,P,Q,T,W){if(!d.$.Jk(G,H,0,P,Q,T,e)||!d.$.Jk(G,H,1,P,Q,T,k))return!1;b.gn(k,k,e);b.set(g,0,0,1);G=-J;H=b.kp(g,k);J=0;if(0===H){if(0!==b.kp(g,
e)+G)return!1}else if(J=-(b.kp(e,g)+G)/H,0>J)return!1;b.qN(W,e,k,J);return!0}};function E(G,H,J,P){b.gn(e,J,H);b.gn(k,G,H);b.JM(g,e,k);b.normalize(g,g);P.set(g[0],g[1],g[2],b.kp(G,g))}function M(G,H,J,P,Q,T,W){const Z=W.x,Y=W.y,fa=W.z,ja=W.w,xa=W.jY,Ka=W.kY;W=W.lY;const Ta=1-xa,Pa=1-Ka,Ua=1-W;return Z*G*xa+Z*P*Ta+Y*H*Ka+Y*Q*Pa+fa*J*W+fa*T*Ua>=ja?!0:Z*P*xa+Z*G*Ta+Y*Q*Ka+Y*H*Pa+fa*T*W+fa*J*Ua>ja}class B{constructor(){this.lY=this.kY=this.jY=this.w=this.z=this.y=this.x=NaN}set(G,H,J,P){this.x=G;this.y=
H;this.z=J;this.w=P;this.jY=0<G?1:0;this.kY=0<H?1:0;this.lY=0<J?1:0}}d.$.h8=class{constructor(){this.eW=new B;this.$W=new B;this.JW=new B;this.OU=new B;this.pW=new B;this.gV=new B}aZ(G,H){d.$.Jk(0,1,0,G,H,D,q);d.$.Jk(1,1,0,G,H,D,r);d.$.Jk(0,0,0,G,H,D,p);d.$.Jk(1,0,0,G,H,D,w);d.$.Jk(0,1,1,G,H,D,t);d.$.Jk(1,1,1,G,H,D,v);d.$.Jk(0,0,1,G,H,D,x);d.$.Jk(1,0,1,G,H,D,z);E(p,q,t,this.eW);E(q,r,v,this.$W);E(r,w,z,this.JW);E(w,p,x,this.OU);E(x,t,v,this.gV);E(w,r,q,this.pW)}EZ(G,H,J,P,Q,T){return M(G,H,J,P,Q,
T,this.eW)&&M(G,H,J,P,Q,T,this.$W)&&M(G,H,J,P,Q,T,this.JW)&&M(G,H,J,P,Q,T,this.OU)&&M(G,H,J,P,Q,T,this.pW)&&M(G,H,J,P,Q,T,this.gV)}}}
{"use strict";const d=self.j,a=self.ql,b=a.nF,f=a.zz,c=a.mp,e=c.create(),k=b.jg(0,0,0),g=b.jg(0,0,0),l=b.jg(0,0,0),n=b.jg(0,1,0);f.jg(0,0,0,0);new d.Ec;new d.Rect;const q=new d.Ec(0,0,1,0,1,1,0,1);d.$.A5=class{constructor(){this.U=this.W=0;this.kfa=d.eb(45);this.gM=Math.tan(this.kfa/2);this.LD=c.create();this.lL=c.create();this.uq=[];this.gE=new Map;this.XL=this.mE=this.nE=null;this.Iy=new Map;this.Fj=null;this.EJ=[];this.oW=new Map;this.xt=this.kt=0;this.Dfa=this.Efa=1;this.gL=.5;this.vi=0;this.Et=
!0;this.vK=!1}t0(r){let p=0,w=r.length,t=0;for(;p<w;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}gS(){this.xt=this.kt=0;this.XL=this.mE=this.nE=null;this.m9()}FA(){this.gS();this.Fj=null}y4(){for(const r of this.uq)r.g();this.gS()}K(){return this.W}G(){return this.U}gv(r,p,w=.5,t=.5){w=1-w;const v=1*this.gM;p*=v;c.Tga(r,(2*w-2)*p,2*w*p,(2*t-2)*v,2*t*v,1,1E4)}$Y(r,p,w){const t=self.devicePixelRatio,v=200*t*this.gM/w;p=p*v/(2*t);w=w*v/(2*t);c.Aha(r,-p,p,-w,w,1,1E4)}ON(r,p,w,t,
v=this.pG()){v=200*self.devicePixelRatio*this.gM/v;b.set(l,v,-v,1);b.multiply(k,p,l);b.multiply(g,w,l);c.rha(r,k,g,t||n);c.scale(r,r,l)}dv(r,p,w,t,v,x){b.set(k,r,p,w);b.set(g,t,v,0);this.ON(e,k,g,n,x);return e}M8(r){this.uq.push(r);this.gE.set(r.Ba(),r)}Aca(r){const p=this.uq.indexOf(r);-1!==p&&this.uq.splice(p,1);this.gE.delete(r.Ba())}m9(){d.C(this.uq);this.gE.clear()}fP(r){return this.gE.get(r)||null}wg(){this.Un(this.nE)}ew(){this.Un(this.XL)}tda(r){this.Fj=r}pY(r,p,w,t){const v=d.$.OH.XP(r,p,
w,t);let x=this.Iy.get(v);x||(x=d.A(d.$.OH,this,r,p,w,t),this.Iy.set(v,x));x.EY();return x}DQ(r){r.a_();0===r.dd&&(this.Fj===r&&(this.Fj=null),this.Iy.delete(r.p1()),r.g())}waa(r){d.C(this.EJ);this.oW.clear();for(const p of r){r=p[0];const w=p[1],t=p[2];this.EJ.push([w,t]);this.oW.set(r,{Zta:w,Dra:t})}}Z$(r){return this.EJ[r]}aw(r){this.kt=r}Qn(r){this.xt=r;this.Fj=null}QA(r,p,w,t,v,x){var z=this.gL;r=r+z-x;p=p+z-v;w=w+z+x;t=t+z+v;z=2*x;const D=2*v;this.Es(r+v,p-x,0,w+v,t-x,0,w-v-z,t+x-D,0,r-v+z,
p+x+D,0,q)}PA(r,p,w,t,v,x){const z=this.gL;r=r+z-x;p=p+z-v;w=w+z+x;t=t+z+v;this.Es(r+v,p-x,0,w+v,t-x,0,w-v,t+x,0,r-v,p+x,0,q)}OA(r,p,w,t,v,x){const z=this.gL;r+=z;p+=z;w+=z;t+=z;this.Es(r+v,p-x,0,w+v,t-x,0,w-v,t+x,0,r-v,p+x,0,q)}R3(r,p,w,t){const v=.5*this.Efa,x=this.Dfa;2===x?this.Raa(r,p,w,t,v):1===x?this.Qaa(r,p,w,t,v):this.Paa(r,p,w,t,v)}Raa(r,p,w,t,v){this.QA(r,p,w,p,0,v);this.QA(w,p,w,t,v,0);this.QA(w,t,r,t,0,-v);this.QA(r,t,r,p,-v,0)}Qaa(r,p,w,t,v){this.PA(r,p,w,p,0,v);this.PA(w,p,w,t,v,0);
this.PA(w,t,r,t,0,-v);this.PA(r,t,r,p,-v,0)}Paa(r,p,w,t,v){this.OA(r,p,w,p,0,v);this.OA(w,p,w,t,v,0);this.OA(w,t,r,t,0,-v);this.OA(r,t,r,p,-v,0)}PP(r){this.R3(r.M,r.J,r.V,r.S)}FZ(r){var p=r.length/2;if(3>p)throw Error("need at least 3 points");p-=2;const w=p-1,t=r[0],v=r[1];for(let x=0;x<p;x+=2){const z=2*x,D=r[z+2],E=r[z+3],M=r[z+4],B=r[z+5];x===w?this.eH(t,v,D,E,M,B,M,B):this.eH(t,v,D,E,M,B,r[z+6],r[z+7])}}ds(){this.Ui();this.vi++}E2(){this.vi++}yH(r){this.Et=!!r}v6(r){this.vK=!!r}Lv(){return!1}}}
{"use strict";const d=self.j;d.$.OH=class{constructor(a,b,f,c,e){this.ga=a;this.dd=0;this.kb=null;this.xy="";this.ko=f;this.Ja=d.A(d.$a);this.Ja.set(c);this.ud=e;"string"===typeof b?this.xy=b:(this.kb=b,this.xy=this.kb.Ba())}g(){if(0<this.dd)throw Error("releasing state group still in use");this.kb=this.ga=null;this.xy=""}MY(){const a=this.ga;a.Un(this.kb);a.pf(this.ko);a.ij(this.Ja);a.Qn(this.ud);a.tda(this)}p1(){return d.$.OH.XP(this.xy,this.ko,this.Ja,this.ud)}EY(){++this.dd}a_(){--this.dd}Ol(){this.kb=
null}aH(a){this.kb=a.fP(this.xy);if(!this.kb)throw Error("failed to restore shader program");}static XP(a,b,f,c){return("string"===typeof a?a:a.Ba())+","+b+","+f.Za+","+f.cb+","+f.bb+","+f.Wa+","+c}}}
{"use strict";const d=self.j,a=d.A(d.Ec);function b(f,c,e){const k=e.rb,g=e.mb;return[k+(e.Vb-k)*f+(e.ic-k)*c,g+(e.hc-g)*f+(e.jc-g)*c]}d.$.e4=class{constructor(f){this.pL=f;this.Nh=this.Lh=this.ud=this.T=this.X=0}pj(f,c,e,k){this.X=f;this.T=c;this.Lh=e;this.Nh=k}O(){return this.X}Tf(f){this.X!==f&&(this.X=f,this.pL.VI())}P(){return this.T}kh(f){this.T!==f&&(this.T=f,this.pL.VI())}Ua(){return this.ud}Le(f){this.ud!==f&&(this.ud=Math.max(f,0),this.pL.VI())}FH(f){this.Lh=f}GH(f){this.Nh=f}Iaa(f,c,e){[this.X,
this.T]=b(f.X,f.T,c);this.ud=f.ud;this.Lh=d.nc(e.M,e.V,f.Lh);this.Nh=d.nc(e.J,e.S,f.Nh)}Haa(f,c,e){[this.X,this.T]=b(f.X,f.T,c);this.ud=f.ud;[this.Lh,this.Nh]=b(f.Lh,f.Nh,e)}Xb(){return{x:this.O(),y:this.P(),z:this.Ua(),u:this.Lh,v:this.Nh}}Pb(f){this.Tf(f.x);this.kh(f.y);f.hasOwnProperty("z")&&this.Le(f.z);this.FH(f.u);this.GH(f.v)}};d.$.$P=class{constructor(f,c,e){if(2>f||2>c)throw Error("invalid mesh size");this.Yk=f;this.kl=c;this.yc=e||null;this.Io=[];this.lW=this.kW=0;this.iW=this.hW=1;this.jW=
0;this.EL=!1;e=f-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<f;++n){const q=d.A(d.$.e4,this,n,g),r=n/e,p=g/k;q.pj(r,p,r,p);l.push(q)}this.Io.push(l)}}g(){d.C(this.Io)}VI(){this.EL=!0}Ew(){if(this.EL){var f=Infinity,c=Infinity,e=-Infinity,k=-Infinity,g=0;for(const l of this.Io)for(const n of l){const q=n.O(),r=n.P();f=Math.min(f,q);c=Math.min(c,r);e=Math.max(e,q);k=Math.max(k,r);g=Math.max(g,n.Ua())}this.kW=f;this.lW=c;this.hW=e;this.iW=k;this.jW=g;this.EL=!1}}B1(){this.Ew();return this.kW}C1(){this.Ew();
return this.lW}w1(){this.Ew();return this.hW}x1(){this.Ew();return this.iW}y1(){this.Ew();return this.jW}ls(f,c){f=Math.floor(f);c=Math.floor(c);return 0>f||f>=this.Yk||0>c||c>=this.kl?null:this.Io[c][f]}PN(f,c,e){const k=e instanceof d.Rect;if(f.Yk!==this.Yk||f.kl!==this.kl)throw Error("source mesh wrong size");f=f.Io;const g=this.Io;for(let l=0,n=g.length;l<n;++l){const q=f[l],r=g[l];for(let p=0,w=r.length;p<w;++p){const t=q[p],v=r[p];k?v.Iaa(t,c,e):v.Haa(t,c,e)}}}Nd(f){const c=this.Io;let e=c[0];
for(let k=1,g=c.length;k<g;++k){const l=c[k];let n=e[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const w=e[r],t=l[r];a.set(n.Lh,n.Nh,w.Lh,w.Nh,t.Lh,t.Nh,q.Lh,q.Nh);f.Es(n.O(),n.P(),n.Ua(),w.O(),w.P(),w.Ua(),t.O(),t.P(),t.Ua(),q.O(),q.P(),q.Ua(),a);n=w;q=t}e=l}}i3(f){f=f.Pc;const c=[],e=this.Yk-1,k=this.kl-1,g=1/e,l=1/k,n=e-1,q=k-1;let r=f[0],p=f[1],w=d.fa(Math.floor(r*e),0,n),t=d.fa(Math.floor(p*k),0,q),v=0,x=0,z=0;var D=-1;const E=()=>{r=d.fa(d.nc(r,v,z),0,1);p=d.fa(d.nc(p,x,z),0,1);c.push(r,p)};for(let M=
0,B=f.length;M<B;M+=2)for(r=f[M],p=f[M+1],c.push(r,p),w=d.fa(Math.floor(r*e),0,n),t=d.fa(Math.floor(p*k),0,q),D=(M+2)%B,v=f[D],x=f[D+1],D=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const G=w*g,H=t*l,J=(w+1)*g,P=(t+1)*l;if(0!==D&&(z=d.sz(r,p,v,x,G,H,J,P,-.001),0<=z&&.99999999>=z)){E();D=0;continue}if(0<t&&2!==D&&(z=d.sz(r,p,v,x,G,H,J,H,.001),0<=z&&.99999999>=z)){E();t--;D=4;continue}if(w<n&&3!==D&&(z=d.sz(r,p,v,x,J,H,J,P,.001),0<=z&&.99999999>=z)){E();w++;D=1;continue}if(0<w&&1!==
D&&(z=d.sz(r,p,v,x,G,H,G,P,.001),0<=z&&.99999999>=z)){E();w--;D=3;continue}if(t<q&&4!==D&&(z=d.sz(r,p,v,x,G,P,J,P,.001),0<=z&&.99999999>=z)){E();t++;D=2;continue}break}return d.A(d.mn,c)}S7(f,c){f=this.nea(f);this.cea(f);c.hF(f)}nea(f){const c=[];f=f.Pc;for(let e=0,k=f.length;e<k;e+=2){const [g,l]=this.RH(f[e],f[e+1]);c.push(g,l)}return c}RH(f,c){var e=this.Yk-1,k=this.kl-1;const g=1/e,l=1/k;e=d.fa(Math.floor(f*e),0,e-1);const n=d.fa(Math.floor(c*k),0,k-1);k=e*g;const q=n*l,r=(e+1)*g,p=(n+1)*l,w=
this.ls(e,n),t=this.ls(e+1,n+1),v=d.hha(f,c,k,q,r,q,r,p);e=this.ls(e+(v?1:0),n+(v?0:1));const [x,z,D]=d.bia(f,c,k,q,v?k+g:k,v?q:q+l,r,p);return d.aia(x,z,D,w.O(),w.P(),e.O(),e.P(),t.O(),t.P())}cea(f){const c=[];let e=f[0],k=f[1],g=e-f.$e(-2),l=k-f.$e(-1);for(let q=0,r=f.length;q<r;q+=2){var n=(q+2)%r;const p=f[n];n=f[n+1];const w=p-e,t=n-k,v=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(w)===Math.sign(g);(!(1E-7>Math.abs(w)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(l)||v)&&1E-7<Math.abs(w/g-t/l)||
0==w&&0===t)&&c.push(e,k);e=p;k=n;g=w;l=t}6<=c.length&&c.length<f.length&&d.xd(f,c)}Xb(){return{cols:this.Yk,rows:this.kl,points:this.Io.map(f=>f.map(c=>c.Xb()))}}Pb(f){const c=this.Yk,e=this.kl;if(f.cols!==c||f.rows!==e)throw Error("mesh data wrong size");f=f.points;for(let k=0;k<e;++k){const g=f[k];for(let l=0;l<c;++l)this.ls(l,k).Pb(g[l])}}}}
{"use strict";const d=self.j,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function e(n,q){let r,p;switch(n){case "rgba8":n=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{uN:n,Gu:r,format:p,type:q}}const k={hn:"clamp-to-edge",jn:"clamp-to-edge",Dd:"trilinear",fp:0,hN:"rgba8",$E:!0,nz:"default",premultiplyAlpha:!0,DX:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.$.mB=class{constructor(n){this.ga=n;this.hb=null;this.U=this.W=0;this.wi=!0;this.Xm=this.Wm="clamp-to-edge";this.zc="trilinear";this.tJ=0;this.Go="rgba8";this.um=!1;this.gr=
"default";this.dd=0}D9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.hb)throw Error("already created texture");this.Wm=q.hn;this.Xm=q.jn;
this.zc=q.Dd;this.tJ=q.fp;this.Go=q.hN;this.um=!!q.$E&&this.ga.Et;this.gr=q.nz;if(!c.has(this.Wm)||!c.has(this.Xm))throw Error("invalid wrap mode");if(!b.has(this.zc))throw Error("invalid sampling");if(!a.has(this.Go))throw Error("invalid pixel format");if(!f.has(this.gr))throw Error("invalid mipmap quality");this.wi=!0;if(n instanceof ArrayBuffer||null===n||q.DX){if(this.W=q.width,this.U=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.W*this.U*4)throw Error("ArrayBuffer wrong size");}else this.W=
n.width,this.U=n.height;if(0>=this.W||0>=this.U)throw Error("invalid texture data size");if(q.DX){var r=d.ef(this.W,this.U);r.getContext("2d").drawImage(n,0,0,this.W,this.U);n=r}var p=d.rl(this.W)&&d.rl(this.U);r=this.ga.MD;if(this.W>r||this.U>r)throw Error("texture data exceeds maximum texture size");r=this.ga.Y;var w=this.ga.Vd;this.hb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.hb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=e(this.Go,r);if(this.ga.bq()||p||!this.zI())2<=w?(r.texStorage2D(r.TEXTURE_2D,this.um?Math.floor(Math.log2(Math.max(this.W,this.U))+1):1,q.uN,this.W,this.U),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.W,this.U,q.format,q.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.Gu,this.W,this.U,0,q.format,q.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,q.Gu,this.W,this.U,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.Gu,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.W,this.U));n instanceof ImageData&&(p=d.ef(this.W,this.U),p.getContext("2d").putImageData(n,0,0),n=p);p=d.ef(d.cN(this.W),d.cN(this.U));w=p.getContext("2d");w.imageSmoothingEnabled="nearest"!==this.zc;w.drawImage(n,0,0,this.W,this.U,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.Gu,q.format,q.type,p)}null!==n&&this.nU(r);r.bindTexture(r.TEXTURE_2D,null);this.ga.LI();this.dd=1;l.add(this)}q9(n,q,r){r=Object.assign({},k,r);if(this.hb)throw Error("already created texture");this.Wm=r.hn;this.Xm=r.jn;this.zc=r.Dd;this.Go=r.hN;this.um=!!r.$E&&this.ga.Et;this.gr=r.nz;if(!c.has(this.Wm)||!c.has(this.Xm))throw Error("invalid wrap mode");if(!b.has(this.zc))throw Error("invalid sampling");if(!a.has(this.Go))throw Error("invalid pixel format");if(!f.has(this.gr))throw Error("invalid mipmap quality");
this.wi=!1;this.W=Math.floor(n);this.U=Math.floor(q);n=d.rl(this.W)&&d.rl(this.U);q=this.ga.MD;if(0>=this.W||0>=this.U)throw Error("invalid texture size");if(this.W>q||this.U>q)throw Error("texture exceeds maximum texture size");if(!this.ga.bq()&&this.zI()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.ga.Y;q=this.ga.Vd;this.hb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.hb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=e(this.Go,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?r.uN:r.Gu,this.W,this.U,0,r.format,r.type,null);this.nU(n);n.bindTexture(n.TEXTURE_2D,null);this.ga.LI();this.dd=1;l.add(this)}wI(n){if("default"===this.gr)return this.wi?n.NICEST:n.FASTEST;if("low"===this.gr)return n.FASTEST;if("high"===this.gr)return n.NICEST;throw Error("invalid mipmap quality");}zI(){return"clamp-to-edge"!==this.Wm||"clamp-to-edge"!==this.Xm}RS(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}nU(n){var q=d.rl(this.W)&&d.rl(this.U);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.RS(n,this.Wm));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.RS(n,this.Xm));"nearest"===this.zc?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.um=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.ga.bq())&&this.um?(n.hint(n.GENERATE_MIPMAP_HINT,
this.wI(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.zc||this.ga.vK?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.um=!1));(q=this.ga.Vw)&&0<this.tJ&&"nearest"!==this.zc&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.tJ,this.ga.nL))}zU(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.hb||0>=this.dd)throw Error("texture not created");if(this.wi)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=n.width||n.videoWidth,p=n.height||n.videoHeight;var w=this.ga.Vd;
const t=this.ga.Y;t.bindTexture(t.TEXTURE_2D,this.hb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=e(this.Go,t);w=2<=w?q.uN:q.Gu;try{if(this.W===r&&this.U===p){const v=d.rl(this.W)&&d.rl(this.U);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n);(v||this.ga.bq())&&this.um&&(t.hint(t.GENERATE_MIPMAP_HINT,this.wI(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.W=r;this.U=p;const v=d.rl(this.W)&&d.rl(this.U);if(!this.ga.bq()&&this.zI()&&
!v)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,w,q.format,q.type,n);(v||this.ga.bq())&&this.um&&(t.hint(t.GENERATE_MIPMAP_HINT,this.wI(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(v){console.error("Error updating WebGL texture: ",v)}t.bindTexture(t.TEXTURE_2D,null);this.ga.LI()}iI(){if(0<this.dd)throw Error("texture still has references");if(!this.hb)throw Error("already deleted texture");l.delete(this);this.ga.Y.deleteTexture(this.hb);this.hb=null}pb(){return this.ga}L7(){if(0>=
this.dd)throw Error("no more references");this.dd--}K(){return this.W}G(){return this.U}aG(){let n=this.W*this.U;switch(this.Go){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.um&&(n+=Math.floor(n/3));return n}static Ol(){l.clear()}static nga(){return l.values()}}}
{"use strict";const d=self.j,a=self.ql.mp,b=new Set(["nearest","bilinear","trilinear"]),f={Dd:"trilinear",alpha:!0,depth:!1,XM:!0,BX:!0,vha:0},c=new Set;d.$.UH=class{constructor(e){this.ga=e;this.Im=this.hb=this.Nj=null;this.U=this.W=0;this.Lx=!0;this.zc="trilinear";this.ht=!0;this.Gj=!1;this.Nx=!0;this.Bm=0;this.kr=a.create()}p9(e,k,g){g=Object.assign({},f,g);const l=this.ga.Vd;if(this.hb||this.Im)throw Error("already created render target");this.zc=g.Dd;this.ht=!!g.alpha;this.Gj=!!g.depth;this.Nx=
!!g.XM;this.Lx=!!g.BX;this.Bm=g.vha;if(!b.has(this.zc))throw Error("invalid sampling");if(0<this.Bm&&(2>l||this.Nx))throw Error("invalid use of multisampling");2>l&&(this.Nx=!0);this.W=e;this.U=k;if(0>=this.W||0>=this.U)throw Error("invalid render target size");this.dS();e=this.ga.Y;this.Nj=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,this.Nj);this.Nx?(this.hb=this.ga.dO(this.W,this.U,{Dd:this.zc,hN:this.ht?"rgba8":"rgb8",$E:!1}),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.hb.hb,0)):(this.Im=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.Im),k=this.ht?e.RGBA8:e.RGB8,0<this.Bm&&((g=e.getInternalformatParameter(e.RENDERBUFFER,k,e.SAMPLES))&&g[0]?(g=g[0],this.Bm>g&&(this.Bm=g)):this.Bm=0),0===this.Bm?e.renderbufferStorage(e.RENDERBUFFER,k,this.W,this.U):e.renderbufferStorageMultisample(e.RENDERBUFFER,this.Bm,k,this.W,this.U),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.Im),e.bindRenderbuffer(e.RENDERBUFFER,null));
k=this.ga.Gq;this.Gj&&k&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,k);e.bindFramebuffer(e.FRAMEBUFFER,null);c.add(this)}KT(e,k){if(this.W!==e||this.U!==k)this.W=e,this.U=k,this.dS(),e=this.ga.Y,e.bindFramebuffer(e.FRAMEBUFFER,this.Nj),this.hb?this.hb.zU(new ImageData(this.W,this.U)):(e.bindRenderbuffer(e.RENDERBUFFER,this.Im),e.renderbufferStorage(e.RENDERBUFFER,this.ht?e.RGBA8:e.RGB8,this.W,this.U),e.bindRenderbuffer(e.RENDERBUFFER,null)),k=this.ga.Gq,this.Gj&&
k&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,k),e.bindFramebuffer(e.FRAMEBUFFER,null)}iI(){if(!this.hb&&!this.Im)throw Error("already deleted render target");c.delete(this);const e=this.ga.Y;e.bindFramebuffer(e.FRAMEBUFFER,this.Nj);this.hb?(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),this.ga.Ie(this.hb),this.hb=null):this.Im&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null),e.deleteRenderbuffer(this.Im),
this.Im=null);e.bindFramebuffer(e.FRAMEBUFFER,null);2<=this.ga.Vd&&(e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null));e.deleteFramebuffer(this.Nj);this.Nj=this.ga.Mc.hp=null}dS(){this.ga.gv(this.kr,this.W/this.U)}pb(){return this.ga}Cb(){return this.hb}PG(){return"nearest"!==this.zc}K(){return this.W}G(){return this.U}q3(e){e=Object.assign({},f,e);return"nearest"!==e.Dd!==this.PG()||!!e.alpha!==this.ht||!!e.depth!==this.Gj||2<=this.ga.Vd&&!!e.XM!==this.Nx?!1:"number"===
typeof e.width||"number"===typeof e.height?!this.Lx&&this.K()===e.width&&this.G()===e.height:this.Lx}aG(){return this.hb?this.hb.aG():this.W*this.U*(this.ht?4:3)}static async UZ(e,k){e=await e.p5(k);return await d.z2(e)}static Ol(){c.clear()}}}
{"use strict";const d=self.j;d.$.rw=class{static async BZ(a,b,f,c){const e=a.Y,k=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(k,b);e.compileShader(k);b=e.createShader(e.VERTEX_SHADER);e.shaderSource(b,f);e.compileShader(b);const g=e.createProgram();e.attachShader(g,k);e.attachShader(g,b);e.bindAttribLocation(g,0,"aPos");e.bindAttribLocation(g,1,"aTex");e.bindAttribLocation(g,2,"aPoints");e.linkProgram(g);const l=a.CL;l?await a.Dea(()=>e.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.TH(5);
if(!e.getShaderParameter(k,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(k),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!e.getShaderParameter(b,e.COMPILE_STATUS))throw c=e.getShaderInfoLog(b),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!e.getProgramParameter(g,e.LINK_STATUS))throw c=e.getProgramInfoLog(g),e.deleteShader(k),e.deleteShader(b),e.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.u0(e.getProgramInfoLog(g)||"").trim())&&!d.MA(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);e.deleteShader(k);e.deleteShader(b);return g}static async Ta(a,b,f,c){f=await d.$.rw.BZ(a,b.src,f,c);return new d.$.rw(a,f,b,c)}constructor(a,b,f,c){const e=a.Y;var k=a.Mc;a.Ui();e.useProgram(b);this.Y=e;this.ga=a;this.Fa=c;this.kb=b;this.dD="<default-device-transform>"===c;c=e.getAttribLocation(b,"aPos");const g=e.getAttribLocation(b,"aTex");this.jL=e.getAttribLocation(b,"aPoints");
-1!==c&&(e.bindBuffer(e.ARRAY_BUFFER,a.IE),e.vertexAttribPointer(c,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(c));-1!==g&&(e.bindBuffer(e.ARRAY_BUFFER,a.tE),e.vertexAttribPointer(g,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(g));-1!==this.jL&&(e.bindBuffer(e.ARRAY_BUFFER,a.VD),e.vertexAttribPointer(this.jL,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.jL));e.bindBuffer(e.ARRAY_BUFFER,null);this.oM=new d.$.Lc(this,"matP","mat4");this.nM=new d.$.Lc(this,"matMV","mat4");this.Gr=new d.$.Lc(this,"color",
"vec4");this.fga=new d.$.Lc(this,"samplerFront","sampler");this.rM=new d.$.Lc(this,"pointTexStart","vec2");this.qM=new d.$.Lc(this,"pointTexEnd","vec2");this.uM=new d.$.Lc(this,"zElevation","float");this.sM=new d.$.Lc(this,"tileSize","vec2");this.tM=new d.$.Lc(this,"tileSpacing","vec2");this.mM=new d.$.Lc(this,"color2_","vec4");this.pM=new d.$.Lc(this,"outlineThickness","float");this.vu=new d.$.Lc(this,"samplerBack","sampler");this.Pm=new d.$.Lc(this,"destStart","vec2");this.Om=new d.$.Lc(this,"destEnd",
"vec2");this.gk=new d.$.Lc(this,"srcStart","vec2");this.Qm=new d.$.Lc(this,"srcEnd","vec2");this.Sm=new d.$.Lc(this,"srcOriginStart","vec2");this.Rm=new d.$.Lc(this,"srcOriginEnd","vec2");this.Mh=new d.$.Lc(this,"pixelSize","vec2");this.Xo=new d.$.Lc(this,"seconds","float");this.Uo=new d.$.Lc(this,"layerScale","float");this.To=new d.$.Lc(this,"layerAngle","float");this.Wo=new d.$.Lc(this,"layoutStart","vec2");this.Vo=new d.$.Lc(this,"layoutEnd","vec2");this.vV=!!(this.Mh.ca||this.Xo.ca||this.vu.ca||
this.Pm.ca||this.Om.ca||this.gk.ca||this.Qm.ca||this.Sm.ca||this.Rm.ca||this.Uo.ca||this.To.ca||this.Wo.ca||this.Vo.ca);this.dV=f.Cu||0;this.eV=f.Du||0;this.PJ=!!f.Bu;this.Jfa=!!f.Nu;this.eu=!!f.Ou;this.YB=!!f.yu;a=f.parameters||[];this.Hr=[];this.Xy=this.Pm.ca||this.Om.ca;this.iga=this.Mh.ca||this.gk.ca||this.Qm.ca||this.Sm.ca||this.Rm.ca;this.Lfa=this.PJ||this.Xy||0!==this.dV||0!==this.eV;this.sK=this.tK=!1;this.Gr.xP();this.mM.xP();this.fga.wP(0);this.vu.wP(1);this.rM.$g(0,0);this.qM.$g(1,1);this.uM.vs(0);
this.sM.$g(0,0);this.tM.$g(0,0);this.Pm.$g(0,0);this.Om.$g(1,1);this.gk.$g(0,0);this.Qm.$g(0,0);this.Sm.$g(0,0);this.Rm.$g(0,0);this.Mh.$g(0,0);this.Uo.vs(1);this.To.vs(0);this.Xo.vs(0);this.Wo.$g(0,0);this.Vo.$g(0,0);this.pM.vs(1);for(const l of a)a=l[2],b=new d.$.Lc(this,l[0],a),"color"===a?b.F2():b.vs(0),this.Hr.push(b);this.dD?this.EU(k.bz):(this.kB(k.bz,!0),this.jB(k.TE,!0));k=k.Mi;e.useProgram(k?k.kb:null)}g(){this.Y.deleteProgram(this.kb);this.kb=null;this.ga.Aca(this);this.ga=this.Y=null}Ba(){return this.Fa}Hn(){return this.Jfa}rA(a){return this.Hr[a].yk()}NY(a){for(let b=
0,f=a.length;b<f;++b)if(!this.Hr[b].G3(a[b]))return!1;return!0}g6(a){for(let b=0,f=a.length;b<f;++b)this.Hr[b].b6(a[b])}OY(a,b,f,c,e,k,g,l,n){return this.vu.ca||this.Mh.ca&&!this.Mh.Ml(e,k)||this.Pm.ca&&!this.Pm.Ml(a.M,a.J)||this.Om.ca&&!this.Om.Ml(a.V,a.S)||this.Uo.ca&&!this.Uo.UG(g)||this.To.ca&&!this.To.UG(l)||this.gk.ca&&!this.gk.Ml(b.M,b.J)||this.Qm.ca&&!this.Qm.Ml(b.V,b.S)||this.Sm.ca&&!this.Sm.Ml(f.M,f.J)||this.Rm.ca&&!this.Rm.Ml(f.V,f.S)||this.Wo.ca&&!this.Wo.Ml(c.M,c.J)||this.Vo.ca&&!this.Vo.Ml(c.J,
c.S)||this.Xo.ca&&!this.Xo.UG(n)?!1:!0}O6(a,b,f,c,e,k,g,l,n){this.vu.ca||(this.Mh.ca&&this.Mh.Sl(e,k),this.Pm.ca&&this.Pm.Sl(a.M,a.J),this.Om.ca&&this.Om.Sl(a.V,a.S),this.Uo.ca&&this.Uo.rH(g),this.To.ca&&this.To.rH(l),this.gk.ca&&this.gk.Sl(b.M,b.J),this.Qm.ca&&this.Qm.Sl(b.V,b.S),this.Sm.ca&&this.Sm.Sl(f.M,f.J),this.Rm.ca&&this.Rm.Sl(f.V,f.S),this.Wo.ca&&this.Wo.Sl(c.M,c.J),this.Vo.ca&&this.Vo.Sl(c.J,c.S),this.Xo.ca&&this.Xo.rH(n))}kB(a,b){this.tK&&!b||this.dD||(this.oM.ca&&this.oM.lB(a),this.tK=
!0)}L6(){this.tK=!1}jB(a,b){this.sK&&!b||this.dD||(this.nM.ca&&this.nM.lB(a),this.sK=!0)}K6(){this.sK=!1}EU(a){if(!this.dD)throw Error("not device transform shader");this.oM.lB(a);a=this.ga;const b=a.K()/2,f=a.G()/2;a=a.dv(b,f,100*self.devicePixelRatio,b,f);this.nM.lB(a)}b8(a){this.Gr.ca&&this.Gr.iB(a[0],a[1],a[2],a[3])}static hA(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,
`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.j,a=self.ql.mp,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.$.Lc=class{constructor(f,c,e){if(!b.has(e))throw Error("invalid uniform type");this.yc=f;this.Y=this.yc.Y;this.Fa=c;this.za=e;this.JK="color"===this.za;this.xi=this.Y.getUniformLocation(this.yc.kb,c);this.ca=!!this.xi;f=b.get(e);this.ac=new Float32Array(f);this.Yj=new Float32Array(f)}g(){this.xi=this.Y=this.yc=null}yk(){return this.za}vs(f){this.ca&&
(this.ac[0]=f,this.Yj.set(this.ac),this.Y.uniform1f(this.xi,f))}wP(f){this.ca&&(this.ac[0]=f,this.Yj.set(this.ac),this.Y.uniform1i(this.xi,f))}$g(f,c){this.ca&&(this.ac[0]=f,this.ac[1]=c,this.Yj.set(this.ac),this.Y.uniform2f(this.xi,f,c))}F2(){this.ca&&(this.ac[0]=0,this.ac[1]=0,this.ac[2]=0,this.Yj.set(this.ac),this.Y.uniform3f(this.xi,0,0,0))}xP(){this.ca&&(this.ac[0]=1,this.ac[1]=1,this.ac[2]=1,this.ac[3]=1,this.Yj.set(this.ac),this.Y.uniform4f(this.xi,1,1,1,1))}Vs(f){f=Math.fround(f);const c=
this.ac;c[0]!==f&&(c[0]=f,this.Y.uniform1f(this.xi,f))}sf(f,c){f=Math.fround(f);c=Math.fround(c);const e=this.ac;if(e[0]!==f||e[1]!==c)e[0]=f,e[1]=c,this.Y.uniform2f(this.xi,f,c)}Z7(f,c,e){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);const k=this.ac;if(k[0]!==f||k[1]!==c||k[2]!==e)k[0]=f,k[1]=c,k[2]=e,this.Y.uniform3f(this.xi,f,c,e)}iB(f,c,e,k){f=Math.fround(f);c=Math.fround(c);e=Math.fround(e);k=Math.fround(k);const g=this.ac;if(g[0]!==f||g[1]!==c||g[2]!==e||g[3]!==k)g[0]=f,g[1]=c,g[2]=e,g[3]=
k,this.Y.uniform4f(this.xi,f,c,e,k)}lB(f){const c=this.ac;a.mk(c,f)||(d.cia(c,f),this.Y.uniformMatrix4fv(this.xi,!1,f))}G3(f){const c=this.Yj;return this.JK?c[0]===Math.fround(f.Za)&&c[1]===Math.fround(f.cb)&&c[2]===Math.fround(f.bb):c[0]===Math.fround(f)}b6(f){const c=this.Yj;this.JK?(c[0]=f.Za,c[1]=f.cb,c[2]=f.bb):c[0]=f}UG(f){return this.Yj[0]===Math.fround(f)}Ml(f,c){const e=this.Yj;return e[0]===Math.fround(f)&&e[1]===Math.fround(c)}rH(f){this.Yj[0]=f}Sl(f,c){const e=this.Yj;e[0]=f;e[1]=c}}}
{"use strict";const d=self.j,a=self.ql,b=a.zz,f=a.mp;d.$.SY=class{constructor(c){this.Kf=c;this.TE=f.create();this.bz=f.create();this.hp=null;this.SE=b.jg(1,1,1,1);this.Mi=null;this.iN=new d.Rect;this.clearColor=d.A(d.$a,0,0,0,0)}};d.$.o8=class{constructor(c){const e=new ArrayBuffer(96);this.za=0;this.Mc=c;this.Y=c.Kf.Y;this.Tq=this.Ih=0;this.Cf=null;this.Te=new Float32Array(e,0,16);this.Cq=new Float32Array(e,64,4);this.TW=new Float32Array(e,80,4);this.fE=[]}U2(c){this.za=1;this.Ih=c;this.Tq=6}p_(){const c=
this.Y;c.drawElements(c.TRIANGLES,this.Tq,c.UNSIGNED_SHORT,this.Ih)}d3(c){this.za=2;this.Cf=c}B_(){const c=this.Y,e=this.Cf;c.bindTexture(c.TEXTURE_2D,e?e.hb:null)}FG(c){this.za=3;c.Qh(this.Cq,0)}r_(){const c=this.Cq,e=this.Mc;b.qa(e.SE,c);e.Mi.b8(c)}u_(){const c=this.Cq,e=this.Mc.Mi;e.mM.ca&&e.mM.iB(c[0],c[1],c[2],c[3])}V2(c,e){this.za=4;this.Ih=c;this.Tq=e}q_(){this.Y.blendFunc(this.Ih,this.Tq)}e3(c,e){this.za=5;const k=this.Cq;k[0]=0;k[1]=0;k[2]=c;k[3]=e}D_(){const c=this.Cq;this.Y.viewport(c[0],
c[1],c[2],c[3])}a3(c){this.za=6;f.qa(this.Te,c)}z_(){const c=this.Mc,e=c.Kf.uq,k=c.Mi,g=this.Te;for(let l=0,n=e.length;l<n;++l){const q=e[l];q===k?q.kB(g,!0):q.L6()}f.qa(c.bz,g)}X2(c){this.za=7;f.qa(this.Te,c)}v_(){const c=this.Mc,e=c.Kf.uq,k=c.Mi,g=this.Te;for(let l=0,n=e.length;l<n;++l){const q=e[l];q===k?q.jB(g,!0):q.K6()}f.qa(c.TE,g)}b3(c){this.za=8;this.Cf=c}A_(){const c=this.Y;var e=this.Cf;const k=this.Mc;e?(e=e.Nj,k.hp=e,c.bindFramebuffer(c.FRAMEBUFFER,e)):(k.hp=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}K2(c){this.za=9;c.Qh(this.Te,0)}L2(){this.za=9;const c=this.Te;c[0]=0;c[1]=0;c[2]=0;c[3]=0}i_(){const c=this.Y;var e=this.Te,k=this.Mc;const g=k.clearColor;(k=k.Kf.$q&&d.Iu)&&c.disable(c.SCISSOR_TEST);const l=e[0],n=e[1],q=e[2];e=e[3];g.fz(l,n,q,e)||(c.clearColor(l,n,q,e),g.rp(l,n,q,e));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}J2(c,e,k,g){this.za=10;const l=this.Te;l[0]=c;l[1]=e;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}h_(){const c=this.Y;var e=this.Te,k=this.Mc;const g=k.Kf;
k=k.clearColor;g.$q||c.enable(c.SCISSOR_TEST);c.scissor(e[0],e[1],e[2],e[3]);const l=e[4],n=e[5],q=e[6];e=e[7];k.fz(l,n,q,e)||(c.clearColor(l,n,q,e),k.rp(l,n,q,e));c.clear(c.COLOR_BUFFER_BIT);g.$q?c.scissor(0,0,g.$y,g.Zy):c.disable(c.SCISSOR_TEST)}w_(){const c=this.Te;this.Mc.iN.set(c[0],c[1],c[2],c[3])}o_(){const c=this.Y,e=this.Mc,k=e.Kf.mE;c.useProgram(k.kb);k.kB(e.bz,!1);k.jB(e.TE,!1);var g=e.iN;k.rM.ca&&k.rM.sf(g.M,g.J);k.qM.ca&&k.qM.sf(g.V,g.S);g=this.Te[0];k.uM.ca&&k.uM.Vs(g);k.Gr.ca&&(g=e.SE,
k.Gr.iB(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Ih/4,this.Tq);c.useProgram(e.Mi.kb)}Y2(c){this.za=12;this.Cf=c}x_(){var c=this.Y;const e=this.Mc,k=this.Cf;e.Mi=k;c.useProgram(k.kb);k.kB(e.bz,!1);k.jB(e.TE,!1);k.Gr.ca&&(c=e.SE,k.Gr.iB(c[0],c[1],c[2],c[3]))}Z2(){this.za=13}y_(){const c=this.Mc.Mi;c.vV&&this.j$(c);c.Hr.length&&this.k$(c)}j$(c){const e=this.Y,k=this.Te,g=this.Cq,l=this.TW;if(c.vu.ca){const n=this.Mc.Kf,q=this.Cf;n.Bo!==q&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,
q?q.hb:null),n.Bo=q,e.activeTexture(e.TEXTURE0))}c.Mh.ca&&c.Mh.sf(k[0],k[1]);c.Pm.ca&&c.Pm.sf(k[2],k[3]);c.Om.ca&&c.Om.sf(k[4],k[5]);c.Uo.ca&&c.Uo.Vs(k[6]);c.To.ca&&c.To.Vs(k[7]);c.gk.ca&&c.gk.sf(k[12],k[13]);c.Qm.ca&&c.Qm.sf(k[14],k[15]);c.Sm.ca&&c.Sm.sf(l[0],l[1]);c.Rm.ca&&c.Rm.sf(l[2],l[3]);c.Wo.ca&&c.Wo.sf(g[0],g[1]);c.Vo.ca&&c.Vo.sf(g[2],g[3]);c.Xo.ca&&c.Xo.Vs(this.Ih)}k$(c){c=c.Hr;const e=this.fE;for(let k=0,g=c.length;k<g;++k){const l=c[k],n=e[k];l.JK?l.Z7(n.Za,n.cb,n.bb):l.Vs(n)}}Q2(c){this.za=
14;this.Cf=c}n_(){const c=this.Y,e=this.Cf,k=this.Mc.hp;e!==k&&c.bindFramebuffer(c.FRAMEBUFFER,e);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);e!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}G2(c,e){this.za=17;var k=this.Te;const g=this.Mc.Kf;k[0]=c.K();k[1]=c.G();k[2]=e?e.K():g.K();k[3]=e?e.G():g.G();k[4]=c.PG()?1:0;k[5]=!0;k=this.fE;d.C(k);k.push(c.Nj);k.push(e?e.Nj:null)}f_(){var c=this.Te,e=this.fE;const k=this.Y;var g=c[0],l=c[1],n=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=e[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,e[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,g,l,0,0,n,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(e=Math.min(g,n),g=Math.min(l,q),n=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,n,e,g+n,0,l,e,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}g3(c){this.za=18;this.Cf=c}E_(){this.Cf.vF();this.Cf=null}P2(c){this.za=19;this.Cf=c}m_(){this.Cf.OF();this.Cf=null}t_(){const c=this.Mc.Mi,e=this.Te;c.Mh.ca&&c.Mh.sf(e[0],e[1]);c.pM.ca&&c.pM.Vs(e[2])}C_(){const c=
this.Mc.Mi,e=this.Te;c.gk.ca&&c.gk.sf(e[0],e[1]);c.Mh.ca&&c.Mh.sf(e[4],e[5]);c.sM.ca&&c.sM.sf(e[6],e[7]);c.tM.ca&&c.tM.sf(e[8],e[9])}I2(){this.za=22}g_(){const c=this.Y;c.clear(c.DEPTH_BUFFER_BIT)}W2(c){this.za=23;this.Ih=c?1:0}s_(){const c=this.Y;0===this.Ih?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}O2(){this.za=24}l_(){const c=this.Y;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}N2(){this.za=25}k_(){const c=this.Y;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}M2(){this.za=26}j_(){const c=this.Y;c.disable(c.STENCIL_TEST)}ra(){switch(this.za){case 1:this.p_();break;case 2:this.B_();break;case 3:this.r_();break;case 4:this.q_();break;case 5:this.D_();break;case 6:this.z_();break;case 7:this.v_();break;case 8:this.A_();break;case 9:this.i_();break;case 10:this.h_();break;case 11:this.o_();break;case 12:this.x_();break;case 13:this.y_();
break;case 14:this.n_();break;case 15:this.w_();break;case 16:this.C_();break;case 17:this.f_();break;case 18:this.E_();break;case 19:this.m_();break;case 20:this.t_();break;case 21:this.u_();break;case 22:this.g_();break;case 23:this.s_();break;case 24:this.l_();break;case 25:this.k_();break;case 26:this.j_()}}}}
{"use strict";const d=self.j,a={timeout:60},b=new d.$a(0,0,0,1),f=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),e=new Set(["word","character"]),k=new Set;d.x0&&d.x0.addEventListener("fontload",q=>{q=q.font.Ba();for(const r of k)(r.Re||d.ol(r.KC,q))&&r.oq()});function g(q,r,p,w,t,v){r?"Gecko"===d.Hd.Fz?q.strokeText(p,w,t,v):q.strokeText(p,w,t):"Gecko"===d.Hd.Fz?q.fillText(p,w,t,v):q.fillText(p,w,t)}let l=!1,n=!1;d.$.FQ=class{constructor(q,r){r=Object.assign({},a,r);this.ga=
q;this.KC="Arial";this.LC=16;this.jV=1;this.Ic=0;this.yfa=this.tfa=!1;this.nC="black";this.Re=!1;this.eN=null;this.sJ=new Set;this.we="left";this.ke="top";this.mc="";this.vj=null;this.If=d.A(d.uw);this.Ir="word";this.WK=this.uE=!1;this.Jx=!0;this.wh=-1;this.U=this.W=this.lm=this.wf=this.vh=0;this.Li=1;this.MJ=!1;this.by=this.Am=this.Ee=this.Br=null;this.WV=this.XV=-1;this.zD=this.ZV=this.$K="";this.aL=this.bL=1;this.cy=(p,w)=>this.Hw(p,w);this.hb=null;this.Ly=this.Ny=0;this.Ig=new d.Rect;this.vy=
1;this.tL=!1;this.iM=new d.y2(()=>{this.hh();this.mU(8,8)},r.timeout);this.fN=null;this.Um=!1;k.add(this)}g(){this.eN=null;this.sJ.clear();this.cy=this.by=this.Am=this.Ee=this.Br=this.vj=null;this.iM.g();this.fN=null;this.hh();this.If.Jc();this.ga=this.If=null;this.Um=!0;k.delete(this)}mq(){this.MJ=!0}oq(){this.mq();this.If.Jc();this.uE=!0}B6(){this.Jx=!1}ah(){return this.Jx}XQ(q){q=!!q;this.Re!==q&&(q=(this.Re=q)?"alphabetic":"top",this.Ee&&(this.Ee.textBaseline=q),this.Am&&(this.Am.textBaseline=
q),this.oq())}q6(){"Arial"!==this.KC&&(this.KC="Arial",this.oq())}r6(){var q=16;.1>q&&(q=.1);this.LC!==q&&(this.LC=q,this.oq())}dB(q){this.Ic!==q&&(this.Ic=q,this.mq())}aB(q){q=Math.floor(q);this.wh!==q&&(this.wh=q,this.mq())}Xc(q,r){for(let p=q.length-1;0<=p;--p){const w=q[p];if(w.tag===r)return w}return null}Zn(q,r){return!!this.Xc(q,r)}JS(q,r){let p=[];(this.tfa||this.Zn(r,"b"))&&p.push("bold");(this.yfa||this.Zn(r,"i"))&&p.push("italic");var w=this.Xc(r,"size");w=(w?parseFloat(w.wd):this.LC)*
this.jV;q?p.push(w+"pt"):p.push(w*this.vy*this.Li*self.devicePixelRatio+"pt");q=this.KC;(r=this.Xc(r,"font"))&&r.wd&&(q=r.wd,this.eN&&!this.sJ.has(q)&&(this.eN(q),this.sJ.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}ij(q){q instanceof d.$a&&(q=q.Uga());this.nC!==q&&(this.nC=q,this.mq())}ZQ(q,r,p){b.Uu(q,r,p);this.ij(b)}x6(){if(!f.has("center"))throw Error("invalid horizontal alignment");"center"!==this.we&&(this.we="center",this.mq())}q7(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.ke&&(this.ke="center",this.mq())}CR(q){if(!e.has(q))throw Error("invalid word wrap mode");this.Ir!==q&&(this.Ir=q,this.oq())}Ss(q){this.mc!==q&&(this.mc=q,this.oq())}Rb(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.wf===q&&this.lm===r&&this.Li===p)){1===this.Li!==(1===p)&&(this.tL=!0);var w=this.wf,t=this.Li;this.wf=q;this.lm=r;this.Li=p;q=self.devicePixelRatio;this.W=this.wf*this.Li*q;this.U=this.lm*this.Li*q;q=Math.max(this.W,this.U);r=Math.min(this.ga.MD,2048);p=1;
q>r&&(p=r/q,this.W=Math.min(this.W*p,r),this.U=Math.min(this.U*p,r));this.vy=p;0<this.Ny&&0<this.Ly&&this.Li===t&&this.Ig.set(0,0,this.W/this.Ny,this.U/this.Ly);this.wf!==w?this.oq():this.mq()}}K(){return this.W}G(){return this.U}lP(){this.kq();return this.If.SO()}kP(){this.kq();return this.If.O1()+this.If.dl.length*(this.Ic+4)-this.Ic}Cb(){this.iM.kd();this.vba();return this.hb}vba(){this.hb&&!this.MJ&&!this.uE||this.WK||0>=this.W||0>=this.U||(this.MJ=!1,this.WK=!0,this.Jx?d.sl(()=>this.sS()):this.sS())}sS(){this.Um||
(this.mU(Math.ceil(this.W),Math.ceil(this.U)),this.kq(),this.D$(),this.yea(),this.iM.kd(),this.WK=!1)}mU(q,r){this.Br||(this.Br=d.ef(16,16));let p=!1;if(this.XV!==q||this.WV!==r)this.XV=q,this.WV=r,this.Br.width=q,this.Br.height=r,p=!0;this.Ee||(this.Ee=this.Br.getContext("2d"),p=!0);p?(this.Ee.textBaseline=this.Re?"alphabetic":"top",this.Ee.font=this.$K,this.Ee.fillStyle=this.zD,this.Ee.strokeStyle=this.zD,this.Ee.globalAlpha=this.bL,this.Ee.lineWidth=this.aL):this.Ee.clearRect(0,0,q,r)}lT(){this.Am||
(this.Am=d.ef(16,16).getContext("2d"),this.by=d.ef(16,16).getContext("2d"),this.Am.textBaseline=this.Re?"alphabetic":"top",this.by.textBaseline="top")}Kda(q){this.ZV!==q&&(this.ZV=q,this.Am.font=q,this.by.font=q)}vU(){if(!l){l=!0;this.lT();const q=this.Am.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}kq(){this.uE&&(this.lT(),!this.Re||this.vj&&this.vj.toString()===this.mc||(this.vj=new d.ul(this.mc,{JX:!0})),this.If.uw(this.Re?
this.vj.aY():this.mc,this.cy,this.wf,this.Ir,0),this.uE=!1)}Hw(q,r){this.Kda(this.JS(!0,r));r=this.Xc(r,"size");r=(r?parseFloat(r.wd):this.LC)*this.jV;const p=this.Am.measureText(q);let w=0;this.Re&&this.vU()&&(w=p.fontBoundingBoxAscent-this.by.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,Pg:p.fontBoundingBoxAscent||0,ig:p.fontBoundingBoxDescent||0,kg:w}}wda(q){this.$K!==q&&(this.$K=q,this.Ee.font=q)}KB(q){this.zD!==q&&(this.zD=q,this.Ee.fillStyle=q,this.Ee.strokeStyle=
q)}vda(q){this.bL!==q&&(this.bL=q,this.Ee.globalAlpha=q)}aU(q){this.aL!==q&&(this.aL=q,this.Ee.lineWidth=q)}D$(){this.vh=0;const q=this.vy*this.Li*self.devicePixelRatio,r=(4+this.Ic)*q;var p=0;const w=this.If.dl;if(0!==w.length){var t=this.Re&&this.vU(),v=w[0].height*q;"center"===this.ke?(p=w.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.U/2-p/2,0),t&&(v=w[0].kg*q)):"bottom"===this.ke&&(p=w.reduce((x,z)=>x+z.height*q+r,0)-this.Ic*q,p=this.U-p-(t?w.$e(-1).ig*q:0)-2);for(let x=0,z=w.length;x<z;++x){t=
w[x];const D=t.height*q,E=p;if(this.Re){if(p+=0===x?v:D,0<x&&p>this.U-4*q)break}else if(0<x&&p>=this.U-D)break;0<=E&&this.C$(t,p,q);this.Re||(p+=D);p+=r}}}C$(q,r,p){let w=0;"center"===this.we?w=(this.W-q.width*p)/2:"right"===this.we&&(w=this.W-q.width*p);for(const t of q.MM)this.B$(t,w,r,p,q.height),w+=t.width*p}B$(q,r,p,w,t){const v=this.Ee;var x=t/16;t=q.width*w;const z=q.height*w,D=q.height/16;var E=(4+this.Ic)*w,M=q.yd,B=q.text;if(-1!==this.wh){if(this.vh>=this.wh)return;this.vh+B.length>this.wh&&
(B=B.substr(0,this.wh-this.vh),t=this.Hw(B,M).width*w);this.vh+=B.length}var G=this.Xc(M,"background"),H=this.Zn(M,"u");q=this.Zn(M,"s");if((!d.MA(B)||G||H||q)&&!this.Zn(M,"hide")){var J=this.Xc(M,"offsetx");r+=J?parseFloat(J.wd)*w:0;J=this.Xc(M,"offsety");p+=J?parseFloat(J.wd)*w:0;G&&(this.KB(G.wd),v.fillRect(r,p-z,t,z+E));J=this.Xc(M,"color");this.KB(J?J.wd:this.nC);E=this.Xc(M,"opacity");this.vda(E?parseFloat(E.wd)/100:1);E=(E=this.Xc(M,"linethickness"))?parseFloat(E.wd):1;(G=this.Zn(M,"stroke"))&&
this.aU(.5*D*E*this.vy*this.Li*self.devicePixelRatio);this.wda(this.JS(!1,M));g(v,G,B,r,p,t);!G&&(this.aU(.5*D*E*this.vy*this.Li*self.devicePixelRatio),M=this.Xc(M,"outline"))&&(this.KB(M.wd),g(v,!0,B,r,p,t));this.KB(J?J.wd:this.nC);H&&(M=r,B=p+w*x,H=t,x=w*x*E,G?v.strokeRect(M,B,H,x):v.fillRect(M,B,H,x));q&&(w*=D,v.fillRect(r,p-z/4+w/2-w*E/2,t,w*E))}}yea(){this.ga.zn()||(this.Ny=Math.ceil(this.W),this.Ly=Math.ceil(this.U),this.Ig.set(0,0,this.W/this.Ny,this.U/this.Ly),this.tL&&(this.hh(),this.tL=
!1),this.hb||(this.hb=this.ga.dO(this.Ny,this.Ly,{$E:1===this.Li,nz:"high"})),this.ga.f8(this.Br,this.hb),this.fN&&this.fN())}Zh(){return this.Ig}hh(){this.hb&&(this.ga.zn()||this.ga.Ie(this.hb),this.hb=null)}static Ol(){for(const q of k)q.hh()}}}
{"use strict";const d=self.j;class a{constructor(b){this.Y=b.Y;this.Vd=b.Vd;this.Ud=b.Ud;this.Bi=null;this.yx=this.Nb=!1;this.bE=0;this.Bi=1===this.Vd?this.Ud.createQueryEXT():this.Y.createQuery()}g(){this.oS();this.Ud=this.Y=null;this.yx=!1}oS(){this.Bi&&(1===this.Vd?this.Ud.deleteQueryEXT(this.Bi):this.Y.deleteQuery(this.Bi),this.Bi=null)}vF(){if(this.Nb)throw Error("query already active");1===this.Vd?this.Ud.beginQueryEXT(this.Ud.TIME_ELAPSED_EXT,this.Bi):this.Y.beginQuery(this.Ud.TIME_ELAPSED_EXT,
this.Bi);this.Nb=!0}OF(){if(!this.Nb)throw Error("query not active");1===this.Vd?this.Ud.endQueryEXT(this.Ud.TIME_ELAPSED_EXT):this.Y.endQuery(this.Ud.TIME_ELAPSED_EXT);this.Nb=!1}AF(){if(this.Bi&&!this.yx&&!this.Nb){var b=1===this.Vd?this.Ud.getQueryObjectEXT(this.Bi,this.Ud.QUERY_RESULT_AVAILABLE_EXT):this.Y.getQueryParameter(this.Bi,this.Y.QUERY_RESULT_AVAILABLE);var f=this.Y.getParameter(this.Ud.GPU_DISJOINT_EXT);b&&!f&&(this.bE=1===this.Vd?this.Ud.getQueryObjectEXT(this.Bi,this.Ud.QUERY_RESULT_EXT):
this.Y.getQueryParameter(this.Bi,this.Y.QUERY_RESULT),this.bE/=1E9,this.yx=!0);(b||f)&&this.oS()}}EA(){return this.yx}uA(){if(!this.yx)throw Error("no result available");return this.bE}}d.$.q8=class{constructor(b){this.ga=b;this.vi=b.vi;this.Nb=!1;this.Fo=null;this.Zq=!1;this.hu=null;this.qr=[]}g(){for(const b of this.qr)b instanceof a&&b.g();d.C(this.qr);this.ga=this.hu=this.Fo=null}vF(){if(this.Nb)throw Error("query already active");const b=this.ga.YW;0<b.length?(this.Zq=!0,this.Fo=b.$e(-1),this.Fo.wS(),
this.Fo.qr.push(this)):(this.Zq=!1,this.Fo=null);this.Nb=!0;b.push(this);this.sU()}OF(){if(!this.Nb)throw Error("query not active");if(this.ga.YW.pop()!==this)throw Error("can only end most nested query");this.Nb=!1;this.wS();this.Fo&&(this.Fo.sU(),this.Fo=null)}sU(){this.hu=d.A(a,this.ga);this.qr.push(this.hu);this.hu.vF()}wS(){this.hu.OF();this.hu=null}AF(){for(const b of this.qr)b.AF()}EA(){return this.qr.every(b=>b.EA())}uA(){return this.qr.reduce((b,f)=>b+f.uA(),0)}}}
{"use strict";const d=self.j;d.$.UR=class{constructor(a,b=1E3){this.ga=a;this.Ifa=b;this.Rk=[];this.ga.L8(this)}g(){this.Jc();this.ga.zca(this);this.ga=null}Jc(){for(const a of this.Rk)a.g();d.C(this.Rk)}tF(){const a=new d.$.q8(this.ga);this.Rk.push(a);this.Rk.length>this.Ifa&&this.Rk.shift().g();return a}kZ(a){for(const b of this.Rk){if(b.vi>=a)break;if(b.Zq)break;b.AF()}}JO(a,b){if(b<=a)return NaN;let f=0;for(const c of this.Rk){if(c.vi>=b)break;if(!(c.vi<a))if(c.EA())f+=c.uA();else return NaN}return f}hO(a){for(let b=
0,f=this.Rk.length;b<f;++b){const c=this.Rk[b];if(c.vi<a)c.g();else{0<b&&this.Rk.splice(0,b);break}}}}}
{"use strict";const d=self.j,a=self.ql,b=a.zz,f=a.mp,c={powerPreference:"default",xX:!0,alpha:!1,YM:!1,depth:!1,GX:2,failIfMajorPerformanceCaveat:!1},e=new Set(["default","low-power","high-performance"]),k=new d.Ec(0,0,1,0,1,1,0,1),g=f.create(),l=f.create(),n=new d.Ec,q=new d.Rect;let r=null;d.Iu&&(self.Ara=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.Bra=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let w=
-1;function t(){w=-1;for(const v of p)v.wga()&&(v.resolve(),p.delete(v));0<p.size&&(w=self.requestAnimationFrame(t))}d.$.p8=class extends d.$.A5{constructor(v,x){super();x=Object.assign({},c,x);if(!e.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.YM&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let D=null,E=0;2<=x.GX&&(D=v.getContext("webgl2",
z),E=2);D||(D=v.getContext("webgl",z),E=1);if(!D)throw Error("failed to initialise WebGL context");this.Y=D;this.MU=D.getContextAttributes();x.YM&&!this.MU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");D.getParameter(D.VERSION);this.Vd=E;this.Hf=b.create();this.zJ=f.create();this.KK=this.Yo=!!x.depth;this.Gq=null;this.IK=!0;this.UU=this.VU=0;this.VD=this.EV=this.tE=this.IE=null;this.wu=new Float32Array(24E3);this.FV=new Uint16Array(12E3);this.Oo=
new Float32Array(16E3);this.yW=new Float32Array(32E3);this.$V=this.WD=this.Td=this.Mg=0;this.Mo=this.er=null;this.$w=[];this.Ac=this.ho=0;this.Qd=null;this.Mc=d.A(d.$.SY,this);this.Vx=d.A(d.$a,1,1,1,1);this.Bo=this.ym=null;this.XK=this.ZK=0;this.$q=!1;this.Zy=this.$y=-1;this.Bfa=new d.Rect;this.MD=-1;this.oL=0;this.Uy="(unavailable)";this.NK=!1;this.Vw=this.CL=null;this.nL=0;this.xfa=!!x.xX;this.Ud=null;this.XB=new Set;this.YW=[];this.t0(this.FV)}Lv(){return!0}async FA(){super.FA();var v=this.Y;this.Vx.rp(1,
1,1,1);this.Bo=this.ym=null;this.WD=this.Mg=0;this.$V=23988;d.C(this.$w);this.Ac=this.ho=0;this.Qd=this.er=null;this.Bfa.set(0,0,1,1);var x=this.Mc;x.Mi=null;x.hp=null;b.set(x.SE,1,1,1,1);x.clearColor.rp(0,0,0,0);x.iN.set(0,0,1,1);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.ONE,v.ONE_MINUS_SRC_ALPHA);this.ZK=v.ONE;this.XK=v.ONE_MINUS_SRC_ALPHA;this.xaa(v);v.disable(v.CULL_FACE);v.disable(v.STENCIL_TEST);v.disable(v.DITHER);this.Yo?(v.enable(v.DEPTH_TEST),v.depthMask(!0),
v.depthFunc(v.LEQUAL)):(v.disable(v.DEPTH_TEST),v.depthMask(!1));this.KK=this.Yo;this.VD=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.VD);v.bufferData(v.ARRAY_BUFFER,this.yW.byteLength,v.DYNAMIC_DRAW);this.IE=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.IE);v.bufferData(v.ARRAY_BUFFER,this.wu.byteLength,v.DYNAMIC_DRAW);this.tE=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.tE);v.bufferData(v.ARRAY_BUFFER,this.Oo.byteLength,v.DYNAMIC_DRAW);this.EV=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,
this.EV);v.bufferData(v.ELEMENT_ARRAY_BUFFER,this.FV,v.STATIC_DRAW);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,null);this.MD=v.getParameter(v.MAX_TEXTURE_SIZE);this.oL=v.getParameter(v.ALIASED_POINT_SIZE_RANGE)[1];2048<this.oL&&(this.oL=2048);if(x=v.getExtension("WEBGL_debug_renderer_info"))v.getParameter(x.UNMASKED_VENDOR_WEBGL),this.Uy=v.getParameter(x.UNMASKED_RENDERER_WEBGL);this.CL=v.getExtension("KHR_parallel_shader_compile");d.Iu&&(r=v.getExtension("WEBGL_lose_context"));if(this.xfa)if(1===
this.Vd){if("Chromium"!==d.Hd.Fz||81<=d.Hd.yF||"undefined"!==typeof document)this.Ud=v.getExtension("EXT_disjoint_timer_query")}else this.Ud=v.getExtension("EXT_disjoint_timer_query_webgl2")||v.getExtension("EXT_disjoint_timer_query");this.nL=(this.Vw=v.getExtension("EXT_texture_filter_anisotropic"))?v.getParameter(this.Vw.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;v=d.$.rw;x=v.hA(!1);v=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
v.hA(!0),"<tilemap>"]].map(z=>this.IF({src:z[0]},z[1],z[2])));this.nE=v[0];this.Mo=v[1];this.mE=v[2];this.XL=v[3];this.wg()}async IF(v,x,z){v=await d.$.rw.Ta(this,v,x,z);this.M8(v);return v}G5(){this.er=null}Rb(v,x,z){if(this.W!==v||this.U!==x||z){this.Ui();z=this.Y;var D=this.Mc;this.W=v;this.U=x;v=this.aP();x=this.pG();this.pU(v,x);this.gv(this.zJ,v/x);this.Qs(this.zJ);this.Mo&&(z.useProgram(this.Mo.kb),this.Mo.EU(this.LD),this.er=this.Mo,this.Mc.Mi=this.Mo);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.Bo=this.ym=null;this.Yo&&this.IK&&this.UI(this.W,this.U);this.Qd&&this.Qd.KT(this.W,this.U);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Qd=null;D.hp=null}}UI(v,x){const z=this.Y;if(this.Gq){if(this.VU===v&&this.UU===x)return;z.deleteRenderbuffer(this.Gq)}this.Gq=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Gq);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Vd?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,v,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.VU=v;this.UU=x}p6(v,x){this.Yo&&(this.IK=!1,this.UI(v,x))}a6(){this.Yo&&(this.IK=!0,this.UI(this.W,this.U))}aP(){return this.$q?this.$y:this.K()}pG(){return this.$q?this.Zy:this.G()}pU(v,x){const z=this.Hf;if(0!==z[0]||0!==z[1]||z[2]!==v||z[3]!==x)this.Uc().e3(v,x),b.set(z,0,0,v,x),this.Ac=0}Qs(v){f.mk(this.LD,v)||(this.Uc().a3(v),f.qa(this.LD,v),this.Ac=0)}cR(){let v,x;var z=this.Qd;null===z||z.Lx&&this.$q?(v=this.zJ,x=this.aP(),z=this.pG()):(v=z.kr,x=z.K(),z=z.G());this.Qs(v);this.pU(x,
z)}Os(v){f.mk(this.lL,v)||(this.Uc().X2(v),f.qa(this.lL,v),this.Ac=0)}Uc(){const v=this.$w;this.ho===v.length&&v.push(new d.$.o8(this.Mc));return v[this.ho++]}Ui(){0===this.ho||this.zn()||(this.Hea(),this.H$(),this.Ac=this.WD=this.Td=this.Mg=this.ho=0)}Hea(){const v=this.Y;0<this.WD&&(v.bindBuffer(v.ARRAY_BUFFER,this.VD),v.bufferSubData(v.ARRAY_BUFFER,0,this.yW.subarray(0,this.WD)));0<this.Mg&&(v.bindBuffer(v.ARRAY_BUFFER,this.IE),v.bufferSubData(v.ARRAY_BUFFER,0,this.wu.subarray(0,this.Mg)),v.bindBuffer(v.ARRAY_BUFFER,
this.tE),v.bufferSubData(v.ARRAY_BUFFER,0,this.Oo.subarray(0,this.Td)))}H$(){const v=this.$w;for(let x=0,z=this.ho;x<z;++x)v[x].ra()}kf(){return this.Vx.Wa}Sf(v,x,z,D){const E=this.Vx;E.fz(v,x,z,D)||(E.rp(v,x,z,D),this.Uc().FG(E),this.Ac=0,this.Fj=null)}jj(v){const x=this.Vx;x.Wa!==v&&(x.Rg(v),this.Uc().FG(x),this.Ac=0,this.Fj=null)}ij(v){const x=this.Vx;x.fd(v)||(x.set(v),this.Uc().FG(x),this.Ac=0,this.Fj=null)}Gs(){this.Sf(1,1,1,1)}fe(v){v!==this.ym&&(this.Uc().d3(v),this.ym=v,this.Ac=0)}LI(){this.ym=
null}pf(v){v=this.Z$(v);this.TI(v[0],v[1])}TI(v,x){if(v!==this.ZK||x!==this.XK)this.Uc().V2(v,x),this.ZK=v,this.XK=x,this.Ac=0,this.Fj=null}qH(){this.TI(this.Y.ONE,this.Y.ONE_MINUS_SRC_ALPHA)}aR(){this.TI(this.Y.ONE,this.Y.ZERO)}Rect(v){this.BQ(v.M,v.J,v.V,v.S)}BQ(v,x,z,D){this.eH(v,x,z,x,z,D,v,D)}$s(){let v=this.Mg;v>=this.$V&&(this.Ui(),v=0);1===this.Ac?this.$w[this.ho-1].Tq+=6:(this.Uc().U2(v),this.Ac=1)}dJ(v){v.eia(this.wu,this.Mg,this.kt+this.xt);this.Mg+=12}Ec(v){this.$s();this.dJ(v);k.Qh(this.Oo,
this.Td);this.Td+=8}eH(v,x,z,D,E,M,B,G){this.$s();const H=this.wu;let J=this.Mg;const P=this.kt+this.xt;H[J++]=v;H[J++]=x;H[J++]=P;H[J++]=z;H[J++]=D;H[J++]=P;H[J++]=E;H[J++]=M;H[J++]=P;H[J++]=B;H[J++]=G;H[J++]=P;this.Mg=J;k.Qh(this.Oo,this.Td);this.Td+=8}Ql(v,x){this.$s();this.dJ(v);x.iY(this.Oo,this.Td);this.Td+=8}UA(v,x){this.$s();this.dJ(v);x.Qh(this.Oo,this.Td);this.Td+=8}l5(v,x,z,D,E,M,B,G,H,J,P,Q,T){this.$s();const W=this.wu;let Z=this.Mg;const Y=this.kt+this.xt;W[Z++]=v;W[Z++]=x;W[Z++]=Y+z;
W[Z++]=D;W[Z++]=E;W[Z++]=Y+M;W[Z++]=B;W[Z++]=G;W[Z++]=Y+H;W[Z++]=J;W[Z++]=P;W[Z++]=Y+Q;this.Mg=Z;T.iY(this.Oo,this.Td);this.Td+=8}Es(v,x,z,D,E,M,B,G,H,J,P,Q,T){this.$s();const W=this.wu;let Z=this.Mg;const Y=this.kt+this.xt;W[Z++]=v;W[Z++]=x;W[Z++]=Y+z;W[Z++]=D;W[Z++]=E;W[Z++]=Y+M;W[Z++]=B;W[Z++]=G;W[Z++]=Y+H;W[Z++]=J;W[Z++]=P;W[Z++]=Y+Q;this.Mg=Z;T.Qh(this.Oo,this.Td);this.Td+=8}y0(v,x){f.qa(g,this.LD);f.qa(l,this.lL);this.cR();if(this.$q){v=this.dv(0,0,100*self.devicePixelRatio,0,0);this.Os(v);
v=this.$y/2;var z=this.Zy/2;q.set(-v,z,-v+this.$y,z-this.Zy);n.Ph(q);q.set(0,0,this.$y/this.W,this.Zy/this.U);this.Ql(n,q)}else{const [M,B]=this.J1(this.Qd);z=this.dv(0,0,100*self.devicePixelRatio,0,0,B);this.Os(z);if("crop"===v&&this.Qd&&x){v=this.W/2;z=this.U/2;const G=x.K();x=x.G();var D=this.Qd.K(),E=this.Qd.G();D=Math.min(D,G);const H=Math.min(E,x),J=Math.max(x-E,0);E=Math.max(E-x,0);q.set(-v,z-E,-v+D,z-H-E);n.Ph(q);q.set(0,J,D,H+J);q.lk(G,x);this.Ql(n,q)}else v=M/2,z=B/2,this.BQ(-v,z,v,-z)}this.Qs(g);
this.Os(l)}Un(v){this.er!==v&&(this.Uc().Y2(v),this.er=v,this.Ac=0,this.Fj=null)}i6(){this.Un(this.Mo)}Ps(v,x,z,D,E,M,B,G,H,J,P){const Q=this.er;var T=Q.vV;const W=!!P.length;if(T&&!Q.OY(x,z,D,E,M,B,G,H,J)||W&&!Q.NY(P)){var Z=this.Uc();Z.Z2();T&&(Q.O6(x,z,D,E,M,B,G,H,J),T=Z.Te,T[0]=M,T[1]=B,x.Qh(T,2),T[6]=G,T[7]=H,z.Qh(T,12),x=Z.Cq,E.Qh(x,0),E=x[1],x[1]=x[3],x[3]=E,D.Qh(Z.TW,0),Z.Ih=J,Z.Cf=Q.vu.ca?v?v.Cb():null:null);W&&(Q.g6(P),d.xd(Z.fE,P));this.Ac=0}}Mz(){this.Uc().L2();this.Ac=0}Jc(v){this.Uc().K2(v);
this.Ac=0}BF(v){this.pZ(v.M,v.J,v.width(),v.height())}pZ(v,x,z,D){0>z||0>D||(this.Uc().J2(v,x,z,D),this.Ac=0)}qw(){}ds(){super.ds();this.Y.flush()}lZ(){this.Yo&&this.Qd&&this.Qd.Gj&&(this.Uc().I2(),this.Ac=0)}Rn(v){v=!!v;this.KK!==v&&this.Yo&&(this.KK=v,this.Uc().W2(v),this.Ac=0)}jZ(){for(const v of this.XB)v.kZ(this.vi)}zn(){return!this.Y||this.Y.isContextLost()||this.NK}Ol(){super.y4();d.$.mB.Ol();d.$.UH.Ol();d.$.FQ.Ol();for(const v of this.XB)v.Jc();this.Vw=this.CL=this.Ud=null;this.nL=0;this.Uy=
"(unavailable)";this.Gq=this.Mo=this.er=null;for(const v of this.Iy.values())v.Ol()}async aH(){this.NK=!0;await this.FA();this.NK=!1;for(const v of this.Iy.values())v.aH(this);this.Rb(this.W,this.U,!0)}Ti(v,x){if(this.zn())throw Error("context lost");this.Ui();const z=d.A(d.$.mB,this);z.D9(v,x);return z}Pz(v,x){if(this.zn())return Promise.reject("context lost");x=Object.assign({},x);const z=x.hn&&"clamp-to-edge"!==x.hn||x.jn&&"clamp-to-edge"!==x.jn;if(!d.Yb.ImageBitmapOptions||!this.bq()&&z)return d.Yb.ImageBitmap?
createImageBitmap(v).then(D=>d.sl(()=>this.Ti(D,x))):v instanceof Blob?d.JN(v,!0).then(D=>this.Pz(D,x)):"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement&&"function"===typeof v.decode?v.decode().then(()=>d.sl(()=>this.Ti(v,x))):d.sl(()=>this.Ti(v,x));x.premultiplyAlpha=!1;return createImageBitmap(v,{premultiplyAlpha:"premultiply"}).then(D=>d.sl(()=>this.Ti(D,x)))}dO(v,x,z){this.Ui();const D=d.A(d.$.mB,this);D.q9(v,x,z);return D}f8(v,x){this.Ui();x.zU(v,void 0)}Ie(v){v&&(v.L7(),
0<v.dd||(this.Ui(),v===this.ym&&(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.ym=null),v===this.Bo&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.Bo=null),v.iI()))}QZ(v){let x=this.W,z=this.U,D=!0;v&&("number"===typeof v.width&&(x=v.width,D=!1),"number"===typeof v.height&&(z=v.height,D=!1));if(0>=x||0>=z)throw Error("invalid size");this.Ui();const E=d.A(d.$.UH,this);E.p9(x,z,Object.assign({BX:D},v));this.Qd=null;this.Mc.hp=
null;return E}qf(v){v!==this.Qd&&(v&&v.Lx&&v.KT(this.W,this.U),this.Uc().b3(v),this.Qd=v,this.Ac=0,this.cR())}tA(){return this.Qd}J1(v){return v?[v.K(),v.G()]:[this.W,this.U]}EF(v){2>this.Vd||this.Qd&&0<this.Qd.Bm?(this.aR(),this.Gs(),this.jv(v,"stretch")):(this.Uc().G2(v,this.Qd),this.Ac=0)}jv(v,x="stretch"){v=v.Cb();if(!v)throw Error("not a texture-backed render target");this.fe(v);this.y0(x,v)}Ip(v){2>this.Vd||(this.Uc().Q2(v.Nj),this.Ac=0)}e_(v){this.qf(null);this.Ui();const x=v.Cb();x===this.ym&&
(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.ym=null);x===this.Bo&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),this.Bo=null);v.iI()}async p5(v){this.Ui();const x=this.Qd;if(v){var z=v.K();var D=v.G();v=v.Nj}else z=this.K(),D=this.G(),v=null;const E=this.Y;E.bindFramebuffer(E.FRAMEBUFFER,v);v=new ImageData(z,D);E.readPixels(0,0,z,D,E.RGBA,E.UNSIGNED_BYTE,new Uint8Array(v.data.buffer));(()=>{E.bindFramebuffer(E.FRAMEBUFFER,
null);this.Qd=null;this.Mc.hp=null;this.qf(x)})();return v}aO(){this.Rn(!0);this.Uc().O2();this.Ac=0}$N(){this.Rn(!1);this.Uc().N2();this.Ac=0}ZN(){this.Rn(!0);this.Uc().M2();this.Ac=0}NH(v){this.Ik()&&(this.Uc().g3(v),this.Ac=0)}NF(v){this.Ik()&&(this.Uc().P2(v),this.Ac=0)}Dea(v){const x=new Promise(z=>p.add({resolve:z,wga:v}));-1===w&&(w=self.requestAnimationFrame(t));return x}t3(){return!!this.MU.desynchronized}R0(){let v=0;for(const x of d.$.mB.nga())v+=x.aG();return v}bq(){return 2<=this.Vd}Ik(){return!!this.Ud}L8(v){this.XB.add(v)}zca(v){this.XB.delete(v)}xaa(v){this.waa([["normal",
v.ONE,v.ONE_MINUS_SRC_ALPHA],["additive",v.ONE,v.ONE],["xor",v.ONE,v.ONE_MINUS_SRC_ALPHA],["copy",v.ONE,v.ZERO],["destination-over",v.ONE_MINUS_DST_ALPHA,v.ONE],["source-in",v.DST_ALPHA,v.ZERO],["destination-in",v.ZERO,v.SRC_ALPHA],["source-out",v.ONE_MINUS_DST_ALPHA,v.ZERO],["destination-out",v.ZERO,v.ONE_MINUS_SRC_ALPHA],["source-atop",v.DST_ALPHA,v.ONE_MINUS_SRC_ALPHA],["destination-atop",v.ONE_MINUS_DST_ALPHA,v.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.s2=class{constructor(f){d=f;Object.defineProperties(this,{Xga:{value:{},writable:!1},storage:{value:new self.v2(d),writable:!1},usa:{value:d.tm,writable:!1}});d.He.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.He.addEventListener("keyup",c=>a.delete(c.key));d.Fb().addEventListener("window-blur",()=>a.clear());d.tm&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}zaa(f){Object.defineProperties(this.Xga,f)}addEventListener(f,c){d.He.addEventListener(f,c)}removeEventListener(f,c){d.He.removeEventListener(f,c)}get wX(){return d.yp()}random(){return d.Ln()}get Qg(){return d.Wb().Bx}get keyboard(){const f=d.hx.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get HX(){const f=d.hx.HX;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get yN(){const f=d.hx.yN;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return d.Vv("alert",{message:f+(d.tm?" [via Web Worker]":"")})}}}"use strict";self.n2=class{constructor(){}};{"use strict";const d=self.Sg;self.v2=class{constructor(a){this.Jy=a.kaa()}getItem(a){d.qe(a);return this.Jy.getItem(a)}setItem(a,b){d.qe(a);return this.Jy.setItem(a,b)}removeItem(a){d.qe(a);return this.Jy.removeItem(a)}clear(){return this.Jy.clear()}keys(){return this.Jy.keys()}}}
{"use strict";const d=self.Sg,a=new WeakMap;self.EG=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ba(),writable:!1}});b.H().iT(this,b)}addEventListener(b,f){d.qe(b);d.Fk(f);a.get(this).He.addEventListener(b,f)}removeEventListener(b,f){d.qe(b);d.Fk(f);a.get(this).He.removeEventListener(b,f)}*AX(){for(const b of a.get(this).la())yield b.Vh()}IM(b){d.ug(void 0);d.ug(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var f=
a.get(this),c=f.H();b=c.Wb().ba(b);if(!b)throw Error("invalid layer");f=c.GF(f,b,void 0,void 0,void 0);c=c.ka();c.df(!0);f.PB();c.df(!1);return f.Vh()}}}
{"use strict";const d=self.Sg,a=new WeakMap;self.r2=class{constructor(b){a.set(this,b);const f=[],c=b.Ra,e=c.Ug().length;for(let k=0;k<e;++k)f.push(new self.DG(c,k));Object.defineProperties(this,{name:{value:b.Ba(),writable:!1},index:{value:b.Ha(),writable:!1}})}addEventListener(b,f){d.qe(b);d.Fk(f);a.get(this).He.addEventListener(b,f)}removeEventListener(b,f){d.qe(b);d.Fk(f);a.get(this).He.removeEventListener(b,f)}get width(){return a.get(this).K()}set width(b){a.get(this).rf(b)}get height(){return a.get(this).G()}set height(b){a.get(this).ld(b)}set scale(b){d.gj(b);
a.get(this).$p(b)}get scale(){return a.get(this).cc}set angle(b){d.gj(b);a.get(this).Fc(b)}get angle(){return a.get(this).ta()}set scrollX(b){d.ug(b);a.get(this).ei(b)}get scrollX(){return a.get(this).pg()}set scrollY(b){d.ug(b);a.get(this).gi(b)}get scrollY(){return a.get(this).qg()}scrollTo(b,f){d.ug(b);d.ug(f);const c=a.get(this);c.ei(b);c.gi(f)}set QX(b){d.qe(b);const f=a.get(this);if("perspective"===b)f.sR();else if("orthographic"===b)f.pR();else throw Error("invalid projection");}get QX(){return a.get(this).Zf?
"orthographic":"perspective"}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const f=d.A(d.$a);self.q2=class{constructor(c){b.set(this,c);const e=[],k=c.Ra,g=k.Ug().length;for(let l=0;l<g;++l)e.push(new self.DG(k,l));Object.defineProperties(this,{name:{value:c.Ba(),writable:!1},index:{value:c.Ha(),
writable:!1},Qg:{value:c.qc().Bx,writable:!1}})}get isVisible(){return b.get(this).Tc()}set isVisible(c){b.get(this).Ke(c)}get opacity(){return b.get(this).kf()}set opacity(c){c=d.fa(+c,0,1);isNaN(c)||b.get(this).jj(c)}set scale(c){a.gj(c);b.get(this).qR(c)}get scale(){return b.get(this).cc}set angle(c){a.gj(c);b.get(this).Fc(c)}get angle(){return b.get(this).Oe}set Bz(c){a.gj(c);b.get(this).Le(c)}get Bz(){return b.get(this).Ua()}set backgroundColor(c){a.lH(c);if(3>c.length)throw Error("expected 3 elements");
f.Uu(c[0],c[1],c[2]);c=b.get(this);const e=c.im;e.$m(f)||(e.kk(f),c.H().R())}get backgroundColor(){const c=b.get(this).im;return[c.Za,c.cb,c.bb]}set scrollX(c){a.ug(c);const e=b.get(this);e.hw(!0);e.ei(c)}get scrollX(){return b.get(this).pg()}set scrollY(c){a.ug(c);const e=b.get(this);e.hw(!0);e.gi(c)}get scrollY(){return b.get(this).qg()}scrollTo(c,e){a.ug(c);a.ug(e);const k=b.get(this);k.hw(!0);k.ei(c);k.gi(e)}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap,f=new WeakMap;function c(k){let g=f.get(k);if(g)return g;g=d.A(d.Event.Fb);f.set(k,g);return g}let e=null;self.xn=class{constructor(){b.set(this,e);const k={Rc:{value:e.H().Rj,writable:!1},dN:{value:e.I().Cx,writable:!1},uid:{value:e.Qc,writable:!1}};e.caa(k);e.Y$(k);Object.defineProperties(this,k);e.H().iT(this,e)}static pj(k){e=k}static $l(){return e}Kw(){const k=f.get(this);k&&(k.g(),f.delete(this));b.delete(this)}addEventListener(k,g,l){a.qe(k);
a.Fk(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.qe(k);a.Fk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.j,a=self.Sg,b=self.xn,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.A(d.$a);self.us=class c extends b{constructor(){super();var e=b.$l();f.set(this,e);const k=[];var g=e.i();if(e=g.Qe){g=g.I().Ra.Ug().length;for(let l=0;l<g;++l)k.push(new self.DG(e,l))}}get Qg(){return f.get(this).i().qc().Bx}get oe(){return f.get(this).i().ba().mfa}get x(){return f.get(this).i().O()}set x(e){e=
+e;const k=f.get(this).i();isNaN(e)||k.O()===e||(k.Tf(e),k.ua())}get y(){return f.get(this).i().P()}set y(e){e=+e;const k=f.get(this).i();isNaN(e)||k.P()===e||(k.kh(e),k.ua())}get Bz(){return f.get(this).i().Ua()}set Bz(e){e=+e;const k=f.get(this),g=k.i();isNaN(e)||g.Ua()===e||(g.Le(e),k.H().R())}get width(){return f.get(this).i().K()}set width(e){e=+e;const k=f.get(this).i();isNaN(e)||k.K()===e||(k.rf(e),k.ua())}get height(){return f.get(this).i().G()}set height(e){e=+e;const k=f.get(this).i();isNaN(e)||
k.G()===e||(k.ld(e),k.ua())}get angle(){return f.get(this).i().ta()}set angle(e){e=d.me(+e);const k=f.get(this).i();isNaN(e)||k.ta()===e||(k.Fc(e),k.ua())}RM(){f.get(this).i().tb().Wha()}get isVisible(){return f.get(this).i().Tc()}set isVisible(e){e=!!e;const k=f.get(this),g=k.i();g.Tc()!==e&&(g.Ke(e),k.H().R())}get opacity(){return f.get(this).i().kf()}set opacity(e){e=d.fa(+e,0,1);const k=f.get(this),g=k.i();isNaN(e)||g.kf()===e||(g.jj(e),k.H().R())}get zIndex(){return f.get(this).i().zk()}hg(e,
k){a.ug(e);a.ug(k);return f.get(this).i().hv(+e,+k)}getParent(){const e=f.get(this).Da();return e?e.Vh():null}*oz(){for(const e of f.get(this).oz())yield e.Vh()}*children(){for(const e of f.get(this).children())yield e.Vh()}*ep(){for(const e of f.get(this).ep())yield e.Vh()}removeChild(e){a.mH(e,c);const k=f.get(this);e=f.get(e);k.Ek(e)}}}{"use strict";const d=new WeakMap;self.qka=class extends self.us{constructor(){super();d.set(this,self.xn.$l())}focus(){d.get(this).ja.uO()}blur(){d.get(this).ja.LN()}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap,f=new WeakMap;function c(k){let g=f.get(k);if(g)return g;g=d.A(d.Event.Fb);f.set(k,g);return g}let e=null;self.uP=class{constructor(){b.set(this,e);const k={Rc:{value:e.H().Rj,writable:!1},behavior:{value:e.Vg().j1(),writable:!1}};Object.defineProperties(this,k)}static pj(k){e=k}static $l(){return e}get instance(){return b.get(this).L.Vh()}Kw(){const k=f.get(this);k&&(k.g(),f.delete(this));b.delete(this)}addEventListener(k,g,l){a.qe(k);a.Fk(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.qe(k);a.Fk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.o2=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Rc:{value:a.H().Rj,writable:!1}})}}}
{"use strict";const d=self.j,a=self.Sg,b=new WeakMap;self.DG=class{constructor(f,c){b.set(this,f);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).Ug()[this.index].Ba()}getParameter(f){a.gj(f);f=Math.floor(+f);const c=b.get(this).Xg(this.index);if(0>f||f>=c.length)throw new RangeError("invalid effect parameter index");f=c[f];return f instanceof d.$a?[f.Za,f.cb,f.bb]:f}}}
{"use strict";const d=self.j,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.RY=class extends d.ia{constructor(f,c){super();var e=c.exportType;this.b=f;this.ID=new Map;this.Ut=new Map;this.Gfa=new Map;this.cD="cordova"===e;this.RV=!!c.isiOSCordova;this.Mx=!!c.isFileProtocol;this.cga=c.supportedAudioFormats||{};this.Nea=
new Map;this.BV=this.kV="";this.tC="html5"===e||"scirra-arcade"===e||"instant-games"===e?"remote":"local";this.oJ=[];this.xJ=new Map;this.zM=[];this.GD=[];this.wV=!1;this.yD=this.wJ=this.Ry=0;this.uK=!1;this.Ffa=d.A(d.o5,()=>this.BS(),50);this.HL=new d.uQ(Math.max(d.hardwareConcurrency,8));if(f=c.previewImageBlobs){(e=c.previewProjectFileBlobs)&&Object.assign(f,e);(e=c.projectData)&&(f["data.json"]=e);for(const [k,g]of Object.entries(f))this.ID.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.Gfa.set(k,g);new self.n2(this)}g(){this.ID.clear();for(const f of this.Ut.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.Ut.clear();for(const f of this.oJ)f.g();d.C(this.oJ);this.xJ.clear();d.C(this.GD);this.b=null}H(){return this.b}zda(f){this.kV=f}Eda(f){this.BV=f}yI(f){return this.ID.has(f.toLowerCase())}vB(f){return this.ID.get(f.toLowerCase())||null}RO(f){if(!this.yI(f))return f;f=f.toLowerCase();var c=this.Ut.get(f);c||(c=this.vB(f),c=URL.createObjectURL(c),
this.Ut.set(f,c));return c}yl(f,c){c=c||this.tC;const e=this.vB(f);if(e)return Promise.resolve(e);if(d.TG(f)){const k=f.toLowerCase();return this.cD&&this.Mx?this.cO(k):"local"===c?this.HL.Sc(()=>d.yl(k)):d.yl(k)}return d.yl(f)}mv(f){const c=this.vB(f);if(c)return d.WY(c);if(d.TG(f)){const e=f.toLowerCase();return this.cD&&this.Mx?this.bO(e):"local"===this.tC?this.HL.Sc(()=>d.mv(e)):d.mv(e)}return d.mv(f)}nv(f){const c=this.vB(f);if(c)return d.KN(c);if(d.TG(f)){const e=f.toLowerCase();return this.cD&&
this.Mx?this.JZ(e):"local"===this.tC?this.HL.Sc(()=>d.nv(e)):d.nv(e)}return d.nv(f)}async rO(f){f=await this.nv(f);return JSON.parse(f)}$H(f,c){return this.b.Vv("cordova-fetch-local-file",{filename:f,as:c})}JZ(f){return this.$H(f,"text")}async cO(f){const c=await this.$H(f,"buffer");f?(f=f.split("."),f=2>f.length?"":b.get(f.$e(-1).toLowerCase())||""):f="";return new Blob([c],{type:f})}async IZ(f){f=f.toLowerCase();var c=this.Ut.get(f);if(c)return c;c=await this.cO(f);c=URL.createObjectURL(c);this.Ut.set(f,
c);return c}bO(f){return this.$H(f,"buffer")}G1(f,c=""){if(d.GG(f)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.yI(f)?Promise.resolve(this.RO(f)):this.cD&&this.Mx?this.IZ(c+f):Promise.resolve(c+f.toLowerCase())}Ov(f){if(f.lz&&!a.has(f.lz))throw Error("invalid load policy");let c=this.xJ.get(f.url);if(c)return c;c=d.A(d.vP,this,{url:f.url,size:f.size||0,lz:f.lz||this.tC});this.oJ.push(c);this.xJ.set(c.hk,c);this.wV||(this.Ry+=c.vn(),this.GD.push(c.QP().then(()=>
this.ZR(c.vn()))));return c}async SR(){try{await Promise.all(this.GD),this.yD=1}catch(f){console.error("Error loading: ",f),this.uK=!0,this.BS()}}y6(){this.wV=!0}ZR(f){this.wJ+=f;this.Ffa.eZ()}BS(){const f=d.A(d.Event,"loadingprogress");this.yD=d.fa(this.wJ/this.Ry,0,1);f.progress=this.yD;this.b.Fb().dispatchEvent(f)}Wda(f){d.xd(this.zM,f);this.zM.length&&this.GD.push(this.mba())}mba(){if("undefined"===typeof FontFace)return Promise.resolve();const f=[];for(const [c,e,k]of this.zM)this.Ry+=k,f.push(this.lba(c,
e).then(()=>this.ZR(k)));return Promise.all(f)}async lba(f,c){try{const e=await this.G1(c,this.kV),k=new FontFace(f,`url('${e}')`);this.b.tm?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(e){console.warn(`[C3 runtime] Failed to load web font '${f}': `,e)}}o3(){return!!this.cga["audio/webm; codecs=opus"]}oda(f){for(const [c,e,k]of f)this.Nea.set(c,{fileName:c,Mra:e.map(g=>({type:g[0],Ira:g[1],Zra:c+g[1],fileSize:g[2]})),vsa:k})}}}
{"use strict";const d=self.j;d.QY=class extends d.ia{constructor(a,b){super();this.Pd=a;this.b=a.H();this.hk=b.url;this.ku=b.size;this.hL=b.lz;this.ax=null;this.QK=!1;this.Co=null}g(){this.ax=this.b=this.Pd=this.Co=null}vn(){return this.ku}QP(){return"local"===this.hL||this.ax?(this.QK=!0,Promise.resolve()):this.Co?this.Co:this.Co=this.Pd.yl(this.hk,this.hL).then(a=>{this.QK=!0;this.Co=null;return this.ax=a}).catch(a=>console.error("Error loading resource: ",a))}KA(){return this.QK}AO(){return this.ax?
Promise.resolve(this.ax):this.Co?this.Co:this.Pd.yl(this.hk,this.hL)}}}
{"use strict";const d=self.j,a=new d.uQ,b=new Set;d.vP=class extends d.QY{constructor(f,c){super(f,c);this.ll=this.Cr=null;this.dd=0;this.Dx=this.Ex=-1;b.add(this)}g(){this.hh();if(0!==this.dd)throw Error("released image asset which still has texture references");this.Cr=null;b.delete(this);super.g()}static Pp(){for(const f of b)f.Cr=null,f.ll=null,f.dd=0}Gn(f,c){c=c||{};this.dd++;if(this.ll)return Promise.resolve(this.ll);if(this.Cr)return this.Cr;c.fp=this.b.aa.hM;return this.Cr=this.AO().then(e=>
a.Sc(()=>f.Pz(e,c).then(k=>{this.Cr=null;if(0===this.dd)return f.Ie(k),null;this.ll=k;this.Ex=k.K();this.Dx=k.G();return this.ll}))).catch(e=>{console.error("Failed to load texture: ",e);throw e;})}hh(){if(0>=this.dd)throw Error("texture released too many times");this.dd--;0===this.dd&&this.ll&&(this.ll.pb().Ie(this.ll),this.ll=null)}Cb(){return this.ll}K(){return this.Ex}G(){return this.Dx}async WP(){const f=await this.AO();return d.Yb.ImageBitmapOptions?await createImageBitmap(f,{premultiplyAlpha:"none"}):
d.Yb.ImageBitmap?await createImageBitmap(f):await d.JN(f)}}}
{"use strict";const d=self.j;function a(b,f){return b.i().nl-f.i().nl}d.y5=class extends d.ia{constructor(b,f,c){super();this.X=f;this.T=c;this.D=[];this.Ox=!0;this.ak=new Set;this.Ix=!1}g(){d.C(this.D);this.ak.clear()}kd(){d.C(this.D);this.Ox=!0;this.ak.clear();this.Ix=!1}d6(){this.Ox=!1}An(){if(!this.D.length)return!0;if(this.D.length>this.ak.size)return!1;this.rI();return!0}GA(b){this.ak.has(b)?(this.ak.delete(b),0===this.ak.size&&(this.Ix=!1)):(this.D.push(b),this.Ox=1===this.D.length)}ci(b){this.ak.add(b);
this.Ix=!0;50<=this.ak.size&&this.rI()}rI(){this.Ix&&(this.D.length===this.ak.size?this.kd():(d.Oh(this.D,this.ak),this.ak.clear(),this.Ix=!1))}G$(){this.Ox||(this.D.sort(a),this.Ox=!0)}LF(b){this.rI();this.G$();this.D.length&&b.push(this.D)}}}
{"use strict";const d=self.j;d.z5=class extends d.ia{constructor(a,b){super();this.LJ=a;this.KJ=b;this.zj=d.A(d.Tv)}g(){this.zj.g();this.zj=null}rn(a,b,f){let c=this.zj.ea(a,b);return c?c:f?(c=d.A(d.y5,this,a,b),this.zj.Set(a,b,c),c):null}mj(a){return Math.floor(a/this.LJ)}nj(a){return Math.floor(a/this.KJ)}Vl(a,b,f){if(b)for(let c=b.M,e=b.V;c<=e;++c)for(let k=b.J,g=b.S;k<=g;++k){if(f&&f.hg(c,k))continue;const l=this.rn(c,k,!1);l&&(l.ci(a),l.An()&&this.zj.nn(c,k))}if(f)for(let c=f.M,e=f.V;c<=e;++c)for(let k=
f.J,g=f.S;k<=g;++k)b&&b.hg(c,k)||this.rn(c,k,!0).GA(a)}VA(a,b){let f=this.mj(a.M);const c=this.nj(a.J),e=this.mj(a.V);for(a=this.nj(a.S);f<=e;++f)for(let k=c;k<=a;++k){const g=this.rn(f,k,!1);g&&g.LF(b)}}a4(a){let b=a.M;const f=a.J,c=a.V;for(a=a.S;b<=c;++b)for(let e=f;e<=a;++e){const k=this.rn(b,e,!1);k&&k.d6()}}}}
{"use strict";const d=self.j,a=new d.Rect,b=new d.Ec,f=[],c=new d.Rect,e=new d.Rect,k=self.ql,g=k.nF,l=k.zz,n=k.mp;n.create();const q=g.create(),r=l.create(),p=g.create(),w=g.create(),t=g.create(),v=d.A(d.Xs);function x(B,G){return B.i().nl-G.i().nl}function z(B,G){return B.i().Ua()-G.i().Ua()}const D=[],E=[],M=[];d.WG=class extends d.ia{constructor(B,G,H){super();this.Zj=B;this.b=B.H();this.Fa=H[0];this.Va=G;this.jb=H[2];this.uD=!!H[3];this.im=d.A(d.$a);this.im.dn(H[4].map(J=>J/255));this.zo=!!H[5];
this.ye=H[6];this.Ae=H[7];this.Ja=d.A(d.$a,1,1,1,H[8]);this.YD=d.A(d.$a);this.LK=H[9];this.Yfa=H[17];this.aX=H[18];this.hga=H[10];this.dk=H[11];this.ko=H[12];this.Tk=null;this.cc=1;this.ud=H[16];this.Gi=this.Fi=this.Oe=0;this.pm=!1;this.Hf=d.A(d.Rect);this.gX=d.A(d.Rect);this.Zo=d.A(d.Rect);this.kr=n.create();this.UK=!0;this.nW=n.create();this.RK=!0;this.fX=d.A(d.$.h8);this.tD=!0;this.VW=[];this.$k=[];this.pC=[];this.GV=new Map;this.D=[];this.yq=this.BM=!1;this.Ra=d.A(d.wl,this,H[15]);this.iu=null;
this.YK=[];this.lD=!1;this.Cfa=d.A(d.Rect,0,0,-1,-1);this.afa=d.A(d.Rect,0,0,-1,-1);this.mfa=new self.q2(this);this.FU();this.fq()&&(this.iu=d.A(d.z5,this.b.Xe,this.b.We));for(const J of H[14])B=this.b.Pf(J[1]),this.Zj.XR(B),B.Bt||B.bR(J),this.$k.push(J),this.GV.set(J[2],J);d.xd(this.VW,this.$k)}static Ta(B,G,H){return d.A(d.WG,B,G,H)}g(){this.b=this.Zj=null}k1(B){return this.GV.get(B)}MZ(B){const G=this.Zj.Yq;let H=0;const J=this.$k;for(let Q=0,T=J.length;Q<T;++Q){var P=J[Q];const W=this.b.Pf(P[1]);
let Z=!0;if(!W.AG()||G)P=this.b.Si(P,this,!0),B.push(P),W.eh()&&(Z=!1,this.pC.push(P.Qc));Z&&(J[H]=J[Q],++H)}d.bf(J,H);this.b.pe();this.mh()}hi(B,G){const H=B.i();if(H.ba()!==this)throw Error("instance added to wrong layer");this.D.push(B);0!==H.Ua()&&(this.yq=!0);G&&this.fq()&&B.i().ua();this.mh()}qba(B){this.D.includes(B)||(this.D.push(B),0!==B.i().Ua()&&(this.yq=!0),this.mh())}fca(B){const G=B.i();if(G.ba()!==this)throw Error("instance added to wrong layer");this.D.unshift(B);0!==G.Ua()&&(this.yq=
!0);this.mh()}bo(B,G){const H=this.D.indexOf(B);0>H||(G&&this.fq()&&B.i().HT(),this.D.splice(H,1),this.mh(),this.oT())}YT(){this.yq=!0}oT(){0===this.D.length&&(this.yq=!1)}$I(B){if(B){B=new Set;for(var G of this.D){var H=G.i().nl;0<=H&&B.add(H)}G=-1;for(const J of this.D)if(H=J.i(),!(0<=H.nl)){for(++G;B.has(G);)++G;H.NB(G)}}this.D.sort(x)}F$(){for(const B of this.D)B.I().eh()||this.b.pn(B);this.b.pe();d.C(this.D);this.yq=!1;this.mh()}Xv(B,G,H,J,P){const Q=this.b.ka(),T=this.b.md,W=B.Ya,Z=[];for(const ja of this.$k){var Y=
ja[0];if(G.hg(Y[0],Y[1])){Y=T[ja[1]];if(Y!==B)if(W){if(!B.qO(Y))continue}else continue;Y=this;var fa=this.b.Ma();this.qc()!==fa&&((Y=fa.PO(this.Ba()))||(Y=fa.oA(this.Ha())));fa=this.b.Si(ja,Y,!1,void 0,void 0,!1,P);Y.JH(fa);Y=fa.i();Y.Rv(H,J);Y.ua();Q.df(!0);fa.PB();Q.df(!1);Z.push(fa)}}return Z}qc(){return this.Zj}Ba(){return this.Fa}Ha(){return this.Va}H(){return this.b}Al(){return this.b.Al()}fq(){return this.hga&&!this.aX}V6(){this.lD=!1}Tc(){return this.uD}Ke(B){B=!!B;this.uD!==B&&(this.uD=B,
this.b.R())}hw(B){B=!!B;if(this.pm!==B){if(this.pm=B)B=this.qc(),this.Fi=B.pg(),this.Gi=B.qg();this.Mk();this.b.R()}}ei(B){var G=this.qc();const H=G.cP();G=G.dP();B>G&&(B=G);B<H&&(B=H);this.Fi!==B&&(this.Fi=B,this.pm&&(this.Mk(),this.b.R()))}gi(B){var G=this.qc();const H=G.eP();G=G.bP();B>G&&(B=G);B<H&&(B=H);this.Gi!==B&&(this.Gi=B,this.pm&&(this.Mk(),this.b.R()))}pg(){return this.pm?this.Fi:this.qc().pg()}qg(){return this.pm?this.Gi:this.qc().qg()}xI(){const B=this.qc();return[B.tG(),B.uG()]}vG(B,
G){var H=this.gX;if(0===B)G.qa(H);else{let T=H.np(),W=H.op();var J=this.z0(B);const Z=H.width()/J;H=H.height()/J;const [Y,fa]=this.xI();if(.5!==Y||.5!==fa){const ja=this.bA();var P=this.b,Q=100/ja;J=(Y-.5)*P.Og/Q;P=(fa-.5)*P.Ng/Q;Q=this.ta();0!==Q&&(v.set(J,P),v.rotate(Q),J=v.X,P=v.T);B=d.mF(ja,0,B);T+=d.nc(J,0,B);W+=d.nc(P,0,B)}G.set(T-Z/2,W-H/2,T+Z/2,W+H/2)}}kf(){return this.Ja.Wa}jj(B){B=d.fa(B,0,1);this.Ja.Wa!==B&&(this.Ja.Rg(B),this.FU(),this.b.R())}FU(){this.YD.qa(this.Ja);this.YD.rz()}lG(){return this.YD}wn(){return this.Ja.fz(1,
1,1,1)}W6(B){this.dk!==B&&(this.dk=B,this.Mk(),this.b.R())}Q6(B,G){if(this.ye!==B||this.Ae!==G)if(this.ye=B,this.Ae=G,this.Mk(),this.b.R(),1!==this.ye||1!==this.Ae)for(const H of this.D)H.I().SI(!0)}Le(B){this.ud!==B&&(this.ud=B,this.b.R())}Ua(){return this.ud}Fc(B){B=d.me(B);this.Oe!==B&&(this.Oe=B,this.Mk(),this.b.R())}ta(){return d.me(this.Zj.ta()+this.Oe)}d2(){return 0<this.D.length}vI(){return this.jH()&&this.aX?(d.xd(M,this.D),M.sort((B,G)=>this.fea(B,G)),M):this.D}fea(B,G){var H=this.qc().QU,
J=H[0],P=H[1];H=H[2];var Q=B.i();const T=G.i();G=Q.O()-J;B=Q.P()-P;Q=Q.Ua()-H;J=T.O()-J;P=T.P()-P;H=T.Ua()-H;return J*J+P*P+H*H-(G*G+B*B+Q*Q)}k7(B){B=!!B;this.zo!==B&&(this.zo=B,this.b.R())}s6(B){B=!!B;this.LK!==B&&(this.LK=B,this.b.R())}B5(){return!this.H().Tm||!this.Yfa}jH(){return!this.B5()}ts(){return this.jH()&&this.qc().sfa}pf(B){this.ko!==B&&(this.ko=B,this.b.R())}Vi(){return this.ko}L3(B){return this===B||this.ye===B.ye&&this.Ae===B.Ae&&this.cc===B.cc&&this.dk===B.dk&&this.Oe===B.Oe&&this.pg()===
B.pg()&&this.qg()===B.qg()}sca(B){0!==B.size&&0<d.Oh(this.D,B)&&(this.oT(),this.mh())}mh(){this.lD=this.BM=!1}Tw(){if(!this.BM){this.D.sort(z);if(this.fq())for(let B=0,G=this.D.length;B<G;++B){const H=this.D[B].i();H.NB(B);this.iu.a4(H.ry)}else for(let B=0,G=this.D.length;B<G;++B)this.D[B].i().NB(B);this.BM=!0}}f4(B,G,H){var J=B.i();G=G.i();if(J.ba()!==this||G.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.zk();G=G.zk();if(J===G+(H?1:-1))return!1;d.uga(this.D,
J);J<G&&G--;H&&G++;G===this.D.length?this.D.push(B):this.D.splice(G,0,B);this.mh();return!0}zba(B,G){const H=[];let J=0,P=0,Q=B.length,T=G.length;for(;J<Q&&P<T;){const W=B[J],Z=G[P];W.i().nl<Z.i().nl?(H.push(W),++J):(H.push(Z),++P)}for(;J<Q;++J)H.push(B[J]);for(;P<T;++P)H.push(G[P]);return H}yba(B){const G=[],H=B.length;for(let J=0;J<H-1;J+=2)G.push(this.zba(B[J],B[J+1]));1===H%2&&G.push(B[H-1]);return G}xba(B){for(;1<B.length;)B=this.yba(B);return B[0]}maa(){this.Tw();d.C(f);this.iu.VA(this.Hf,f);
return f.length?1===f.length?f[0]:this.xba(f):[]}Naa(){return!this.Ws()&&!this.zo}DR(){return this.Tc()&&0<this.kf()&&(this.d2()||!this.zo)}Ws(){return this.LK||!this.wn()||0!==this.Vi()||this.Ra.Hv()}tA(){return this.Tk}g9(B){if(0===B.length)return!0;if(2<=B.length)return!1;B=B[0].kb;return!B.Hn()&&!B.Xy&&!B.PJ&&this.wn()}z0(B){if(this.Zj.Zf)return 1;{const G=this.bA();return G/(G-B)}}bA(){return 100/this.rk()}Mk(){this.tD=this.RK=!0}wB(B){this.RK&&(this.c9(B,this.nW),this.RK=!1);return this.nW}c9(B,
G){const H=this.b;var J=this.qc();const P=H.tn();var Q=H.AL,T=H.BL,W=(this.pg()-Q)*this.ye+Q,Z=(this.qg()-T)*this.Ae+T;this.b.Wj&&(W=Math.round(W),Z=Math.round(Z));if(this.ts())g.qa(p,J.QU),g.qa(w,J.Xea),g.qa(t,J.Yea),J=w[0]-p[0],Z=w[1]-p[1],W=w[2]-p[2],p[0]=(p[0]-Q)*this.ye+Q,p[1]=(p[1]-T)*this.Ae+T,p[2]*=Math.max(this.ye,this.Ae),w[0]=p[0]+J,w[1]=p[1]+Z,w[2]=p[2]+W,g.set(q,P,P,1),g.multiply(p,p,q),g.multiply(w,w,q);else{Q=(W+0)*P;T=(Z+0)*P;J=J.Zf?100:this.bA();Z=this.ta();const [fa,ja]=this.xI();
if(.5!==fa||.5!==ja){var Y=100/J;W=(fa-.5)*H.Og*P/Y;Y=(ja-.5)*H.Ng*P/Y;0!==Z&&(v.set(W,Y),v.rotate(Z),W=v.X,Y=v.T);Q+=W;T+=Y}g.set(p,Q,T,J);g.set(w,Q,T,J-100);0===Z?g.set(t,0,1,0):g.set(t,Math.sin(Z),Math.cos(Z),0)}B.ON(G,p,w,t,H.aa.og());1!==P&&(g.set(q,P,P,1),n.scale(G,G,q))}Lda(){this.tD=this.UK=!0}xB(B){this.UK&&(this.d9(B),this.UK=!1);return this.kr}d9(B){const G=this.b.aa,[H,J]=this.xI();this.Zj.Zf?B.$Y(this.kr,G.Wg(),G.og()):.5===H&&.5===J?n.qa(this.kr,G.uC):B.gv(this.kr,G.Wg()/G.og(),H,J)}ZI(B){B.Qs(this.xB(B));
let G;G=this.wB(B);B.Os(G)}c5(B){this.ZI(B);B.aw(this.Ua())}Nd(B,G,H){var J=this.b.aa;const P=this.Ws();var Q=null;let T=null;if(this.b.LG()&&B.Lv()){const W=J.QO(this);W&&(T=W.tF(),B.NH(T))}P?(Q={Dd:this.b.zc},"low"===J.Pj&&(Q.width=J.Wg(),Q.height=J.og()),Q=this.b.qv(Q),B.qf(Q),this.zo?B.Mz():B.Jc(this.im)):(B.qf(G),this.zo||H||B.Jc(this.im));this.Tk=Q||G;this.ZI(B);B.aw(this.Ua());B.Rn(this.jH());this.rk()>Number.EPSILON&&(this.Tw(),J=this.fq()&&0===this.Ua()&&!this.yq,this.ts()?this.t$(B):J?this.u$(B):
this.uS(B,this.vI()));B.aw(0);B.Qn(0);P&&(B.Rn(!1),this.v$(B,Q,G,H));T&&B.NF(T);this.Tk=null}uS(B,G){const H=this.Hf,J=this.Tk,P=this.qc().Zf,Q=this.qc().sP();let T=null;for(let W=0,Z=G.length;W<Z;++W){const Y=G[W];if(Y===T)continue;T=Y;const fa=Y.i();fa.Tc()&&fa.IP(H,Q,P)&&this.Yl(Y,fa,B,J)}}t$(B){const G=this.Tk,H=this.Aw(),J=this.vI();for(let W=0,Z=J.length;W<Z;){var P=J[W],Q=P.i();if(!Q.Tc()||!Q.xs(H)){++W;continue}(!P.Sp()||0<Q.zl())&&E.push(P);var T=P.i().Qf();D.push(P);let Y=W+1;for(;Y<Z;++Y){const fa=
J[Y],ja=fa.i();if(ja.Tc()&&ja.xs(H)){if(ja.Qf()!==T)break;fa.Sp()?(0<ja.zl()&&E.push(fa),D.push(fa)):E.push(fa)}}if(1!==D.length||D[0].aQ()){this.n$(B,D);for(let fa=0,ja=E.length;fa<ja;++fa)P=E[fa],Q=P.i(),Q.LB(!0),this.Yl(P,Q,B,G),Q.LB(!1)}else{this.Yl(P,Q,B,G);for(let fa=0,ja=E.length;fa<ja;++fa)Q=E[fa],Q!==P&&(T=Q.i(),T.ba().Yl(Q,T,B,G))}W=Y;d.C(D);d.C(E)}}n$(B,G){const H=this.Tk;B.aO();for(let Q=0,T=G.length;Q<T;++Q){var J=G[Q],P=J.i();P.JB(!0);this.lI(J,P,B)}B.$N();for(let Q=0,T=G.length;Q<T;++Q)J=
G[Q],P=J.i(),this.Yl(J,P,B,H),P.JB(!1);B.ZN()}u$(B){var G=this.iu;const H=this.afa,J=this.Cfa,P=this.Hf;H.set(G.mj(P.M),G.nj(P.J),G.mj(P.V),G.nj(P.S));this.lD&&H.fd(J)?G=this.YK:(G=this.maa(),this.lD=!0,J.qa(H));this.uS(B,G);G!==this.YK&&d.xd(this.YK,G)}Yl(B,G,H,J){G.Hv()?this.r$(B,G,H,J):this.lI(B,G,H)}lI(B,G,H){G=G.Ar;H.Fj!==G&&G.MY();B.Nd(H)}r$(B,G,H,J){this.q$(B,G,H,J)&&this.ZI(H)}q$(B,G,H,J){const P=G.Qe.rj;if(1===P.length){const Q=P[0],T=Q.kb;if(!T.Lfa&&G.wn()&&!B.Hn())return this.s$(B,G,Q,
T,H),!1}B=d.iH(H,this.b,B,J,P,null);H.aw(this.Ua());return B}s$(B,G,H,J,P){P.Un(J);P.pf(G.Vi());J.YB&&this.b.R();let Q=0,T=0;if(J.iga){const [W,Z]=B.fA();Q=1/W;T=1/Z;(J=B.gA())?e.qa(J):e.set(0,0,0,0)}H=G.Qe.Xg(H.Ha());P.Qn(G.Ua());P.Ps(null,c,e,e,G.tb(),Q,T,this.cc,this.ta(),this.b.Of(),H);B.Nd(P)}v$(B,G,H,J){const P=this.Ra.rj,Q=this.b;if(this.g9(P)){B.qf(H);if(1===P.length){var T=P[0];H=T.kb;B.Un(H);e.set(0,0,1,1);T=this.Ra.Xg(T.Ha());B.Ps(null,c,e,e,this.Hf,1/Q.Wg(),1/Q.og(),this.rk(),this.ta(),
Q.Of(),T);H.YB&&Q.R()}else B.wg();J&&0===this.ko&&this.wn()&&0===P.length?B.EF(G):(B.pf(this.ko),B.ij(this.YD),B.jv(G));B.Ip(G);Q.Mn(G)}else d.iH(B,Q,this,H,P)}qR(B){this.cc!==B&&(this.cc=B,this.Zj.Ez(),this.Mk(),this.b.R())}tn(){return this.rk()*this.b.tn()}Bl(){return this.rk()*this.b.Bl()}rk(){return(this.cc*this.Zj.cc-1)*this.dk+1}SH(){var B=this.b.AL,G=this.b.BL,H=(this.pg()-B)*this.ye+B,J=(this.qg()-G)*this.Ae+G;B=this.rk();G=this.b.Og/B;B=this.b.Ng/B;H-=G/2;let P=J-B/2;this.b.Wj&&(H=Math.round(H),
P=Math.round(P));J=this.gX;J.set(H,P,H+G,P+B);G=this.ta();0!==G&&(a.qa(J),a.offset(-J.np(),-J.op()),b.Su(a,G),b.RM(a),a.offset(J.np(),J.op()),J.qa(a));G=this.ud;this.vG(G,this.Hf);this.ts()?this.dZ(G,this.Zo):this.Zo.qa(this.Hf)}dZ(B,G){var H=this.b.aa,J=H.qd;H=H.Zc;const [P,Q]=this.Sh(0,0,B),[T,W]=this.Sh(J,0,B),[Z,Y]=this.Sh(J,H,B),[fa,ja]=this.Sh(0,H,B);B=Math.min(P,T,Z,fa);J=Math.min(Q,W,Y,ja);H=Math.max(P,T,Z,fa);let xa=Math.max(Q,W,Y,ja);isFinite(B)||(B=-Infinity);isFinite(J)||(J=-Infinity);
isFinite(H)||(H=Infinity);isFinite(xa)||(xa=Infinity);G.set(B,J,H,xa)}Sh(B,G,H=0){return this.j9(B,G,H,this.Bl())}j9(B,G,H,J){const P=this.b;var Q=P.pb();const T=this.rk();l.set(r,0,0,P.Og/T,P.Ng/T);B/=J;G=r[3]-G/J;J=this.xB(Q);Q=this.wB(Q);return d.$.Y7(B,G,H,Q,J,r,q)?[q[0],q[1]]:[NaN,NaN]}hZ(B,G){const H=this.cc,J=this.dk,P=this.ye,Q=this.Ae,T=this.Oe;this.Ae=this.ye=this.dk=this.cc=1;this.Oe=0;this.Mk();B=this.Sh(B,G);this.cc=H;this.dk=J;this.ye=P;this.Ae=Q;this.Oe=T;this.Mk();return B}Op(B,G){return this.fT(B,
G,0,this.Bl())}Fn(B,G,H=0){return this.fT(B,G,H,this.tn()*this.Al())}fT(B,G,H,J){var P=this.b,Q=P.pb();const T=this.rk();l.set(r,0,0,P.Og/T,P.Ng/T);P=this.xB(Q);Q=this.wB(Q);return d.$.e5(B,G,H,Q,P,r,q)?[q[0]*J,(r[3]-q[1])*J]:[NaN,NaN]}Aw(){this.tD&&(this.Cea(),this.tD=!1);return this.fX}Cea(){var B=this.b.pb();const G=this.xB(B);B=this.wB(B);this.fX.aZ(B,G)}ma(){return{s:this.cc,a:this.Oe,vl:this.Hf.M,vt:this.Hf.J,vr:this.Hf.V,vb:this.Hf.S,v:this.Tc(),bc:this.im.toJSON(),t:this.zo,sx:this.Fi,sy:this.Gi,
hosp:this.pm,px:this.ye,py:this.Ae,c:this.Ja.toJSON(),sr:this.dk,fx:this.Ra.Xb(),cg:this.pC}}wa(B){this.cc=B.s;this.Oe=B.a;this.Hf.set(B.vl,B.vt,B.vr,B.vb);this.uD=!!B.v;this.im.dn(B.bc);this.zo=!!B.t;B.hasOwnProperty("sx")&&(this.Fi=B.sx);B.hasOwnProperty("sy")&&(this.Gi=B.sy);B.hasOwnProperty("hosp")&&(this.pm=!!B.hosp);this.ye=B.px;this.Ae=B.py;this.Ja.dn(B.c);this.dk=B.sr;d.xd(this.pC,B.cg);d.xd(this.$k,this.VW);const G=new Set(this.pC);let H=0;for(let J=0,P=this.$k.length;J<P;++J)G.has(this.$k[J][2])||
(this.$k[H]=this.$k[J],++H);d.bf(this.$k,H);this.Ra.Pb(B.fx);this.$I(!1);this.mh()}JH(B){B.i();if(!this.D.includes(B))if(B.Rf()){const G=[...B.ep()];G.push(B);G.sort((H,J)=>{H=H.i().PL;J=J.i().PL;return H-J});for(const H of G)this.hi(H,!0)}else this.hi(B,!0)}}}
{"use strict";const d=self.j,a=self.Rh,b=d.A(d.Rect),f=d.A(d.Rect),c=d.A(d.Rect),e=d.A(d.$a),k=self.ql.nF,g=[],l=[],n=[],q=[],r=[];let p=null;function w(t,v){p!==t&&(t.c5(v),p=t)}d.OP=class extends d.ia{constructor(t,v,x){super();this.gb=t;this.b=t.H();this.Fa=x[0];this.Tfa=x[1];this.Sfa=x[2];this.W=x[1];this.U=x[2];this.sD=!!x[3];this.Zf=!!x[4];this.GE=x[5];this.HE=x[6];this.cV=x[7];this.td=null;this.jb=x[8];this.Va=v;this.Gi=this.Fi=0;this.cc=1;this.Oe=0;this.Kt=new Set;this.Kh=new Set;this.My=
new Set;this.tt=[];this.AK=[];this.sfa=!1;this.QU=k.create();this.Xea=k.create();this.Yea=k.create();this.lc=[];this.cW=new Map;this.dW=new Map;this.Ra=d.A(d.wl,this,x[11]);this.Tk=null;this.ir={};this.Yq=!0;this.Bx=new self.r2(this);this.He=d.A(d.Event.Fb);for(const z of x[9])t=d.WG.Ta(this,this.lc.length,z),this.lc.push(t),this.cW.set(t.Ba().toLowerCase(),t),this.dW.set(t.jb,t);for(const z of x[10]){x=this.b.Pf(z[1]);if(!x)throw Error("missing nonworld object class");x.Bt||x.bR(z);this.AK.push(z);
this.XR(x)}}g(){for(const t of this.lc)t.g();d.C(this.lc);this.My.clear();this.b=this.gb=this.td=null}H(){return this.b}Ba(){return this.Fa}Ha(){return this.Va}TO(){let t=this.lc[0].rk();for(let v=1,x=this.lc.length;v<x;++v){const z=this.lc[v];if(0!==z.ye||0!==z.Ae)t=Math.min(t,z.rk())}return t}PS(){return.5*this.b.Og/this.TO()}QS(){return.5*this.b.Ng/this.TO()}cP(){return this.sD?-Infinity:this.PS()}dP(){return this.sD?Infinity:this.K()-this.PS()}eP(){return this.sD?-Infinity:this.QS()}bP(){return this.sD?
Infinity:this.G()-this.QS()}ei(t){const v=this.cP(),x=this.dP();t>x&&(t=x);t<v&&(t=v);this.Fi!==t&&(this.Fi=t,this.Lk(),this.b.R())}pg(){return this.Fi}gi(t){const v=this.eP(),x=this.bP();t>x&&(t=x);t<v&&(t=v);this.Gi!==t&&(this.Gi=t,this.Lk(),this.b.R())}qg(){return this.Gi}Ez(){this.ei(this.pg());this.gi(this.qg());for(const t of this.lc)t.pm&&(t.ei(t.pg()),t.gi(t.qg()))}n7(t,v){if(this.GE!==t||this.HE!==v)this.GE=t,this.HE=v,this.C3()&&(this.ft(),this.Lk(),this.b.R())}tG(){return this.Zf?.5:this.GE}uG(){return this.Zf?
.5:this.HE}sP(){const t=this.tG(),v=this.uG();return 0>t||1<t||0>v||1<v}sR(){this.Zf&&(this.Zf=!1,this.ft(),this.Lk(),this.b.R())}pR(){this.Zf||(this.Zf=!0,this.ft(),this.Lk(),this.b.R())}C3(){return!this.Zf}$p(t){this.cc!==t&&(this.cc=t,this.Lk(),this.Ez(),this.b.R())}Fc(t){t=d.me(t);this.Oe!==t&&(this.Oe=t,this.Lk(),this.b.R())}ta(){return this.Oe}K(){return this.W}rf(t){!isFinite(t)||1>t||(this.W=t)}G(){return this.U}ld(t){!isFinite(t)||1>t||(this.U=t)}ba(t){return"number"===typeof t?this.oA(t):
this.PO(t.toString())}oA(t){t=d.fa(Math.floor(t),0,this.lc.length-1);return this.lc[t]}PO(t){return this.cW.get(t.toLowerCase())||null}pA(t){return this.dW.get(t)||null}ft(){for(const t of this.lc)t.Lda()}Lk(){for(const t of this.lc)t.Mk()}u1(){for(const t of this.lc)if(t.DR()&&t.Naa())return e.kk(t.im),e.Rg(1),e;e.rp(0,0,0,0);return e}LS(){return[...this.Kt]}XR(t){if(t.Kc())for(const v of t.Cj.Em)this.Kt.add(v);else this.Kt.add(t)}qaa(){return[...this.Kh]}AI(t,v){if(t===this||!v)return Promise.resolve();
t&&(d.HZ(this.Kh,t.Kh),t.Kh.clear());t=[];for(const x of this.Kt)this.Kh.has(x)||(t.push(x.Dk(v)),this.Kh.add(x));return Promise.all(t)}async YP(t){if(t.Ya)throw Error("cannot load textures for family");var v=this.b.pb();!v||v.zn()||this.Kh.has(t)||(this.Kh.add(t),v=t.Dk(v),this.K8(v),await v,t.RA(),this.b.R())}K8(t){this.My.add(t);t.then(()=>this.My.delete(t)).catch(()=>this.My.delete(t))}k8(){return Promise.all([...this.My])}d4(t){if(t.Ya||0<t.D.length)throw Error("cannot unload textures");this.b.pb()&&
this.Kh.has(t)&&(this.Kh.delete(t),t.bi())}rea(t,v){if(t!==this&&v)for(const x of this.Kh)x.eh()||t.Kt.has(x)||(x.bi(),this.Kh.delete(x))}Jw(){this.Kh.clear()}async tU(t){const v=this.b,x=this.gb,z=v.ka();this.cV&&(this.td=z.GO(this.cV),this.td.cJ());x.iU(this);this.W=this.Tfa;this.U=this.Sfa;this.Fi=v.Xe/2;this.Gi=v.We/2;this.Ez();this.Aba(t);this.x9();this.Yq||this.z9();this.iS(this.tt);this.y9();x.oZ();v.pe();const D=this.b.Iea;await Promise.all(D);d.C(D);if(!v.bl){for(const E of this.tt)E.r7();
for(const E of this.tt)E.wU()}d.C(this.tt);await Promise.all([...this.Kt].map(E=>E.dH(this.b.pb())));t&&(v.Fb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await v.vp(new d.Event("beforeprojectstart")));await this.vp(new d.Event("beforelayoutstart"));v.bl||await v.Vf(d.B.Xa.F.lQ,null,null);await this.vp(new d.Event("afterlayoutstart"));t&&(v.Fb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await v.vp(new d.Event("afterprojectstart")));z.Qca(x);await this.k8();this.ft();this.Lk();
this.Yq=!1}Aba(t){for(const x of this.b.md)if(!x.Ya&&x.$f)for(const z of x.la()){const D=z.i();var v=D.ba();v=d.fa(v.Ha(),0,this.lc.length-1);v=this.lc[v];D.Mw(v);v.qba(z)}if(!t)for(const x of this.lc)x.$I(!1)}x9(){for(const t of this.lc)t.MZ(this.tt),t.SH()}z9(){let t=!1;for(const [x,z]of Object.entries(this.ir)){const D=this.b.$i(parseInt(x,10));if(D&&!D.Ya&&D.AG()){for(const E of z){var v=null;if(D.$f&&(v=this.pA(E.w.l),!v))continue;v=this.b.Si(D,v,!1,0,0,!0);v.Pb(E);t=!0;this.tt.push(v)}d.C(z)}}for(const x of this.lc)x.$I(!0),
x.mh();t&&(this.b.pe(),this.b.AT())}iS(t){for(const x of t){if(!x.Kc())continue;const z=x.i(),D=x.Ap();for(const E of x.I().Cj.Em)if(E!==x.I()){var v=E.la();v.length>D?x.Ys(v[D]):(v=z?this.b.Si(E,z.ba(),!0,z.O(),z.P(),!0):this.b.Si(E,null,!0,0,0,!0),this.b.pe(),E.QB(),x.Ys(v),t.push(v))}}}y9(){for(const t of this.AK)this.b.Pf(t[1]).Kc()||this.b.Si(t,null,!0)}v9(){const t=[],v=this.AK;let x=0;for(let z=0,D=v.length;z<D;++z){const E=v[z],M=this.b.Pf(E[1]);M.eh()?M.Kc()&&M.Cj.Z1()||t.push(this.b.Si(E,
null,!0)):(v[x]=E,++x)}d.bf(v,x);this.b.pe();this.iS(t)}Xv(t,v,x,z,D,E){if(x)return x.Xv(t,v,z,D,E);x=[];for(const M of this.lc)x.push(M.Xv(t,v,z,D,E));return x.flat()}async jea(){const t=this.gb;this.b.bl||await this.b.Vf(d.B.Xa.F.kQ,null,null);t.lR(!0);this.b.ka().Jz();this.Yq||this.$ca();for(const v of this.lc)v.F$();for(const v of this.b.md)if(!(v.eh()||v.$f||v.Hb().yo||v.Ya)){for(const x of v.la())this.b.pn(x);this.b.pe()}t.lR(!1);t.Wb()===this&&t.iU(null)}Yca(t){const v=t.I().jb.toString();
this.ir.hasOwnProperty(v)||(this.ir[v]=[]);this.ir[v].push(t.Xb())}$ca(){for(const t of this.lc){t.Tw();for(const v of t.D){const x=v.I();!x.eh()&&x.AG()&&this.Yca(v)}}}H5(){this.ir={};this.Yq=!0}tA(){return this.Tk}Ws(){return"low"===this.b.aa.Pj||this.b.vM||"low-latency"===this.b.qt||this.Ra.Hv()||this.b.pb().Lv()&&this.b.Tm}h9(t){return 0===t.length?!0:2<=t.length?!1:!t[0].kb.Hn()}Nd(t){var v=this.b.aa;const x=this.Ws();var z=null;x?("low-latency"!==this.b.qt&&(t.qf(null),t.Mz()),z={Dd:this.b.zc,
XM:this.b.vM||this.Ra.Hv()},"low"===v.Pj&&(z.width=v.Wg(),z.height=v.og()),z=this.b.qv(z),t.qf(z)):t.qf(null);t.Jc(this.u1());this.b.Tm&&t.lZ();this.Tk=z;for(var D of this.lc)D.SH(),D.DR()&&g.push(D);for(let E=0,M=g.length;E<M;){v=g[E];if(v.ts()&&!v.Ws()){l.push(v);for(D=E+1;D<M;++D){const B=g[D];if(B.ts()&&!B.Ws())l.push(g[D]);else break}if(2<=l.length){this.l$(t,z,l);E+=l.length;d.C(l);continue}d.C(l)}v.Nd(t,z,0===E);++E}d.C(g);x&&(t.Rn(!1),this.w$(t,z));this.Tk=null}w$(t,v){const x=this.Ra.rj,
z=this.b;if(this.h9(x)){t.qf(null);if(1===x.length){var D=x[0];const E=D.kb;t.Un(E);f.set(0,0,1,1);c.set(0,0,z.Og,z.Ng);D=this.Ra.Xg(D.Ha());t.Ps(null,b,f,f,c,1/z.Wg(),1/z.og(),this.cc,this.ta(),z.Of(),D);E.YB&&z.R()}else t.wg();0===x.length?t.EF(v):(t.qH(),t.Gs(),t.jv(v));t.Ip(v);z.Mn(v)}else d.iH(t,z,this,null,x)}l$(t,v,x){var z=this.b.aa;t.Rn(!0);for(var D of x)D.Tw(),d.gp(n,D.vI());D=x[0];x=null;this.b.LG()&&t.Lv()&&(z=z.QO(D))&&(x=z.tF(),t.NH(x));for(let G=0,H=n.length;G<H;){D=n[G];var E=D.i(),
M=E.ba();if(E.Tc()&&E.xs(M.Aw())){(!D.Sp()||0<E.zl())&&r.push(D);var B=D.i().Qf();q.push(D);for(z=G+1;z<H;++z){const J=n[z],P=J.i();if(P.Tc()&&P.xs(P.ba().Aw())){if(P.Qf()!==B)break;J.Sp()?(0<P.zl()&&r.push(J),q.push(J)):r.push(J)}}if(1!==q.length||q[0].aQ()){this.m$(t,v,q);for(let J=0,P=r.length;J<P;++J)D=r[J],E=D.i(),M=E.ba(),E.LB(!0),w(M,t),M.Yl(D,E,t,v),E.LB(!1)}else{w(M,t);M.Yl(D,E,t,v);for(let J=0,P=r.length;J<P;++J)E=r[J],E!==D&&(M=E.i(),B=M.ba(),w(B,t),B.Yl(E,M,t,v))}G=z;d.C(q);d.C(r)}else++G}x&&
t.NF(x);d.C(n);p=null}m$(t,v,x){t.aO();for(let M=0,B=x.length;M<B;++M){var z=x[M],D=z.i(),E=D.ba();D.JB(!0);w(E,t);E.lI(z,D,t)}t.$N();for(let M=0,B=x.length;M<B;++M)z=x[M],D=z.i(),E=D.ba(),w(E,t),E.Yl(z,D,t,v),D.JB(!1);t.ZN()}ma(){const t={sx:this.pg(),sy:this.qg(),s:this.cc,a:this.ta(),w:this.K(),h:this.G(),ortho:this.Zf,vpX:this.tG(),vpY:this.uG(),fv:this.Yq,persist:this.ir,fx:this.Ra.Xb(),layers:{}};for(const v of this.lc)t.layers[v.jb.toString()]=v.ma();return t}wa(t){this.Fi=t.sx;this.Gi=t.sy;
this.cc=t.s;this.Oe=t.a;this.W=t.w;this.U=t.h;this.Zf=!!t.ortho;t.hasOwnProperty("vpX")&&(this.GE=t.vpX);t.hasOwnProperty("vpY")&&(this.HE=t.vpY);this.Yq=!!t.fv;this.ir=t.persist;this.Ra.Pb(t.fx);for(const [v,x]of Object.entries(t.layers))(t=this.pA(parseInt(v,10)))&&t.wa(x);this.ft();this.Lk()}Th(t){t.Qg=this.Bx;var v=this.b;(v=v.Jb&&!v.ka().JA())&&a.MH();this.He.dispatchEvent(t);v&&a.sF()}vp(t){t.Qg=this.Bx;return this.He.LM(t)}}}
{"use strict";const d=self.j;d.Q3=class extends d.ia{constructor(a){super();this.b=a;this.tj=[];this.eL=new Map;this.fL=new Map;this.ay=null;this.ML=[];this.JC=null;this.fD=0;this.hy=null}g(){this.hy=this.JC=this.ay=this.b=null;d.C(this.tj);this.eL.clear();this.fL.clear();d.C(this.ML)}Ta(a){a=d.A(d.OP,this,this.tj.length,a);this.tj.push(a);this.eL.set(a.Ba().toLowerCase(),a);this.fL.set(a.jb,a)}H(){return this.b}o6(a){this.JC=a}d1(){if(this.JC)return this.JC;if(this.tj.length)return this.tj[0];throw Error("no first layout");
}js(a){return this.eL.get(a.toLowerCase())||null}iG(a){return this.fL.get(a)||null}v1(a){a=d.fa(Math.floor(a),0,this.tj.length-1);return this.tj[a]}qc(a){return"number"===typeof a?this.v1(a):this.js(a.toString())}iU(a){this.ay=a}Wb(){return this.ay}*wz(){this.ay&&(yield this.ay);this.ML.length&&(yield*this.ML)}lR(a){if(a)this.fD++;else{if(0>=this.fD)throw Error("already unset");this.fD--}}FP(){return 0<this.fD}Iz(a){this.hy=a}oZ(){this.hy=null}ys(){return!!this.hy}Is(){const a=this.Wb();a&&a.ft()}Hs(){const a=
this.Wb();a&&a.Lk()}}}
{"use strict";const d=self.j;class a{constructor(){this.Rc=this.Kf=null;this.Vu=this.Wu=this.Ni=this.Zm=0;this.Mu=new d.Rect;this.an=new d.Rect;this.qp=new d.Rect;this.uz=new d.Rect;this.Pu=new d.Rect;this.clearRect=new d.Rect;this.kF=new d.Rect;this.yX=[null,null];this.lp=0;this.Lr=1;this.Ku=this.Lu=this.Au=this.zu=0;this.bn=this.lg=this.ne=this.oe=this.Qg=null;this.UE=this.jN=this.cF=!1;this.aF=null}Jc(){this.aF=this.bn=this.lg=this.ne=this.oe=this.Qg=this.Rc=this.Kf=null}u7(g){g=g.kb;if(g.Hn())return!0;
if(this.ne)return g.Xy&&(0!==this.lg.ta()||0>this.lg.K()||0>this.lg.G())||0!==this.zu||0!==this.Au||!this.lg.wn()||this.ne.Hn();if(this.oe)return!this.oe.wn()}t7(g){g=g.kb;return g.Xy||g.PJ||this.Qg&&"low"===this.Rc.aa.Pj}hs(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.yX;if(!l[g]){var n=this.Rc;const q=n.aa;n={Dd:n.zc};"low"===q.Pj&&(n.width=q.Wg(),n.height=q.og());l[g]=q.qv(n)}return l[g]}q5(){const g=this.yX,l=this.Rc.aa;g[0]&&(l.Mn(g[0]),g[0]=null);g[1]&&(l.Mn(g[1]),g[1]=
null)}}const b=[];let f=0;const c=new d.Ec;let e=!1;async function k(g,l,n){l=await d.$.UH.UZ(l,n);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",l)}d.iH=function(g,l,n,q,r,p){f===b.length&&b.push(new a);var w=b[f++];w.Kf=g;w.Rc=l;if(n instanceof d.Instance)w.ne=n,w.lg=w.ne.i();else if(n instanceof d.WG)w.oe=n;else if(n instanceof d.OP)w.Qg=n;else throw Error("invalid effects object");n=l.aa;w.bn=q;w.Zm=n.Wg();w.Ni=n.og();w.Wu=w.Zm;w.Vu=w.Ni;w.lp=0;w.Lr=1;w.zu=0;w.Au=
0;w.Pu.set(0,0,w.Zm,w.Ni);w.clearRect.set(0,0,w.Zm,w.Ni);w.UE=!1;w.aF=p;w.ne?(q=w.lg,w.Lu=q.ba().tn(),w.Ku=q.ba().ta(),w.Mu.qa(q.tb())):w.oe?(q=w.oe,w.Lu=q.tn(),w.Ku=q.ta(),w.Mu.qa(q.Hf)):(q=w.Qg,w.Lu=q.cc,w.Ku=q.ta(),w.Mu.set(0,0,w.Zm,w.Ni));if(w.ne){{for(let G=0,H=r.length;G<H;++G)q=r[G].kb,w.zu+=q.dV,w.Au+=q.eV;var t=w.lg;q=t.ba();n=q.ta();p=t.tb();var v=t.Qf();t=t.zl();let [D,E]=q.Fn(p.M,p.J,v),[M,B]=q.Fn(p.V,p.S,v);if(0!==n||0<t){const [G,H]=q.Fn(p.V,p.J,v),[J,P]=q.Fn(p.M,p.S,v);if(0<t){n=v+
t;const [Q,T]=q.Fn(p.M,p.J,n),[W,Z]=q.Fn(p.V,p.J,n),[Y,fa]=q.Fn(p.V,p.S,n),[ja,xa]=q.Fn(p.M,p.S,n);q=Math.min(D,M,G,J,Q,W,Y,ja);M=Math.max(D,M,G,J,Q,W,Y,ja);D=q;q=Math.min(E,B,H,P,T,Z,fa,xa);B=Math.max(E,B,H,P,T,Z,fa,xa);E=q}else q=Math.min(D,M,G,J),M=Math.max(D,M,G,J),D=q,q=Math.min(E,B,H,P),B=Math.max(E,B,H,P),E=q}q=w.Pu;p=w.uz;n=w.qp;v=w.clearRect;t=w.an;q.set(D,E,M,B);q.tN(w.Ni);p.qa(q);p.lk(w.Wu,w.Vu);p.Qr();q.YE(w.zu,w.Au);n.qa(q);n.lk(w.Wu,w.Vu);n.Qr();v.qa(q);v.Mha();v.YE(w.zu+1,w.Au+1);q.fa(0,
0,w.Zm,w.Ni);v.fa(0,0,w.Zm,w.Ni);t.qa(q);t.lk(w.Wu,w.Vu);t.Qr()}}else w.an.set(0,0,w.Zm/w.Wu,w.Ni/w.Vu),w.qp.qa(w.an),w.uz.qa(w.an),w.an.Qr(),w.qp.Qr(),w.uz.Qr();g.qH();g.Gs();g.aw(0);g.Qn(0);w.cF=w.u7(r[0]);w.cF&&(q=w.Kf,q.wg(),p=w.hs(w.lp),q.qf(p),(n=w.aF)&&n.kN&&n.kN(),q.BF(w.clearRect),w.ne?(q.ij(w.lg.lG()),q.Qn(w.lg.Qf()),w.ne.Nd(q),q.Qn(0)):(n=(w.oe||w.Qg).tA(),w.oe?q.ij(w.oe.lG()):q.Gs(),q.jv(n),q.Ip(n),w.Rc.aa.Mn(n)),w.qp.qX(),w.lp=1,w.Lr=0,e&&k("Pre-draw",q,p));g.Gs();q=r.length-1;w.jN=w.t7(r[q]);
for(let D=0,E=r.length;D<E;++D){n=r[D];p=n.kb;g.Un(p);p.YB&&l.R();if(0!==D||w.cF){g.aR();var x=void 0,z=void 0;p=w;x=n;z=D===q&&!w.jN;n=D;v=p.Kf;t=p.Rc;0===n&&p.cF&&p.ne&&p.Pu.tN(p.Ni);z?(p.ne?v.pf(p.lg.Vi()):p.oe&&v.pf(p.oe.Vi()),z=p.bn,v.qf(z)):(z=p.hs(p.lp),v.qf(z),v.BF(p.clearRect));x=p.ne?p.lg.Qe.Xg(x.Ha()):(p.oe||p.Qg).Ra.Xg(x.Ha());v.Ps(p.bn,p.qp,p.an,p.uz,p.Mu,1/p.Wu,1/p.Vu,p.Lu,p.Ku,t.Of(),x);x=p.hs(p.Lr);v.fe(x.Cb());t.aa.dR(v);p.UE=!0;c.Ph(p.Pu);v.Ql(c,p.an);p.ne||v.Ip(x);e&&k("Bounce "+
n,v,z)}else{p=w;z=n;n=p.Kf;v=p.Rc;t=p.hs(p.lp);n.qf(t);(x=p.aF)&&x.kN&&x.kN();n.BF(p.clearRect);if(p.ne){const [M,B]=p.ne.fA();(x=p.ne.gA())?p.kF.qa(x):p.kF.set(0,0,0,0);z=p.lg.Qe.Xg(z.Ha());n.Ps(p.bn,p.qp,p.kF,p.kF,p.Mu,1/M,1/B,p.Lu,p.Ku,v.Of(),z);n.Qn(p.lg.Qf());p.ne.Nd(n);n.Qn(0);p.qp.qX();p.Pu.tN(p.Ni)}else z=(p.oe||p.Qg).Ra.Xg(z.Ha()),n.Ps(p.bn,p.qp,p.an,p.uz,p.Mu,1/p.Zm,1/p.Ni,p.Lu,p.Ku,v.Of(),z),p=(p.oe||p.Qg).tA(),e&&k("Layer target",n,p),n.jv(p),n.Ip(p),v.aa.Mn(p);e&&k("First bounce",n,t)}0===
w.lp?(w.lp=1,w.Lr=0):(w.lp=0,w.Lr=1)}w.jN&&(g=w.Kf,w.Qg?(g.wg(),g.qf(w.bn),l=w.hs(w.Lr),g.EF(l),g.Ip(l)):(l=w.Rc.aa,"low"===l.Pj?(g.wg(),l.dR(g,l.Wg(),l.og()),w.UE=!0):g.i6(),w.ne?g.pf(w.lg.Vi()):w.oe&&g.pf(w.oe.Vi()),g.qf(w.bn),l=w.hs(w.Lr),g.fe(l.Cb()),c.Ph(w.Pu),g.Ql(c,w.an),w.ne||g.Ip(l),e&&k("Post-draw",g,w.bn)));g=w.UE;w.q5();w.Jc();f--;e=!1;return g}}
{"use strict";const d=self.j;d.P7=class extends d.ia{constructor(a){super();this.b=a;this.Py=d.A(d.ph);this.Vfa=null;this.Ro=[];this.Qy=new Map;this.Dm=new Map;this.So=new Map;this.Eh=[];this.Hg=[];this.Px=this.ot=this.Nq=!1;this.Nm=()=>this.Vba();this.Mm=()=>this.II();this.AJ=()=>this.BB();this.dL=()=>this.Cba();this.EK=b=>this.tT(b.instance);this.nJ=()=>this.Iw();this.nx=[]}g(){this.v5();this.nJ=this.EK=this.dL=this.AJ=this.Mm=this.Nm=null;for(const a of this.Ro)a.nh(),a.g();d.C(this.Ro);this.Ro=
null;this.Py.g();this.Py=null;d.C(this.Eh);this.Eh=null;d.C(this.Hg);this.Hg=null;this.Qy.clear();this.Qy=null;this.Dm.clear();this.Dm=null;this.So.clear();this.So=null;d.C(this.nx);this.b=this.nx=null}FY(){const a=this.b.Fb();a.addEventListener("pretick",this.Nm);a.addEventListener("tick2",this.Mm);a.addEventListener("beforelayoutchange",this.AJ);a.addEventListener("layoutchange",this.dL);a.addEventListener("instancedestroy",this.EK);a.addEventListener("afterload",this.nJ)}v5(){const a=this.b.Fb();
a.removeEventListener("pretick",this.Nm);a.removeEventListener("tick2",this.Mm);a.removeEventListener("beforelayoutchange",this.AJ);a.removeEventListener("layoutchange",this.dL);a.removeEventListener("instancedestroy",this.EK);a.removeEventListener("afterload",this.nJ)}Ta(a){this.Py.Sc(a);a=d.te.LZ(a,this);this.Sc(a);this.c7(a);this.So.set(a.Ba(),0)}FF(a){a=a.jP();var b=this.Py.ea(a);b=d.te.FF(`${a}:${this.So.get(a)}`,b,this);this.XS(a);this.Sc(b);return b}XS(a){this.So.set(a,this.So.get(a)+1)}sda(){for(const a of this.Ro)a.Nt||
this.XS(a.jP())}n9(){for(const a of this.So.keys())this.So.set(a,0)}Sc(a){this.Ro.push(a);this.Qy.set(a.Ba().toLowerCase(),a)}ci(a){a.Nt||(d.Kr(this.Ro,a),d.Kr(this.Eh,a),d.Kr(this.Hg,a),this.Qy.delete(a.Ba().toLowerCase()),this.w5(a),a.Di||a.g())}Aa(a){this.b.Aa(a,this.Vfa,null)}H(){return this.b}zR(a,b){this.Dm.has(a)||this.Dm.set(a,new Set);this.Dm.get(a).add(b)}c7(a){for(const b of a.qA())this.zR(b,a)}w5(a){for(const [b,f]of this.Dm.entries())f.has(a)&&(f.delete(a),0===f.size&&this.Dm.delete(b))}N1(a){if(this.Dm.has(a))return this.Dm.get(a)}wA(a){return this.Qy.get(a.toLowerCase())||
null}u5(a){d.Kr(this.Hg,a);this.Fw()}VQ(a){this.Hg.includes(a)?(a.iw(!0),a.kw(!1),a.xH(!1)):(a.iw(!1),a.kw(!0),a.xH(!1),this.Eh.includes(a)||this.Eh.push(a));this.mT()}Qz(a){a.iw(!1);a.kw(!1);a.nH();d.Kr(this.Eh,a);this.Fw()}Oz(a){a.iw(!1);a.kw(!1);a.xH(!0)}CZ(a){this.Oz(a);a.nH()}Vba(){if(!this.H().bl&&this.Nq&&!this.ot){var a=!1;for(this.Px=!0;this.Eh.length;){var b=this.Eh.pop();b.Id();this.Hg.push(b)}b=this.b.yp();var f=this.b.Fe;for(const c of this.Hg){if(c.Wt)continue;const e=c.ge(b,f);!a&&
e&&(a=!0)}this.Px=!1;a&&this.H().R()}}II(){if(!this.H().bl&&this.Nq&&!this.ot){var a;for(const b of this.Hg)b.Wt&&(a||(a=new Set),this.nT(b),a.add(b));a&&d.Oh(this.Hg,a);this.Fw()}}nT(a){a.Di||a.rP()&&a.zg&&a.xo&&a.tO()}mT(){this.Nq||(this.Nq=!0)}Fw(){this.Hg.length||this.Eh.length||this.Px||(this.Nq=!1)}BB(){for(this.ot=!0;this.Eh.length;)this.Qz(this.Eh.pop());const a=new Set;for(const b of this.Hg)b.BB()&&a.add(b);d.Oh(this.Hg,a);this.Fw();for(const b of this.Ro)b.nk()}Cba(){this.ot=!1}tT(a){var b=
a.I();if(b=this.N1(b))if(this.b.bl)this.nx.push(a);else for(const f of b)f.Nt||(f.Di?this.ci(f):f.rP()||(this.nT(f),this.ci(f)))}Iw(){for(const a of this.nx)this.tT(a);d.C(this.nx)}ma(){return{timelinesJson:this.eda(),scheduledTimelinesJson:this.cda(),playingTimelinesJson:this.ada(),hasRuntimeListeners:this.Nq,changingLayout:this.ot,isTickingTimelines:this.Px}}wa(a){a&&(this.n9(),this.iba(a.timelinesJson),this.fba(a.scheduledTimelinesJson),this.dba(a.playingTimelinesJson),this.Nq=!a.hasRuntimeListeners,
this.ot=!!a.changingLayout,this.Px=!!a.isTickingTimelines,this.sda(),this.mT(),this.Fw())}eda(){return this.Ro.map(a=>a.ma())}iba(a){for(const b of a){a=this.wA(b.name);if(!a){a=this.paa(b);if(!a)continue;a=this.wA(a);a=this.FF(a)}a.wa(b);a.i2()||this.ci(a)}}paa(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}cda(){return this.VT(this.Eh)}fba(a){this.hT(a,this.Eh)}ada(){return this.VT(this.Hg)}dba(a){this.hT(a,this.Hg)}Oaa(a,b){for(const f of b)if(f===a.Ba())return!0;return!1}VT(a){return a.map(b=>
b.Ba())}hT(a,b){var f=new Set;for(const c of b)this.Oaa(c,a)||f.add(c);d.Oh(b,f);f=c=>e=>e.Ba()===c;for(const c of a)(a=this.wA(c))&&(b.find(f(c))||b.push(a))}}}
{"use strict";const d=self.j;d.te=class extends d.ia{constructor(a,b,f){super();this.b=f.H();this.Lb=f;this.Df=b;this.Fa=a;this.Ub=[];for(const c of this.Df.yA().Xha())this.Ub.push(d.KR.Ta(this,c));this.UD=this.jy=null;this.Ho=d.A(d.Mv);this.Ho.Set(0);this.Fm=1;this.ck=0;this.Ej=1;this.xo=this.vm=this.kD=!1;this.zg=!0;this.Wt=this.Di=!1;this.pt=-1;this.vo=this.Lq=this.Nt=this.WC=!1;this.YV=NaN;this.Jh=[""];this.WW="";this.fM=!1}static LZ(a,b){const f=b.Py.ea(a[0]);a=d.A(d.te,a[0],f,b);a.C6();return a}static FF(a,
b,f){return d.A(d.te,a,b,f)}static get i8(){return 1}static get Nl(){return d.cN(1)}g(){if(!this.Di){this.Lb.Qz(this);this.Lb.CZ(this);for(const a of this.Ub)a.g();d.C(this.Ub);this.Ub=null;this.Ho.g();this.Df=this.Lb=this.b=this.Ho=null;this.Di=!0;this.UD=this.jy=null}}H(){return this.b}qG(a,b,f){const c=[];for(const e of this.Ub){if(a!==e.Ca())continue;const k=e.Gl(f);k&&b.constructor===k.Gd().constructor&&c.push(k)}return c}i2(){return!!this.Ub.length}fB(a){this.Fa=a}Ba(){return this.Fa}jP(){return this.Df.Ba()}$d(){return this.Df.$d()}Bv(){return this.Df.Bv()}Xi(){return this.Df.Xi()}bj(){return this.Df.bj()}Gk(a){for(const b of this.Ub)b.Gk(a)}ks(){return this.Df.ks()}ns(){return this.Df.ns()}un(){return this.Df.un()}gB(a){this.Fm=
a}$h(){return this.IsPlaying()?0<this.Fm:!0}WO(){this.jy||(this.jy=new Promise(a=>{this.UD=a}))}nH(){this.jy&&(this.UD(),this.UD=this.jy=null)}Rs(a){this.Jh=d.te.oaa(a);this.fM=!0}oQ(){d.B.Wc.F.aq(this);this.Lb.Aa(d.B.Wc.F.Ama);this.Lb.Aa(d.B.Wc.F.Bma);this.Lb.Aa(d.B.Wc.F.Cma);this.Lb.Aa(d.B.Wc.F.tma);d.B.Wc.F.aq(null)}fQ(){this.pt=this.b.hl}tO(){this.Lq||(this.Lq=!0,d.B.Wc.F.aq(this),this.Lb.Aa(d.B.Wc.F.xma),this.Lb.Aa(d.B.Wc.F.yma),this.Lb.Aa(d.B.Wc.F.zma),this.Lb.Aa(d.B.Wc.F.sma),d.B.Wc.F.aq(null))}iw(a){this.kD=
a}BP(){return this.pt===this.b.hl}IsPlaying(a=!1){return this.BP()||this.vm&&!a?!0:this.kD}ct(){return this.IsPlaying(!0)}kw(a){this.vm=a}$Q(a){this.zg=a;a=this.Ea();if(0>=a||a>=this.$d())this.zg=!0}xH(a){this.Wt=a}wH(a){this.WC=a}C6(){this.Nt=!0}Ea(){return this.Ho.ea()}Ts(a){const b=this.Ea();this.Ne(a);this.$Q(!1);this.zg||this.wH(!0);if(this.ct()||this.vm||!this.xo)this.ct()||this.vm||this.xo?this.ct()?this.nh():this.vm&&(this.Lb.Qz(this),this.jR()):this.jR();this.zB(a,!1,!0,!0,b)&&this.H().R();
this.xT()}Ne(a){0>a?this.Ho.Set(0):a>=this.$d()?this.Ho.Set(this.$d()):this.Ho.Set(a)}xT(){d.B.Wc&&this.constructor===d.te&&(d.B.Wc.F.aq(this),this.Lb.Aa(d.B.Wc.F.uma),this.Lb.Aa(d.B.Wc.F.vma),this.Lb.Aa(d.B.Wc.F.wma),d.B.Wc.F.aq(null))}Play(a=!1){return this.Di||this.vm?!1:this.ct()&&this.BP()?this.ida():this.ct()||!this.zg&&!a&&!this.WC?!1:this.jda()}ida(){this.wH(!1);this.Lb.u5(this);this.Lb.VQ(this);this.WO();return!0}jda(){this.wH(!1);this.Lb.VQ(this);this.WO();return!0}nh(a=!1){this.Di||(this.$Q(a),
this.Lb.Oz(this),this.zg&&this.nH())}kd(a=!0,b=!1){if(!this.Di)if(!this.ct()&&this.vm)this.Lb.Qz(this);else if(!this.zg){this.nh(!0);this.$h()?this.Ne(0):this.Ne(this.$d());var f=this.Ea();b=b?this.Gaa(f):this.zB(f,!1,!1,!0);a&&this.xT();b&&a&&this.H().R()}}OQ(){this.kd(!1,!0)}Gaa(a){this.zB(a,!1,!1,!0,NaN,!1,!0)}BB(){if(this.Di)return!0;if(this.j2())return!1;this.Lb.Oz(this);this.OQ();return!0}jR(){this.Id(!0)}Id(a){if(!this.Wt)if(a){this.vo=this.xo=!0;for(const b of this.Ub)b.Id()}else if(this.iw(!0),
this.kw(!1),this.oQ(),this.zg){this.pt=-1;this.ck=0;this.Ej=1;this.Lq=this.zg=!1;this.vo=this.xo=!0;this.$h()?this.Ne(0):this.Ne(this.$d());for(const b of this.Ub)b.Id()}else{this.vo=!0;for(const b of this.Ub)b.vg()}}ge(a,b){if(0!==a||0!==this.YV){this.YV=a;var f=this.Ea();this.Ne(f+a*b*this.Fm);var c;this.ks()||this.ns()?this.ks()&&!this.ns()?c=this.nba():!this.ks()&&this.ns()?c=this.dca():this.ks()&&this.ns()&&(c=this.oba()):c=this.bea();if(c){for(const e of this.Ub)e.m6();this.nh(!0);this.fQ();
return!0}return this.zB(this.Ea(),!0,!1,!1,f,!0)}}zB(a,b=!1,f=!1,c=!1,e=NaN,k=!1,g=!1){let l=!1;for(var n of this.Ub)n.cv();for(const q of this.Ub){n=a;if("number"===typeof e){const r=this.Ea()-q.rg(),p=e-q.rg();0>r&&0<p&&(n=q.rg(),this.Ne(n))}n=q.qb(n,b,f,c,this.vo,g);!l&&n&&(l=!0)}for(const q of this.Ub)q.bv();this.vo&&k&&(this.vo=!1);return l}bea(){if(this.$h()){if(this.Ea()>=this.$d())if(this.Ej<this.un())this.Ej++,this.Ne(0);else return this.Ne(this.$d()),!0}else if(0>=this.Ea())if(this.Ej<this.un())this.Ej++,
this.Ne(this.$d());else return this.Ne(0),!0;return!1}nba(){this.$h()?this.Ea()>=this.$d()&&this.Ne(0):0>=this.Ea()&&this.Ne(this.$d());return!1}dca(){if(this.$h()){if(this.Ea()>=this.$d())if(this.Ne(this.$d()),this.gB(-1*this.Fm),1===this.ck)if(this.Ej<this.un())this.Ej++,this.ck=0;else return!0;else 0===this.ck&&(this.ck=1)}else if(0>=this.Ea())if(this.Ne(0),this.gB(-1*this.Fm),1===this.ck)if(this.Ej<this.un())this.Ej++,this.ck=0;else return!0;else 0===this.ck&&(this.ck=1);return!1}oba(){this.$h()?
this.Ea()>=this.$d()&&(this.Ne(this.$d()),this.gB(-1*this.Fm)):0>=this.Ea()&&(this.Ne(0),this.gB(-1*this.Fm));return!1}nk(){for(const a of this.Ub)a.nk()}qZ(){for(const a of this.Ub)a.nZ()}d7(a,b){if(b)for(const f of this.Ub)if(f.ai()){if(a){if(f.qk()!==a)continue}else if(f.c2())continue;f.z6(b);this.Lb.zR(b.I(),this);break}}rP(){return this.Ub.some(a=>a.ai()?a.zF():!0)}j2(){return this.Ub.some(a=>a.ai()?a.zF()?(a=a.I())?a.eh():!1:!1:!1)}Gl(a){for(const b of this.Ub)for(const f of b.Oc)if(f.Sa.Rd===
a)return f}mP(a){for(const b of this.Ub)if(a===b.Ca())return b;return null}qA(){const a=[];for(const b of this.Ub)a.push(b.I());return a.filter(b=>b)}ma(){return{tracksJson:this.gda(),name:this.Fa,playheadTime:this.Ea(),playbackRate:this.Fm,pingPongState:this.ck,currentRepeatCount:this.Ej,isPlaying:this.kD,isScheduled:this.vm,initialStateSet:this.xo,finishedTriggers:this.Lq,complete:this.zg,released:this.Di,markedForRemoval:this.Wt,completedTick:this.pt,implicitPause:this.WC,isTemplate:this.Nt,tags:this.Jh.join(" "),
stringTags:this.WW,tagsChanged:this.fM,firstTick:this.vo}}wa(a){a&&(this.jba(a.tracksJson),this.Fa=a.name,this.Ho.Set(a.playheadTime),this.Fm=a.playbackRate,this.ck=a.pingPongState,this.Ej=a.currentRepeatCount,this.kD=!!a.isPlaying,this.vm=!!a.isScheduled,this.xo=!!a.initialStateSet,this.Lq=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.zg=!!a.complete,this.Di=!!a.released,this.Wt=!!a.markedForRemoval,this.pt=a.completedTick,this.WC=!!a.implicitPause,this.Nt=!!a.isTemplate,this.Jh=
a.tags.split(" "),this.WW=a.stringTags,this.fM=!!a.tagsChanged,this.vo=!!a.firstTick)}gda(){return this.Ub.map(a=>a.ma())}jba(a){a.forEach((b,f)=>{this.Ub[f].wa(b)});this.Ub.filter(b=>b.zF())}static oaa(a){if(d.Jp(a))return a.slice(0);if(d.dj(a))return a.split(" ")}}}
{"use strict";const d=self.j;d.KR=class extends d.ia{constructor(a,b){super();this.Qo=a;this.fc=b;this.Ef=b.yA();this.Cm=this.qm=NaN;this.nb=this.Ah=null;this.Zq=0<b.rg();this.Iq=this.Lt=!1;this.dr=null;this.ad=this.fc.Zi().ad;this.Oc=[];for(const f of this.fc.lf().Fha())this.Oc.push(d.fb.Ta(this,f))}static Ta(a,b){return d.A(d.KR,a,b)}g(){this.ad=null;for(const a of this.Oc)a.g();d.C(this.Oc);this.dr=this.fc=this.nb=this.Ah=this.Qo=this.Oc=null}nk(){for(const a of this.Oc)a.nk();this.nb=this.Ah=
null}Cc(){return this.Qo}H(){return this.Qo.H()}t1(){return this.ad?this.ad:this.ad=this.fc.Zi().ad}Gl(a){for(const b of this.Oc)if(b.Sa.Rd===a)return b}As(){this.Ah||this.Ca()}Kl(){return this.Ah?!this.Ah.CP():!1}zF(){if(!this.ai())return!1;const a=this.H().Wi(this.yv());return a?!a.CP():!1}I(){if(this.ai()){var a=this.kG();if(-1!==a)return this.H().Pf(a)}}nZ(){this.Ah=null;this.qm=-1;this.nb=null;this.Cm=-1}c2(){return!!this.Ah}Ca(){return this.Ah&&this.Kl()?this.Ah:this.Ah=this.H().Wi(this.yv())}z6(a){if(this.Ah!==
a){this.nk();this.Ah=a;this.Cm=a.I().Ha();this.qm=a.Qc;this.nb=a.i();for(const k of this.Gha()){const g=k.Rha;switch(k.Eha.Zd()){case "instance-variable":var b=a.I(),f=b.m1(k.name),c=b.NO(f);b=b.zv(f);c===k.name&&b===k.type&&g.d8(f);break;case "behavior":var e=k.EM;f=this.I();c=a.I();b=g.Uh(c);e&&b&&(e=e.Ba(),f.sv(e),c.sv(e),g.a8(b.jb))}}}}*Gha(){for(const f of this.Oc){var a=f.Gd(),b=this.I();const c={Eha:f,Rha:a};switch(f.Zd()){case "world-instance":c.ota=f.Sa.Rd;break;case "instance-variable":a=
a.gs();c.name=b.NO(a);c.type=b.zv(a);break;case "effect":b=a.$F(b.Ra);c.Fra=b;break;case "behavior":b=a.Uh(b);c.EM=b;break;case "plugin":c.kta=b.Hb()}yield c}}i(){if(this.nb&&this.Kl())return this.nb;const a=this.Ca();a&&(this.nb=a.i());return this.nb}yv(){return this.qm?this.qm:this.fc.yv()}Xi(){return this.fc.Xi()}bj(){return this.fc.bj()}qk(){return this.fc.qk()}rg(){return this.fc.rg()}Fl(){return this.fc.Fl()}Gk(a){for(const b of this.t1())b.Gk(a);for(const b of this.Oc)b.Gk(a)}Dl(){return this.fc.Dl()}Tl(a){this.fc.Tl(a)}kG(){return isNaN(this.Cm)?
this.fc.kG():this.Cm}uk(){const a=this.Ca();return a&&a.ja.Ll()?a.ja.uk():this.fc.uk()}sk(){const a=this.Ca();return a&&a.ja.Ll()?a.ja.sk():this.fc.sk()}yk(){return this.fc.yk()}Ba(){return this.fc.Ba()}ai(){return 0===this.yk()}Id(){this.As();if(this.Kl()||!this.ai()){for(var a of this.Oc)a.Id();a=this.Cc().$h()?0:this.Fl();this.dr=this.hG(a);this.Iq=this.Lt=!1;this.qb(a)}}vg(){this.As();if(this.Kl()||!this.ai()){this.Qo.$h();var a=this.Qo.Ea()-this.rg();this.dr=this.hG(a);for(const b of this.Oc)b.vg()}}m6(){if(!(this.Cc().zg||
(this.As(),!this.Kl()&&this.ai()||this.Zq))){const a=this.Qo.Ea();a>=this.rg()+this.Fl()?this.qb(this.Fl(),!0,!1,!0):0>=a&&this.qb(0,!0,!1,!0)}}cv(){for(const a of this.Oc)a.cv()}qb(a,b=!1,f=!1,c=!1,e=!1,k=!1){this.As();if(!this.Kl()&&this.ai()||k&&this.ai()&&this.I().eh())return!1;a-=this.rg();if(0>a)return!1;this.c4(a,b);this.ZP(a,b,e);e=k=!1;for(const g of this.Oc){const l=g.qb(a,f,!1,c);k||0===(l&d.te.i8)||(k=!0);e||0===(l&d.te.Nl)||(e=!0)}this.b4(a,b);k&&(a=this.i())&&a.ua();return e}bv(){for(const a of this.Oc)a.bv()}c4(a,
b){if(b&&this.Zq&&!this.Lt){if(this.Cc().$h()){if(0>a)return;for(const f of this.Oc)f.qb(0,!1,!1,!0)}else{if(a>this.Fl())return;for(const f of this.Oc)f.qb(this.Fl(),!1,!1,!0)}for(const f of this.Oc)f.Id();this.Lt=!0}}b4(a,b){if(b&&this.Zq&&!this.Iq)if(this.Cc().$h()){if(a>=this.Fl()){for(const f of this.Oc)f.qb(this.Fl(),!1,!1,!0);this.Iq=!0}}else if(0>=a){for(const f of this.Oc)f.qb(0,!1,!1,!0);this.Iq=!0}}ZP(a,b,f){!f&&b&&(a=this.hG(a),a!==this.dr&&this.jQ(a),this.dr=a)}hG(a){const b=this.Cc();
let f=this.Ef.q1(a,this.fc);return f?f:b.$h()?this.Ef.c1(a,this.fc):this.Ef.b1(a,this.fc)}jQ(a){if(d.B.Wc&&this.Cc().constructor===d.te){var b=this.Cc();d.B.Wc.F.aq(b);d.B.Wc.F.l7(a);a=b.Lb;a.Aa(d.B.Wc.F.rma);a.Aa(d.B.Wc.F.jQ);d.B.Wc.F.aq(null);d.B.Wc.F.l7(null)}}zY(){return this.fc.Zi().tY()}c_(a){this.fc.Zi().b_(a)}JF(a){for(const b of this.Oc)b.JF(a)}Xp(){for(const a of this.Oc)a.Xp()}Qi(){this.As();if(this.Kl()||!this.ai())for(const a of this.Oc)a.Qi()}Ri(){this.As();if(this.Kl()||!this.ai()){var a=
!1;for(const b of this.Oc){const f=b.Ri();!a&&f&&(a=!0)}a&&(a=this.zY(),a.Ts(this.Cc().Ea()),a.Gk("noease"),a.Tl(!0),a.Rs(""))}}ma(){var a=this.Ca();a=a?a.Qc:this.yv();return{propertyTracksJson:this.bda(),lastKeyframeDataItemJson:this.Zca(),initialStateOfNestedSet:this.Lt,endStateOfNestedSet:this.Iq,instanceUid:a}}wa(a){a&&(this.eba(a.propertyTracksJson),this.cba(a.lastKeyframeDataItemJson),this.$aa(a.instanceUid),this.Lt=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Lt=a.initialStateOfNestedSet),
this.Iq=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Iq=a.endStateOfNestedSet))}Zca(){return this.fc.Zi().s1(this.dr)}bda(){return this.Oc.map(a=>a.ma())}eba(a){a.forEach((b,f)=>{this.Oc[f].wa(b)})}$aa(a){if(d.Bn(a)&&(a=this.H().Wi(a))){var b=this.Cc();b.qZ();b.d7(this.fc.qk(),a)}}cba(a){this.dr=this.fc.Zi().r1(a)}}}
{"use strict";const d=self.j;d.fb=class extends d.ia{constructor(a,b){super();this.Cd=a;this.Sa=b;this.Ld=b.lf();this.ek=this.Gd();this.cd=this.Sa.aj().cd}static Ta(a,b){return d.A(d.fb,a,b)}g(){this.Cd=null;this.ek&&(this.ek.g(),this.ek=null);this.Ld=this.Sa=this.cd=null}lf(){return this.Ld}Cc(){return this.Cd.Cc()}H(){return this.Cd.H()}Ca(){return this.Cd.Ca()}Gd(){if(this.ek)return this.ek;let a;switch(this.Sa.Zd()){case "behavior":a=new d.fb.UY(this);break;case "effect":a=new d.fb.i0(this);break;
case "instance-variable":a=new d.fb.k3(this);break;case "plugin":a=new d.fb.Z4(this);break;case "world-instance":a=new d.fb.t8(this);break;case "value":a=new d.fb.g8(this)}return this.ek=a}Zd(){return this.Sa.Zd()}Av(){return this.Sa.yk()}nG(){return this.lf().kA(this.Sa).yk()}Dl(){return this.Sa.Dl()}Tl(a){this.Sa.Tl(a)}Xi(){return this.Sa.Xi()}bj(){return this.Sa.bj()}Gk(a){for(const b of this.YO())b.Gk(a)}YO(){return this.cd?this.cd:this.cd=this.Sa.aj().cd}nk(){this.Gd().nk()}hf(){return this.Gd().hf()}Id(){this.Gd().Id()}vg(){this.Gd().vg()}cv(){this.Gd().cv()}qb(a,
b=!1,f=!1,c=!1){var e=this.Sa;let k=this.Ld.mG(a,e);k?e=this.Ld.IO(a,e):(k=this.Ld.eG(a,e),e=this.Ld.dG(a,e));return this.Gd().qb(a,k,e,b,f,c)}bv(){this.Gd().bv()}static iP(a,b){const f=b.Sa;b=b.Ld;let c=b.mG(a,f);c||(c=b.eG(a,f));return c}static Q0(a,b){const f=b.Sa;b=b.Ld;return b.mG(a,f)?b.IO(a,f):b.dG(a,f)}CY(){return this.Sa.aj().uY()}JF(a){this.Sa.aj().d_(a)}Xp(){this.Gd().Xp()}Qi(){if(this.Gd().Qi()){const a=this.Ld.kA(this.Sa),b=this.Gd().hf();a.WQ(b)}}Ri(){const a=this.Gd().Ri();a&&this.DY();
this.Gd().Nz();return a}DY(){const a=this.Cc().Ea(),b=this.Gd(),f=d.fb.iP(a,this),c=this.CY();c.AR(f.yk());c.Ts(a);c.Gk(f.sn());c.Tl(!0);c.jh(b.BA());c.WQ(b.hf())}ma(){return{sourceAdapterJson:this.Gd().ma()}}wa(a){a&&this.Gd().wa(a.sourceAdapterJson)}}}
{"use strict";const d=self.j.fb;d.ej=class{constructor(a){this.oa=a;this.Hm=null}g(){this.Hm&&(this.Hm.g(),this.Hm=null);this.oa=null}Gl(){return this.oa}nk(){this.Hm&&this.Hm.nk()}Yg(){return this.Hm?this.Hm:this.Hm=this.A9()}gs(){}Ha(){return this.gs()}Ev(){}Id(){this.Yg().Id()}vg(){this.Yg().vg()}cv(){this.Yg().Vr()}qb(a,b,f,c,e,k){const g=d.ej.OO(this.oa)(a,b,f,this.oa);return e?g:this.Yg().up(a,g,b,f,c,k)}bv(){this.Yg().Tr()}Xp(){var a=this.Yg();a.Ei=a.hf()}Nz(){this.Yg().Nz()}hf(){return this.Yg().hf()}Qi(){return this.Yg().Qi()}Ri(){return this.Yg().Ri()}BA(){return d.ej.BA(this.oa)}A9(){const a=
this.oa.Av();switch(this.oa.nG()){case "combo":case "boolean":case "text":case "string":return new d.tg.bQ(this);case "numeric":case "number":case "angle":return"combo"===a?new d.tg.bQ(this):new d.tg.j4(this);case "color":case "offsetColor":return new d.tg.tZ(this)}}ma(){return{propertyAdapterJson:this.Yg().ma()}}wa(a){a&&this.Yg().wa(a.propertyAdapterJson)}static BA(a){const b=a.Cd.Cc().Ea(),f=d.iP(b,a),c=d.Q0(b,a);return d.ej.OO(a)(b,f,c,a)}static ae(){let a=(void 0).bj();"combo"===(void 0).Av()&&
(a="absolute");switch(a){case "relative":return NaN}}static OO(a){switch(a.nG()){case "numeric":return d.YG.qb;case "angle":return d.GN.qb;case "boolean":return d.MN.qb;case "color":return d.WN.qb;case "text":return d.IR.qb}}static R1(a){switch(a.nG()){case "numeric":return d.YG.Wl;case "angle":return d.GN.Wl;case "boolean":return d.MN.Wl;case "color":return d.WN.Wl;case "text":return d.IR.Wl}}}}{"use strict";const d=self.j;class a extends d.fb.ej{constructor(b){super(b)}}d.fb.t8=a}
{"use strict";const d=self.j;class a extends d.fb.ej{constructor(b){super(b);this.Wy=NaN}gs(){return this.oa.Sa.Gh[0]}Ha(){return this.Wy?this.Wy:super.Ha()}Ev(){return this.oa.Cd.Ca()}d8(b){this.oa.Sa.Gh[0]!==b&&(this.Wy=b)}qb(b,f,c,e,k,g){if(this.Yg().RN(f.ae()))return super.qb(b,f,c,e,k,g)}ma(){return Object.assign(super.ma(),{index:this.Wy})}wa(b){b&&(super.wa(b),this.Wy=b.index)}}d.fb.k3=a}
{"use strict";const d=self.j;class a extends d.fb.ej{constructor(b){super(b);this.jb=NaN}gs(){return this.oa.Sa.Gh[1]}Ev(){var b=this.oa.Sa,f=this.jb?this.jb:b.Gh[0];b=this.oa.Cd.Ca();f=b.zO(f);return b.nd[f].ja}Uh(b){return b.$z(this.oa.Sa.Gh[2])}a8(b){this.oa.Sa.Gh[0]!==b&&(this.jb=b)}qb(b,f,c,e,k,g){const l=this.oa.Cd.Ca();if(this.Uh(l.I()))return super.qb(b,f,c,e,k,g)}ma(){return Object.assign(super.ma(),{sid:this.jb})}wa(b){b&&(super.wa(b),this.jb=b.sid)}}d.fb.UY=a}
{"use strict";const d=self.j;class a extends d.fb.ej{constructor(b){super(b)}gs(){return this.oa.Sa.Gh[1]}Ev(){const b=this.oa.Cd.i().Qe,f=this.$F(b.Ra).Ha();return b.Kv(f)?b.Xg(f):null}$F(b){return b.Cl(this.oa.Sa.Gh[0])}qb(b,f,c,e,k,g){if(this.Kaa())return super.qb(b,f,c,e,k,g)}Kaa(){const b=this.oa.Cd.i().Qe,f=this.$F(b.Ra);if(f)return b.Kv(f.Ha())}}d.fb.i0=a}
{"use strict";const d=self.j;class a extends d.fb.ej{constructor(b){super(b)}gs(){return this.oa.Sa.Gh[0]}Ev(){return this.oa.Cd.Ca().ja}qb(b,f,c,e,k,g){var l=this.oa.Cd;const n=l.I().Hb();l=l.Ca().I().Hb();if(n===l)return super.qb(b,f,c,e,k,g)}}d.fb.Z4=a}
{"use strict";const d=self.j;class a extends d.fb.ej{constructor(b){super(b);this.Md=0;this.XC=!1}Id(){const b=this.oa.lf();let f=this.oa.Sa;f=b.kA(f);this.Md=f.Dc()}vg(){}ae(){this.XC||this.oa.qb(0);return this.Md}qb(b,f,c){const e=d.fb.YG.qb;this.Md=e(b,f,c,this.oa);this.XC=!0}Xp(){}Nz(){}hf(){return this.Md}Qi(){return!1}Ri(){return!1}ma(){return{value:this.Md,init:this.XC}}wa(b){b&&(this.Md=b.value,this.XC=b.hasOwnProperty("init")?b.init:!0)}}d.fb.g8=a}"use strict";
function hc(d,a,b){return d.oa.Cc().$h()?a():b()}function ic(d,a,b){return"relative"===d.oa.bj()?a():b()}function jc(d,a,b){d.Ht?(d.Ht=!1,a()):b()}function kc(d){if(d.pu)return d.pu;d.pu=d.ek.Ev();return d.pu}function lc(d,a,b,f,c,e){switch(d.oa.Zd()){case "behavior":return a();case "effect":return b();case "instance-variable":return f();case "plugin":return c();case "world-instance":return e()}}
function mc(d,a=!1){const b=[];for(const f of d){d=f.Cd.rg();for(const c of f.YO())a&&0===c.Ea()?b.push({time:d+c.Ea(),value:c.ki}):a||b.push({time:d+c.Ea(),value:c.ki})}return b.sort((f,c)=>f.time-c.time)}function nc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.j.fb.tg=class{constructor(d){this.ek=d;this.oa=d.Gl();this.nb=this.oa.Cd.i();this.Rd=this.oa.Sa.Rd;this.Ht=!1;this.pu=this.Ei=null}g(){this.pu=this.Ei=this.nb=this.oa=this.ek=null}nk(){this.pu=this.Ei=this.nb=null}Gl(){return this.oa}i(){return this.nb?this.nb:this.nb=this.oa.Cd.i()}Id(){}vg(){}Nz(){this.Ei=null}hf(){}Qi(){}Ri(){}RN(d){return typeof this.cm()===typeof d}Vr(){}up(){}Tr(){}iq(){return hc(this,()=>{const d=this.oa.Sa;return this.oa.lf().kA(d)},()=>{const d=this.oa.Sa;return this.oa.lf().Bp(d)}).ki}pB(){const d=
this.oa.Cc().Ea()-this.oa.Cd.rg();return hc(this,()=>{const a=this.oa.Sa;return this.oa.lf().eG(d,a)},()=>{const a=this.oa.Sa,b=this.oa.lf(),f=b.dG(d,a);return f?f:b.Bp(a)}).ki}sB(){}ji(){return this.ek.Ha()}ma(){return{firstAbsoluteUpdate:this.Ht,saveState:this.Ei}}wa(d){d&&(this.Ht=d.firstAbsoluteUpdate,this.Ei=d.saveState)}};
{"use strict";const d=self.j,a=new Map,b=[0,0,0];class f extends d.fb.tg{constructor(c){super(c)}Id(){}vg(){}hf(){const c=this.oa.Zd(),e=kc(this),k=this.ji();switch(c){case "behavior":return this.OB(e.Bb(k));case "effect":return this.OB(e[k]);case "plugin":return this.OB(e.Bb(k));case "world-instance":return this.OB(this.cm())}}Qi(){const c=this.iq();return!this.hS(c,this.cm())}Ri(){return d.Je(this.Ei)?!1:!this.hS(this.Ei,this.cm())}hS(c,e){return c.$m(e)}iq(){const c=super.iq();return this.tB(c)}pB(){const c=
super.pB();return this.tB(c)}sB(){}OB(c){return d.Cn(c,d.$a)?c.toArray().slice(0,3):c.slice(0,3)}tB(c){return d.Cn(c,d.$a)?c:new d.$a(c[0],c[1],c[2],1)}RN(){return!0}Vr(){var c=this.oa.Ca();a.has(c)||a.set(c,new Map);c=a.get(c);const e=this.oa.Zd();c.has(e)||c.set(e,new Map);c=c.get(e);c.has(this.Rd)||c.set(this.Rd,{yz:!1,color:new d.$a(0,0,0,1)})}TS(c,e,k){c=a.get(c).get(e).get(k);c.yz=!0;return c.color}up(c,e){var k=this.oa.Cc(),g=this.oa.Cd;c=this.oa.Ca();var l=this.oa.Gd();const n=this.oa.Zd();
l=k.qG(c,l,this.Rd);if(1<l.length){if(l=mc(l,!0),k=k.Ea(),k=nc(k,l))if(l=k.time-g.rg(),0===l)this.TS(c,n,this.Rd).hX(e[0],e[1],e[2]);else{if(0>l)return;k=e[0];g=e[1];e=e[2];l=this.oa.qb(l,!1,!0);k=d.$a.KF(k,l[0]);g=d.$a.KF(g,l[1]);e=d.$a.KF(e,l[2]);this.TS(c,n,this.Rd).hX(k,g,e)}}else this.Ok(e[0],e[1],e[2]);return d.te.Nl}Tr(){const c=this.oa.Ca();if(a.has(c)){var e=a.get(c),k=this.oa.Zd();if(e.has(k)){var g=e.get(k);if(g.has(this.Rd)){var l=g.get(this.Rd),n=l.color;l.yz&&this.Ok(n.Za,n.cb,n.bb);
0===g.size&&e.delete(k);0===e.size&&a.delete(c)}}}}cm(){const c=this.oa.Zd(),e=kc(this),k=this.ji();switch(c){case "behavior":return this.tB(e.Bb(k));case "effect":return e[k].clone();case "plugin":return this.tB(e.Bb(k));case "world-instance":return this.i().Ja.clone()}}Ok(c,e,k){const g=this.oa.Zd(),l=kc(this),n=this.ji();switch(g){case "behavior":b[0]=c;b[1]=e;b[2]=k;l.Jd(n,b);break;case "effect":l[n].Uu(c,e,k);break;case "plugin":b[0]=c;b[1]=e;b[2]=k;l.Jd(n,b);break;case "world-instance":this.i().m7(c,
e,k)}}ma(){}wa(){}}d.fb.tg.tZ=f}
{"use strict";const d=self.j;class a extends d.fb.tg{constructor(b){super(b)}Id(){}vg(){}hf(){return this.cm()}Qi(){return this.iq()!==this.hf()}Ri(){return d.Je(this.Ei)?!1:this.Ei!==this.hf()}up(b,f){const c=d.fb.ej.R1(this.oa);var e=this.oa;const k=e.Cd,g=e.Zd();var l=e.Cc();const n=k.Ca();e=e.Gd();l=l.qG(n,e,this.Rd);1<l.length&&(l=mc(l),b=nc(b+k.rg(),l))&&(f=b.value);if(c(this.ji(),kc(this),f,g))switch(this.Ok(f),g){case "plugin":return d.te.Nl}}cm(){const b=this.oa.Zd(),f=kc(this),c=this.ji();
switch(b){case "behavior":return f.Bb(c);case "effect":return f[c];case "instance-variable":return f.jf(c);case "plugin":return f.Bb(c)}}Ok(b){const f=this.oa.Zd(),c=kc(this),e=this.ji();switch(f){case "behavior":c.Jd(e,b);break;case "effect":c[e]=b;break;case "instance-variable":c.Sn(e,b);break;case "plugin":c.Jd(e,b)}}}d.fb.tg.bQ=a}
{"use strict";const d=self.j,a=new Map,b=(c,e,k,g,l)=>a.set(c,{Qha:e,kga:k,Wga:g,round:l});b("offsetX",(c,e)=>c.Qv(e),(c,e)=>c.Tf(e),c=>c.O(),!0);b("offsetY",(c,e)=>c.Sv(e),(c,e)=>c.kh(e),c=>c.P(),!0);b("offsetWidth",(c,e)=>c.dQ(e),(c,e)=>c.rf(e),c=>c.K(),!0);b("offsetHeight",(c,e)=>c.cQ(e),(c,e)=>c.ld(e),c=>c.G(),!0);b("offsetAngle",(c,e)=>c.m4(e),(c,e)=>c.Fc(e),c=>c.ta(),!1);b("offsetOpacity",(c,e,k,g)=>{k=c.kf()+e;0===g.$c?(1<k?g.$c+=k-1:0>k&&(g.$c+=k),c.n4(e)):(c=c.kf()+e,0<e&&0<g.$c?1<c&&(g.$c+=
c-1):0<e&&0>g.$c?(g.$c+=e,0<g.$c&&(g.$c=0)):0>e&&0<g.$c?(g.$c+=e,0>g.$c&&(g.$c=0)):0>e&&0>g.$c&&0>c&&(g.$c+=c))},(c,e)=>{c.jj(e)},c=>c.kf(),!1);b("offsetOriginX",(c,e)=>c.o4(e),(c,e)=>c.Yp(e),c=>c.Xh(),!1);b("offsetOriginY",(c,e)=>c.p4(e),(c,e)=>c.Zp(e),c=>c.Yh(),!1);b("offsetZElevation",(c,e)=>c.q4(e),(c,e)=>c.Le(e),c=>c.Ua(),!0);b("offsetScaleX",(c,e,k)=>{const g=0>c.K()?-1:1;c.dQ(k.uk()*g*e)},(c,e,k)=>{c.rf(k.uk()*e)},(c,e)=>{const k=0>c.K()?-1:1;if(c.Ep()){var g=c.Da(),l=e.Cc().mP(g.Ca());l?g=
g.K()/l.uk():(l=g.Ca().ja,g=l.Ll()?g.K()/l.uk():1);return c.K()*k/(e.uk()*g)}return c.K()*k/e.uk()},!1);b("offsetScaleY",(c,e,k)=>{const g=0>c.G()?-1:1;c.cQ(k.sk()*g*e)},(c,e,k)=>{c.ld(k.sk()*e)},(c,e)=>{const k=0>c.G()?-1:1;if(c.Dp()){var g=c.Da(),l=e.Cc().mP(g.Ca());l?g=g.G()/l.sk():(l=g.Ca().ja,g=l.Ll()?g.G()/l.sk():1);return c.G()*k/(e.sk()*g)}return c.G()*k/e.sk()},!1);class f extends d.fb.tg{constructor(c){super(c);this.$c=this.ac=0;this.FK=this.HK=this.GK=null;this.KW=!1;this.Fr=d.Cn(this.oa.Cc(),
d.V7)?new d.fb.tg.l4(this):new d.fb.tg.k4(this);c=this.oa.Sa.Rd;"world-instance"===this.oa.Zd()&&(c=a.get(c),this.GK=c.Wga,this.HK=c.Qha,this.FK=c.kga,this.KW=c.round)}g(){this.FK=this.HK=this.GK=this.Fr=null;super.g()}mR(c){this.ac=c}Id(){const c=this.Fr.Id();"number"===typeof c&&(this.ac=c);this.$c=0}vg(){const c=this.Fr.vg();"number"===typeof c&&(this.ac=c)}hf(){return this.cm()}Qi(){return this.iq()!==this.hf()}Ri(){return d.Je(this.Ei)?!1:this.Ei!==this.hf()}Vr(){this.Fr.Vr()}up(c,e,k,g,l,n,
q){return this.Fr.up(c,e,k,g,l,n,q)}Tr(){this.Fr.Tr()}cm(){const c=kc(this),e=this.ji(),k=this.oa.Cd,g=this.i();return lc(this,()=>c.Bb(e),()=>c[e],()=>c.jf(e),()=>c.Bb(e),()=>this.GK(g,k))}Ok(c){const e=kc(this),k=this.ji(),g=this.oa.Cd,l=this.i();lc(this,()=>e.$G(k,c),()=>e[k]+=c,()=>e.A6(k,c),()=>e.$G(k,c),()=>this.HK(l,c,g,this))}qU(c){const e=kc(this),k=this.ji(),g=this.oa.Cd,l=this.i();lc(this,()=>e.Jd(k,c),()=>e[k]=c,()=>e.Sn(k,c),()=>e.Jd(k,c),()=>this.FK(l,c,g))}dt(c,e,k,g,l,n){this.Fr.dt(c,
e,k,g,l,n)}Xl(c,e,k){c=(c.toString().split(".")[1]||"").length;const g=this.cm();this.Ok((0===c?this.KW?Math.round(g):g:d.toFixed(g,c))-g,e,k)}ma(){return Object.assign(super.ma(),{v:this.ac,a:this.$c})}wa(c){c&&(super.wa(c),this.ac=c.v,this.$c=c.a)}}d.fb.tg.j4=f}
{"use strict";const d=self.j,a=new Map;class b{constructor(f){this.Ve=f}g(){this.Ve=null}Id(){const f=this.Ve,c=this.Ve.Gl();return ic(f,()=>hc(f,()=>0,()=>d.fb.ej.BA(c)),()=>{})}vg(){}Vr(){const f=this.Ve,c=this.Ve.Gl(),e=c.Sa.Rd;ic(f,()=>{},()=>{var k=c.Ca();a.has(k)||a.set(k,new Map);k=a.get(k);const g=c.Zd();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(e)||k.set(e,{yz:!1,value:0})})}SS(f,c,e){f=a.get(f).get(c).get(e);f.yz=!0;return f}up(f,c,e,k,g,l){const n=this.Ve,q=this.Ve.Gl(),r=q.Sa.Rd;ic(n,
()=>{const p=n.ac;n.Ok(c-p,e,k);l&&this.dt(f,e,k,g,p,c);n.mR(c)},()=>{var p=q.Cc(),w=q.Cd;const t=q.Ca();var v=q.Gd();const x=q.Zd();v=p.qG(t,v,r);if(1<v.length){if(v=mc(v,!0),p=p.Ea(),p=nc(p,v))w=p.time-w.rg(),0===w?this.SS(t,x,r).value+=c:0>w||(w=q.qb(w,!1,!0),this.SS(t,x,r).value+=c-w)}else n.qU(c)});return lc(n,()=>{},()=>d.te.Nl,()=>{},()=>d.te.Nl,()=>d.te.Nl)}Tr(){const f=this.Ve,c=this.Ve.Gl(),e=c.Sa.Rd;ic(f,()=>{},()=>{const k=c.Ca();if(a.has(k)){var g=a.get(k),l=c.Zd();if(g.has(l)){var n=
g.get(l);if(n.has(e)){var q=n.get(e),r=q.value;q.yz&&f.qU(r);n.delete(e);0===n.size&&g.delete(l);0===g.size&&a.delete(k)}}}})}dt(f,c,e,k,g,l){const n=this.Ve;k||(c&&f===c.Ea()?n.Xl(c.Dc(),c,e):e&&f===e.Ea()?n.Xl(e.Dc(),c,e):0===l-g&&n.Xl(c.Dc(),c,e))}}d.fb.tg.k4=b}
{"use strict";const d=self.j;class a{constructor(b){this.Ve=b}g(){this.Ve=null}Id(){const b=this.Ve;b.Ht=!0;return this.sB(b.iq())}vg(){const b=this.Ve;if(b.iq()!==b.pB())return b.Ht=!0,this.sB(b.pB())}Vr(){}up(b,f,c,e,k,g){const l=this.Ve,n=l.ac;ic(l,()=>{l.Ok(f-n,c,e);g&&this.dt(b,c,e,k,n,f)},()=>{jc(l,()=>{l.Ok(n,c,e)},()=>{l.Ok(f-n,c,e);g&&this.dt(b,c,e,k,n,f)})});l.mR(f);return lc(l,()=>{},()=>d.te.Nl,()=>{},()=>d.te.Nl,()=>d.te.Nl)}Tr(){}sB(b){return b-this.Ve.hf()}dt(b,f,c,e,k,g){const l=this.Ve;
e?f&&b===f.Ea()?l.Xl(f.Dc(),f,c):c&&b===c.Ea()?l.Xl(c.Dc(),f,c):c||l.Xl(f.Dc(),f,c):f&&b===f.Ea()?l.Xl(f.Dc(),f,c):c&&b===c.Ea()?l.Xl(c.Dc(),f,c):0===g-k&&l.Xl(f.Dc(),f,c)}}d.fb.tg.l4=a}
{"use strict";const d=self.j,a=self.kv;d.fb.YG=class{constructor(){}static Wl(b,f,c,e){let k;switch(e){case "behavior":k=f.Bb(b);break;case "effect":k=f[b];break;case "instance-variable":k=f.jf(b);break;case "plugin":k=f.Bb(b)}return k===c?!1:!0}static qb(b,f,c,e){if(!c)return c=e.Sa,c=e.lf().Bp(c),c.Dc();var k=e.Xi();"default"===k&&(k="continuous");"combo"===e.Av()&&(k="discrete");if("discrete"===k)return f.Dc();if("continuous"===k||"step"===k){"step"===k&&(k=e.Cc().Bv(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var g=f.Ea();const l=c.Ea();k=f.Dc();const n=c.Dc();if(k===n)return k;b=d.normalize(b,g,l);const q=f.sn();f=f.SF("cubic-bezier");c=c.SF("cubic-bezier");f&&f.Hy&&c&&c.BC?(g=l-g,g=a.Cp(q)(g*b,0,1,g),g=a.Cp("cubicbezier")(g,k,k+f.aM,n+c.bK,n)):g=a.Cp(q)((l-g)*b,k,n-k,l-g);return"integer"===e.Av()?Math.floor(g):g}}}}
{"use strict";const d=self.j;d.fb.GN=class{constructor(){}static Wl(a,b,f,c){let e;switch(c){case "behavior":e=b.Bb(a);break;case "effect":e=b[a];break;case "instance-variable":e=b.jf(a);break;case "plugin":e=b.Bb(a)}return e===f?!1:!0}static qb(a,b,f,c){if(!f)return b=c.Sa,b=c.lf().Bp(b),b.Dc();var e=c.Xi();"default"===e&&(e="continuous");"combo"===c.Av()&&(e="discrete");if("discrete"===e)return b.Dc();if("continuous"===e||"step"===e){"step"===e&&(c=c.Cc().Bv(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.Ea(),g=f.Ea();c=b.Dc();f=f.Dc();if(e=b.SF("angle")){const l=e.LL;if(c===f&&0===l)return c;a=d.normalize(a,k,g);b=self.kv.Cp(b.sn())(a,0,1,1);switch(e.UJ){case "closest":return d.CM(c,f,b,l);case "clockwise":return d.rga(c,f,b,l);case "anti-clockwise":return d.qga(c,f,b,l)}}else{if(c===f)return c;a=d.normalize(a,k,g);b=self.kv.Cp(b.sn());return d.CM(c,f,b(a,0,1,1))}}}}}"use strict";
self.j.fb.MN=class{constructor(){}static Wl(d,a,b,f){let c;switch(f){case "behavior":c=a.Bb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.jf(d);break;case "plugin":c=a.Bb(d)}return!!c===!!b?!1:!0}static qb(d,a,b,f){return b?a.Dc()?1:0:(d=f.Sa,d=f.lf().Bp(d),d.Dc()?1:0)}};
{"use strict";const d=self.j,a=[0,0,0],b=[0,0,0],f=[0,0,0];d.fb.WN=class{constructor(){}static Wl(c,e,k,g){let l;switch(g){case "behavior":l=e.Bb(c);break;case "effect":l=e[c];break;case "instance-variable":l=e.jf(c);break;case "plugin":l=e.Bb(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(f.bF(k),a[0]=Math.floor(255*f.Za),a[1]=Math.floor(255*f.cb),a[2]=Math.floor(255*f.bb));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(f.bF(l),b[0]=Math.floor(255*f.Za),b[1]=Math.floor(255*f.cb),b[2]=Math.floor(255*
f.bb));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static qb(c,e,k,g){if(!k)return e=g.Sa,e=g.lf().Bp(e),e=e.Dc(),a[0]=e[0],a[1]=e[1],a[2]=e[2],a;var l=g.Xi();"default"===l&&(l="continuous");if("discrete"===l)return e=e.Dc(),a[0]=e[0],a[1]=e[1],a[2]=e[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.Cc().Bv(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=e.Ea();l=k.Ea();var n=e.Dc(),q=k.Dc();const r=d.normalize(c,g,l);c=n[0];k=n[1];n=n[2];const p=q[0],w=q[1];q=q[2];e=self.kv.Cp(e.sn());g=l-g;
l=g*r;a[0]=c===p?c:e(l,c,p-c,g);a[1]=k===w?k:e(l,k,w-k,g);a[2]=n===q?n:e(l,n,q-n,g);return a}}}}"use strict";self.j.fb.IR=class{constructor(){}static Wl(d,a,b,f){let c;switch(f){case "behavior":c=a.Bb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.jf(d);break;case "plugin":c=a.Bb(d)}return c===b?!1:!0}static qb(d,a,b,f){return b?a.Dc():(d=f.Sa,d=f.lf().Bp(d),d.Dc())}};
{"use strict";const d=self.j;d.ph=class{constructor(){this.Oy=new Map}g(){for(const a of this.Oy.values())a.g();this.Oy.clear();this.Oy=null}Sc(a){a=new d.O7(a);this.Oy.set(a.Ba(),a)}ea(a){return this.Oy.get(a)}static vw(a,b,f,c){if(b)for(const e of b)d.ph.jS("create",e,a,f,c)}static Dw(a,b,f,c){a.length?b.forEach((e,k)=>{a[k].wa(e)}):b.forEach(e=>{d.ph.jS("load",e,a,f,c)})}static jS(a,b,f,c,e){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,e);break;case "create":k=new c(b,e)}else if("object"===
typeof c)switch(c=c.map.get(b[c.RX]),a){case "load":k=new c(null,e);break;case "create":k=new c(b,e)}switch(a){case "load":k.wa(b);f.push(k);break;case "create":"function"!==typeof k.Dl||k.Dl()?f.push(k):k.g()}}}}
{"use strict";const d=self.j;d.O7=class{constructor(a){this.Fa="";this.yE=NaN;this.sE=0;this.Jg=this.Dg="default";this.TD=this.JD=!1;this.ju=1;this.Ef=null;a&&(this.Fa=a[0],this.yE=a[1],this.sE=a[2],this.Dg=a[3],this.Jg=a[4],this.JD=!!a[6],this.TD=!!a[7],this.ju=a[8],this.Ef=new d.JR(a[5],this))}g(){this.Ef.g();this.Ef=null}yA(){this.Ef||(this.Ef=new d.JR(null,this));return this.Ef}Ba(){return this.Fa}fB(a){this.Fa=a}$d(){return this.yE}Bv(){return this.sE}Xi(){return this.Dg}bj(){return this.Jg}ks(){return this.JD}ns(){return this.TD}un(){return this.ju}ma(){return{trackDataJson:this.Ef.ma(),
name:this.Fa,totalTime:this.yE,step:this.sE,interpolationMode:this.Dg,resultMode:this.Jg,loop:this.JD,pingPong:this.TD,repeatCount:this.ju}}wa(a){a&&(this.yA().wa(a.trackDataJson),this.Fa=a.name,this.yE=a.totalTime,this.sE=a.step,this.Dg=a.interpolationMode,this.Jg=a.resultMode,this.JD=a.loop,this.TD=a.pingPong,this.ju=a.repeatCount)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.Ef=f;this.co=this.$C=null;this.Cm=this.qm=NaN;this.Jg=this.Dg="default";this.xh=!1;this.Ld=this.Xj=null;this.yf="";this.Xt=null;this.bM=0;this.HD=this.Ef.Df.$d();this.za=0;this.Fa="";b&&(b[0]&&(this.$C=b[0],this.qm=b[0][2],this.Cm=b[0][1]),this.Dg=b[1],this.Jg=b[2],this.xh=!!b[3],b[6]&&(this.yf=b[6]),b[7]&&(this.Xt=b[7],this.bM=b[7][0],this.HD=b[7][1]),b[8]&&(this.co=b[8]),b[8]&&(this.co=b[8]),b[9]&&(this.za=b[9]),b[10]&&(this.Fa=b[10]),this.Xj=
new d.NP(b[4],this),this.Ld=new d.wQ(b[5],this))}g(){this.Ef=this.$C=null;this.Xj&&(this.Xj.g(),this.Xj=null);this.Ld&&(this.Ld.g(),this.Ld=null);this.Xt=null}yA(){return this.Ef}Zi(){this.Xj||(this.Xj=new d.NP(null,this));return this.Xj}lf(){this.Ld||(this.Ld=new d.wQ(null,this));return this.Ld}kG(){return this.Cm}yv(){return this.qm}Xi(){return this.Dg}bj(){return this.Jg}Dl(){return this.xh}Tl(b){this.xh=!!b}qk(){return this.yf}rg(){return this.bM}Fl(){return this.HD}uk(){return this.co[0]}sk(){this.co||
(this.co=[]);return this.co[1]}yk(){return this.za}Ba(){return this.Fa}ma(){return{keyframeDataJson:this.Xj.ma(),propertyTrackDataJson:this.Ld.ma(),instanceData:this.$C,additionalInstanceData:this.co,instanceUid:this.qm,objectClassIndex:this.Cm,interpolationMode:this.Dg,resultMode:this.Jg,enabled:this.xh,id:this.yf,nestedData:this.Xt,type:this.za,name:this.Fa}}wa(b){b&&(this.$C=b.instanceData,this.qm=b.instanceUid,this.Cm=b.objectClassIndex,this.Dg=b.interpolationMode,this.Jg=b.resultMode,this.xh=
b.enabled,this.yf=b.id,this.za=b.type?b.type:0,this.za=b.name?b.name:"",this.HD=this.Ef.Df.$d(),b.nestedData&&(this.Xt=b.nestedData,this.bM=this.Xt[0],this.HD=this.Xt[1]),b.additionalInstanceData&&(this.co=b.additionalInstanceData),this.Zi().wa(b.keyframeDataJson),this.lf().wa(b.propertyTrackDataJson))}}d.JR=class{constructor(b,f){this.Df=f;this.Dr=[];this.Tx=new Map;d.ph.vw(this.Dr,b,a,this)}g(){this.Df=null;for(const b of this.Dr)b.g();d.C(this.Dr);this.Dr=null;this.Tx.clear();this.Tx=null}q1(b,
f){const c=this.Tx.get(f);if(c&&c.has(b))return c.get(b);for(const e of f.Zi().EX())if(e.Ea()===b)return c||this.Tx.set(f,new Map),this.Tx.get(f).set(b,e),e}b1(b,f){for(const c of f.Zi().EX())if(c.Ea()>=b)return c}c1(b,f){for(const c of f.Zi().mha())if(c.Ea()<=b)return c}*Xha(){for(const b of this.Dr)yield b}ma(){return{trackDataItemsJson:this.Dr.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.Dr,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.Ld=f;this.kE="";this.za=this.Rd=this.Gh=null;this.mL=this.qL=NaN;this.Jg=this.Dg="default";this.xh=!1;this.fl=null;b&&(this.kE=b[0][0],this.Gh=b[0].slice(1),this.Rd=b[1],this.za=b[2],this.qL=b[3],this.mL=b[4],this.Dg=b[5],this.Jg=b[6],this.xh=!!b[7],this.fl=new d.vQ(b[8],this))}g(){this.fl.g();this.Gh=this.Ld=this.fl=null}lf(){return this.Ld}aj(){this.fl||(this.fl=new d.vQ(null,this));return this.fl}Zd(){return this.kE}yk(){return this.za}AR(b){this.za=
b}Xi(){return this.Dg}bj(){return this.Jg}Dl(){return this.xh}Tl(b){this.xh=!!b}ma(){return{propertyKeyframeDataJson:this.fl.ma(),sourceAdapterId:this.kE,sourceAdapterArguments:this.Gh,property:this.Rd,type:this.za,min:this.qL,max:this.mL,interpolationMode:this.Dg,resultMode:this.Jg,enabled:this.xh}}wa(b){b&&(this.kE=b.sourceAdapterId,this.Gh=b.sourceAdapterArguments,this.Rd=b.property,this.za=b.type,this.qL=b.min,this.mL=b.max,this.Dg=b.interpolationMode,this.Jg=b.resultMode,this.xh=b.enabled,this.aj().wa(b.propertyKeyframeDataJson))}}
d.wQ=class{constructor(b,f){this.fc=f;this.nr=[];this.my=new Map;d.ph.vw(this.nr,b,a,this)}g(){this.fc=null;for(const b of this.nr)b.g();d.C(this.nr);this.nr=null;this.my.clear();this.my=null}kA(b){return b.aj().cd[0]}Bp(b){return b.aj().cd.$e(-1)}mG(b,f){const c=this.my.get(f);if(c&&c.has(b))return c.get(b);const e=f.aj();for(const k of e.mN())if(k.Ea()===b)return c||this.my.set(f,new Map),this.my.get(f).set(b,k),k}IO(b,f){f=f.aj();for(const c of f.mN())if(c.Ea()>b)return c}dG(b,f){f=f.aj();for(const c of f.mN())if(c.Ea()>=
b)return c}eG(b,f){f=f.aj();for(const c of f.Dha())if(c.Ea()<=b)return c}*Fha(){for(const b of this.nr)yield b}ma(){return{propertyTrackDataItemsJson:this.nr.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.nr,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.Xj=f;this.ed=-1;this.Ij="noease";this.Jj=!1;this.$x=this.Jh=null;b&&(this.ed=b[0],this.Ij=b[1],this.Jj=!!b[2],this.Jh=(b=b[3])?b.split(" "):[],this.$x=new Set(this.Jh.map(c=>c.toLowerCase())))}g(){this.Xj=null;d.C(this.Jh);this.Jh=null;this.$x.clear();this.$x=null}Zi(){return this.Xj}Ea(){return this.ed}Ts(b){this.ed=b}sn(){return this.Ij}Gk(b){this.Ij=b}Dl(){return this.Jj}Tl(b){this.Jj=!!b}Rs(b){this.Jh=b?b.split(" "):[];this.$x=new Set(this.Jh.map(f=>
f.toLowerCase()))}ma(){return{time:this.ed,ease:this.Ij,enable:this.Jj,tags:this.Jh}}wa(b){b&&(this.ed=b.time,this.Ij=b.ease,this.Jj=b.enable,this.Jh=b.tags,this.$x=new Set(this.Jh.map(f=>f.toLowerCase())))}}d.NP=class{constructor(b,f){this.fc=f;this.ad=[];d.ph.vw(this.ad,b,a,this)}g(){this.fc=null;for(const b of this.ad)b.g();d.C(this.ad);this.ad=null}tY(){const b=new a(null,this);this.ad.push(b);return b}b_(b){for(const f of this.ad){if(!b(f))continue;const c=this.ad.indexOf(f);-1!==c&&(f.g(),this.ad.splice(c,
1))}this.z7()}z7(){this.ad.sort((b,f)=>b.Ea()-f.Ea())}s1(b){return this.ad.indexOf(b)}r1(b){return this.ad[b]}*EX(){for(const b of this.ad)yield b}*mha(){for(let b=this.ad.length-1;0<=b;b--)yield this.ad[b]}ma(){return{keyframeDataItemsJson:this.ad.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.ad,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(b,f){this.fl=f;this.ki=this.Md=null;this.za="";this.ed=NaN;this.Ij="noease";this.Jj=!1;this.sj=null;b&&(this.Md=b[0][0],this.ki=b[0][1],this.za=b[0][2],this.ed=b[1],this.Ij=b[2],this.Jj=!!b[3],this.sj=null,b[4]&&(this.sj=new d.HY(b[4],this)))}g(){this.fl=null;this.sj&&(this.sj.g(),this.sj=null)}ae(){return this.Md}jh(b){"color"===this.za&&d.Bn(b)?(this.Md[0]=d.oG(b),this.Md[1]=d.gG(b),this.Md[2]=d.UF(b)):this.Md=b}WQ(b){"color"===this.za&&d.Bn(b)?(this.ki[0]=
d.oG(b),this.ki[1]=d.gG(b),this.ki[2]=d.UF(b)):this.ki=b}Dc(){const b=this.fl.Sa.bj();if("relative"===b)return this.ae();if("absolute"===b)return this.ki}yk(){return this.za}AR(b){this.za=b}Ea(){return this.ed}Ts(b){this.ed=b}sn(){return this.Ij}Gk(b){this.Ij=b}Dl(){return this.Jj}Tl(b){this.Jj=!!b}SF(b){if(this.sj)for(const f of this.sj.lga())if(f.qk()===b)return f}ma(){const b=this.sj;return{addonDataJson:b?b.ma():b,value:this.Md,aValue:this.ki,type:this.za,time:this.ed,ease:this.Ij,enable:this.Jj}}wa(b){b&&
(b.addonDataJson&&this.sj.gra(b.addonDataJson),this.Md=b.value,this.ki=b.aValue,this.za=b.type,this.ed=b.time,this.Ij=b.ease,this.Jj=b.enable)}}d.vQ=class{constructor(b,f){this.Sa=f;this.cd=[];d.ph.vw(this.cd,b,a,this)}g(){this.Sa=null;for(const b of this.cd)b.g();d.C(this.cd);this.cd=null}uY(){const b=new a(null,this);this.cd.push(b);return b}d_(b){for(const f of this.cd){if(!b(f))continue;const c=this.cd.indexOf(f);-1!==c&&(f.g(),this.cd.splice(c,1))}this.A7()}A7(){this.cd.sort((b,f)=>b.Ea()-f.Ea())}*mN(){for(const b of this.cd)yield b}*Dha(){for(let b=
this.cd.length-1;0<=b;b--)yield this.cd[b]}ma(){return{propertyKeyframeDataItemsJson:this.cd.map(b=>b.ma())}}wa(b){b&&d.ph.Dw(this.cd,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.j;class a{constructor(c,e){this.sj=e;this.yf=c[0];this.mm=c[1]}g(){this.mm=this.sj=null}qk(){return this.yf}ma(){return{id:this.yf,data:this.mm}}wa(c){c&&(this.yf=c.id,this.mm=c.data)}}class b extends a{constructor(c,e){super(c,e);this.aM=this.mm[0];this.Hy=!!this.mm[1];this.bK=this.mm[2];this.BC=!!this.mm[3]}g(){super.g()}ma(){return Object.assign(super.ma(),{startAnchor:this.aM,startEnable:!!this.Hy,endAnchor:this.bK,endEnable:!!this.BC})}wa(c){c&&(super.wa(c),this.aM=
c.startAnchor,this.Hy=!!c.startEnable,this.bK=c.endAnchor,this.BC=!!c.endEnable)}}class f extends a{constructor(c,e){super(c,e);this.UJ=this.mm[0];this.LL=this.mm[1]}g(){super.g()}ma(){return Object.assign(super.ma(),{direction:this.UJ,revolutions:this.LL})}wa(c){c&&(super.wa(c),this.UJ=c.direction,this.LL=c.revolutions)}}d.HY=class{constructor(c){this.tq=[];d.ph.vw(this.tq,c,{RX:0,map:new Map([["cubic-bezier",b],["angle",f]])},this)}g(){for(const c of this.tq)c.g();d.C(this.tq);this.tq=null}*lga(){for(const c of this.tq)yield c}ma(){return{addonDataItemsJson:this.tq.map(c=>
c.ma())}}wa(c){c&&d.ph.Dw(this.tq,c.addonDataItemsJson,{RX:"id",map:new Map([["cubic-bezier",b],["angle",f]])},this)}}}
{"use strict";const d=self.j;let a=0;d.V7=class extends d.te{constructor(b,f){super(`tween-${a++}`,b,f);this.yf="";this.WU=!1;this.BK="start-value";this.sW=this.rW=null}Ca(){var b=this.Ub;if(b&&b.length&&(b=b[0])){var f=b.Ca();return b.Kl()?f:null}}qk(){return this.yf}oQ(){if(this.sW)for(const b of this.sW)b(this);if(!this.zg)for(const b of this.Ub)b.Ri()}fQ(){this.pt=this.b.hl}tO(){if(!this.Lq&&(this.Lq=!0,this.rW))for(const b of this.rW)b(this)}Ts(b){this.nS();super.Ts(b)}Id(b){if(!this.xo&&"current-state"===
this.BK)for(const f of this.Ub)f.Qi();super.Id(b)}nh(b=!1){super.nh(b);if(!this.zg)for(const f of this.Ub)f.Xp()}kd(b=!0,f=!1){this.nS();super.kd(b,f)}nS(){for(const b of this.Ub){const f=c=>{c=c.Ea();const e=this.$d();return 0!==c&&c!==e};b.c_(f);b.JF(f)}}BB(){if(this.Di)return!0;const b=this.Ca();if(b&&b.I().eh())return!1;this.Lb.Oz(this);this.OQ();return!0}ZP(){}ge(){const b=this.Ca();super.ge(this.H().yp(b),1)}ma(){const b=super.ma();return Object.assign(b,{tweenDataItemJson:this.Df.ma(),id:this.yf,
destroyInstanceOnComplete:this.WU,initialValueMode:this.BK})}wa(b){b&&(this.Df.wa(b.tweenDataItemJson),super.wa(b),this.yf=b.id,this.WU=b.destroyInstanceOnComplete,this.BK=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.j,a=self.kv;d.LR=class extends d.ia{constructor(b){super();this.Fa=b[0];this.Ji=[];for(const f of b[1])b=d.MR.Ta(this,f),this.Ji.push(b);this.ky=new Map;this.zE=new Map;this.eca();a.sY(this.Fa,(f,c,e,k)=>this.qb(f,c,e,k))}static Ta(b){return d.A(d.LR,b)}g(){for(const b of this.Ji)b.g();d.C(this.Ji);this.Ji=null;this.ky.clear();this.ky=null;this.zE.clear();this.zE=null}P1(b){const f=this.zE.get(b);if(f)return f;for(const c of this.Ji)if(c.Ff===b)return this.zE.set(b,c),c}f1(b){for(const f of this.Ji)if(f.Ff>
b)return f}e1(b){for(const f of this.Ji)if(f.Ff>=b)return f}g1(b){for(let f=this.Ji.length-1;0<=f;f--){const c=this.Ji[f];if(c.Ff<=b)return c}}qb(b,f,c,e){var k=b/e;(b=this.P1(k))?e=this.f1(k):(b=this.g1(k),e=this.e1(k));k=d.sha(k,b.Ff,e.Ff,e.Ff-b.Ff);const g=b.Ff,l=b.Yy,n=b.Ff+b.UW,q=b.Yy+b.bga,r=e.Ff+e.bV,p=e.Yy+e.hfa,w=e.Ff;e=e.Yy;e=a.Cp("spline")(k,g,l,n,q,r,p,w,e,this.ky.get(b));e+=b.Yy;return(1-e)*f+e*(f+c)}eca(){this.ky.clear();for(let f=0;f<this.Ji.length-1;f++){var b=this.Ji[f];if(!b.Hy)continue;
const c=this.Ji[f+1];this.ky.set(b,a.G0(b.Ff,b.Ff+b.UW,c.Ff+c.bV,c.Ff))}}}}{"use strict";const d=self.j;d.MR=class extends d.ia{constructor(a,b){super();this.Ff=b[0];this.Yy=b[1];this.UW=b[2];this.bga=b[3];this.bV=b[4];this.hfa=b[5];this.Hy=b[6];this.BC=b[7]}g(){}static Ta(a,b){return d.A(d.MR,a,b)}}}{"use strict";const d=self.j;d.T7=class extends d.ia{constructor(a){super();this.b=a;this.AE=[]}g(){for(const a of this.AE)a.g();d.C(this.AE);this.AE=null}Ta(a){this.AE.push(d.LR.Ta(a))}}}
{"use strict";const d=self.j;d.y7=class extends d.ia{constructor(a){super();this.N=a;this.lb=[];this.lb.push(d.A(d.IH,this));this.Va=0;this.Dj=this.lb[0]}g(){for(const a of this.lb)a.g();d.C(this.lb);this.N=this.Dj=null}I(){return this.N}Z(){return this.Dj}Jc(){this.Z().Jc()}g5(){var a=this.lb,b=++this.Va;b===a.length?(b=d.A(d.IH,this),a.push(b),this.Dj=b):(a=a[b],a.kd(),this.Dj=a)}h5(){const a=this.lb,b=++this.Va;b===a.length&&a.push(d.A(d.IH,this));const f=a[b];f.GZ(a[b-1]);this.Dj=f}Ia(){this.Dj=
this.lb[--this.Va]}Rp(a){const b=this.lb;for(let f=0,c=b.length;f<c;++f)b[f].Rp(a)}}}
{"use strict";const d=self.j;d.IH=class extends d.ia{constructor(a){super();this.lb=a;this.N=this.lb.I();this.he=this.N.H().hd();this.ec=!0;this.D=[];this.xc=[]}g(){this.Kz();this.he=this.N=this.lb=null}Kz(){d.C(this.D);d.C(this.xc)}I(){return this.N}yG(){return this.ec?!!this.N.D.length:!!this.D.length}la(){return this.ec?this.N.la():this.D}X1(){return!!this.xc.length}W0(){const a=this.la();return a.length?a:this.xc}kd(){this.ec=!0;d.C(this.xc)}Jc(){this.ec=!0}GZ(a){a.ec?this.kd():(this.ec=!1,d.xd(this.D,
a.D),d.C(this.xc))}lq(a){this.D.push(a)}ao(a){this.xc.push(a)}Me(a){this.ec=!!a}Hk(a){this.ec=!1;d.C(this.D);this.D.push(a)}$v(a){this.ec=!1;d.xd(this.D,a)}lw(a){this.ec=!1;d.C(this.D);for(const b of a)this.D.push(b)}EN(a,b){for(const f of b)a.has(f)||this.xc.push(f)}R7(a){for(const b of a)this.D.push(b);d.Oh(this.xc,a)}Jn(a){a&&(this.he.gf().Gb().je?(this.ec&&(d.C(this.D),d.xd(this.xc,a.I().la()),this.ec=!1),a=this.xc.indexOf(a),-1!==a&&(this.D.push(this.xc[a]),this.xc.splice(a,1))):this.Hk(a))}Rp(a){d.Oh(this.D,
a);d.Oh(this.xc,a)}}}
{"use strict";const d=self.j;d.o0=class extends d.ia{constructor(a){super();this.ya=a;this.b=this.ya.H();this.lb=[];this.lb.push(d.A(d.pO,this,null));this.Va=0;this.DC=[]}g(){for(const a of this.lb)a.g();d.C(this.lb);d.C(this.DC);this.b=this.ya=null}ka(){return this.ya}H(){return this.b}gf(){return this.lb[this.Va]}Na(a){var b=this.lb;const f=++this.Va;if(f===b.length)return a=d.A(d.pO,this,a),b.push(a),a;b=b[f];b.kd(a);return b}Ia(){--this.Va}i5(a){this.DC.push(a)}a5(){this.DC.pop()}N0(){const a=this.DC;
return 0===a.length?null:a.$e(-1)}}}
{"use strict";const d=self.j;d.pO=class extends d.ia{constructor(a,b){super();this.lb=a;this.b=this.lb.H();this.jx=b;this.xg=this.km=0;this.aK=this.cr=!1;this.fK=null;this.oK=this.oV=0}g(){this.kd(null);this.b=this.lb=null}kd(a){this.jx=a;this.xg=this.km=0;this.aK=this.cr=!1}MI(a,b){this.jx=a;this.km=0;this.xg=b}PQ(){this.xg=this.km=0}Gb(){return this.jx}ih(a){this.jx=a}Pn(a){this.km=a}YA(a){this.xg=a}Tn(a){this.cr=!!a}Ms(a){this.aK=!!a}n6(a){this.fK=a}H2(a,b){this.oV=a;this.oK=b}cB(a){this.oK=a}Ck(){const a=
this.jx;return a.pD?!0:this.km<a.kc.length-1?!!a.Fd().length:!1}}}{"use strict";const d=self.j;d.X3=class extends d.ia{constructor(a){super();this.ya=a;this.b=this.ya.H();this.lb=[];this.Va=-1;this.Dj=null;this.YC=[]}g(){d.C(this.lb);this.b=this.ya=null}Hda(a){this.YC=a;a=this.YC.slice(0);this.lb.push(a);this.Va=0;this.Dj=a}ka(){return this.ya}H(){return this.b}es(){return this.Dj}Na(){const a=++this.Va,b=this.lb;a===b.length?b.push(this.YC.slice(0)):d.xd(b[a],this.YC);this.Dj=b[a]}Ia(){this.Dj=this.lb[--this.Va]}}}
{"use strict";const d=self.j;d.Z3=class extends d.ia{constructor(a){super();this.ya=a;this.b=this.ya.H();this.lb=[];this.Va=-1}g(){d.C(this.lb);this.b=this.ya=null}ka(){return this.ya}H(){return this.b}HP(){return 0<=this.Va}es(){return this.lb[this.Va]}Na(){++this.Va;if(this.Va===this.lb.length){var a=d.A(d.Y3,this);this.lb.push(a);return a}a=this.lb[this.Va];a.kd();return a}Ia(){--this.Va}v0(a){const b=this.lb;for(let f=this.Va;0<=f;--f){const c=b[f];if(c.Ba()===a)return c}return null}}}
{"use strict";const d=self.j;d.Y3=class extends d.ia{constructor(a){super();this.bg=a;this.Fa="";this.Va=0;this.Hc=!1}kd(){this.Fa="";this.Va=0;this.Hc=!1}fB(a){this.Fa=a}Ba(){return this.Fa}Vc(a){this.Va=a}Ha(){return this.Va}nh(){this.Hc=!0}}}{"use strict";const d=self.j;d.PY=class extends d.ia{constructor(){super();this.lb=[];this.Va=-1}g(){d.C(this.lb)}es(){return this.lb[this.Va]}Na(){++this.Va;if(this.Va===this.lb.length){const a=[];this.lb.push(a);return a}return this.lb[this.Va]}Ia(){--this.Va}}}
{"use strict";const d=self.j;function a(b,f){return b.Ha()-f.Ha()}d.n0=class extends d.ia{constructor(b){super();this.b=b;this.Uw=[];this.SL=new Map;this.rJ=[];this.sV=new Map;this.GJ=new Map;this.NJ=new Map;this.TB=new Map;this.IU=new Map;this.dK=new Map;this.Qfa=0;this.qJ=[];this.Lea=[];this.fW=[];this.mK=new Map;this.he=d.A(d.o0,this);this.Kd=d.A(d.X3,this);this.bg=d.A(d.Z3,this);this.lM=[];this.aE=[];this.$D=[];this.FJ=this.om=this.Km=0;this.Kg=[];this.bC=[];self.c3_callFunction=(f,c)=>this.AB(f,
c)}g(){this.Jz();this.he.g();this.he=null;this.Kd.g();this.Kd=null;d.C(this.aE);d.C(this.$D);this.b=null;d.C(this.Uw);this.SL.clear()}Ta(b){b=d.A(d.m0,this,b);this.Uw.push(b);this.SL.set(b.Ba().toLowerCase(),b)}P8(b){this.lM.push(b)}Sb(){for(const b of this.mK.values())b.Sb(!1);for(const b of this.Uw)b.Sb();for(const b of this.Uw)b.cJ();for(const b of this.lM)b.Sb(!1);d.C(this.lM);this.Kd.Hda(this.fW)}H(){return this.b}GO(b){return this.SL.get(b.toLowerCase())||null}qca(b){this.rJ.push(b);this.sV.set(b.rV,
b)}nca(b){this.GJ.set(b.jb,b)}mca(b){this.NJ.set(b.jb,b)}lca(b){this.TB.set(b.jb,b)}pca(b){this.mK.set(b.PC.toLowerCase(),b)}oca(b){this.dK.set(b.jb,b);b.eh()?this.qJ.push(b):this.Lea.push(b)}qB(b){2<=b.length&&b.sort(a);let f=this.IU.get(b.length);f||(f=[],this.IU.set(b.length,f));for(let e=0,k=f.length;e<k;++e){const g=f[e];a:{for(let l=0,n=b.length;l<n;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}f.push(b);return b}iaa(b){this.fW.push(b.Uq);return this.Qfa++}hd(){return this.he}Mf(){return this.hd().gf()}Gb(){return this.Mf().Gb()}ng(){const b=
this.Mf();return b.Gb().CO(b.km)}vv(){const b=this.Mf();return b.Gb().vO(b.xg)}D0(b){const f=[];for(b=b.qs();b;)d.gp(f,b.CS()),b=b.qs();return f}MS(b){const f={};for(const c of this.D0(b))f[c.Yi()]=c.OS();return Object.create(Object.prototype,f)}bG(b){return this.dK.get(b)||null}S0(b){return this.GJ.get(b)||null}B0(b){return this.TB.get(b)||null}mA(b){return this.mK.get(b.toLowerCase())||null}D5(){for(const b of this.qJ)b.I5()}FO(b){return this.sV.get(b.toLowerCase())||null}T0(b){return(b=this.GJ.get(b))&&
b.Tj?b:null}E5(){for(const b of this.rJ)b.F5()}JT(){for(const b of this.Uw)b.Fca()}P5(b){this.JT();this.Km++;for(const f of b.wz())if(b=f.td)this.b.Wv(f),b.ra(),this.b.Uv();this.Km--}async XZ(b){this.JT();this.Km++;for(const f of this.U9(b))await this.b.Zr(f);this.Km--}*U9(b){for(const f of b.wz())if(b=f.td)this.b.Wv(f),yield*b.ob(),this.b.Uv()}Sw(b,f,c,e){let k=!1;if(!b.Wb())return this.fH(f,c,e);this.om++;for(const g of b.wz())if(b=g.td){this.b.Wv(g);for(const l of b.sC){const n=l.Sw(f,c,e);k=k||
n}b=b.Sw(f,c,e);k=k||b;this.b.Uv()}this.om--;return k}*xw(b,f,c,e){let k=!1;if(!b.Wb())return this.fH(f,c,e);this.om++;for(const g of b.wz())if(b=g.td){this.b.Wv(g);for(const l of b.sC){const n=yield*l.xw(f,c,e);k=k||n}b=yield*b.xw(f,c,e);k=k||b;this.b.Uv()}this.om--;return k}fH(b,f,c){this.aE.push([b,f,c]);return!1}m5(b,f,c){let e=null;const k=new Promise(g=>e=g);this.$D.push([b,f,c,e]);return k}*Pca(){if(this.b.Iv())throw Error("should not be in breakpoint");const b=this.b.gb;for(;this.$D.length;){const [f,
c,e,k]=this.$D.shift(),g=yield*this.xw(b,f,c,e);k(g)}}async SQ(){for(const b of this.Pca())await this.b.Zr(b)}OG(){return 0<this.om}Bw(){return++this.om}yw(){--this.om}F3(){return 0<this.Km}JA(){return this.F3()||this.OG()}Qca(b){for(const [f,c,e]of this.aE)this.Sw(b,f,c,e);d.C(this.aE)}df(b){b?this.FJ++:this.FJ--}GP(){return 0<this.FJ}Xr(b){for(let f=0,c=b.length;f<c;++f)b[f].Lo.Jc()}gh(b){for(let f=0,c=b.length;f<c;++f)b[f].Lo.g5()}de(b){for(let f=0,c=b.length;f<c;++f)b[f].Lo.h5()}Db(b){for(let f=
0,c=b.length;f<c;++f)b[f].Lo.Ia()}rF(){const b=d.A(d.pH,this);this.Kg.push(b);return b}R5(){if(this.Kg.length){var b=this.Mf(),f=!1;this.Km++;for(let c=0,e=this.Kg.length;c<e;++c){const k=this.Kg[c];k.rU()&&k.Hca(b);k.zy&&(f=!0)}f&&this.zS();this.Km--}}async ZZ(){if(this.Kg.length){var b=this.Mf(),f=!1;this.Km++;for(let c=0,e=this.Kg.length;c<e;++c){const k=this.Kg[c];k.rU()&&await k.O9(b);k.zy&&(f=!0)}f&&this.zS();this.Km--}}zS(){const b=d.tga(this.Kg,f=>f.zy);for(const f of b)f.g()}Jz(){for(const b of this.Kg)b.g();
d.C(this.Kg)}t5(b){for(const f of this.Kg)f.Rp(b)}pF(b){this.bC.push(b)}Lz(){d.C(this.bC)}H1(){const b=Promise.all(this.bC);this.bC=[];return b}ma(){return{groups:this.Xca(),cnds:this.Wca(),acts:this.Vca(),vars:this.hda(),waits:this.dda()}}wa(b){this.Zaa(b.groups);this.Taa(b.cnds);this.Saa(b.acts);this.kba(b.vars);this.gba(b.waits)}Xca(){const b={};for(const f of this.rJ)b[f.jb.toString()]=f.ws();return b}Zaa(b){for(const [f,c]of Object.entries(b))(b=this.T0(parseInt(f,10)))&&b.Ns(c)}Wca(){const b=
{};for(const [f,c]of this.NJ){const e=c.ma();e&&(b[f.toString()]=e)}return b}Taa(b){const f=new Map;for(const [c,e]of Object.entries(b))f.set(parseInt(c,10),e);for(const [c,e]of this.NJ)e.wa(f.get(c)||null)}Vca(){const b={};for(const [f,c]of this.TB){const e=c.ma();e&&(b[f.toString()]=e)}return b}Saa(b){const f=new Map;for(const [c,e]of Object.entries(b))f.set(parseInt(c,10),e);for(const [c,e]of this.TB)e.wa(f.get(c)||null)}hda(){const b={};for(const [f,c]of this.dK)c.zb||!c.eh()&&!c.wi||(b[f.toString()]=
c.ae());return b}kba(b){for(const [f,c]of Object.entries(b))(b=this.bG(parseInt(f,10)))&&b.jh(c)}dda(){return this.Kg.filter(b=>!b.D3()).map(b=>b.ma())}gba(b){this.Jz();for(const f of b)(b=d.pH.t9(this,f))&&this.Kg.push(b)}QF(b){for(;b;)if(b=b.qs(),b instanceof d.pv)return b;return null}AB(b,f){Array.isArray(f)||(f=[]);b=this.mA(b.toLowerCase());if(!b)return null;if(!b.jd())return b.YF();var c=b.yh;if(f.length<c.length){f=f.slice(0);do f.push(c[f.length].Uq);while(f.length<c.length)}c=b.Nf();return c.QQ(c.Od(),
b.Jo,b.YF(),...f)}}}
{"use strict";const d=self.j;d.m0=class extends d.ia{constructor(a,b){super();this.ya=a;this.b=a.H();this.Fa=b[0];this.CC=[];this.DE=new Map;this.hV=new Map;this.ifa=new Map;this.zx=!1;this.NW=[];this.sC=[];this.JU=new Set;for(const f of b[1])this.kS(f,null,this.CC);this.bk=this.b.Jb?{type:"sheet",name:this.Fa,xz:0,children:[]}:null}g(){this.b=this.ya=null}kS(a,b,f){switch(a[0]){case 0:case 3:this.r9(a,b,f);break;case 1:this.s9(a,b,f);break;case 2:this.w9(a,b,f);break;case 4:this.u9(a,b);break;case 5:this.B9(a,
b,f);break;default:throw Error("invalid event type");}}r9(a,b,f){a=d.qn.Ta(this,b,a);if(a.je){f.push(a);f=a.kc;for(let c=0,e=f.length;c<e;++c)f[c].Np()&&this.ZS(a,c)}else a.Np()?this.ZS(a,0):f.push(a)}u9(a,b){a=d.pv.Ta(this,b,a);this.ya.pca(a)}s9(a,b,f){a=d.Wz.Ta(this,b,a);f.push(a)}w9(a,b,f){a=d.oO.Ta(this,b,a);f.push(a)}B9(a,b,f){a=d.Vz.Ta(this,b,a);f.push(a)}ZS(a,b){a.je||this.ya.P8(a);var f=a.CO(b),c=f.Pa,e=f.I();if(f.KV){var k=this.hV.get(e);k||(k=new Map,this.hV.set(e,k));f=f.Y0().toLowerCase();
e=k.get(c);e||(e=new Map,k.set(c,e));c=e.get(f);c||(c=[],e.set(f,c));c.push([a,b])}else k=this.DE.get(e),k||(k={$M:new Map,az:new Map},this.DE.set(e,k)),(e=f.Uh())?(f=k.az.get(e),f||(f=new Map,k.az.set(e,f))):f=k.$M,k=f.get(c),k||(k=[],f.set(c,k)),k.push([a,b])}Sb(){const a=this.CC;for(let b=0,f=a.length;b<f;++b)a[b].Sb(b<f-1&&a[b+1]instanceof d.qn&&a[b+1].IA())}N8(a){this.NW.push(a)}cJ(){d.C(this.sC);this.WR(this);this.JU.clear()}WR(a){const b=a.sC,f=a.JU;for(const c of this.NW){const e=c.Gx;c.Nb&&
a!==e&&!f.has(e)&&(f.add(e),e.WR(a),b.push(e))}}ka(){return this.ya}H(){return this.b}Ba(){return this.Fa}BT(a,b){this.ifa.set(b,a)}Fca(){this.zx=!1}ra(){if(!this.zx){var a=this.b,b=a.HG(),f=b?performance.now():0;this.zx=!0;var c=this.ka(),e=c.Mf();for(const k of this.CC)k.ra(e),c.Xr(k.Fd()),c.Lz(),a.pe();e.kd(null);b&&(this.bk.xz+=performance.now()-f)}}*ob(){if(!this.zx){this.zx=!0;var a=this.b,b=this.ka(),f=b.Mf();for(const c of this.CC)yield*c.ob(f),b.Xr(c.Fd()),b.Lz(),a.pe();f.kd(null)}}Sw(a,
b,f){if(b){const c=b.I();this.aJ(a,b,c,f);for(const e of c.ti)this.aJ(a,b,e,f)}else return this.aJ(a,b,null,null)}aJ(a,b,f,c){f=this.DE.get(f);if(!f)return!1;c=c?f.az.get(c):f.$M;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [e,k]of c)c=this.yS(b,e,k),a=a||c;return a}*xw(a,b,f){if(b){const c=b.I();yield*this.hI(a,b,c,f);for(const e of c.ti)yield*this.hI(a,b,e,f)}else return yield*this.hI(a,b,null,null)}*hI(a,b,f,c){f=this.DE.get(f);if(!f)return!1;c=c?f.az.get(c):f.$M;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [e,k]of c)c=e.ff()?this.yS(b,e,k):yield*this.I9(b,e,k),a=a||c;return a}yS(a,b,f){const c=this.b,e=this.ya,k=e.Gb(),g=e.hd(),l=e.om;let n=!1;k&&e.gh(k.Od());e.gh(b.Od());const q=1<l;q&&e.Kd.Na();const r=g.Na(b);a&&(b.kc[f].I().Z().Hk(a),a.Kc()&&a.kj());a=!0;if(b.Da()){const p=b.Er;for(let w=0,t=p.length;w<t;++w)if(!p[w].RQ(r)){a=!1;break}}a&&(c.Jl(),b.je?b.Q5(r,f):b.ra(r),n=r.cr);g.Ia();q&&e.Kd.Ia();e.Db(b.Od());k&&e.Db(k.Od());k||1!==l||(e.Lz(),e.GP()||c.pe());return n}*I9(a,
b,f){const c=this.b,e=this.ya,k=e.Gb(),g=e.hd(),l=e.om;let n=!1;k&&e.gh(k.Od());e.gh(b.Od());const q=1<l;q&&e.Kd.Na();const r=g.Na(b);a&&(b.kc[f].I().Z().Hk(a),a.Kc()&&a.kj());a=!0;if(b.Da()){const p=b.Er;for(let w=0,t=p.length;w<t;++w)if(!(yield*p[w].gO(r))){a=!1;break}}a&&(c.Jl(),b.je?yield*b.YZ(r,f):yield*b.ob(r),n=r.cr);g.Ia();q&&e.Kd.Ia();e.Db(b.Od());k&&e.Db(k.Od());k||1!==l||(e.Lz(),e.GP()||c.pe());return n}}}
{"use strict";const d=self.j,a=[];function b(){return!0}function*f(){return!0}d.qn=class extends d.ia{constructor(c,e,k){super();this.td=c;this.b=c.H();this.Nc=e;this.Be=null;this.he=this.b.ka().hd();this.Bf=[];this.lu=[];this.wx=this.rD=this.pD=this.xV=!1;this.je=!!k[2];this.eD=!1;this.Er=null;this.kc=[];this.rh=[];this.Ii=[];this.qj=b;this.hq=f;this.OK=this.Tj=!1;this.rV="";this.gD=!1;this.bk=this.oC=null;this.jb=k[4];this.Ct=k[5];this.td.BT(this,this.Ct);this.Qa=this.b.Jb?{vd:k[3][0],VM:k[3][1],
lX:!1,FM:!1,GM:!1,mX:!1}:null;this.ka().nca(this);3===k[0]&&this.Aaa(k[1]);c=0;for(var g of k[6])e=d.YN.Ta(this,g,c++),this.kc.push(e),this.aS(e.I());c=0;for(const l of k[7])g=d.Cz.Ta(this,l,c++),this.rh.push(g);if(9===k.length){k=k[8];for(const l of k)this.td.kS(l,this,this.Ii)}this.kc.length&&(this.eD=null===this.kc[0].I()&&this.kc[0].Pa===d.B.Xa.F.nO);0===this.kc.length&&(this.kc=a);0===this.rh.length&&(this.rh=a);0===this.Ii.length&&(this.Ii=a)}static Ta(c,e,k){return d.A(d.qn,c,e,k)}Aaa(c){this.Tj=
!0;this.gD=this.OK=!!c[0];this.rV=c[1].toLowerCase();this.oC=[];this.ka().qca(this);this.b.Jb&&(this.bk={type:"group",name:c[1],xz:0,children:[]})}F8(c){this.oC.push(c)}VR(c,e){for(const k of c.Cj.Em)e.includes(k)||e.push(k)}bS(c,e){if(c)if(e.includes(c)||e.push(c),c.Ya)for(const k of c.uo)k.Kc()&&this.VR(k,e);else c.Kc()&&this.VR(c,e)}aS(c){this.bS(c,this.Bf)}J8(c){this.bS(c,this.lu)}Y5(){this.Bf=this.b.md}Sb(c){this.wx=!!c;this.uaa();this.vaa();for(const k of this.kc)k.Sb();if(0<this.rh.length){c=
!1;for(var e of this.rh)e.Sb(),e.f2()&&(c=!0);c?(this.qj=this.Jca,this.hq=this.Q9):(this.qj=this.Ica,this.hq=this.P9)}e=this.Ii;for(let k=0,g=e.length;k<g;++k)e[k].Sb(k<g-1&&e[k+1]instanceof d.qn&&e[k+1].IA());this.Qa&&this.tea();this.bk&&this.jaa().bk.children.push(this.bk)}jaa(){let c=this.Da();for(;c;){if(c.Tj)return c;c=c.Da()}return this.td}tea(){const c=this.Qa;c.lX=this.kc.every(e=>e.ff());c.FM=this.rh.every(e=>e.ff());c.GM=this.Ii.every(e=>e.ff());c.mX=c.lX&&c.FM&&c.GM}uaa(){if(this.Tj){var c=
this.Da();for(this.rD=!0;c;){if(!c.Tj){this.rD=!1;break}c=c.Da()}}}taa(){var c=this.b.md;if(this.Bf===c)this.lu=c;else{this.lu=d.QE(this.Bf);for(c=this.Da();c;){for(var e of c.Bf)this.J8(e);c=c.Da()}e=this.ka();this.Bf=e.qB(this.Bf);this.lu=e.qB(this.lu)}}vaa(){if(this.Y1()){this.Er=[];for(var c=this.Da();c;)this.Er.push(c),c=c.Da();this.Er.reverse()}}mw(){this.pD=!0;this.Nc&&this.Nc.mw()}Fd(){return this.Bf}Od(){this.xV||(this.xV=!0,this.taa());return this.lu}h2(c){return this.Bf.includes(c)}ka(){return this.td.ka()}H(){return this.b}Da(){return this.Nc}Nda(c){this.Be=
c}qs(){return this.Be||this.Nc}IG(){return this.Qa&&this.Qa.VM}Kp(){return this.IG()&&this.Qa.vd}IA(){return this.eD}ws(){return this.gD}F5(){this.Ns(this.OK)}Ns(c){c=!!c;if(!this.Tj)throw Error("not a group");if(this.gD!==c){this.gD=c;for(const e of this.oC)e.NR();this.oC.length&&(c=this.b.Ma().td)&&c.cJ()}}Np(){return this.kc.length&&this.kc[0].Np()}x3(){return this.Be&&this.Be instanceof d.pv}Y1(){return this.x3()||this.kc.some(c=>c.Np())}CO(c){c=Math.floor(c);if(0>c||c>=this.kc.length)throw new RangeError("invalid condition index");
return this.kc[c]}w3(c){let e=c.Ha();if(0===e)return!0;for(--e;0<=e;--e)if(this.kc[e].I()===c.I())return!1;return!0}vO(c){c=Math.floor(c);if(0>c||c>=this.rh.length)throw new RangeError("invalid action index");return this.rh[c]}saa(c){c=Math.floor(c);return 0<=c&&c<this.rh.length}CS(){return this.Ii.filter(c=>c instanceof d.Wz)}RQ(c){c.ih(this);let e=!1;const k=this.kc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.Pn(g);if(n.iD)throw Error("trigger cannot be used as sub-event to a loop");if(n.ra())e=
!0;else if(!this.je)return!1}return this.je?e:!0}Q5(c,e){c.ih(this);this.kc[e].ra()&&(this.qj(c,0)&&this.dm(),c.Tn(!0))}*gO(c){c.ih(this);let e=!1;const k=this.kc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.Pn(g);if(n.iD)throw Error("trigger cannot be used as sub-event to a loop");if(n.ff()?n.ra():yield*n.ob())e=!0;else if(!this.je)return!1}return this.je?e:!0}*YZ(c,e){c.ih(this);e=this.kc[e];if(e.ff()?e.ra():yield*e.ob())(this.Rz()?this.qj(c,0):yield*this.hq(c,0))&&(this.Sz()?this.dm():yield*this.ww()),
c.Tn(!0)}ra(c){c.ih(this);this.eD||c.Ms(!1);this.je?this.Oca(c):this.HB(c)}*ob(c){if(this.Kp()||this.b.Bc())yield this;c.ih(this);this.eD||c.Ms(!1);this.je?yield*this.b$(c):yield*this.eI(c)}Oca(c){const e=this.kc;let k=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Np()||(c.Pn(l),g=g.ra(),k=k||g)}c.Tn(k);k&&(this.qj(c,0)&&this.dm(),this.wx&&c.Ms(!0))}*b$(c){const e=this.kc;let k=0===e.length;for(let l=0,n=e.length;l<n;++l){var g=e[l];g.Np()||(c.Pn(l),g=g.ff()?g.ra():yield*g.ob(),k=k||g)}c.Tn(k);
k&&((this.Rz()?this.qj(c,0):yield*this.hq(c,0))&&(this.Sz()?this.dm():yield*this.ww()),this.wx&&c.Ms(!0))}HB(c){const e=this.kc;for(let k=0,g=e.length;k<g;++k){const l=e[k];c.Pn(k);if(!l.ra()){c.Tn(!1);return}}c.Tn(!0);this.qj(c,0)&&this.dm();c.cr&&this.wx&&c.Ms(!0)}*eI(c){const e=this.kc;for(let k=0,g=e.length;k<g;++k){const l=e[k];c.Pn(k);if(l.ff()?!l.ra():!(yield*l.ob())){c.Tn(!1);return}}c.Tn(!0);(this.Rz()?this.qj(c,0):yield*this.hq(c,0))&&(this.Sz()?this.dm():yield*this.ww());c.cr&&this.wx&&
c.Ms(!0)}Ica(c,e){const k=this.rh;for(let g=e,l=k.length;g<l;++g)e=k[g],c.YA(g),e.ra();return!0}*P9(c,e){const k=this.rh;for(let g=e,l=k.length;g<l;++g)e=k[g],c.YA(g),e.ff()?e.ra():yield*e.ob();return!0}Jca(c,e){const k=this.ka(),g=this.rh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.YA(l);const q=e.ra();if(e.QN()&&!0===q)return!1;e.ah()&&q instanceof Promise&&k.pF(q)}return!0}*Q9(c,e){const k=this.ka(),g=this.rh;for(let l=e,n=g.length;l<n;++l){e=g[l];c.YA(l);let q;q=e.ff()?e.ra():yield*e.ob();if(e.QN()&&
!0===q)return!1;e.ah()&&q instanceof Promise&&k.pF(q)}return!0}Gca(c){this.qj(c,c.xg)&&this.dm()}*N9(c){if(yield*this.hq(c,c.xg))yield*this.ww()}dm(){if(this.Ii.length){var c=this.Tj&&this.b.HG(),e=c?performance.now():0,k=this.he,g=k.Na(this);this.pD?this.Tca(g):this.Sca(g);k.Ia();c&&(this.bk.xz+=performance.now()-e)}}Tca(c){const e=this.Tj,k=this.rD,g=this.ka(),l=this.Ii;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],w=p.Fd(),t=!k||!e&&n<r;t&&g.de(w);p.ra(c);t?g.Db(w):g.Xr(w)}}Sca(c){const e=
this.Ii;for(let k=0,g=e.length;k<g;++k)e[k].ra(c)}*ww(){if(this.Ii.length){var c=this.he,e=c.Na(this);this.pD?yield*this.e$(e):yield*this.d$(e);c.Ia()}}*e$(c){const e=this.Tj,k=this.rD,g=this.ka(),l=this.Ii;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],w=p.Fd(),t=!k||!e&&n<r;t&&g.de(w);yield*p.ob(c);t?g.Db(w):g.Xr(w)}}*d$(c){const e=this.Ii;for(let k=0,g=e.length;k<g;++k)yield*e[k].ob(c)}nf(c,e){this.b.Jl();e.PQ();const k=this.kc;if(!this.je)for(let g=c.km+1,l=k.length;g<l;++g)if(c=k[g],e.Pn(g),
!c.ra())return!1;this.qj(e,0)&&this.dm();return!0}*Tg(c,e){this.b.Jl();e.PQ();const k=this.kc;if(!this.je)for(let g=c.km+1,l=k.length;g<l;++g)if(c=k[g],e.Pn(g),c.ff()?!c.ra():!(yield*c.ob()))return!1;(this.Rz()?this.qj(e,0):yield*this.hq(e,0))&&(this.Sz()?this.dm():yield*this.ww());return!0}ff(){return!this.Kp()&&!this.b.Bc()&&this.Qa.mX}Rz(){return!this.b.Bc()&&this.Qa.FM}Sz(){return!this.b.Bc()&&this.Qa.GM}YH(c){if(this.Da()){const e=this.Er;for(let k=0,g=e.length;k<g;++k)if(!e[k].RQ(c))return!1}return!0}*lS(c){if(this.Da()){const e=
this.Er;for(let k=0,g=e.length;k<g;++k)if(!(yield*e[k].gO(c)))return!1}return!0}xS(c,e,k){0<e.length?k?(e=e.map(g=>g.ea(0)),c.Kd.Na(),this.Be.gw(e)):this.Be.l0(e):k&&c.Kd.Na()}N5(c,e){let k,g;const l=0<c.length;var n=this.b;const q=this.he,r=n.ka(),p=1<r.Bw();this.xS(r,e,p);l&&r.gh(c);e=q.Na(this);this.YH(e)&&(n.Jl(),e.ih(this),(n=this.Be.ah())&&([g,k]=this.Be.LH()),this.HB(e),n&&this.Be.Pv(g));q.Ia();p&&r.Kd.Ia();l&&r.Db(c);r.yw();return k}*VZ(c,e){let k,g;if(this.Kp()||this.b.Bc())yield this;const l=
0<c.length;var n=this.b;const q=this.he,r=n.ka(),p=1<r.Bw();this.xS(r,e,p);l&&r.gh(c);e=q.Na(this);if(yield*this.lS(e))n.Jl(),e.ih(this),(n=this.Be.ah())&&([g,k]=this.Be.LH()),yield*this.eI(e),n&&this.Be.Pv(g);q.Ia();p&&r.Kd.Ia();l&&r.Db(c);r.yw();return k}O5(c){const e=this.Od(),k=0<e.length,g=this.b,l=this.he,n=g.ka(),q=1<n.Bw();q&&n.Kd.Na();this.Be.gw(c);k&&n.gh(e);c=l.Na(this);this.YH(c)&&(g.Jl(),c.ih(this),this.HB(c));l.Ia();q&&n.Kd.Ia();k&&n.Db(e);n.yw()}*WZ(c){if(this.Kp()||this.b.Bc())yield this;
const e=this.Od(),k=0<e.length,g=this.b,l=this.he,n=g.ka(),q=1<n.Bw();q&&n.Kd.Na();this.Be.gw(c);k&&n.gh(e);c=l.Na(this);if(yield*this.lS(c))g.Jl(),c.ih(this),yield*this.eI(c);l.Ia();q&&n.Kd.Ia();k&&n.Db(e);n.yw()}QQ(c,e,k,...g){let l,n;const q=0<c.length,r=this.b,p=this.he,w=r.ka(),t=1<w.Bw();t&&w.Kd.Na();0<g.length&&this.Be.gw(g);q&&w.gh(c);g=p.Na(this);g.H2(e,k);p.i5(g);r.Ks(!1);this.YH(g)&&(r.Jl(),g.ih(this),(e=this.Be.ah())&&([n,l]=this.Be.LH()),this.HB(g),e&&this.Be.Pv(n));r.Ks(!0);p.Ia();p.a5();
t&&w.Kd.Ia();q&&w.Db(c);w.yw();return l||g.oK}}}
{"use strict";const d=self.j,a=[];let b=!1;d.Vz=class extends d.ia{constructor(f,c,e){super();const k=f.H(),g=f.ka();this.td=f;this.ya=g;this.b=f.H();this.Nc=c;this.Pa=k.Wh(e[1]);this.Ct=e[2];this.td.BT(this,this.Ct);this.Qa=k.Jb?{vd:e[3][0],VM:e[3][1]}:null}static Ta(f,c,e){return d.A(d.Vz,f,c,e)}Sb(){const f=this.Pa,c=this.b.ka().MS(this);this.Pa=f.bind(null,this.b.Rj,c)}Da(){return this.Nc}qs(){return this.Nc}IG(){return this.Qa&&this.Qa.VM}Kp(){return this.IG()&&this.Qa.vd}IA(){return!1}Fd(){return a}Od(){return this.Nc?
this.Nc.Od():a}ra(f){f.ih(this);this.ya.pF(this.Uca())}async Uca(){try{await this.Pa()}catch(f){console.error(`Unhandled exception running script %c${this.td.Ba()}, event ${this.Ct}:`,"font-size: 1.2em; font-weight: bold;",f),self.Rh&&self.Rh.Ida(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*ob(f){f.ih(this);if(this.Kp()||this.b.Bc())yield this;
this.ra(f)}ff(){return!this.Kp()&&!this.b.Bc()}static U1(){return b}static u6(){b=!0}}}
{"use strict";const d=self.j;d.pv=class extends d.ia{constructor(a,b,f){super();this.td=a;this.b=a.H();this.Nc=b;const c=f[1];this.PC=c[0];this.Jo=c[1];this.yh=c[2].map(e=>d.Wz.Ta(a,this,e));this.Ka=c[3];this.CK=[];this.Jx=c[4];this.Mfa=0;this.ix=-1;this.Xw=new Map;this.ve=d.qn.Ta(a,b,f);this.ve.Nda(this)}static Ta(a,b,f){return d.A(d.pv,a,b,f)}Sb(){for(const a of this.yh)a.Sb();this.ve.Sb(!1)}CS(){return this.yh}rca(a){this.CK.push(a)}l0(a){const b=this.yh;for(let f=0,c=b.length;f<c;++f)b[f].jh(a[f].ea(0))}gw(a){const b=
this.yh;for(let f=0,c=b.length;f<c;++f)b[f].jh(a[f])}iZ(){return this.yh.map(a=>a.ae())}Da(){return this.Nc}qs(){return this.Nc}jd(){return this.Ka}YF(){switch(this.Jo){case 0:return null;case 2:return"";default:return 0}}Nf(){return this.ve}ah(){return this.Jx}LH(){const a=this.Mfa++;this.ix=a;let b;const f=new Promise(c=>b=c);this.Xw.set(a,{resolve:b,gN:0});return[a,f]}Pv(a){const b=this.Xw.get(a);0===b.gN&&(b.resolve(),this.Xw.delete(a));this.ix=-1}W4(){this.Xw.get(this.ix).gN++;return this.ix}L5(a){this.ix=
a;this.Xw.get(a).gN--}}}
{"use strict";const d=self.j,a=[];d.Wz=class extends d.ia{constructor(b,f,c){super();const e=b.ka();this.td=b;this.ya=e;this.b=b.H();this.Nc=f;this.Kd=e.Kd;this.Fa=c[1];this.za=c[2];this.Uq=c[3];this.wi=!!c[4];this.zb=!!c[5];this.vfa=f instanceof d.pv;this.jb=c[6];this.Sx=this.b.Yi(c[8]);this.aga=k=>this.jh(k);this.Zfa=()=>this.ae();this.zV=!this.Nc||this.wi||this.zb;this.Md=this.Uq;this.kL=-1;this.AP()&&(this.Md=this.Md?1:0);!this.QG()||this.wi||this.zb||(this.kL=e.iaa(this));e.oca(this)}static Ta(b,
f,c){return d.A(d.Wz,b,f,c)}Sb(){if(this.QG()&&!this.wi&&!this.zb&&!this.vfa){const b=this.ya.QF(this);b&&b.rca(this)}}Ba(){return this.Fa}Yi(){return this.Sx}Da(){return this.Nc}qs(){return this.Da()}eh(){return!this.Da()}QG(){return!this.eh()}En(){return 0===this.za}dj(){return 1===this.za}AP(){return 2===this.za}IA(){return!1}Fd(){return a}ra(){!this.QG()||this.wi||this.zb||this.jh(this.Uq)}ff(){return!0}*ob(b){this.ra(b)}jh(b){this.En()?"number"!==typeof b&&(b=parseFloat(b)):this.dj()?"string"!==
typeof b&&(b=b.toString()):this.AP()&&(b=b?1:0);this.zV?this.Md=b:this.Kd.es()[this.kL]=b}ae(){return this.zV?this.Md:this.Kd.es()[this.kL]}I5(){this.Md=this.Uq}OS(){return{configurable:!1,enumerable:!0,get:this.Zfa,set:this.aga}}}}
{"use strict";const d=self.j,a=[];d.oO=class extends d.ia{constructor(b,f,c){super();const e=b.ka();this.td=b;this.ya=e;this.b=b.H();this.Nc=f;this.Gx=null;this.ofa=c[1];this.Nb=!0}static Ta(b,f,c){return d.A(d.oO,b,f,c)}Sb(){this.Gx=this.ya.GO(this.ofa);this.td.N8(this);let b=this.Da();for(;b;)b instanceof d.qn&&b.Tj&&b.F8(this),b=b.Da();this.NR();this.b.Jb&&this.td.bk.children.push(this.Gx.bk)}Da(){return this.Nc}Fd(){return a}ra(){const b=!!this.Da(),f=this.b.md;b&&this.ya.gh(f);this.Gx.ra();b&&
this.ya.Db(f)}*ob(){const b=!!this.Da(),f=this.b.md;b&&this.ya.gh(f);yield*this.Gx.ob();b&&this.ya.Db(f)}ff(){return!1}NR(){let b=this.Da();for(;b;){if(b instanceof d.qn&&b.Tj&&!b.ws()){this.Nb=!1;return}b=b.Da()}this.Nb=!0}}}
{"use strict";const d=self.j;d.xp=class extends d.ia{constructor(g){super();this.yc=g;this.b=g.H()}Sb(){}static NZ(g,l){return d.A([e,f,c,k,a,b][l[0]],g,l)}};class a extends d.xp{constructor(g,l){super(g);this.De=this.b.Cv();this.Pa=this.b.Wh(l[1]);this.Pa!==d.B.Xa.zd.random&&this.Pa!==d.B.Xa.zd.xga||this.yc.HH()}}class b extends d.xp{constructor(g,l){super(g);this.ux=null;this.PC=l[1];this.yc.HH()}Sb(){const g=this.b.ka();this.ux=g.mA(this.PC);this.PC=null;const l=this.ux.Nf();this.oo=[...new Set([...this.yc.Nf().Od(),
...l.Od()])];this.oo=g.qB(this.oo)}}class f extends d.xp{constructor(g,l){super(g);this.N=this.b.Pf(l[1]);this.Pa=this.b.Wh(l[2]);this.KL=!!l[3];this.he=this.b.ka().hd();this.yc.FI(this.N)}bs(){const g=this.N,l=g.Z().W0();var n=l.length;if(0===n)return this.KL?"":0;var q=this.yc.jE;q>=n?n=q%n:(0>q&&(q<=-n&&(q%=n),0>q&&(q+=n)),n=q);this.he.gf().n6(g);return this.Pa.apply(l[n].ja,[])}}class c extends d.xp{constructor(g,l){super(g);this.N=this.b.Pf(l[1]);this.KL=!!l[2];this.yc.FI(this.N)}}class e extends d.xp{constructor(g,
l){super(g);this.N=this.b.Pf(l[1]);this.od=this.N.$z(l[2]);this.xj=this.N.sv(l[2]);this.Pa=this.b.Wh(l[3]);this.KL=!!l[4];this.he=this.b.ka().hd();this.yc.FI(this.N)}}class k extends d.xp{constructor(g,l){super(g);this.so=null;this.cK=l[1]}Sb(){this.so=this.b.ka().bG(this.cK)}}}
{"use strict";const d=self.j;d.mf=class extends d.ia{constructor(z,D,E){super();this.yc=z;this.Va=E;this.za=D;this.ea=null;this.zb=this.Gf=!1}static Ta(z,D,E){const M=D[0];return d.A([b,f,q,e,g,c,l,b,e,e,r,p,q,t,f,n,k,w,v,x][M],z,M,E,D)}Sb(){}HH(){this.Gf=!0}FI(z){this.Gf||!z||z.Hb().yo||(this.Gf=!0)}Ha(){return this.Va}H(){return this.yc.H()}Nf(){return this.yc.Nf()}};function a(z){z=self.XY[z];if(!z)throw Error("invalid expression number");return z}class b extends d.mf{constructor(z,D,E,M){super(z,
D,E);this.jE=0;z=M[1];this.eK=z[0];this.Yt=[];this.EC=null;for(let B=1,G=z.length;B<G;++B)this.Yt.push(d.xp.NZ(this,z[B]));this.Yt.length?this.ea=this.V0:(this.ea=a(this.eK),this.zb=!0)}Kk(){if(0>=this.Yt.length)throw new RangeError("invalid numbered node");return this.Yt[0]}Sb(){for(var z of this.Yt)z.Sb();z=a(this.eK);this.EC=this.Yt.length?z(this):z}V0(z){this.jE=z;return this.EC()}}class f extends b{constructor(z,D,E,M){super(z,D,E,M);this.ea=this.L1;14===D&&(this.Nf().Y5(),this.yc instanceof
d.Cz&&this.Nf().mw())}L1(z){this.jE=z;z=this.EC();return"string"===typeof z?z:""}baa(){return a(this.eK)()}}class c extends b{constructor(z,D,E,M){super(z,D,E,M);this.ea=this.ba;this.zb=!1}ba(z){this.jE=z;z=this.EC();return this.H().Ma().ba(z)}}class e extends d.mf{constructor(z,D,E,M){super(z,D,E);this.$ea=M[1];this.ea=this.M0;this.zb=!0}M0(){return this.$ea}}class k extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Rea=M[1];this.ea=this.H0;this.zb=!0}H0(){return this.Rea}}class g extends d.mf{constructor(z,
D,E,M){super(z,D,E);this.N=this.H().Pf(M[1]);this.ea=this.I;z=this.Nf();z.aS(this.N);this.yc instanceof d.Cz?z.mw():z.Da()&&z.Da().mw();this.zb=!0}I(){return this.N}}class l extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Zj=this.H().gb.js(M[1]);this.ea=this.qc;this.zb=!0}qc(){return this.Zj}}class n extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Qo=this.H().Lb.wA(M[1]);this.ea=this.Cc;this.zb=!0}Cc(){return this.Qo}}class q extends d.mf{constructor(z,D,E,M){super(z,D,E);this.jfa=M[1];this.ea=
this.Z0;this.zb=!0}Z0(){return this.jfa}}class r extends d.mf{constructor(z,D,E,M){super(z,D,E);this.HV=M[1];(z=this.yc.I())&&z.Ya?(this.ea=this.X0,this.HH()):(this.ea=this.l1,this.zb=!0)}l1(){return this.HV}X0(z){z=z||0;const D=this.yc.I();var E=D.Z();const M=E.la();if(M.length)z=M[z%M.length].I();else if(E.X1())E=E.xc,z=E[z%E.length].I();else if(0<D.D.length)E=D.la(),z=E[z%E.length].I();else return 0;return this.HV+z.HO(D.Lj)}}class p extends d.mf{constructor(z,D,E,M){super(z,D,E);this.cK=M[1];
this.so=null;this.ea=this.U0;this.zb=!0}Sb(){this.so=this.H().ka().bG(this.cK)}U0(){return this.so}}class w extends d.mf{constructor(z,D,E,M){super(z,D,E);this.mV=M[1];this.ux=null;this.ea=this.h1;this.zb=!0}Sb(){this.ux=this.H().ka().mA(this.mV);this.mV=null}h1(){return this.ux}}class t extends d.mf{constructor(z,D,E,M){super(z,D,E);this.eM=[];this.eX=[];this.zb=!0;for(let B=1,G=M.length;B<G;++B)z=d.mf.Ta(this.yc,M[B],0),this.eM.push(z),this.eX.push(0),z.zb||(this.zb=!1);this.ea=this.Q1}Sb(){for(const z of this.eM)z.Sb()}Q1(){const z=
this.eM,D=this.eX;for(let E=0,M=z.length;E<M;++E)D[E]=z[E].ea(0);return D}}class v extends d.mf{constructor(z,D,E,M){super(z,D,E);this.ffa=M[1];this.ea=this.sn;this.zb=!0}sn(){return this.ffa}}class x extends d.mf{constructor(z,D,E,M){super(z,D,E);this.Wea=M[1];this.ea=this.M1;this.zb=!0}M1(){return this.Wea}}}
{"use strict";const d=self.j;function a(c,e){for(let k=0,g=c.length;k<g;++k)e[k]=c[k].ea(0)}const b=[],f=function(){};d.YN=class extends d.ia{constructor(c,e,k){super();this.ve=c;this.b=c.H();this.Va=k;this.Pa=this.b.Wh(e[1]);this.VK=0<e[3];this.KV=2===e[3];this.iD=!!e[4];this.Uj=!!e[5];this.wi=!!e[6];this.jb=e[7];this.LV=this.ve.je;this.od=this.N=null;this.xj=-1;this.De=null;this.ob=this.ra=f;this.La=[];this.Ab=[];this.hm=!1;this.Ki=this.Kb=null;this.Qa=this.b.Jb?{vd:e[8][0],gg:e[8][1]}:null;-1===
e[0]?this.De=this.b.Cv():(this.N=this.b.Pf(e[0]),e[2]&&(this.od=this.N.$z(e[2]),this.xj=this.N.sv(e[2])),this.ve.Da()&&this.ve.Da().mw());if(10===e.length){c=e[9];for(let g of c)this.La.push(d.mf.Ta(this,g,this.La.length)),this.Ab.push(0)}0===this.La.length&&(this.Ab=this.La=b);this.ve.ka().mca(this)}static Ta(c,e,k){return d.A(d.YN,c,e,k)}Sb(){for(const c of this.La)c.Sb(),c.Gf&&(this.hm=!0);this.KV?(this.ra=this.Kca,this.ob=this.V9):this.De?(this.YI(),this.ob=this.gI):this.N.Hb().yo?(this.WI(),
this.ob=this.fI):this.wi?(this.ra=this.Rca,this.ob=this.c$):(this.ra=this.QT,this.ob=this.W9)}YI(){this.Pw(this.De,this.De,this.QI)}WI(){const c=this.N.Hb(),e=this.N.Hl().ja;this.Pw(c,e,this.OI)}Pw(c,e,k){const g=this.Pa,l=this.Uj,n=this.La;if(0===n.length){const q=c.Yn(g,e);this.ra=l?function(){return d.xor(q(),l)}:q}else if(1===n.length){const q=n[0];if(!l&&q.zb)this.ra=c.FS(g,e,q.ea(0));else{const r=c.Yn(g,e);this.ra=function(){return d.xor(r(q.ea(0)),l)}}}else if(2===n.length){const q=n[0],r=
n[1];if(!l&&q.zb&&r.zb)this.ra=c.GS(g,e,q.ea(0),r.ea(0));else{const p=c.Yn(g,e);this.ra=function(){return d.xor(p(q.ea(0),r.ea(0)),l)}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(!l&&q.zb&&r.zb&&p.zb)this.ra=c.HS(g,e,q.ea(0),r.ea(0),p.ea(0));else{const w=c.Yn(g,e);this.ra=function(){return d.xor(w(q.ea(0),r.ea(0),p.ea(0)),l)}}}else this.ra=k}I(){return this.N}Uh(){return this.od}Nf(){return this.ve}H(){return this.b}Ha(){return this.Va}DO(){return this.Ha()}Np(){return this.VK}ff(){return!this.Qa.vd&&
!this.b.Bc()&&!this.Qa.gg}Yd(){this.Kb||(this.Kb=new Map);return this.Kb}Fv(){this.Ki||(this.Ki=new Map);return this.Ki}QI(){const c=this.Ab;a(this.La,c);return d.xor(this.Pa.apply(this.De,c),this.Uj)}*gI(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var c=this.Ab;a(this.La,c);c=this.Pa.apply(this.De,c);d.Dn(c)&&(c=yield*c);return d.xor(c,this.Uj)}return this.ra()}OI(){const c=this.Ab;a(this.La,c);const e=this.N.Hl().ja;return d.xor(this.Pa.apply(e,c),this.Uj)}*fI(){if(this.Qa.vd||this.b.Bc())yield this;
if(this.Qa.gg){var c=this.Ab;a(this.La,c);const e=this.N.Hl().ja;c=this.Pa.apply(e,c);d.Dn(c)&&(c=yield*c);return d.xor(c,this.Uj)}return this.ra()}Kca(){return!0}*V9(){if(this.Qa.vd||this.b.Bc())yield this;return!0}Rca(){var c=this.Ab;a(this.La,c);c=this.Pa.apply(this.od||this.N,c);this.N.oc();return c}*c$(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var c=this.Ab;a(this.La,c);c=this.Pa.apply(this.od||this.N,c);d.Dn(c)&&(c=yield*c);this.N.oc();return c}return this.ra()}QT(){const c=this.La,
e=this.Ab,k=this.N.Z();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.Gf||(e[g]=n.ea(0))}return k.ec?this.Lca(k):this.Mca(k)}*W9(){if(this.Qa.vd||this.b.Bc())yield this;return this.QT()}oI(c){const e=this.La,k=this.Ab;for(let g=0,l=e.length;g<l;++g){const n=e[g];n.Gf&&(k[g]=n.ea(c))}}Lca(c){const e=this.N,k=e.Ya,g=e.Lj,l=this.xj,n=0<=l,q=e.la(),r=this.hm,p=this.Ab,w=this.Pa,t=this.Uj,v=this.LV&&!this.VK;c.Kz();for(let z=0,D=q.length;z<D;++z){const E=q[z];r&&this.oI(z);var x=void 0;n?(x=k?E.I().zp(g):
0,x=w.apply(E.nd[l+x].ja,p)):x=w.apply(E.ja,p);d.xor(x,t)?c.lq(E):v&&c.ao(E)}e.ov(!0);c.Me(!1);e.oc();return c.yG()}Mca(c){const e=this.N;var k=e.Ya;const g=e.Lj,l=e.Kc(),n=this.xj,q=0<=n,r=this.hm,p=this.Ab,w=this.Pa,t=this.Uj,v=this.LV&&!this.VK,x=c.D,z=c.xc,D=v&&!this.ve.w3(this),E=D?z:x;let M=0,B=!1;for(let H=0,J=E.length;H<J;++H){const P=E[H];r&&this.oI(H);var G=void 0;q?(G=k?P.I().zp(g):0,G=w.apply(P.nd[n+G].ja,p)):G=w.apply(P.ja,p);d.xor(G,t)?(B=!0,D?(x.push(P),l&&P.jca()):(E[M]=P,l&&P.Pda(M),
++M)):D?(E[M]=P,l&&P.Oda(M),++M):v&&(z.push(P),l&&P.ica())}d.bf(E,M);l&&e.qea(D,M);k=B;D&&!B&&(B=this.aca(x));e.ov(k||v);return v?B:c.yG()}aca(c){var e=this.N;const k=e.Ya;e=e.Lj;const g=this.hm,l=this.xj,n=0<=l,q=this.Ab,r=this.Pa,p=this.Uj;for(let t=0,v=c.length;t<v;++t){var w=c[t];g&&this.oI(t);if(n){const x=k?w.I().zp(e):0;w=r.apply(w.nd[l+x].ja,q)}else w=r.apply(w.ja,q);if(d.xor(w,p))return!0}return!1}Yv(c,e){return this.La[c].ea(e)}Y0(){const c=this.La;if(!c.length)throw Error("no parameters");
return c[0].baa()}ma(){if(!this.Kb||!this.Kb.size)return null;const c={};for(const [e,k]of this.Kb.entries()){let g=k;"collmemory"===e&&(g=[...k.entries()].map(l=>[l[0].Qc,l[1].Qc,l[2]]));c[e]=g}return{ex:c}}wa(c){this.Kb&&(this.Kb.clear(),this.Kb=null);if(c){var e=this.b,k=c.ex;if(k){c=this.Yd();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.A(d.Tv,l.map(n=>[e.Wi(n[0]),e.Wi(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.j;function a(e,k){for(let g=0,l=e.length;g<l;++g)k[g]=e[g].ea(0)}const b=[],f=function(){},c=function*(){};d.Cz=class extends d.ia{constructor(e,k,g){super();this.ve=e;this.b=e=e.H();this.Va=g;this.jb=4<=k.length?k[3]:-1;this.SB=5<=k.length?k[4]:0;this.od=this.N=this.Pa=null;this.xj=-1;this.De=null;this.jC="";this.oo=this.iC=null;this.ob=this.ra=f;this.La=[];this.Ab=[];this.hm=!1;this.Ki=this.Kb=null;const l=(g=-3===k[0])?k[2]:k[5];this.Qa=e.Jb||g?{vd:l[0],gg:l[1],index:l[2]}:
null;-1===k[0]?(this.De=e.Cv(),this.Pa=e.Wh(k[1])):-2===k[0]?this.jC=k[1]:g?(this.Pa=e.Wh(k[1]),this.ra=this.oH,this.ob=this.$Z,this.SB=1):(this.Pa=e.Wh(k[1]),this.N=e.Pf(k[0]),k[2]&&(this.od=this.N.$z(k[2]),this.xj=this.N.sv(k[2])));if(7===k.length){k=k[6];for(const n of k)this.La.push(d.mf.Ta(this,n,this.La.length)),this.Ab.push(0)}0===this.La.length&&(this.Ab=this.La=b);this.ve.ka().lca(this)}static Ta(e,k,g){return d.A(d.Cz,e,k,g)}Sb(){for(var e of this.La)e.Sb(),e.Gf&&(this.hm=!0);if(this.De)this.YI(),
this.ob=this.gI;else if(this.jC)this.pda(),this.jC="";else if(this.ra===this.oH){e=this.Pa;const k=this.b.ka().MS(this.ve);this.Pa=e.bind(null,this.b.Rj,k)}else this.od?this.ah()?(this.ra=this.OT,this.ob=this.S9):(this.ra=this.NT,this.ob=this.R9):this.N.Hb().yo?(this.WI(),this.ob=this.fI):this.ah()?(this.ra=this.ST,this.ob=this.Y9):this.La.length?this.La.every(k=>k.Gf)?(this.ra=this.RT,this.ob=this.X9):this.hm?(this.ra=this.UT,this.ob=this.a$):this.La.every(k=>k.zb)?(a(this.La,this.Ab),this.ra=this.NI,
this.ob=this.mS):(this.ra=this.TT,this.ob=this.Z9):(this.ra=this.NI,this.ob=this.mS)}YI(){this.Pw(this.De,this.De,this.QI)}WI(){const e=this.N.Hb(),k=this.N.Hl().ja;this.Pw(e,k,this.OI)}pda(){const e=this.ve.ka(),k=e.mA(this.jC);k.jd()?(this.iC=k.Nf(),this.oo=[...new Set([...this.ve.Od(),...this.iC.Od()])],this.oo=e.qB(this.oo),this.ra=d.qn.prototype.N5.bind(this.iC,this.oo,this.La),this.ob=this.T9):(this.ra=f,this.ob=c)}Pw(e,k,g){const l=this.Pa,n=this.La;if(0===n.length)this.ra=e.Yn(l,k);else if(1===
n.length){const q=n[0];if(q.zb)this.ra=e.FS(l,k,q.ea(0));else{const r=e.Yn(l,k);this.ra=function(){return r(q.ea(0))}}}else if(2===n.length){const q=n[0],r=n[1];if(q.zb&&r.zb)this.ra=e.GS(l,k,q.ea(0),r.ea(0));else{const p=e.Yn(l,k);this.ra=function(){return p(q.ea(0),r.ea(0))}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(q.zb&&r.zb&&p.zb)this.ra=e.HS(l,k,q.ea(0),r.ea(0),p.ea(0));else{const w=e.Yn(l,k);this.ra=function(){return w(q.ea(0),r.ea(0),p.ea(0))}}}else this.ra=g}ah(){return 1===this.SB}QN(){return 2===
this.SB}f2(){return 0!==this.SB}I(){return this.N}Nf(){return this.ve}H(){return this.b}Ha(){return this.Va}DO(){return this.Qa.index}ff(){return!this.Qa.vd&&!this.b.Bc()&&!this.Qa.gg}Yd(){this.Kb||(this.Kb=new Map);return this.Kb}Fv(){this.Ki||(this.Ki=new Map);return this.Ki}QI(){const e=this.Ab;a(this.La,e);return this.Pa.apply(this.De,e)}*gI(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab;a(this.La,e);return yield*this.Pa.apply(this.De,e)}return this.ra()}*T9(){if(this.Qa.vd||
this.b.Bc())yield this;return yield*this.iC.VZ(this.oo,this.La)}OI(){const e=this.Ab;a(this.La,e);return this.Pa.apply(this.N.Hl().ja,e)}*fI(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab;a(this.La,e);return yield*this.Pa.apply(this.N.Hl().ja,e)}return this.ra()}NI(){const e=this.Ab,k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)this.Pa.apply(k[g].ja,e)}*mS(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab,k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)yield*this.Pa.apply(k[g].ja,
e)}else this.NI()}TT(){const e=this.Ab;a(this.La,e);const k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)this.Pa.apply(k[g].ja,e)}*Z9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.Ab;a(this.La,e);const k=this.N.Z().la();for(let g=0,l=k.length;g<l;++g)yield*this.Pa.apply(k[g].ja,e)}else this.TT()}RT(){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,w=e.length;p<w;++p)k[p]=e[p].ea(n);g.apply(r.ja,k)}}*X9(){if(this.Qa.vd||
this.b.Bc())yield this;if(this.Qa.gg){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,w=e.length;p<w;++p)k[p]=e[p].ea(n);yield*g.apply(r.ja,k)}}else this.RT()}UT(){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la();for(let q=0,r=e.length;q<r;++q){var n=e[q];n.Gf||(k[q]=n.ea(0))}for(let q=0,r=l.length;q<r;++q){n=l[q];for(let p=0,w=e.length;p<w;++p){const t=e[p];t.Gf&&(k[p]=t.ea(q))}g.apply(n.ja,k)}}*a$(){if(this.Qa.vd||this.b.Bc())yield this;
if(this.Qa.gg){const k=this.La,g=this.Ab,l=this.Pa,n=this.N.Z().la();for(let q=0,r=k.length;q<r;++q){var e=k[q];e.Gf||(g[q]=e.ea(0))}for(let q=0,r=n.length;q<r;++q){e=n[q];for(let p=0,w=k.length;p<w;++p){const t=k[p];t.Gf&&(g[p]=t.ea(q))}yield*l.apply(e.ja,g)}}else this.UT()}NT(){var e=this.N;const k=e.Ya,g=e.Lj,l=this.La,n=this.hm,q=this.Ab,r=this.Pa,p=this.xj;e=e.Z().la();for(let v=0,x=l.length;v<x;++v){var w=l[v];w.Gf||(q[v]=w.ea(0))}for(let v=0,x=e.length;v<x;++v){w=e[v];if(n)for(let z=0,D=l.length;z<
D;++z){var t=l[z];t.Gf&&(q[z]=t.ea(v))}t=k?w.I().zp(g):0;r.apply(w.nd[p+t].ja,q)}}*R9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var e=this.N;const l=e.Ya,n=e.Lj,q=this.La,r=this.hm,p=this.Ab,w=this.Pa,t=this.xj;e=e.Z().la();for(let v=0,x=q.length;v<x;++v){var k=q[v];k.Gf||(p[v]=k.ea(0))}for(let v=0,x=e.length;v<x;++v){k=e[v];if(r)for(let z=0,D=q.length;z<D;++z){var g=q[z];g.Gf&&(p[z]=g.ea(v))}g=l?k.I().zp(n):0;yield*w.apply(k.nd[t+g].ja,p)}}else this.NT()}ST(){const e=this.La,k=this.Ab,
g=this.Pa,l=this.N.Z().la(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let w=0,t=e.length;w<t;++w)k[w]=e[w].ea(q);n.push(g.apply(p.ja,k))}return Promise.all(n)}*Y9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){const e=this.La,k=this.Ab,g=this.Pa,l=this.N.Z().la(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let w=0,t=e.length;w<t;++w)k[w]=e[w].ea(q);n.push(yield*g.apply(p.ja,k))}return Promise.all(n)}return this.ST()}OT(){var e=this.N;const k=e.Ya,g=e.Lj,l=this.La,n=this.Ab,
q=this.Pa,r=this.xj;e=e.Z().la();const p=[];for(let w=0,t=e.length;w<t;++w){const v=e[w];for(let z=0,D=l.length;z<D;++z)n[z]=l[z].ea(w);const x=k?v.I().zp(g):0;p.push(q.apply(v.nd[r+x].ja,n))}return Promise.all(p)}*S9(){if(this.Qa.vd||this.b.Bc())yield this;if(this.Qa.gg){var e=this.N;const k=e.Ya,g=e.Lj,l=this.La,n=this.Ab,q=this.Pa,r=this.xj;e=e.Z().la();const p=[];for(let w=0,t=e.length;w<t;++w){const v=e[w];for(let z=0,D=l.length;z<D;++z)n[z]=l[z].ea(w);const x=k?v.I().zp(g):0;p.push(yield*q.apply(v.nd[r+
x].ja,n))}return Promise.all(p)}return this.OT()}async oH(){try{await this.Pa()}catch(e){console.error(`Unhandled exception running script %c${this.ve.td.Ba()}, event ${this.ve.Ct}, action ${this.DO()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.Rh&&self.Rh.Ida(this),d.Vz.U1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),d.Vz.u6())}}*$Z(){if(this.Qa.vd||
this.b.Bc())yield this;return this.oH()}ma(){return this.Kb&&this.Kb.size?{ex:d.QH(this.Kb)}:null}wa(e){this.Kb&&(this.Kb.clear(),this.Kb=null);e&&(e=e.ex)&&(this.Kb=d.RF(e))}}}
{"use strict";const d=self.j,a=new d.$a;function b(K,N){return d.compare(this.i().O(),K,N)}function f(K,N){return d.compare(this.i().P(),K,N)}function c(){const K=this.i(),N=K.ba();return N.ts()?K.xs(N.Aw()):K.IP(N.Hf,K.qc().sP(),K.qc().Zf)}function e(){var K=this.i();const N=K.qc();K=K.tb();return 0>K.V||0>K.S||K.M>N.K()||K.J>N.G()}function k(K,N,U){const ba=this.Z(),ha=ba.la();if(!ha.length)return!1;let ia=ha[0];var ka=ia.i();let ua=ia,ma=d.uX(ka.O(),ka.P(),N,U);for(let va=1,wa=ha.length;va<wa;++va)if(ia=
ha[va],ka=ia.i(),ka=d.uX(ka.O(),ka.P(),N,U),0===K&&ka<ma||1===K&&ka>ma)ma=ka,ua=ia;ba.Jn(ua);return!0}function g(K){const N=this.i();N.O()!==K&&(N.Tf(K),N.ua())}function l(K){const N=this.i();N.P()!==K&&(N.kh(K),N.ua())}function n(K,N){const U=this.i();U.PF(K,N)||(U.re(K,N),U.ua())}function q(K,N){if(K&&(K=K.VO(this.L))){var [U,ba]=K.El(N);N=this.i();if(N.O()!==U||N.P()!==ba)N.re(U,ba),N.ua()}}function r(K){if(0!==K){var N=this.i();N.Rv(N.XF()*K,N.rG()*K);N.ua()}}function p(K,N){if(0!==N){var U=this.i();
K=d.eb(K);U.Rv(Math.cos(K)*N,Math.sin(K)*N);U.ua()}}function w(){return this.i().O()}function t(){return this.i().P()}function v(){return this.b.yp(this.L)}function x(K,N){return d.compare(this.i().K(),K,N)}function z(K,N){return d.compare(this.i().G(),K,N)}function D(K){const N=this.i();N.K()!==K&&(N.rf(K),N.ua())}function E(K){const N=this.i();N.G()!==K&&(N.ld(K),N.ua())}function M(K,N){const U=this.i();if(U.K()!==K||U.G()!==N)U.Rb(K,N),U.ua()}function B(){return this.i().K()}function G(){return this.i().G()}
function H(){return this.i().tb().M}function J(){return this.i().tb().J}function P(){return this.i().tb().V}function Q(){return this.i().tb().S}function T(K,N){return d.Ym(this.i().ta(),d.eb(N))<=d.eb(K)}function W(K){return d.fg(this.i().ta(),d.eb(K))}function Z(K,N){K=d.eb(K);N=d.eb(N);const U=this.i().ta();return d.fg(N,K)?d.fg(U,K)&&!d.fg(U,N):!(!d.fg(U,K)&&d.fg(U,N))}function Y(K){const N=this.i();K=d.me(d.eb(K));isNaN(K)||N.ta()===K||(N.Fc(K),N.ua())}function fa(K){if(!isNaN(K)&&0!==K){var N=
this.i();N.Fc(N.ta()+d.eb(K));N.ua()}}function ja(K){if(!isNaN(K)&&0!==K){var N=this.i();N.Fc(N.ta()-d.eb(K));N.ua()}}function xa(K,N){const U=this.i(),ba=U.ta();K=d.DM(ba,d.eb(N),d.eb(K));isNaN(K)||ba===K||(U.Fc(K),U.ua())}function Ka(K,N,U){const ba=this.i(),ha=ba.ta();N-=ba.O();U-=ba.P();K=d.DM(ha,Math.atan2(U,N),d.eb(K));isNaN(K)||ha===K||(ba.Fc(K),ba.ua())}function Ta(K,N){const U=this.i(),ba=U.ta();K-=U.O();N-=U.P();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.Fc(N),U.ua())}function Pa(){return d.Wd(this.i().ta())}
function Ua(K,N){return d.compare(d.eF(100*this.i().kf()),K,N)}function db(){return this.i().Tc()}function Qa(K){const N=this.i();K=2===K?!N.Tc():0!==K;N.Tc()!==K&&(N.Ke(K),this.b.R())}function La(K){K=d.fa(K/100,0,1);const N=this.i();N.kf()!==K&&(N.jj(K),this.b.R())}function Ya(K){a.Ru(K);K=this.i();K.Ja.$m(a)||(K.BR(a),this.b.R())}function Va(){const K=this.i().Ja;return d.TA(K.Za,K.cb,K.bb,K.Wa)}function gb(){return d.eF(100*this.i().kf())}function ub(K){return K?this.i().ba()===K:!1}function vb(K){const N=
this.Z(),U=N.la();if(!U.length)return!1;let ba=U[0];for(let ha=1,ia=U.length;ha<ia;++ha){const ka=U[ha],ua=ka.i(),ma=ba.i(),va=ua.ba().Ha(),wa=ma.ba().Ha();if(0===K){if(va>wa||va===wa&&ua.zk()>ma.zk())ba=ka}else if(va<wa||va===wa&&ua.zk()<ma.zk())ba=ka}N.Jn(ba);return!0}function hb(K,N,U){const ba=this.i();K=0===K?ba.Ua():ba.Qf();return d.compare(K,N,U)}function wb(){this.i().B8()}function xb(){this.i().z8()}function yb(K){K&&this.i().A8(K)}function zb(K,N){K=0===K;N&&(N=N.cG(this.Ca()))&&this.i().y8(N,
K)}function Ab(K){const N=this.i();N.Ua()!==K&&(N.Le(K),this.b.R())}function Bb(){return this.i().ba().Ha()}function Cb(){return this.i().ba().Ba()}function ib(){return this.i().zk()}function Db(){return this.i().Ua()}function Eb(){return this.i().Qf()}function Fb(K,N){if(N=this.I().Ra.Cl(N)){N=N.Ha();K=1===K;var U=this.i().Qe;U.Kv(N)!==K&&(U.fR(N,K),U.Wn(),this.b.R())}}function Gb(K,N,U){var ba=this.I().Ra.Cl(K);if(ba){K=ba.Ha();var ha=this.i().Qe,ia=ha.Xg(K);N=Math.floor(N);if(!(0>N||N>=ia.length)){ba=
ba.kb.rA(N);if("color"===ba){a.Ru(U);N=ia[N];if(a.$m(N))return;N.kk(a)}else{"percent"===ba&&(U/=100);if(ia[N]===U)return;ia[N]=U}ha.Kv(K)&&this.b.R()}}}const jb=d.A(d.Rect),Wa=[],kb=[];let lb=!1,Za=null,mb=!1;const Na=new Set;function nb(K,N,U,ba){N.Qc<U.Qc?K.Set(N,U,ba):K.Set(U,N,ba)}function pa(K,N,U){N.Qc<U.Qc?K.nn(N,U):K.nn(U,N)}function Ja(K,N,U){return N.Qc<U.Qc?K.ea(N,U):K.ea(U,N)}function Hb(K,N,U,ba){if(!N)return!1;K=K.Ca();const ha=0!==U||0!==ba,ia=K.i(),ka=K.H(),ua=ka.uh;var ma=ka.ng();
const va=ma.Nf().je;var wa=ma.I();ma=ma.Uj;const Ga=N.Z();wa=wa!==N;Za=N;lb=wa&&!ma;mb=!1;let Ma=0,Ba=0,la=!1;Ga.ec?(jb.qa(ia.tb()),jb.offset(U,ba),ua.eA(ia.ba(),N,jb,kb),N=kb):va?ka.s3()&&!Ga.xc.length&&Ga.D.length?N=Ga.D:(N=Ga.xc,mb=!0):N=Ga.D;ha&&(Ma=ia.O(),Ba=ia.P(),ia.Rv(U,ba),ia.ua());for(const da of N)if(ua.cq(K,da)){la=!0;if(ma)break;wa&&Na.add(da)}ha&&(ia.re(Ma,Ba),ia.ua());d.C(kb);return la}function Nb(K,N){if(lb){if(N){{K=K.H().Gb().je;N=Za.Z();const U=N.D,ba=N.xc;N.ec?(N.lw(Na),K&&(d.C(ba),
N.EN(Na,Za.la()))):K?mb?N.R7(Na):(N.EN(Na,U),N.lw(Na)):N.lw(Na);Za.oc()}}Na.clear();Za=null;lb=!1}}function Ob(K){if(this.b.Se)return Pb.call(this,K);if(!K)return!1;var N=this.b;const U=N.uh,ba=N.ka(),ha=ba.hd();var ia=ba.ng();const ka=ia.I();var ua=ia.Yd(),ma=ia.Fv();ia=ha.gf();const va=N.hl,wa=va-1,Ga=ia.Gb(),Ma=ha.Na(Ga);let Ba=ua.get("collmemory");Ba||(Ba=d.A(d.Tv),ua.set("collmemory",Ba));ma.get("collisionCreatedDestroyCallback")||(ma.set("collisionCreatedDestroyCallback",!0),N.Fb().addEventListener("instancedestroy",
Oa=>{Ba.iO(Oa.instance)}));N=K.Z();ua=ka.Z().la();ma=null;for(let Oa=0;Oa<ua.length;++Oa){const Aa=ua[Oa];N.ec?(U.eA(Aa.i().ba(),K,Aa.i().tb(),Wa),ma=Wa,U.FN(Aa,K,ma)):ma=N.la();for(let fb=0;fb<ma.length;++fb){const Ia=ma[fb];if(U.cq(Aa,Ia)||U.UN(Aa,Ia)){var la=Ja(Ba,Aa,Ia),da=!1,na=-2;"number"===typeof la&&(da=!0,na=la);la=!da||na<wa;nb(Ba,Aa,Ia,va);la&&(la=Ga.Fd(),ba.de(la),na=ka.Z(),da=K.Z(),na.Me(!1),da.Me(!1),ka===K?(da=na.D,d.C(da),da.push(Aa),da.push(Ia),ka.oc()):(na=na.D,da=da.D,d.C(na),d.C(da),
na.push(Aa),da.push(Ia),ka.oc(),K.oc()),Ga.nf(ia,Ma),ba.Db(la))}else pa(Ba,Aa,Ia)}d.C(Wa)}ha.Ia();return!1}function*Pb(K){if(!K)return!1;var N=this.b;const U=N.uh,ba=N.ka(),ha=ba.hd(),ia=ha.gf(),ka=N.hl,ua=ka-1,ma=ia.Gb(),va=ha.Na(ma);var wa=ba.ng();const Ga=wa.I();var Ma=wa.Yd();wa=wa.Fv();let Ba=Ma.get("collmemory");Ba||(Ba=d.A(d.Tv),Ma.set("collmemory",Ba));wa.get("collisionCreatedDestroyCallback")||(wa.set("collisionCreatedDestroyCallback",!0),N.Fb().addEventListener("instancedestroy",Oa=>{Ba.iO(Oa.instance)}));
N=K.Z();Ma=Ga.Z().la();wa=null;for(let Oa=0;Oa<Ma.length;++Oa){const Aa=Ma[Oa];N.ec?(U.eA(Aa.i().ba(),K,Aa.i().tb(),Wa),wa=Wa,U.FN(Aa,K,wa)):wa=N.la();for(let fb=0;fb<wa.length;++fb){const Ia=wa[fb];if(U.cq(Aa,Ia)||U.UN(Aa,Ia)){var la=Ja(Ba,Aa,Ia),da=!1,na=-2;"number"===typeof la&&(da=!0,na=la);la=!da||na<ua;nb(Ba,Aa,Ia,ka);la&&(la=ma.Fd(),ba.de(la),na=Ga.Z(),da=K.Z(),na.Me(!1),da.Me(!1),Ga===K?(da=na.D,d.C(da),da.push(Aa),da.push(Ia),Ga.oc()):(na=na.D,da=da.D,d.C(na),d.C(da),na.push(Aa),da.push(Ia),
Ga.oc(),K.oc()),yield*ma.Tg(ia,va),ba.Db(la))}else pa(Ba,Aa,Ia)}d.C(Wa)}ha.Ia();return!1}function Qb(K){return Hb(this,K,0,0)}function Rb(K,N,U){return Hb(this,K,N,U)}function ob(){return this.i().Ak()}function pb(){return this.i().Rf()}function qb(K,N){const U=this.Z().la();if(0===U.length)return!1;const ba=K.Z();var ha=ba.la();if(0===ha.length)return!1;ha=new Set(ha);const ia=new Set;for(let ua=0,ma=U.length;ua<ma;++ua){var ka=U[ua];if(1===N)for(const va of ka.oz())va.Wr(K)&&ha.has(va)&&ia.add(va);
else{if(0===N){if(ka=ka.Da(),null===ka)continue}else ka=ka.xA();ka.Wr(K)&&ha.has(ka)&&ia.add(ka)}}if(0===ia.size)return!1;ba.lw(ia);K.oc();return!0}function rb(K,N){const U=this.Z().la();if(0===U.length)return!1;const ba=K.Z();var ha=ba.la();if(ba.ec){var ia=[...this.b.TM(K)];0<ia.length&&(ha=ha.concat(ia))}if(0===ha.length)return!1;ha=new Set(ha);ia=new Set;for(let ka=0,ua=U.length;ka<ua;++ka){const ma=U[ka];2===N&&!ma.Rf()&&ma.Wr(K)&&ha.has(ma)&&ia.add(ma);for(const va of 0===N?ma.children():ma.ep())2===
N&&va.Rf()||va.Wr(K)&&ha.has(va)&&ia.add(va)}if(0===ia.size)return!1;ba.lw(ia);K.oc();return!0}function eb(K,N){const U=this.Z().la();if(0===U.length)return!1;const ba=K.Z();var ha=ba.la();if(ba.ec){var ia=[...this.b.TM(K)];0<ia.length&&(ha=ha.concat(ia))}if(0===ha.length)return!1;ha=new Set(ha);ia=[];for(let ka=0,ua=U.length;ka<ua;++ka){const ma=U[ka].WF(N);null!==ma&&ma.Wr(K)&&ha.has(ma)&&ia.push(ma)}if(0===ia.length)return!1;ba.$v(ia);K.oc();return!0}function h(K,N){return d.compare(this.L.dA(),
K,N)}function m(K,N,U,ba,ha,ia,ka,ua){const ma=this.L,va=this.b.vv().I();for(const wa of K.jX(ma,va)){if(!wa.Hb().XW)break;ma.kn(wa,{Yu:N,Zu:U,Sr:ba,Rr:ha,Xu:ia,$u:ka,cz:ua})}}function u(K){const N=this.L,U=this.b.vv().I();for(const ba of K.jX(N,U))N.Ek(ba)}function y(){this.L.Ak()&&this.L.Da().Ek(this.L)}function A(){return this.L.dA()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.i();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.XA(),U.ua()):U.HF(K,N)}function F(K,N,U,ba,ha,ia,ka,ua){const ma=
this.i();ma.nR(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ha,Bz:ia,fY:ka,gY:ua})&&ma.ua()}function I(){const K=this.i();return K.sg()?K.cj().Yk:0}function L(){const K=this.i();return K.sg()?K.cj().kl:0}function O(K){const N=this.i();K=2===K?!N.Tc():0!==K;N.Tc()!==K&&N.Ke(K)}function R(K,N){this.l6(K,N)}function S(K,N){this.k6(K,""+N)}function X(K){this.s5(K)}function V(){this.uO()}function ea(){this.LN()}function ca(){return this.$J}function aa(K){this.em(0!==K)}function ta(){return this.Ka}function oa(K,
N,U){return d.compare(this.Ca().jf(K),N,U)}function ra(K){return!!this.Ca().jf(K)}function sa(K,N){const U=this.Z(),ba=U.la();if(!ba.length)return!1;let ha=ba[0],ia=ha,ka=ha.jf(N);for(let ua=1,ma=ba.length;ua<ma;++ua){ha=ba[ua];const va=ha.jf(N);if(0===K&&va<ka||1===K&&va>ka)ka=va,ia=ha}U.Jn(ia);return!0}function qa(K){if(this.b.ng().Uj){{const ba=this.Z();if(ba.ec){ba.Me(!1);ba.Kz();var N=this.la();for(let ha=0,ia=N.length;ha<ia;++ha){var U=N[ha];U.Qc===K?ba.ao(U):ba.lq(U)}this.oc();K=!!ba.D.length}else{N=
ba.D;U=0;for(let ha=0,ia=N.length;ha<ia;++ha){const ka=N[ha];N[U]=ka;ka.Qc===K?ba.ao(ka):++U}d.bf(N,U);this.oc();K=!!N.length}}}else K=Ca(this,K);return K}function Ca(K,N){N=K.H().Wi(N);if(!N)return!1;const U=K.Z();if(!U.ec&&!U.D.includes(N))return!1;if(K.Ya){if(N.I().wF(K))return U.Jn(N),K.oc(),!0}else if(N.I()===K)return U.Jn(N),K.oc(),!0;return!1}function Da(){this.b.pn(this.L)}function Ea(){return!0}function Fa(){return!0}function Ha(K,N){this.Ca().Sn(K,N)}function Ra(K,N){const U=this.Ca(),ba=
U.jf(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.Sn(K,ba+N)}function Sa(K,N){const U=this.Ca(),ba=U.jf(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.Sn(K,ba-N))}function za(K,N){this.Ca().Sn(K,N?1:0)}function Ib(K){const N=this.Ca();N.Sn(K,0===N.jf(K)?1:0)}function Jb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.Ca();K.CB("state");K.Pb(N,"state")}
function oc(){return JSON.stringify(this.Ca().Xb("state"))}function pc(){return this.Ca().I().Ba()}function qc(){const K=this.b.Mf().fK;let N=K.D.length;for(const U of this.b.TM(K))++N;return N}function rc(){return this.b.Mf().fK.Z().la().length}function sc(){return this.L.Ap()}function tc(){return this.L.Qc}d.rY=function(K,N){const U=K[1],ba=K[4],ha=K[5],ia=K[6],ka=K[7],ua=K[8],ma=K[10],va=K[11],wa=K[12],Ga=K[13],Ma=K[14],Ba=K[15],la=N.F,da=N.Ga,na=N.zd;K[3]&&(la.XN=b,la.wja=f,la.hla=c,la.ila=e,
la.Pma=k,da.Tf=g,da.kh=l,da.ypa=n,da.U6=q,da.ama=r,da.$la=p,na.v8=w,na.w8=t,na.wX=v);ba&&(la.tja=x,la.vZ=z,da.rf=D,da.ld=E,da.Rb=M,na.r8=B,na.tP=G,na.Jia=H,na.Lia=J,na.Kia=P,na.Iia=Q);ha&&(la.JY=T,la.p3=W,la.zP=Z,da.Fc=Y,da.ioa=fa,da.joa=ja,da.koa=xa,da.loa=Ka,da.Bpa=Ta,na.IY=Pa);ia&&(la.Tc=db,la.wZ=Ua,da.Ke=Qa,da.jj=La,da.Goa=Ya,na.Opacity=gb,na.fja=Va);ka&&(la.A3=ub,la.Xma=vb,la.AZ=hb,da.dma=wb,da.bma=xb,da.cma=yb,da.ara=zb,da.Le=Ab,na.Ala=Bb,na.zla=Cb,na.$qa=ib,na.x8=Db,na.qqa=Eb);ua&&(da.j6=Fb,
da.Joa=Gb);Ga&&(la.Ak=ob,la.Rf=pb,la.Vma=qb,la.Oma=rb,la.Tma=eb,la.lja=h,da.kn=m,da.Ek=u,da.qna=y,na.cja=A);Ma&&(da.tpa=C,da.nR=F,na.Wla=I,na.Xla=L);ma&&(la.Tc=db,da.Ke=O,da.Boa=R,da.Koa=S,da.pna=X);va&&(la.Vka=ca,da.Qoa=V,da.yoa=ea);wa&&(la.jd=ta,da.ee=aa);Ba&&(la.v4=Ob,la.B3=Qb,la.jla=Rb,N.w0=Nb);U||(la.CF=oa,la.Lka=ra,la.Qma=sa,la.Nma=qa,da.kR=Ha,da.tia=Ra,da.iqa=Sa,da.zoa=za,da.oqa=Ib,la.w4=Ea,la.x4=Fa,da.jO=Da,da.XG||(da.XG=Jb),na.HN||(na.HN=oc),na.Aja=qc,na.Yma=rc,na.rka=sc,na.Bqa=tc,na.pma=
pc)}}
{"use strict";const d=self.j;d.pH=class extends d.ia{constructor(a){super();this.ya=a;this.za="";this.ed=-1;this.Ay="";this.oD=!1;this.Kj=null;this.xg=0;this.Bf=[];this.wr=new Map;this.jm=null;this.Ww=-1;this.nK=this.yh=null;this.zy=!1}g(){this.za="";this.ed=-1;this.Ay="";this.nK=this.yh=this.jm=this.Kj=null;this.Ww=-1;d.C(this.Bf);for(const a of this.wr.values())a.g();this.wr.clear()}pj(){var a=this.ya,b=a.H().md;const f=a.Mf();this.Kj=f.Gb();this.xg=f.xg+1;if(a=a.QF(this.Kj))this.jm=a,this.yh=a.iZ(),
this.nK=a.CK.map(c=>c.ae()),a.ah()&&(this.Ww=a.W4());for(const c of b)if(b=c.Z(),!b.ec||this.Kj.h2(c))this.Bf.push(c),this.wr.set(c,d.A(d.FR,b))}h3(a){this.za="timer";this.pj();this.ed=this.ya.H().Of()+a}f3(a){this.za="signal";this.pj();this.Ay=a.toLowerCase()}T2(a){this.za="promise";this.pj();a.then(()=>this.AH()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.AH()})}J3(){return"timer"===this.za}H3(){return"signal"===this.za}D3(){return"promise"===
this.za}AH(){this.oD=!0}rU(){return this.J3()?this.ed<=this.ya.H().Of():this.oD}LT(a){a.MI(this.Kj,this.xg);for(const [b,f]of this.wr.entries())f.MI(b.Z());if(a=this.jm)a.gw(this.yh),a.CK.map((b,f)=>b.jh(this.nK[f])),a.ah()&&a.L5(this.Ww)}Hca(a){this.LT(a);this.Kj.Gca(a);this.jm&&this.jm.ah()&&this.jm.Pv(this.Ww);this.ya.Xr(this.Bf);this.zy=!0}async O9(a){this.LT(a);for(const b of this.Kj.N9(a))await this.ya.H().Zr(b);this.jm&&this.jm.ah()&&this.jm.Pv(this.Ww);this.ya.Xr(this.Bf);this.zy=!0}Rp(a){for(const b of this.wr.values())b.Rp(a)}ma(){const a=
{},b={t:this.ed,st:this.Ay,s:this.oD,ev:this.Kj.jb,sm:this.Bf.map(f=>f.jb),sols:a};this.Kj.saa(this.xg)&&(b.act=this.Kj.vO(this.xg).jb);for(const [f,c]of this.wr)a[f.jb.toString()]=c.ma();return b}static t9(a,b){const f=a.H();var c=a.S0(b.ev);if(!c)return null;let e=0;if(b.hasOwnProperty("act")){var k=a.B0(b.act);if(!k)return null;e=k.Ha()}k=d.A(d.pH,a);k.ed=b.t;k.za=-1===k.ed?"signal":"timer";k.Ay=b.st;k.oD=b.s;k.Kj=c;k.xg=e;for(var g of b.sm)(c=f.$i(g))&&k.Bf.push(c);for(const [l,n]of Object.entries(b.sols))if(b=
f.$i(parseInt(l,10)))g=d.A(d.FR,null),g.wa(a,n),k.wr.set(b,g);return k}}}{"use strict";const d=self.j;d.FR=class extends d.ia{constructor(a){super();this.N=null;this.nD=!0;this.D=[];a&&(this.N=a.I(),this.nD=a.ec,d.xd(this.D,a.D))}g(){this.N=null;d.C(this.D)}MI(a){a.Me(this.nD);d.xd(a.D,this.D)}Rp(a){d.Oh(this.D,a)}ma(){return{sa:this.nD,insts:this.D.map(a=>a.Qc)}}wa(a,b){a=a.H();this.nD=!!b.sa;d.C(this.D);for(const f of b.insts)(b=a.Wi(f))&&this.D.push(b)}}}
{"use strict";const d=self.j;function a(b,f){let c=b.get(f);c||(c=new Map,b.set(f,c));return c}d.hj=class extends d.ia{constructor(b){super();this.b=b.Rc;this.yo=!!b.CX;this.$f=!!b.jha;this.Afa=!!b.iha;this.Kfa=!!b.wha;this.lfa=!!b.Zga;this.XW=!!b.Tha;this.dga=!!b.Sha;this.OW=null;this.PU=new Map;this.Sea=new Map;this.Tea=new Map;this.Uea=new Map}g(){this.b=null}H(){return this.b}Qb(){}Lp(){return this.Afa}Hn(){return this.Kfa}zG(){return this.lfa}Yn(b,f){if(!f)throw Error("missing 'this' binding");
let c=this.PU.get(b);if(c)return c;c=b.bind(f);this.PU.set(b,c);return c}FS(b,f,c){if(!f)throw Error("missing 'this' binding");const e=a(this.Sea,b);let k=e.get(c);if(k)return k;k=b.bind(f,c);e.set(c,k);return k}GS(b,f,c,e){if(!f)throw Error("missing 'this' binding");var k=a(this.Tea,b);k=a(k,c);let g=k.get(e);if(g)return g;g=b.bind(f,c,e);k.set(e,g);return g}HS(b,f,c,e,k){if(!f)throw Error("missing 'this' binding");var g=a(this.Uea,b);g=a(g,c);g=a(g,e);let l=g.get(k);if(l)return l;l=b.bind(f,c,e,
k);g.set(k,l);return l}Qda(b){if(!this.yo)throw Error("must be single-global plugin");this.OW=b}Hl(){if(!this.yo)throw Error("must be single-global plugin");return this.OW.Hl()}}}
{"use strict";const d=self.j;d.ooa=class extends d.hj{constructor(a,b){super(a);this.Hq=b;this.Ofa=0;this.DK=new Map;this.DN("elem-focused",f=>f.Iba());this.DN("elem-blurred",f=>{f&&f.Hba()})}g(){super.g()}H8(a){const b=this.Ofa++;this.DK.set(b,a);return b}xca(a){this.DK.delete(a)}DN(a,b){this.b.Pi(this.Hq,a,f=>{const c=this.DK.get(f.elementId);b(c,f)})}}}{"use strict";const d=self.j;d.Rl=class extends d.ia{constructor(a){super();this.N=a;this.b=a.H();this.Ai=a.Hb()}g(){this.Ai=this.b=this.N=null}I(){return this.N}H(){return this.b}Hb(){return this.Ai}pc(){return this.N.pc()}ov(){}Dk(){}bi(){}RA(){}dH(){}Zg(){return null}}}
{"use strict";const d=self.j;d.Zv=class extends d.ia{constructor(a,b){super();this.L=a;this.Hq=b;this.b=a.H();this.N=this.L.I();this.Oa=this.N.Oa;this.Mm=this.Nm=null;this.xm=this.wm=!1;this.Ad=null;this.Um=!1}g(){this.Um=!0;this.Pk();this.qq();this.Mm=this.Nm=null;this.Ad&&(this.Ad.g(),this.Ad=null);this.Oa=this.N=this.b=this.L=null}gq(){return this.Um}Ca(){return this.L}H(){return this.b}I(){return this.N}Hb(){return this.Oa.Hb()}vA(){return this.L.Vh()}Aa(a){return this.b.Aa(a,this.L,null)}Vf(a){return this.b.Vf(a,
this.L,null)}CN(a,b){this.b.Pi(this.Hq,a,b)}tQ(a,b){this.b.Kn(this.Hq,a,b)}zT(a,b){this.b.tm?this.tQ(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Hq,handler:a,data:b,responseId:null})}ge(){}eq(){}uf(){this.wm||(this.Nm||(this.Nm=()=>this.ge()),this.b.Fb().addEventListener("tick",this.Nm),this.wm=!0)}Pk(){this.wm&&(this.b.Fb().removeEventListener("tick",this.Nm),this.wm=!1)}pq(){this.xm||(this.Mm||(this.Mm=()=>this.eq()),this.b.Fb().addEventListener("tick2",this.Mm),
this.xm=!0)}qq(){this.xm&&(this.b.Fb().removeEventListener("tick2",this.Mm),this.xm=!1)}Xb(){return null}Pb(){}Bb(){}Jd(){}$G(a,b){if(0!==b){var f=this.Bb(a);if("number"!==typeof f)throw Error("expected number");this.Jd(a,f+b)}}Zg(){return null}}}
{"use strict";const d=self.j;d.Wp=class extends d.Zv{constructor(a,b){super(a,b);this.nb=a.i();this.JE=this.xu=null}g(){if(this.xu){const a=this.b.Fb();a.removeEventListener("webglcontextlost",this.xu);a.removeEventListener("webglcontextrestored",this.JE);this.JE=this.xu=null}this.nb=null;super.g()}pP(){if(!this.xu){this.xu=()=>this.Pp();this.JE=()=>this.cH();var a=this.b.Fb();a.addEventListener("webglcontextlost",this.xu);a.addEventListener("webglcontextrestored",this.JE)}}Pp(){}cH(){}i(){return this.nb}Ll(){return!1}uk(){if(!this.Ll())throw Error("original size not known");
const a=this.Ed();if(a)return a.K()}sk(){if(!this.Ll())throw Error("original size not known");const a=this.Ed();if(a)return a.G()}Ed(){return null}fA(){var a=this.Ed();return a&&(a=a.Cb())?[a.K(),a.G()]:[100,100]}gA(){const a=this.Ed();return a?a.Zh():null}El(){const a=this.L.i();return[a.O(),a.P()]}Sp(){return!0}}}
{"use strict";const d=self.j,a=d.A(d.Rect);d.noa=class extends d.Wp{constructor(b,f){super(b,f);this.AC=this.Hb().H8(this);this.JV=!0;this.Oea=this.$J=!1;this.Pt=d.A(d.Rect,0,0,-1,-1);b=this.b.aa;this.bW=b.bp;this.aW=b.$o;this.uf()}g(){this.Hb().xca(this.AC);this.Ds("destroy");this.AC=-1;super.g()}Ds(b,f){f||(f={});f.elementId=this.AC;this.tQ(b,f)}yT(b){b||(b={});b.elementId=this.AC;this.zT("focus",b)}bB(b){b=!!b;this.JV!==b&&(this.JV=b,this.Ds("set-visible",{isVisible:b}))}ge(){this.RB(!1)}aea(){const b=
this.b.aa.lA();return"Android"===d.Hd.Bs&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}RB(b){var f=this.i();const c=f.ba();var e=f.O(),k=f.P();let [g,l]=c.Op(e,k),[n,q]=c.Op(e+f.K(),k+f.G());e=this.b.aa;k=e.qd;const r=e.Zc;if(f.Tc()&&c.Tc()){if(!this.aea()){if(0>=n||0>=q||g>=k||l>=r){this.bB(!1);return}1>g&&(g=1);1>l&&(l=1);n>=k&&(n=k-1);q>=r&&(q=r-1)}a.set(g,l,n,q);f=e.bp;k=e.$o;!b&&a.fd(this.Pt)&&this.bW===f&&this.aW===k?this.bB(!0):(this.Pt.qa(a),this.bW=f,this.aW=k,this.bB(!0),b=null,this.Oea&&
(b=c.Bl()-.2),this.Ds("update-position",{left:Math.round(this.Pt.M)+e.tv(),top:Math.round(this.Pt.J)+e.uv(),width:Math.round(this.Pt.width()),height:Math.round(this.Pt.height()),fontSize:b}))}else this.bB(!1)}uO(){this.yT({focus:!0})}LN(){this.yT({focus:!1})}Iba(){this.$J=!0}Hba(){this.$J=!1}l6(b,f){this.Ds("set-css-style",{prop:d.ZY(b),val:f})}k6(b,f){this.Ds("set-attribute",{name:b,val:f})}s5(b){this.Ds("remove-attribute",{name:b})}}}
{"use strict";const d=self.j,a=self.o2;d.Tp=class extends d.ia{constructor(b){super();this.b=b.Rc;this.rL=d.A(d.uF);this.ND=d.A(d.uF);this.Ax=null;this.$fa=b.Mta||null}g(){this.ND.g();this.rL.g();this.b=null}H(){return this.b}Qb(){}I8(b){this.rL.Sc(b)}qA(){return this.rL.TF()}hi(b){this.ND.Sc(b)}bo(b){this.ND.nn(b)}la(){return this.ND.TF()}j1(){if(null===this.Ax){const b=this.$fa;if(b){if(this.Ax=new b(this),!(this.Ax instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Ax=new a(this)}return this.Ax}}}{"use strict";const d=self.j;d.Vp=class extends d.ia{constructor(a){super();this.b=a.H();this.od=a;this.N=a.I();this.wj=a.Vg();this.wj.I8(this.N)}g(){this.wj=this.N=this.od=this.b=null}Uh(){return this.od}I(){return this.N}H(){return this.b}Vg(){return this.wj}}}
{"use strict";const d=self.j;d.Up=class extends d.ia{constructor(a,b){super();this.dC=a;this.Hq=b;this.L=a.L;this.b=a.H();this.od=a.Uh();this.Oa=this.od.Oa;this.NV=this.xm=this.wm=!1;this.Ad=null}g(){this.Pk();this.qq();this.iea();this.Ad&&(this.Ad.g(),this.Ad=null);this.Oa=this.od=this.b=this.L=this.dC=null}Vg(){return this.od.Vg()}I(){return this.L.I()}i(){return this.L.i()}H(){return this.b}Uh(){return this.od}vA(){return this.dC.vA()}Aa(a){return this.b.Aa(a,this.L,this.od)}Vf(a){return this.b.Vf(a,
this.L,this.od)}ge(){}eq(){}uf(){this.wm||(this.b.C8(this),this.wm=!0)}Pk(){this.wm&&(this.b.uca(this),this.wm=!1)}pq(){this.xm||(this.b.D8(this),this.xm=!0)}qq(){this.xm&&(this.b.vca(this),this.xm=!1)}iea(){this.NV&&(this.b.tca(this),this.NV=!1)}CN(a,b){this.b.Pi(this.Hq,a,b)}Xb(){return null}Pb(){}Bb(){}Jd(){}$G(a,b){if(0!==b){var f=this.Bb(a);if("number"!==typeof f)throw Error("expected number");this.Jd(a,f+b)}}Zg(){return null}}}
{"use strict";const d=self.j;d.B={};d.xa={};d.Y4=class extends d.ia{constructor(a){super();this.b=a;this.Mea=[];this.xW=new Map;this.De=null;this.Jea=[];this.CJ=new Map;this.UV=this.WL=null}PZ(a){const b=this.b.Wh(a[0]);if(!b)throw Error("missing plugin");d.rY(a,b);a=d.A(b,{Rc:this.b,CX:a[1],jha:a[2],iha:a[5],Zga:a[8],wha:a[9],Tha:a[13],Sha:a[14]});a.Qb();this.Mea.push(a);this.xW.set(b,a)}RZ(){this.De=d.A(d.B.Xa,{Rc:this.b,CX:!0});this.De.Qb()}KZ(a){a=this.b.Wh(a[1]);if(!a)throw Error("missing behavior");
const b=d.A(a,{Rc:this.b});b.Qb();this.Jea.push(b);this.CJ.set(a,b);!this.WL&&d.xa.sp&&b instanceof d.xa.sp?this.WL=b:!this.UV&&d.xa.lha&&b instanceof d.xa.lha&&(this.UV=b)}E1(a){return this.xW.get(a)||null}a2(a){return this.CJ.has(a)}yO(a){return this.CJ.get(a)||null}Cv(){return this.De}sG(){return this.WL}}}
{"use strict";const d=self.j,a=new Set;d.Jv=class extends d.ia{constructor(){super();this.hk="";this.U=this.W=this.$t=this.Zt=this.ku=0;this.xx=this.mD=!1;this.Af=null;this.Lm="";this.Ig=d.A(d.Rect);this.pr=d.A(d.Ec);a.add(this)}g(){this.hh();this.Af=null;a.delete(this)}static Pp(){for(const b of a)b.Lm="",b.Ig.set(0,0,0,0),b.pr.Ph(b.Ig)}TP(b){this.hk=b[0];this.ku=b[1];this.Zt=b[2];this.$t=b[3];this.W=b[4];this.U=b[5];this.mD=b[6];this.xx=!0}UP(b,f){if(this.Af)throw Error("already loaded asset");
this.hk=f;const c={};d.GG(f)&&(c.lz="remote");this.Nv(b,c);return this.Af.QP()}C5(b){if(b===this)throw Error("cannot replace with self");this.hh();this.hk=b.hk;this.ku=b.ku;this.Zt=b.Zt;this.$t=b.$t;this.W=b.W;this.U=b.U;this.xx=b.xx;this.Af=b.Af;this.Lm=b.Lm;this.Ig=b.Ig;this.pr=b.pr}vn(){return this.ku}K(){return this.W}G(){return this.U}Nv(b,f){if(this.Af)throw Error("already got asset");f=Object.assign({},f,{url:this.hk,size:this.vn()});this.Af=b.Ov(f)}KA(){return this.Af&&this.Af.KA()}async Gn(b,
f){if(!this.Af)throw Error("no asset");if(this.Lm)throw Error("already loaded texture");this.Lm="loading";b=await this.Af.Gn(b,f);if(!b)return this.Lm="",null;this.Lm="loaded";this.xx||(this.W=b.K(),this.U=b.G(),this.xx=!0);this.Ig.set(this.Zt,this.$t,this.Zt+(this.mD?this.U:this.W),this.$t+(this.mD?this.W:this.U));this.Ig.lk(b.K(),b.G());this.pr.Ph(this.Ig);this.mD&&this.pr.Kha();return b}hh(){this.Lm&&(this.Af&&this.Af.hh(),this.Lm="",this.Ig.set(0,0,0,0),this.pr.Ph(this.Ig))}Cb(){return this.Af?
this.Af.Cb():null}Zh(){return this.Ig}rs(){return this.pr}async r0(){const b=await this.Af.WP(),f=d.ef(this.W,this.U);f.getContext("2d").drawImage(b,this.Zt,this.$t,this.W,this.U,0,0,this.W,this.U);return f}}}
{"use strict";const d=self.j;d.LY=class extends d.ia{constructor(a){super();this.Fa=a[0];this.Hh=a[1];this.iD=!!a[2];this.ju=a[3];this.IW=a[4];this.zfa=!!a[5];this.jb=a[6];this.ie=a[7].map(b=>d.A(d.KY,b))}g(){for(const a of this.ie)a.g();d.C(this.ie)}RP(a){for(const b of this.ie)b.pc().Nv(a)}SP(a,b){return Promise.all(this.ie.map(f=>f.pc().Gn(a,b)))}CQ(){for(const a of this.ie)a.pc().hh()}Ba(){return this.Fa}pk(a){a=Math.floor(a);if(0>a||a>=this.ie.length)throw new RangeError("invalid frame");return this.ie[a]}Il(){return this.Hh}un(){return this.ju}}}
{"use strict";const d=self.j;d.KY=class extends d.ia{constructor(a){super();this.Cg=d.A(d.Jv);this.Cg.TP(a);this.$U=a[7];this.uW=d.A(d.Xs,a[8],a[9]);this.VC=a[10].map(b=>d.A(d.B2,this,b));this.DV=new Map;for(const b of this.VC)this.DV.set(b.Ba().toLowerCase(),b);this.Bq=null;a=a[11];6<=a.length&&(this.Bq=d.A(d.mn,a))}g(){this.Bq&&(this.Bq.g(),this.Bq=null);this.Cg.g();this.Cg=null}pc(){return this.Cg}Xh(){return this.uW.X}Yh(){return this.uW.T}LO(a){return this.DV.get(a.toLowerCase())||null}KO(a){a=
Math.floor(a);return 0>a||a>=this.VC.length?null:this.VC[a]}xv(){return this.VC.length}}}{"use strict";const d=self.j;d.B2=class extends d.ia{constructor(a,b){super();this.Fa=b[0];this.XD=d.A(d.Xs,b[1],b[2])}g(){}Ba(){return this.Fa}O(){return this.XD.X}P(){return this.XD.T}}}
{"use strict";const d=self.j,a=self.Rh,b=self.EG;d.ZG=class extends d.ia{constructor(f,c,e){super();const k=f.Wh(e[1]);this.b=f;this.Ai=f.Gm.E1(k);this.Oa=null;this.ZC=k.Instance;this.Va=c;this.jb=e[11];this.Fa=e[0];this.Sx=this.b.Yi(e[14]);this.wfa=!!e[9];this.Ya=!!e[2];this.SK=!!e[10];this.Sj=e[3].map(g=>({YX:g[0],type:g[1],name:g[2],kha:f.Yi(g[3])}));this.Qea=e[4];this.gfa=e[5];this.$f=this.Ai.$f;this.Ra=null;this.mC=d.A(d.B7,f.Xe,f.We);this.uJ=!0;this.vJ=!1;this.iK=this.uo=null;this.Lj=-1;this.hK=
this.GC=this.HC=this.gK=this.ti=null;this.MK=!1;this.Cj=null;this.NU=e[8].map(g=>d.IN.Ta(this,g));this.eC=[];this.DJ=new Map;this.BJ=new Map;this.cX=new Set;this.Lo=d.A(d.y7,this);this.aC=this.$B=this.Gc=this.Cg=this.Cj=this.Bt=null;this.qu=0;this.Kb=new Map;this.Ki=new Map;this.D=[];this.zK=!0;this.Ai.zG()&&(this.Ra=d.A(d.wl,this,e[12]));e[6]&&(this.Cg=d.A(d.Jv),this.Cg.TP(e[6]));if(e[7]){this.Gc=e[7].map(g=>d.A(d.LY,g));this.$B=new Map;this.aC=new Map;for(const g of this.Gc)this.$B.set(g.Ba().toLowerCase(),
g),this.aC.set(g.jb,g)}this.Ya?(this.uo=[],this.iK=new Set,this.Lj=this.b.haa()):(this.ti=[],this.gK=new Set,this.HC=[],this.GC=[],this.hK=[]);this.Oa=d.A(k.ue,this,e[15]);this.IV=this.Cx=null;this.He=d.A(d.Event.Fb);if(c=this.Oa.Zg()){if(this.Cx=new c(this),!(this.Cx instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Cx=new b(this);this.b.FE&&!this.Ya&&!this.SK&&this.$f||this.Qb();this.Ai.yo&&(this.Ai.Qda(this),this.C9(e))}static Ta(f,c,e){return d.A(d.ZG,
f,c,e)}g(){this.Cg&&(this.Cg.g(),this.Cg=null);if(this.Gc){for(const f of this.Gc)f.g();d.C(this.Gc);this.$B.clear();this.aC.clear()}this.Lo.g();this.Lo=null;this.Kb.clear();this.Ki.clear();this.b=this.Cj=null}Xaa(f){for(let c=1,e=f.length;c<e;++c){const k=this.b.Pf(f[c]);this.uo.push(k);this.iK.add(k);k.ti.push(this);k.gK.add(this)}}rda(f){this.MK=!0;this.Cj=f}Kc(){return this.MK}Dba(){var f=0;if(!this.Ya)for(var c of this.ti)for(var e of c.NU){const l=e.Ba().toLowerCase();this.DJ.set(l,e);this.BJ.set(l,
f);this.eC.push(e);++f}for(var k of this.NU)c=k.Ba().toLowerCase(),this.DJ.set(c,k),this.BJ.set(c,f),this.eC.push(k),++f;for(var g of this.eC)this.cX.add(g.Vg().constructor);if(!this.Ya&&this.ti.length){f=this.b.fV;d.VE(this.HC,f,0);d.VE(this.GC,f,0);d.VE(this.hK,f,0);f=[];c=g=k=0;for(const l of this.ti)if(e=l.Lj,this.HC[e]=k,k+=l.Sj.length,this.GC[e]=g,g+=l.Qea,this.hK[e]=c,c+=l.gfa,(e=l.Ra)&&this.Ra)for(const n of e.Ug())f.push(n.rZ(this.Ra));this.Ra&&this.Ra.d5(f)}}C9(f){const c=this.b.gaa(),e=
d.A(d.Instance,{Rc:this.b,dN:this,uid:c});e.oB(f[16],[]);this.b.pba(c,e);this.D.push(e)}Qb(){this.Ya||this.Oa.Qb()}e2(){return 0<this.qu}Dk(f){if(this.Ya)return Promise.resolve();this.qu++;return 1===this.qu?this.Oa.Dk(f)||Promise.resolve():Promise.resolve()}bi(){if(!this.Ya){this.qu--;if(0>this.qu)throw Error("released textures too many times");0===this.qu&&this.Oa.bi()}}RA(){if(this.Ya)throw Error("not applicable to family");this.Oa.RA()}dH(f){return this.Ya?Promise.resolve():this.Oa.dH(f)}H(){return this.b}Hb(){return this.Ai}Ba(){return this.Fa}Yi(){return this.Sx}Ha(){return this.Va}eh(){return this.wfa}PR(f){return f&&
this.cX.has(f)}o1(){return this.Sj.map(f=>f.YX)}n1(f){return this.Sj.findIndex(c=>c.YX===f)}m1(f){return this.Sj.findIndex(c=>c.name===f)}X$(){return this.Sj.map(f=>f.kha)}zv(f){f=Math.floor(f);if(0>f||f>=this.Sj.length)throw new RangeError("invalid instance variable index");return this.Sj[f].type}NO(f){f=Math.floor(f);if(0>f||f>=this.Sj.length)throw new RangeError("invalid instance variable index");return this.Sj[f].name}$z(f){return this.DJ.get(f.toLowerCase())||null}sv(f){f=this.BJ.get(f.toLowerCase());
return"undefined"===typeof f?-1:f}zG(){return this.Ai.zG()}QR(){return this.Ra&&this.Ra.W1()}Z(){return this.Lo.Z()}pc(){return this.Cg}bR(f){this.Bt=f}wF(f){return this.gK.has(f)}qO(f){return this.iK.has(f)}zp(f){return this.GC[f]}HO(f){return this.HC[f]}wO(f){if(!this.Gc)throw Error("no animations");return this.$B.get(f.toLowerCase())||null}E0(f){if(!this.Gc)throw Error("no animations");return this.aC.get(f)||null}a1(){if(!this.Gc)throw Error("no animations");return this.Gc[0].pk(0)}O0(){if(this.Gc){const f=
this.a1().pc();return[f.K(),f.G()]}return this.Cg?[this.Cg.K(),this.Cg.G()]:[100,100]}Hl(){if(!this.Ai.yo)throw Error("not a single-global plugin");return this.D[0]}la(){return this.D}*AX(){yield*this.D}*cha(){yield*this.D;for(const f of this.b.rm)f.I()===this&&(yield f)}hi(f){this.D.push(f)}Lw(){this.zK=!0}QB(){if(this.zK&&!this.Ya){var f=this.D,c=0;for(let e=f.length;c<e;++c)f[c].bU(c);f=this.b.rm;for(const e of f)e.I()===this&&e.bU(c++);this.zK=!1}}MO(f){var c=this.D;if(f<c.length)return c[f];
f-=c.length;c=this.b.rm;for(const e of c)if(e.I()===this){if(0===f)return e;--f}return null}cG(f){if(f&&f.Kc()&&f.I()!==this)for(const c of f.Sd)if(c.I()===this)return c;f=this.Z().la();return f.length?f[0]:null}VO(f){const c=this.Z().la();return 0<c.length?c[f.Ap()%c.length]:null}*jX(f,c){const e=this.Z().la();var k=e.length;const g=c.Z(),l=c.Z().la(),n=l.length;var q=f.Ap();if(c.Ya||!g.ec)q=l.indexOf(f);f=Math.ceil(k/n);k%=n;0===k||q<k?(q*=f,k=f):(q=k*f+(q-k)*(f-1),k=f-1);for(let r=q,p=q+k;r<p;++r)yield e[r]}ov(f){this.Oa.ov(f)}oc(){if(this.MK&&
!this.Ya){this.QB();var f=this.Z(),c=f.D,e=f.ec,k=this.b.Mf();k=k&&k.Gb()&&k.Gb().je;for(const n of this.Cj.Em)if(n!==this){n.QB();var g=n.Z();g.Me(e);if(!e){var l=g.D;d.C(l);for(const q of c)l.push(n.MO(q.Ap()));if(k){l=f.xc;g=g.xc;d.C(g);for(const q of l)g.push(n.MO(q.Ap()))}}}}}qea(f,c){for(const e of this.Cj.Em){const k=e.Z();f?d.bf(k.xc,c):d.bf(k.D,c)}}XT(){this.uJ=!0}SI(f){this.vJ=!!f}AU(){if(this.uJ&&this.$f){for(const f of this.D)f.i().DU();for(const f of this.b.rm)f.I()===this&&f.i().DU();
this.uJ=!1}}Yd(){this.Kb||(this.Kb=new Map);return this.Kb}Fv(){this.Ki||(this.Ki=new Map);return this.Ki}qP(){return this.PR(d.xa.kma)}AG(){return this.PR(d.xa.Ima)}ma(){const f={instances:this.D.map(c=>c.Xb())};this.Kb&&this.Kb.size&&(f.ex=d.QH(this.Kb));return f}wa(f){this.Kb&&(this.Kb.clear(),this.Kb=null);var c=f.ex;c&&(this.Kb=d.RF(c));c=this.D;f=f.instances;for(let e=0,k=Math.min(c.length,f.length);e<k;++e)c[e].Pb(f[e]);for(let e=f.length,k=c.length;e<k;++e)this.b.pn(c[e]);for(let e=c.length,
k=f.length;e<k;++e){c=f[e];let g=null;if(this.$f&&(g=this.b.Wb().pA(c.w.l),!g))continue;this.b.Si(this.Bt||this,g,!1,0,0,!0).Pb(c)}this.Lw()}Th(f){var c=this.b;(c=c.Jb&&!c.ka().JA())&&a.MH();this.He.dispatchEvent(f);c&&a.sF()}}}{"use strict";const d=self.j;d.DZ=class extends d.ia{constructor(a,b){super();this.b=a;this.Em=b;for(const f of this.Em)f.rda(this)}g(){this.b=null}H(){return this.b}Z1(){return this.Em.some(a=>a.$f)}}}
{"use strict";const d=self.j,a=self.Rh,b=self.xn,f=[];let c=0;const e=new WeakMap,k=new WeakMap;d.Instance=class extends d.ia{constructor(g){super();this.b=g.Rc;this.xe=g.dN;this.Pe=this.ja=this.nb=null;this.CV=0;this.Qc=g.uid;this.DW=c++;this.na=0;this.nd=this.Yf=f;var l=this.xe.eC;0<l.length&&(this.nd=l.map((n,q)=>d.A(d.Dz,{Rc:this.b,EM:n,instance:this,index:q})));this.Sd=this.xe.Kc()?[]:null;this.Fe=-1;this.$b=null;l=this.Hb();l.Hn()&&(this.na|=4);if(l.$f)if(this.nb=d.A(d.s8,this,g.oe),g.hY)this.nb.yn(g.hY);
else{this.nb.S2();const [n,q]=this.xe.O0();this.nb.Rb(n,q);this.I().QR()&&this.nb.Qe.S3()}g.zX?this.aba(g.zX):this.Vaa()}g(){this.Pe&&(this.Pe.Kw(),this.Pe=null);if(0<this.nd.length){for(var g of this.nd)g.g();d.C(this.nd)}this.ja.g();this.ja=null;if(g=e.get(this))g.clear(),e.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.Sd&&d.C(this.Sd);this.$b&&(this.$b.g(),this.$b=null);this.xe=this.b=null;0<this.Yf.length&&d.C(this.Yf);this.nb&&(this.nb.g(),this.nb=null)}aba(g){0<g.length&&(this.Yf=
[],d.xd(this.Yf,g))}Vaa(){const g=this.xe.Sj.length;if(0!==g){this.Yf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.Yf.push(l[this.xe.zv(n)])}}oB(g,l){if(this.ja)throw Error("already got sdk instance");for(let n=0,q=this.nd.length;n<q;++n)this.nd[n].oB(l?l[n]:null);this.ja=d.A(this.xe.ZC,this,g);if(!(this.ja instanceof d.Zv))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.nd.length;n<q;++n);this.xe.IV&&this.$S()}i(){return this.nb}H(){return this.b}C0(){const g=this.Fe;return-1===
g?this.H().Fe:g}EH(g){g=+g;if(0>g||!isFinite(g))g=0;this.Fe=g}K5(){this.Fe=-1}Fb(){this.$b||(this.$b=d.A(d.Event.Fb));return this.$b}Nd(g){this.ja.Nd(g)}Qb(g){this.ja.Qb(g)}Dda(){this.na|=2}Bk(){return 0!==(this.na&2)}DI(){this.na|=1}CP(){return 0!==(this.na&1)}Hn(){return 0!==(this.na&4)}N6(){this.na|=32}aQ(){return 0!==(this.na&32)}eT(){return 0!==(this.na&8)}Rda(g){this.na=g?this.na|8:this.na&-9}fw(g,l){g<<=16;this.na=l?this.na|g:this.na&~g}fG(g){return 0!==(this.na&g<<16)}Ed(){return this.ja.Ed()}fA(){return this.ja.fA()}gA(){return this.ja.gA()}El(g){return this.ja.El(g)}I(){return this.xe}Sp(){return this.ja.Sp()}Wr(g){return g.Ya?
g.qO(this.I()):this.I()===g}RR(){if(!this.Hb().XW)throw Error("object does not support scene graph");}Ak(){return null!==this.Da()}Da(){var g=this.i();return g?(g=g.Da())?g.Ca():null:null}xA(){var g=this.i();return g?(g=g.xA())?g.Ca():null:null}*oz(){const g=this.i();if(g)for(const l of g.oz())yield l.Ca()}Rf(){const g=this.i();return g?g.Rf():!1}Lf(){const g=this.i();return g?g.Lf().map(l=>l.Ca()):[]}*children(){const g=this.i();if(g)for(const l of g.children())yield l.Ca()}*ep(){const g=this.i();
if(g)for(const l of g.ep())yield l.Ca()}dA(){const g=this.i();return g?g.dA():0}WF(g){const l=this.i();return l?(g=l.WF(g))?g.Ca():null:null}kn(g,l){this.RR();g.RR();this.i().kn(g.i(),l||{})}Ek(g){const l=this.i();l&&l.Ek(g.i())}iA(){const g=this.i();return g?g.iA():!1}r7(){var g=this.i();if(g&&(g=g.OL))for(const l of g)if(g=this.b.Wi(l[2])){const n=l[3];this.kn(g,{Yu:!!(n>>0&1),Zu:!!(n>>1&1),Sr:!!(n>>2&1),Rr:!!(n>>3&1),Xu:!!(n>>4&1),cz:!!(n>>5&1),$u:!!(n>>6&1)})}}Kc(){return null!==this.Sd}Ys(g){this.Sd.push(g)}g2(g){return!!this.gP(g)}gP(g){const l=
this.Sd;if(null===l||0===l.length)return!1;for(const n of l)if(n.I()===g)return n;return null}kj(){for(const g of this.Sd)g.I().Z().Hk(g)}jca(){for(const g of this.Sd)g.I().Z().lq(g)}Pda(g){for(const l of this.Sd)l.I().Z().D[g]=l}ica(){for(const g of this.Sd)g.I().Z().ao(g)}Oda(g){for(const l of this.Sd)l.I().Z().xc[g]=l}Hb(){return this.xe.Hb()}bU(g){this.CV=g}Ap(){this.xe.QB();return this.CV}F0(g){if(!g)return null;for(const l of this.nd)if(l.Vg()instanceof g)return l;return null}zO(g){const l=
this.nd;for(let n=0,q=l.length;n<q;++n)if(l[n].Uh().jb===g)return n;return-1}jf(g){g|=0;const l=this.Yf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}daa(g){const l=this.Yf[g];return 0===this.xe.zv(g)?!!l:l}Sn(g,l){g|=0;const n=this.Yf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.xe.zv(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");
}}A6(g,l){if(0!==l){g|=0;var n=this.Yf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var q=n[g];if("number"===typeof q)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Yd(){let g=e.get(this);if(g)return g;g=new Map;e.set(this,g);return g}Fv(){let g=k.get(this);if(g)return g;
g=new Map;k.set(this,g);return g}US(g){const l=this.I();if(l.He.xG(g))return!0;for(const n of l.ti)if(n.He.xG(g))return!0;return this.b.He.xG(g)?!0:!1}PB(){const g=new Set;g.add(this);const l=this.i();if(l&&l.Rf())for(const n of this.ep())if(g.add(n),n.Kc())for(const q of n.Sd)g.add(q);if(this.Kc())for(const n of this.Sd)g.add(n);for(const n of g.values())n.wU()}wU(){if(this.US("instancecreate")){const g=this.I(),l=new d.Event("instancecreate");l.instance=this.Vh();g.Th(l);for(const n of g.ti)n.Th(l);
this.b.Th(l)}this.b.Aa(this.Hb().constructor.F.w4,this,null)}oea(){this.b.Aa(this.Hb().constructor.F.x4,this,null)}O$(g){if(this.Pe){var l=new d.Event("destroy");l.gha=g;this.Th(l)}if(this.US("instancedestroy")){l=this.I();var n=new d.Event("instancedestroy");n.instance=this.Vh();n.gha=g;l.Th(n);for(const q of l.ti)q.Th(n);this.b.Th(n)}}Xb(g="full"){const l={};"full"===g?l.uid=this.Qc:l.c3=!0;if("visual-state"!==g){var n=e.get(this);n&&n.size&&(l.ex=d.QH(n));-1!==this.Fe&&(l.mts=this.Fe);if(0<this.xe.Sj.length){n=
{};var q=this.xe.o1();for(let r=0,p=this.Yf.length;r<p;++r)n[q[r].toString()]=this.Yf[r];l.ivs=n}if(this.nd.length){n={};for(const r of this.nd)(q=r.Xb())&&(n[r.Uh().jb.toString()]=q);l.behs=n}}this.nb&&(l.w=this.nb.ma(g));(g=this.ja.Xb())&&(l.data=g);return l}CB(g="full"){this.nb&&this.nb.CB(g)}Pb(g,l="full"){if("full"===l)this.Qc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=e.get(this);n&&(n.clear(),e.delete(this));if(n=g.ex)n=d.RF(n),e.set(this,n);this.Fe=g.hasOwnProperty("mts")?g.mts:
-1;if(n=g.ivs)for(const [p,w]of Object.entries(n))if(n=this.xe.n1(parseInt(p,10)),!(0>n||n>=this.Yf.length)){var q=w;null===q&&(q=NaN);this.Yf[n]=q}}if(this.Hb().$f){n=g.w;var r=n.l;this.nb.ba().jb!==r&&(q=this.nb.ba(),(r=q.qc().pA(r))?(this.nb.Mw(r),q.bo(this,!0),r.hi(this,!0),r.mh(),this.nb.ua()):"full"===l&&this.b.pn(this));this.nb.wa(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [p,w]of Object.entries(l))l=this.zO(parseInt(p,10)),0>l||l>=this.nd.length||this.nd[l].Pb(w);(g=g.data)&&this.ja.Pb(g)}Vh(){return this.Pe||
this.$S()}$S(){var g=this.nb?self.us:b;const l=this.ja.Zg(),n=this.xe.IV,q=n||l||g;b.pj(this);this.Pe=new q;b.pj(null);if(l&&!(this.Pe instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Pe instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.Pe}caa(g){if(0!==this.Yf.length){var l={},n=this.xe.X$();for(let q=0,r=n.length;q<r;++q)l[n[q]]=
{configurable:!1,enumerable:!0,get:d.Instance.prototype.daa.bind(this,q),set:d.Instance.prototype.Sn.bind(this,q)};l=Object.create(Object.prototype,l);g.rsa={value:l,writable:!1}}}Y$(g){var l=this.nd;if(0!==l.length){var n={};for(const q of l)n[q.Uh().Yi()]={value:q.vA(),writable:!1};l=Object.create(Object.prototype,n);g.az={value:l,writable:!1}}}Th(g){g.instance=this.Vh();var l=this.b;(l=l.Jb&&!l.ka().JA())&&a.MH();this.Vh().dispatchEvent(g);l&&a.sF()}}}
{"use strict";const d=self.j;d.U5=class extends d.ia{constructor(a){super();this.yc=a;this.Nc=null;this.kC=[];this.pE=a.K();this.oE=a.G();this.dM=this.cM=1;this.QD=0}g(){this.Nc=null;d.C(this.kC)}rR(a){this.QD=(this.Nc=a)?a.ta():0}Da(){return this.Nc}Rf(){return 0<this.kC.length}Lf(){return this.kC}Z6(a){this.cM=a}a7(a){this.dM=a}vk(){return this.yc.Ep()?this.Nc.K()/this.Nc.Ob.pE:1}wk(){return this.yc.Dp()?this.Nc.G()/this.Nc.Ob.oE:1}ma(){return{sw:this.pE,sh:this.oE,sx:this.cM,sy:this.dM,psa:this.QD,
c:this.kC.map(a=>{let b="";a.Fp()&&(b+="x");a.Gp()&&(b+="y");a.Ep()&&(b+="w");a.Dp()&&(b+="h");a.zA()&&(b+="a");a.AA()&&(b+="z");a.iA()&&(b+="d");return{uid:a.Ca().Qc,f:b}})}}wa(a){this.pE=a.sw;this.oE=a.sh;this.cM=a.sx;this.dM=a.sy;this.QD=a.psa}Iw(a){const b=this.yc,f=b.H();for(const c of a.c){a=f.Wi(c.uid).i();const e=c.f,k={};k.Yu=e.includes("x");k.Zu=e.includes("y");k.Sr=e.includes("w");k.Rr=e.includes("h");k.Xu=e.includes("a");k.$u=e.includes("z");k.cz=e.includes("d");b.kn(a,k)}}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Ec),f=d.A(d.Event,"bboxchange",!1),c=d.A(d.$a,0,0,0,0),e=d.A(d.mn),k=d.A(d.$a,1,1,1,1),g=d.A(d.Rect,0,0,-1,-1),l=d.A(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let r=!0;d.s8=class extends d.ia{constructor(p,w){super();this.L=p;this.N=p.I();this.b=p.H();this.cl=w;this.nl=-1;this.na=196635;this.N.Hb().Lp()&&(this.na|=128);this.bu=this.au=this.OJ=this.TL=this.Wa=this.Gj=this.Qj=this.ik=this.ud=this.T=this.X=NaN;this.HJ=d.A(d.Rect);this.IJ=
d.A(d.Ec);this.lC=l;this.ry=g;this.Hi=this.su=this.lE=null;this.Dq=this.Ja=k;this.Qe=this.Ar=null;this.L.I().QR()&&(this.Qe=d.A(d.j3,this.L,this));this.OL=this.Ob=null;this.PL=this.LW=NaN;this.yi=null}DI(){this.na|=256}g(){this.Ar&&(this.b.pb().DQ(this.Ar),this.Ar=null);this.lE=null;this.su&&(this.su.PX.g(),this.su=null);this.Hi&&(this.Hi.clear(),this.Hi=null);this.XA();this.Ak()&&this.Da().Ek(this);if(this.Rf()){const p=[...this.Lf()];for(const w of p)this.Ek(w)}this.GB();this.cl=this.b=this.N=this.L=
null}yn(p){r=!1;this.re(p[0],p[1]);this.Le(p[2]);this.Rb(p[3],p[4]);this.Gj=0;this.Lp()?this.Fc(p[6]):this.Wa=0;c.dn(p[7]);this.IB(c);this.Yp(p[8]);this.Zp(p[9]);this.pf(p[10]);this.Qe&&this.Qe.Waa(p[12]);p[14]&&(this.OL=p[14][1],this.LW=p[14][2]);if(p[15]){var w=p[15];this.HF(w[0],w[1]);p=this.cj();w=w[2];for(let t=0,v=w.length;t<v;++t){const x=w[t];for(let z=0,D=x.length;z<D;++z){const E=x[z],M=p.ls(z,t);M.Tf(E[0]);M.kh(E[1]);M.Le(E[2]);M.FH(E[3]);M.GH(E[4])}}}r=!0;this.gt()}S2(){this.TL=this.Wa=
this.Gj=this.Qj=this.ik=this.ud=this.T=this.X=0;this.OJ=1;this.bu=this.au=0;this.gt()}H(){return this.b}I(){return this.N}Ca(){return this.L}zw(){return this.zA()?this.Da().ta()-this.Ob.QD:0}Tf(p){p=+p;if(this.Fp()){const w=this.Ob;p-=this.O();const t=-this.zw();0===t?this.X+=p/w.vk():(this.X+=Math.cos(t)*p/w.vk(),this.Gp()&&(this.T+=Math.sin(t)*p/w.wk()))}else this.X=p}Qv(p){p=+p;this.Fp()?this.Tf(this.O()+p):this.X+=p}O(){if(this.Fp()){let p=this.X;const w=this.Ob,t=this.Da(),v=this.zw();0===v?
p*=w.vk():(p=p*w.vk()*Math.cos(v),this.Gp()&&(p-=this.T*w.wk()*Math.sin(v)));return t.O()+p}return this.X}kh(p){p=+p;if(this.Gp()){const w=this.Ob;p-=this.P();const t=-this.zw();0===t?this.T+=p/w.wk():(this.Fp()&&(this.X-=Math.sin(t)*p/w.vk()),this.T+=Math.cos(t)*p/w.wk())}else this.T=p}Sv(p){p=+p;this.Gp()?this.kh(this.P()+p):this.T+=p}P(){if(this.Gp()){let p=this.T;const w=this.Ob,t=this.Da(),v=this.zw();0===v?p*=w.wk():(p=p*w.wk()*Math.cos(v),this.Fp()&&(p+=this.X*w.vk()*Math.sin(v)));return t.P()+
p}return this.T}re(p,w){p=+p;w=+w;if(this.nP()){const v=this.Fp(),x=this.Gp(),z=this.Ob,D=p-this.O(),E=w-this.P();var t=-this.zw();if(0===t)this.X=v?this.X+D/z.vk():p,this.T=x?this.T+E/z.wk():w;else{const M=Math.sin(t);t=Math.cos(t);this.X=v?x?this.X+(t*D-M*E)/z.vk():this.X+t*D/z.vk():p;this.T=x?v?this.T+(M*D+t*E)/z.wk():this.T+t*E/z.wk():w}}else this.X=p,this.T=w}Rv(p,w){p=+p;w=+w;this.nP()?this.re(this.O()+p,this.P()+w):(this.X+=p,this.T+=w)}PF(p,w){return this.O()===p&&this.P()===w}Le(p){p=+p;
this.AA()&&(p-=this.Da().Ua());this.ud!==p&&(this.ud=p,this.HU(),p=this.ba(),0!==this.ud&&p.YT(),p.mh())}HU(){this.gt();if(this.Rf()){const p=this.Lf();for(let w=0,t=p.length;w<t;w++){const v=p[w];v.AA()&&v.HU()}}}q4(p){this.Le(this.Ua()+p)}Ua(){return this.AA()?this.Da().Ua()+this.ud:this.ud}Qf(){return this.ba().Ua()+this.Ua()}rf(p){p=+p;this.ik=this.Ep()?this.ik*(p/this.K()):p}dQ(p){p=+p;this.Ep()?this.rf(this.K()+p):this.ik+=p}K(){return this.Ep()?this.Da().K()*this.ik:this.ik}ld(p){p=+p;this.Qj=
this.Dp()?this.Qj*(p/this.G()):p}cQ(p){p=+p;this.Dp()?this.ld(this.G()+p):this.Qj+=p}G(){return this.Dp()?this.Da().G()*this.Qj:this.Qj}Rb(p,w){p=+p;w=+w;this.ik=this.Ep()?this.ik*(p/this.K()):p;this.Qj=this.Dp()?this.Qj*(w/this.G()):w}zl(){return this.Gj}uH(p){if(0>p)throw new RangeError("invalid depth");this.Gj=p}$O(){if(this.Ak()){const p=this.Ob;return Math.min(p.vk(),p.wk())}return 1}Lp(){return 0!==(this.na&128)}Fc(p){p=+p;this.Lp()&&(this.zA()&&(p-=this.Da().ta()),p=d.me(p),this.Wa!==p&&(this.Wa=
p,this.EI()))}m4(p){p=+p;0!==p&&this.Lp()&&(this.Wa=d.me(this.Wa+p),this.EI())}EI(){this.na|=262144;if(this.Rf()){const p=this.Lf();for(let w=0,t=p.length;w<t;w++)p[w].EI()}}ta(){return this.zA()?d.me(this.Da().ta()+this.Wa):this.Wa}qT(){const p=this.na;if(0!==(p&262144)){var w=this.ta();this.TL=Math.sin(w);this.OJ=Math.cos(w);this.na=p&-262145}}rG(){this.qT();return this.TL}XF(){this.qT();return this.OJ}Yp(p){this.au=+p}o4(p){this.au+=+p}Xh(){return this.au}Zp(p){this.bu=+p}p4(p){this.bu+=+p}Yh(){return this.bu}IB(p){this.Ja.fd(p)||
(this.Ja===k?(this.Ja=d.A(d.$a,p),this.Dq=d.A(d.$a,p),this.Dq.rz()):p.fz(1,1,1,1)?this.Dq=this.Ja=k:(this.Ja.set(p),this.Dq.set(p),this.Dq.rz()),this.gt())}jj(p){p=d.fa(+p,0,1);this.Ja.cp!==p&&(c.kk(this.Ja),c.cp=p,this.IB(c))}n4(p){this.jj(this.kf()+p)}kf(){return this.Ja.cp}BR(p){this.Ja.$m(p)||(c.kk(p),c.cp=this.Ja.cp,this.IB(c))}m7(p,w,t){c.Uu(p,w,t);this.BR(c)}lG(){return this.Dq}iA(){return 0!==(this.na&512)}h6(p){this.tf(512,p)}Fp(){return 0!==(this.na&1024)}h7(p){this.tf(1024,p)}Gp(){return 0!==
(this.na&2048)}nP(){return 0!==(this.na&3072)}i7(p){this.tf(2048,p)}Ep(){return 0!==(this.na&4096)}g7(p){this.tf(4096,p)}Dp(){return 0!==(this.na&8192)}f7(p){this.tf(8192,p)}zA(){return 0!==(this.na&16384)}e7(p){this.tf(16384,p)}AA(){return 0!==(this.na&32768)}j7(p){this.tf(32768,p)}fS(){this.na&=-65025}kn(p,w){if(p!==this&&!p.Ak()&&!this.WS(p)&&!this.VS(p)){var t=p.O(),v=p.P(),x=p.K(),z=p.G(),D=p.ta(),E=p.Ua();p.kU(this);p.h7(w.Yu);p.i7(w.Zu);p.g7(w.Sr);p.f7(w.Rr);p.e7(w.Xu);p.j7(w.$u);p.h6(w.cz);
w.Yu&&(p.X=t-this.O(),w.Sr&&(p.X/=this.K()/this.Ob.pE));w.Zu&&(p.T=v-this.P(),w.Rr&&(p.T/=this.G()/this.Ob.oE));w.Sr&&(p.ik=x/this.K(),p.Ob.Z6(p.ik));w.Rr&&(p.Qj=z/this.G(),p.Ob.a7(p.Qj));w.Xu&&(p.Wa=D-this.ta());w.$u&&(p.ud=E-this.Ua());this.E8(p);this.ua()}}Ek(p){if(p.Da()===this){var w=p.O(),t=p.P(),v=p.K(),x=p.G(),z=p.ta(),D=p.Ua();p.kU(null);p.fS();p.re(w,t);p.Rb(v,x);p.Fc(z);p.Le(D);this.wca(p);this.ua()}}Eca(){for(var p of this.children())this.Ek(p);(p=this.Da())&&p.Ek(this);this.fS()}Ak(){return null!==
this.Da()}Da(){const p=this.Ob;return null!==p?p.Da():null}xA(){let p=this;for(;p.Ak();)p=p.Da();return p}*oz(){let p=this.Da();for(;p;)yield p,p=p.Da()}b2(p){return this.Lf().includes(p)}Rf(){const p=this.Ob;return null!==p?p.Rf():!1}Lf(){const p=this.Ob;return null!==p?p.Lf():q}children(){return this.Lf()}*ep(){for(const p of this.children())yield p,yield*p.ep()}dA(){return this.Lf().length}WF(p){const w=this.Lf();p=Math.floor(+p);return 0>p||p>=w.length?null:w[p]}cI(p){this.Ob||(this.Ob=d.A(d.U5,
this));p&&this.Ob.rR(p)}GB(){this.Ob&&(this.Ob.g(),this.Ob=null)}kU(p){p?(p.cI(null),this.cI(p)):(this.Ob&&this.Ob.rR(null),this.Rf()||this.GB())}VS(p){if(!this.Ak())return!1;const w=this.Da();return w===p?!0:w.VS(p)}WS(p){if(this.b2(p))return!0;for(const w of this.Lf())if(w.WS(p))return!0;return!1}E8(p){this.Ob.Lf().push(p)}wca(p){const w=this.Ob.Lf(),t=w.indexOf(p);-1!==t&&w.splice(t,1);0!==w.length||this.Ak()||this.GB();p.Rf()||p.GB()}zH(p){this.PL=p}gt(){if(r){var p=this.b.pb();this.Ar&&p.DQ(this.Ar);
this.Ar=p.pY(0!==(this.na&524288)?p.mE||"<point>":p.nE||"<default>",this.Vi(),this.Dq,this.Ua())}}wn(){return this.Ja===k}pf(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Vi()!==p&&(this.na=this.na&-2080374785|p<<26,this.gt())}Vi(){return(this.na&2080374784)>>26}Mw(p){this.cl=p;0!==this.Ua()&&this.cl.YT()}ba(){return this.cl}qc(){return this.ba().qc()}NB(p){this.nl=p|0}zk(){this.cl.Tw();return this.nl}tf(p,w){this.na=w?this.na|p:this.na&~p}Tc(){return 0!==(this.na&1)}Ke(p){this.tf(1,
p)}bh(){return 0!==(this.na&8)}bw(p){p=!!p;this.bh()!==p&&(this.tf(8,p),p?this.ua():this.GT())}BH(p,w){this.tf(32,p);this.Hi&&this.Hi.clear();if(w.trim()){this.Hi||(this.Hi=new Set);for(const t of w.split(" "))t&&this.Hi.add(t.toLowerCase())}else this.Hi=null}VG(p){const w=0!==(this.na&32),t=this.Hi;if(!p||!t)return!w;for(const v of t)if(p.has(v))return w;return!w}ua(){this.na|=65554;this.N.XT();this.b.R();this.cl.fq()&&(this.Gz(this.HJ,this.IJ,!0),this.na&=-3,this.wea());0!==(this.na&4)&&this.L.Fb().dispatchEvent(f);
if(null!==this.Ob){const p=this.Ob.Lf();for(let w=0,t=p.length;w<t;++w)p[w].ua()}}Gz(p,w,t){const v=this.O(),x=this.P(),z=this.K(),D=this.G(),E=this.ta();p.Oi(v-this.au*z,x-this.bu*D,z,D);t&&this.sg()&&this.I$(p);0===E?w.Ph(p):(p.offset(-v,-x),w.gF(p,this.rG(),this.XF()),w.offset(v,x),w.RM(p));p.normalize()}CU(){const p=this.na;0!==(p&2)&&(this.Gz(this.HJ,this.IJ,!0),this.na=p&-3)}tb(){this.CU();return this.HJ}mg(){this.CU();return this.IJ}Cs(p){var w=this.O(),t=this.P();w=Math.round(w)-w;t=Math.round(t)-
t;if(0===w&&0===t)return p;b.qa(p);b.offset(w,t);return b}c6(p){this.tf(4,p)}yP(){return 0!==(this.na&4)}IP(p,w,t){return w&&0!==this.zl()?this.xs(this.ba().Aw()):0===this.Ua()||t?p.ZE(this.tb()):this.Maa()}Maa(){const p=this.ba(),w=this.Qf();if(w>=p.bA())return!1;p.vG(w,a);return a.ZE(this.tb())}xs(p){var w=this.tb();const t=w.M,v=w.V,x=w.J;w=w.S;const z=this.Qf();return p.EZ(t,x,z,v,w,z+this.zl())}JB(p){this.tf(1048576,p)}LB(p){this.tf(2097152,p)}u3(){return 0!==(this.na&1048576)}v3(){return 0!==
(this.na&2097152)}CH(p){this.lE=p;this.jI();this.sg()&&(this.yi.ZM=null)}DA(){return null!==this.lE||this.sg()}xk(){return this.$$(this.K(),this.G(),this.ta(),this.rG(),this.XF())}$$(p,w,t,v,x){let z=this.su;null===z&&(this.su=z={PX:d.A(d.mn),width:NaN,height:NaN,angle:NaN});const D=z.PX;if(z.width===p&&z.height===w&&z.angle===t)return D;const E=this.lE;if(this.sg()){const M=this.Xh(),B=this.Yh(),G=this.cj();let H=this.yi.ZM;H||(E?(e.qa(E),e.offset(M,B)):e.Oha(),H=G.i3(e),this.yi.ZM=H);G.S7(H,D);
D.offset(-M,-B);D.AN(p,w,v,x)}else E?(D.qa(E),D.AN(p,w,v,x)):D.sN(this.mg(),-this.O(),-this.P());z.width=p;z.height=w;z.angle=t;return D}jI(){this.S6();const p=this.su;null!==p&&(p.width=NaN)}HF(p,w){p=Math.floor(p);w=Math.floor(w);if(!this.Ca().Hb().dga)throw Error("object does not support mesh");this.XA();this.yi={vN:d.A(d.$.$P,p,w),bY:d.A(d.$.$P,p,w),ZM:null}}sg(){return null!==this.yi}cj(){if(!this.sg())throw Error("no mesh");return this.yi.vN}oP(){if(!this.sg())throw Error("no mesh");return this.yi.bY}eB(p){this.tf(65536,
p)}KP(){return 0!==(this.na&65536)}S6(){this.tf(131072,!0)}I$(p){const w=this.yi.vN,t=Math.min(w.B1(),0),v=Math.min(w.C1(),0),x=Math.max(w.w1(),1),z=Math.max(w.x1(),1),D=p.width(),E=p.height();p.offsetLeft(t*D);p.offsetTop(v*E);p.zha((x-1)*D);p.yha((z-1)*E);this.Gj=w.y1()}XA(){this.yi&&(this.yi.vN.g(),this.yi.bY.g(),this.yi=null,this.jI())}nR(p,w,t){p=Math.floor(p);w=Math.floor(w);var v=t.mode||"absolute";if(!n.has(v))throw Error("invalid mode");v="relative"===v;let x=t.x,z=t.y;const D=t.Bz;let E=
"number"===typeof t.fY?t.fY:v?0:-1;t="number"===typeof t.gY?t.gY:v?0:-1;if(!this.sg())return!1;const M=this.cj(),B=M.ls(p,w);if(null===B)return!1;let G=!1;"number"===typeof D&&B.Ua()!==D&&(B.Le(D),G=!0);v&&(x+=p/(M.Yk-1),z+=w/(M.kl-1));-1!==E||v?(v&&(E+=p/(M.Yk-1)),E=d.fa(E,0,1)):E=B.Lh;-1!==t||v?(v&&(t+=w/(M.kl-1)),t=d.fa(t,0,1)):t=B.Nh;if(B.O()===x&&B.P()===z&&B.Lh===E&&B.Nh===t)return G;B.Tf(x);B.kh(z);B.FH(E);B.GH(t);this.jI();return!0}Bk(){return this.L.Bk()}hv(p,w){return this.tb().hg(p,w)&&
this.mg().hg(p,w)?this.Bk()?void 0:this.DA()?this.xk().hg(p-this.O(),w-this.P()):!0:!1}Jaa(){return 0!==(this.na&16)}DU(){if(this.Jaa()&&this.bh()&&0===(this.na&256)){var p=this.tb(),w=this.N.mC,t=this.lC;a.set(w.mj(p.M),w.nj(p.J),w.mj(p.V),w.nj(p.S));t.fd(a)||(p=this.L,t===l?(w.Vl(p,null,a),this.lC=d.A(d.Rect,a)):(w.Vl(p,t,a),t.qa(a)),this.na&=-17)}}GT(){const p=this.lC;p!==l&&(this.N.mC.Vl(this.L,p,null),this.lC=l)}wea(){const p=this.ba();if(p.fq()&&0===(this.na&256)){var w=p.iu,t=this.tb(),v=this.ry;
a.set(w.mj(t.M),w.nj(t.J),w.mj(t.V),w.nj(t.S));v.fd(a)||(t=this.L,v===g?(w.Vl(t,null,a),this.ry=d.A(d.Rect,a)):(w.Vl(t,v,a),v.qa(a)),p.V6())}}HT(){const p=this.ry;p!==g&&(this.ba().iu.Vl(this.L,p,null),this.ry=g)}B8(){const p=this.L,w=this.cl,t=w.D;t.length&&t.$e(-1)===p||(w.bo(p,!1),w.hi(p,!1),this.b.R())}z8(){const p=this.L,w=this.cl,t=w.D;t.length&&t[0]===p||(w.bo(p,!1),w.fca(p),this.b.R())}A8(p){const w=this.L,t=this.cl;if(t.qc()!==p.qc())throw Error("layer from different layout");p!==t&&(t.bo(w,
!0),this.Mw(p),p.hi(w,!0),this.b.R())}y8(p,w){const t=this.L;let v=!1;const x=this.cl;if(p.Qc!==t.Qc){var z=p.i();if(!z)throw Error("expected world instance");z=z.ba();x.Ha()!==z.Ha()&&(x.bo(t,!0),this.Mw(z),z.hi(t,!0),v=!0);p=z.f4(t,p,!!w);(v||p)&&this.b.R()}}Cda(p){this.tf(64,p)}Hv(){return 0!==(this.na&64)}ma(p){const w={x:this.O(),y:this.P(),w:this.K(),h:this.G(),l:this.ba().jb,zi:this.zk()};0!==this.Ua()&&(w.ze=this.Ua());0!==this.ta()&&(w.a=this.ta());this.wn()||(w.c=this.Ja.toJSON());.5!==
this.Xh()&&(w.oX=this.Xh());.5!==this.Yh()&&(w.oY=this.Yh());0!==this.Vi()&&(w.bm=this.Vi());this.Tc()||(w.v=this.Tc());this.bh()||(w.ce=this.bh());this.yP()&&(w.be=this.yP());this.Qe&&(w.fx=this.Qe.ma());const t=0!==(this.na&32);t&&(w.sfi=t);this.Hi&&(w.sft=[...this.Hi].join(" "));this.Ob&&"visual-state"!==p&&(w.sgi=this.Ob.ma());this.sg()&&(w.mesh=this.cj().Xb());return w}CB(p){"visual-state"!==p&&this.Eca()}wa(p,w){r=!1;this.Tf(p.x);this.kh(p.y);this.rf(p.w);this.ld(p.h);this.NB(p.zi);this.Le(p.hasOwnProperty("ze")?
p.ze:0);this.Fc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.dn(p.c):p.hasOwnProperty("o")?(c.kk(this.Ja),c.cp=p.o):c.rp(1,1,1,1);this.IB(c);this.Yp(p.hasOwnProperty("oX")?p.oX:.5);this.Zp(p.hasOwnProperty("oY")?p.oY:.5);this.pf(p.hasOwnProperty("bm")?p.bm:0);this.Ke(p.hasOwnProperty("v")?p.v:!0);this.bw(p.hasOwnProperty("ce")?p.ce:!0);this.c6(p.hasOwnProperty("be")?p.be:!1);this.BH(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Qe&&p.hasOwnProperty("fx")&&this.Qe.wa(p.fx);
if(p.hasOwnProperty("sgi")&&"visual-state"!==w){this.cI(null);const t=this.Ob,v=p.sgi;t.wa(v);const x=this.H().Fb(),z=()=>{x.removeEventListener("afterload",z);0===(this.na&256)&&t.Iw(v)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.HF(p.cols,p.rows),this.cj().Pb(p)):this.XA();this.ua();r=!0;this.gt()}}}
{"use strict";const d=self.j;d.IN=class extends d.ia{constructor(a,b){super();const f=a.H(),c=f.Gm,e=f.Wh(b[1]);c.a2(e)||c.KZ(b);this.b=f;this.N=a;this.wj=c.yO(e);this.Oa=null;this.ZC=e.Instance;this.jb=b[2];this.Fa=b[0];this.Sx=this.b.Yi(b[3]);this.Oa=d.A(e.ue,this);this.Qb()}static Ta(a,b){return d.A(d.IN,a,b)}g(){this.wj=this.b=null;this.Oa.g();this.ZC=this.Oa=null}Qb(){this.Oa.Qb()}H(){return this.b}I(){return this.N}Vg(){return this.wj}Ba(){return this.Fa}Yi(){return this.Sx}}}
{"use strict";const d=self.j,a=self.uP;d.Dz=class extends d.ia{constructor(b){super();this.b=b.Rc;this.od=b.EM;this.wj=this.od.Vg();this.L=b.instance;this.Va=b.index;this.Pe=this.ja=null;this.wj.hi(this.L)}g(){this.Pe&&(this.Pe.Kw(),this.Pe=null);this.wj.bo(this.L);this.ja.g();this.L=this.wj=this.od=this.b=this.Pe=this.ja=null}oB(b){if(this.ja)throw Error("already got sdk instance");this.ja=d.A(this.od.ZC,this,b);this.Baa()}H(){return this.b}Uh(){return this.od}Vg(){return this.wj}ji(){return this.Va}Xb(){return this.ja.Xb()}Pb(b){return this.ja.Pb(b)}static KH(b,
f){var c=b.L,e=f.L;const k=c.I().Ha(),g=e.I().Ha();if(k!==g)return k-g;c=c.DW;e=e.DW;return c!==e?c-e:b.dC.ji()-f.dC.ji()}Baa(){const b=this.ja.Zg(),f=b||a;a.pj(this);this.Pe=new f;a.pj(null);if(b&&!(this.Pe instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}vA(){return this.Pe}}}
{"use strict";const d=self.j;d.wl=class extends d.ia{constructor(a,b){super();this.yc=a;this.th=[];this.rj=[];this.zC=new Map;this.ri=[];this.eu=!0;for(const f of b)a=d.A(d.mO,this,f,this.th.length),this.th.push(a),this.zC.set(a.Ba().toLowerCase(),a),3<=f.length&&this.ri.push(this.BI(f[2]));this.H().G8(this)}g(){d.C(this.th);d.C(this.rj);this.zC.clear();d.C(this.ri);this.yc=null}d5(a){if(a.length){this.th=a.concat(this.th);for(const b of a)this.zC.set(b.Ba().toLowerCase(),b);for(let b=0,f=this.th.length;b<
f;++b)this.th[b].Gda(b)}}BI(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const e=d.A(d.$a);e.dn(c);a[b]=e}}return a}H(){return this.yc.H()}Wn(){d.C(this.rj);let a=!0;for(const b of this.th)b.Nb&&(this.rj.push(b),b.kb.eu||(a=!1));this.eu=a}Ug(){return this.th}W1(){return 0<this.th.length}Cl(a){return this.zC.get(a.toLowerCase())||null}EO(a){a=Math.floor(+a);if(0>a||a>=this.th.length)throw new RangeError("invalid effect type index");return this.th[a]}Kv(a){return this.EO(a).Nb}fR(a,
b){this.EO(a).ZA(b)}Hv(){return 0<this.rj.length}Xg(a){return this.ri[a]}static S5(a){return a&&a instanceof d.$a?{t:"color",v:a.toJSON()}:a}static U3(a){if("object"===typeof a){if("color"===a.t){const b=d.A(d.$a);b.dn(a.v);return b}throw Error("invalid effect parameter type");}return a}static UQ(a){return a.map(d.wl.S5)}static VP(a){return a.map(d.wl.U3)}Xb(){return this.th.map(a=>({name:a.Ba(),active:a.Nb,params:d.wl.UQ(this.ri[a.Ha()])}))}Pb(a){for(const b of a)if(a=this.Cl(b.name))a.ZA(b.active),
this.ri[a.Ha()]=d.wl.VP(b.params);this.Wn()}}}
{"use strict";const d=self.j;d.mO=class extends d.ia{constructor(a,b,f){super();this.Ra=a;this.yf=b[0];this.Fa=b[1];this.Va=f;this.kb=null;this.Nb=!0}g(){this.kb=this.Ra=null}rZ(a){a=d.A(d.mO,a,[this.yf,this.Fa],-1);a.kb=this.kb;a.Nb=this.Nb;return a}YS(a){a=a.fP(this.yf);if(!a)throw Error("failed to find shader program '"+this.yf+"'");this.kb=a}Ba(){return this.Fa}Gda(a){this.Va=a}Ha(){return this.Va}H(){return this.Ra.H()}ZA(a){this.Nb=!!a}P0(){const a=[];for(let b=0,f=this.kb.Hr.length;b<f;++b){const c=
this.kb.rA(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.A(d.$a,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.j;d.j3=class extends d.ia{constructor(a,b){super();this.L=a;this.jga=b;this.Ra=a.I().Ra;this.rq=[];this.rj=[];this.eu=!0;this.ri=[];for(const f of this.Ra.Ug())this.rq.push(!0);this.Wn()}g(){d.C(this.rq);d.C(this.rj);d.C(this.ri);this.Ra=this.L=null}Waa(a){for(const b of a)this.ri.push(this.BI(b))}BI(a){a=a.slice(0);for(let b=0,f=a.length;b<f;++b){const c=a[b];if(Array.isArray(c)){const e=d.A(d.$a);e.dn(c);a[b]=e}}return a}S3(){for(const a of this.Ra.Ug())this.ri.push(a.P0())}H(){return this.L.H()}Wn(){d.C(this.rj);
const a=this.Ra.Ug(),b=this.rj,f=this.rq;let c=!0;for(let e=0,k=a.length;e<k;++e)if(f[e]){const g=a[e];b.push(g);g.kb.eu||(c=!1)}this.eu=c;this.jga.Cda(!!b.length)}Xg(a){return this.ri[a]}Kv(a){return this.rq[a]}fR(a,b){this.rq[a]=!!b}Ug(){return this.Ra.Ug()}ma(){return this.Ra.Ug().map(a=>({name:a.Ba(),active:this.rq[a.Ha()],params:d.wl.UQ(this.ri[a.Ha()])}))}wa(a){for(const b of a)if(a=this.Ra.Cl(b.name))this.rq[a.Ha()]=b.active,this.ri[a.Ha()]=d.wl.VP(b.params);this.Wn()}}}
{"use strict";const d=self.j,a=[],b=[],f=d.A(d.mn),c=d.A(d.mn),e=d.A(d.Ec);d.A(d.Rect);d.A(d.Rect);let k=null,g=null,l=null;d.sZ=class extends d.ia{constructor(n){super();this.b=n;this.qy=[]}g(){this.b=null}WA(n,q){const r=n.i(),p=q.i();r&&p&&r.bh()&&p.bh()&&this.qy.push([n,q])}FN(n,q,r){for(const [p,w]of this.qy){let t;if(n===p)t=w;else if(n===w)t=p;else continue;t.Wr(q)&&(r.includes(t)||r.push(t))}}UN(n,q){if(!this.qy.length)return!1;for(const [r,p]of this.qy)if(n===r&&q===p||n===p&&q===r)return!0;
return!1}VN(){d.C(this.qy)}cq(n,q){if(!n||!q||n===q)return!1;n=n.i();q=q.i();if(!n.bh()||!q.bh())return!1;const r=n.ba(),p=q.ba();return r.L3(p)?this.lea(n,q):this.kea(n,q)}lea(n,q){if(!n.tb().ZE(q.tb())||!n.mg().UM(q.mg())||n.Bk()&&q.Bk())return!1;if(n.Bk())return this.PH(n,q);if(q.Bk())return this.PH(q,n);if(!n.DA()&&!q.DA())return!0;const r=n.xk(),p=q.xk();return r.iz(p,q.O()-n.O(),q.P()-n.P())}kea(n,q){var r=n.Bk(),p=q.Bk();if(r&&!p)return this.HR(n,q);if(p&&!r)return this.HR(q,n);if(p||r)return!1;
p=n.ba();r=q.ba();f.qa(n.xk());c.qa(q.xk());var w=f.Pc;for(let t=0,v=w.length;t<v;t+=2){const x=t+1,z=w[x],[D,E]=p.Op(w[t]+n.O(),z+n.P());w[t]=D;w[x]=E}n=c.Pc;for(let t=0,v=n.length;t<v;t+=2){p=t+1;w=n[p];const [x,z]=r.Op(n[t]+q.O(),w+q.P());n[t]=x;n[p]=z}f.rN();c.rN();return f.iz(c,0,0)}HR(n,q){var r=n.ba(),p=q.ba();k||(k=d.A(d.mn));g||(g=d.A(d.Rect));l||(l=d.A(d.Ec));var w=q.O(),t=q.P();const [v,x]=p.Op(w,t),[z,D]=r.Sh(v,x);r=z-w;t=D-t;g.qa(q.tb());g.offset(r,t);if(!n.tb().ZE(g))return!1;l.qa(q.mg());
l.offset(r,t);if(!n.mg().UM(l))return!1;k.qa(q.xk());p=k.Pc;for(let E=0,M=p.length;E<M;E+=2)w=E+1,p[E]+=r,p[w]+=t;k.rN();return this.PH(n,q,z,D,k,g,l)}PH(n,q,r,p,w,t,v){t=void 0!==t?t:q.tb();const x=n.O(),z=n.P();var D=n.Ca().ja;r=void 0!==r?r:q.O();p=void 0!==p?p:q.P();n=q.DA();v=void 0!==v?v:q.mg();D.L0(t,b);for(let B=0,G=b.length;B<G;++B){var E=b[B];D=E.I1();if(t.dha(D,x,z)&&(e.Ph(D),e.offset(x,z),e.UM(v)))if(n){var M=void 0!==w?w:q.xk();if(E=E.XO()){if(E.iz(M,r-(x+D.M),p-(z+D.J)))return d.C(b),
!0}else if(f.sN(e,0,0),f.iz(M,r,p))return d.C(b),!0}else if(M=E.XO()){if(f.sN(v,0,0),M.iz(f,-(x+D.M),-(z+D.J)))return d.C(b),!0}else return d.C(b),!0}d.C(b);return!1}hB(n,q,r){const p=n.Z();var w=this.b.Gb();if(!w)throw Error("cannot call outside event");w=w.je;if(p.ec){p.Me(!1);d.C(p.D);for(var t of n.la()){var v=t.i(),x=v.ba();const [z,D]=x.Sh(q,r,v.Qf());v.hv(z,D)?p.lq(t):w&&p.ao(t)}}else{t=w?p.xc:p.D;v=0;for(let z=0,D=t.length;z<D;++z){x=t[z];const E=x.i(),M=E.ba(),[B,G]=M.Sh(q,r,E.Qf());E.hv(B,
G)?w?p.lq(x):t[v++]=x:w&&(t[v++]=x)}t.length=v}n.oc();return p.yG()}eA(n,q,r,p){n=n?1!==n.ye||1!==n.Ae:!1;if(q.Ya)for(const w of q.uo)n||w.vJ?d.gp(p,w.la()):(w.AU(),w.mC.VA(r,p));else n||q.vJ?d.gp(p,q.la()):(q.AU(),q.mC.VA(r,p))}UO(n,q,r,p){for(const w of q)this.eA(n,w,r,p)}K1(n,q,r){const p=this.b.sG();p&&this.UO(n,p.qA(),q,r)}VG(n,q){return n.eT()&&(!q||q.i().VG(n.Yd().get("solidTags")))}Vn(n){const q=n.i();this.K1(q.ba(),q.tb(),a);for(const r of a)if(this.VG(r,n)&&this.cq(n,r))return d.C(a),r;
d.C(a);return null}yQ(n,q,r,p){p=p||50;const w=n.i(),t=w.O(),v=w.P();let x=null,z=null;for(let D=0;D<p;++D)if(w.re(t+q*D,v+r*D),w.ua(),!this.cq(n,x))if(x=this.Vn(n))z=x;else if(!x)return z&&this.j5(n,q,r,z),!0;w.re(t,v);w.ua();return!1}j5(n,q,r,p){let w=2,t=!1;var v=!1;const x=n.i();let z=x.O(),D=x.P();for(;16>=w;)v=1/w,w*=2,x.Rv(q*v*(t?1:-1),r*v*(t?1:-1)),x.ua(),this.cq(n,p)||this.Vn(n)?v=t=!0:(v=t=!1,z=x.O(),D=x.P());v&&(x.re(z,D),x.ua())}k5(n){let q=0;const r=n.i(),p=r.O(),w=r.P();let t=0,v=this.Vn(n);
if(!v)return!0;for(;100>=q;){let x=0,z=0;switch(t){case 0:x=0;z=-1;q++;break;case 1:x=1;z=-1;break;case 2:x=1;z=0;break;case 3:z=x=1;break;case 4:x=0;z=1;break;case 5:x=-1;z=1;break;case 6:x=-1;z=0;break;case 7:z=x=-1}t=(t+1)%8;r.re(Math.floor(p+x*q),Math.floor(w+z*q));r.ua();if(!this.cq(n,v)&&(v=this.Vn(n),!v))return!0}r.re(p,w);r.ua();return!1}}}
{"use strict";const d=self.j;d.B7=class extends d.ia{constructor(a,b){super();this.LJ=a;this.KJ=b;this.zj=d.A(d.Tv)}g(){this.zj.g();this.zj=null}rn(a,b,f){let c=this.zj.ea(a,b);return c?c:f?(c=d.A(d.T1,this,a,b),this.zj.Set(a,b,c),c):null}mj(a){a=Math.floor(a/this.LJ);return isFinite(a)?a:0}nj(a){a=Math.floor(a/this.KJ);return isFinite(a)?a:0}Vl(a,b,f){if(b)for(let c=b.M,e=b.V;c<=e;++c)for(let k=b.J,g=b.S;k<=g;++k){if(f&&f.hg(c,k))continue;const l=this.rn(c,k,!1);l&&(l.ci(a),l.An()&&this.zj.nn(c,
k))}if(f)for(let c=f.M,e=f.V;c<=e;++c)for(let k=f.J,g=f.S;k<=g;++k)b&&b.hg(c,k)||this.rn(c,k,!0).GA(a)}VA(a,b){let f=this.mj(a.M);const c=this.nj(a.J),e=this.mj(a.V);a=this.nj(a.S);if(isFinite(e)&&isFinite(a))for(;f<=e;++f)for(let k=c;k<=a;++k){const g=this.rn(f,k,!1);g&&g.LF(b)}}}}{"use strict";const d=self.j;d.T1=class extends d.ia{constructor(a,b,f){super();this.X=b;this.T=f;this.D=d.A(d.uF)}g(){this.D.g();this.D=null}An(){return this.D.An()}GA(a){this.D.Sc(a)}ci(a){this.D.nn(a)}LF(a){d.gp(a,this.D.TF())}}}
{"use strict";const d=self.j;d.nna=class{constructor(){this.Oga=this.Nga=0;this.rect=new d.Rect;this.ez=0}Set(a,b,f,c){this.Nga=f-a;this.Oga=c-b;this.rect.set(a,b,f,c);this.rect.normalize();this.ez=0;return this}}}
{"use strict";const d=self.j,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),f=self.ql.mp,c=f.create(),e=d.A(d.Ec),k=d.A(d.Rect);d.SN=class extends d.ia{constructor(g){super();this.b=g;this.Sk=null;this.QV=!1;this.jk=this.ib=null;this.rK="high-performance";this.mo=this.lo=this.mi=this.ni=this.Zc=this.qd=this.$o=this.bp=0;this.Et=!0;this.Hj=this.Wk=this.hM=0;this.efa=this.lV="letterbox-scale";this.dfa=this.cfa=0;this.uC=f.create();
this.Pj=this.yM="high";this.Mt=!1;this.Yw=[];this.EE=new Set;this.eE=self.C3_Shaders;this.Bg=this.wo=0;this.It=NaN;this.RC=null;this.cL=new Map;this.vx=NaN;this.KE=new Map;this.iE="";this.UL=1;this.PW=d.A(d.Rect);this.VL="";this.QW=this.Fy=null;this.Zx=0;this.Ze=-1;this.Do=0;this.iL=l=>this.Do=l.progress;this.dg=null;this.eg={mz:null,qz:null,Az:null};this.ZL=this.SW=this.$L=0;this.fk="fade-in";this.YL=null;this.RW=new Promise(l=>this.YL=l)}Ada(g){this.rK=g}Xda(g){this.QV=!!g}async ef(g){this.Sk=g.canvas;
this.b.Pi("runtime","window-resize",q=>this.$ba(q));this.b.Pi("runtime","fullscreenchange",q=>this.Jba(q));this.b.Pi("runtime","fullscreenerror",q=>this.Kba(q));this.Sk.addEventListener("webglcontextlost",q=>this.Jw(q));this.Sk.addEventListener("webglcontextrestored",()=>this.JI());this.Mt=!!g.isFullscreen;var l=navigator.gpu&&this.QV;let n=!1;if(l)try{await this.bT(!0)}catch(q){this.jk=null}if(!this.pb())try{await this.aT(!0)}catch(q){this.ib=null}this.pb()||(n=!0);if(!this.pb()&&l)try{await this.bT(!1)}catch(q){this.jk=
null}if(!this.pb())try{await this.aT(!1)}catch(q){this.ib=null}l=this.pb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.v6(n);this.Rb(g.windowInnerWidth,g.windowInnerHeight,!0);this.jk?await this.Eaa():this.ib&&await this.Daa();l.yH(this.Et);l.Ik()&&(this.It=0);g=!1;for(const q of this.b.pJ){for(const r of q.Ug())r.YS(l),r.kb.Xy&&(g=!0);q.Wn()}this.b.Tda(g)}async bT(g){g={powerPreference:this.rK,depth:this.b.Tm,failIfMajorPerformanceCaveat:g};this.jk=d.A(d.$.Nqa);
await this.jk.Ta(this.Sk,g)}async aT(g){g={powerPreference:this.rK,xX:!0,depth:this.b.Tm,failIfMajorPerformanceCaveat:g};"Android"===d.Hd.Bs&&"Chromium"===d.Hd.Fz&&75>d.Hd.yF&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.GX=1);"standard"===this.b.qt?g.alpha=!0:(g.alpha=!1,g.YM=!0);this.ib=d.A(d.$.p8,this.Sk,g);await this.ib.FA()}async Eaa(){if(this.eE){const g=[];for(const [l,n]of Object.entries(this.eE))g.push(this.jk.IF(l,
n.av,d.$.Oqa.hA()));await Promise.all(g)}}async Daa(){if(this.eE){const g=[];for(const [l,n]of Object.entries(this.eE))n.src=n.Eu,g.push(this.ib.IF(n,d.$.rw.hA(),l));await Promise.all(g);this.ib.G5();this.ib.wg()}this.ib.Ik()&&(this.RC=d.A(d.$.UR,this.ib))}g(){this.Sk=this.ib=this.b=null}$ba(g){const l=this.b,n=g.devicePixelRatio;l.tm&&(self.devicePixelRatio=n);l.uda(n);this.Mt=!!g.isFullscreen;this.Rb(g.innerWidth,g.innerHeight);l.R();l.Jb&&(l.Iv()||self.Rh.Oka())&&l.hH()}Jba(g){this.Mt=!!g.isFullscreen;
this.Rb(g.innerWidth,g.innerHeight,!0);this.b.R()}Kba(g){this.Mt=!!g.isFullscreen;this.Rb(g.innerWidth,g.innerHeight,!0);this.b.R()}Rb(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.bp!==g||this.$o!==l||n){this.bp=g;this.$o=l;n=this.wv();"letterbox-scale"===n?this.b9(g,l):"letterbox-integer-scale"===n?this.a9(g,l):"off"===n?this.Y8(g,l):this.Z8(g,l);this.vea(n);this.Sk.width=this.ni;this.Sk.height=this.mi;this.b.Kn("canvas","update-size",{marginLeft:this.lo,
marginTop:this.mo,styleWidth:this.qd,styleHeight:this.Zc});g=this.pb();g.Rb(this.ni,this.mi,!0);for(var q of this.Yw)g.e_(q);d.C(this.Yw);g.gv(this.uC,this.Wg()/this.og());q=this.b.gb;q.Is();q.Hs()}}b9(g,l){const n=this.b.Al(),q=this.b.Xe,r=this.b.We,p=q/r;g/l>p?(this.qd=Math.round(l*p),this.Zc=l,this.lo=Math.floor((g-this.qd)/2),this.mo=0):(this.qd=g,this.Zc=Math.round(g/p),this.lo=0,this.mo=Math.floor((l-this.Zc)/2));this.ni=Math.round(this.qd*n);this.mi=Math.round(this.Zc*n);this.b.pw(q,r)}a9(g,
l){const n=this.b.Al();1!==n&&(g+=1,l+=1);const q=this.b.Xe,r=this.b.We;var p=q/r;p=g/l>p?l*p*n/q:g/p*n/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.ni=Math.round(q*p);this.mi=Math.round(r*p);this.qd=this.ni/n;this.Zc=this.mi/n;this.lo=Math.max(Math.floor((g-this.qd)/2),0);this.mo=Math.max(Math.floor((l-this.Zc)/2),0);this.b.pw(q,r)}Z8(g,l){const n=this.b.Al();this.qd=g;this.Zc=l;this.ni=Math.round(this.qd*n);this.mi=Math.round(this.Zc*n);this.mo=this.lo=0;g=this.Bl();this.b.pw(this.qd/g,
this.Zc/g)}Y8(g,l){const n=this.b.Al();this.qd=this.b.Og;this.Zc=this.b.Ng;this.ni=Math.round(this.qd*n);this.mi=Math.round(this.Zc*n);this.Mt?(this.lo=Math.floor((g-this.qd)/2),this.mo=Math.floor((l-this.Zc)/2)):this.mo=this.lo=0;this.b.pw(this.b.Og,this.b.Ng)}vea(g){if("high"===this.yM)this.Wk=this.ni,this.Hj=this.mi,this.Pj="high";else{let n;if("off"===this.wv()){var l=this.b.Og;n=this.b.Ng}else l=this.b.Xe,n=this.b.We;this.ni<l&&this.mi<n?(this.Wk=this.ni,this.Hj=this.mi,this.Pj="high"):(this.Wk=
l,this.Hj=n,this.Pj="low","scale-inner"===g?(g=l/n,l=this.bp/this.$o,l<g?this.Wk=this.Hj*l:l>g&&(this.Hj=this.Wk/l)):"scale-outer"===g&&(g=l/n,l=this.bp/this.$o,l>g?this.Wk=this.Hj*l:l<g&&(this.Hj=this.Wk/l)))}}t6(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.lV=g;g=this.b.gb;g.Is();g.Hs()}lA(){return this.lV}wv(){return this.Mt?this.efa:this.lA()}gR(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.yM=g;this.b.gb.Is()}static W$(g){switch(g){case 0:return"off";case 1:return"crop";
case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Wg(){return this.Wk}og(){return this.Hj}yH(g){this.Et=!!g}Sda(g){this.hM=g}E3(){return this.pb().zn()}Jw(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Yw=[];this.EE.clear();this.ib.Ol();this.b.Jw()}async JI(){await this.ib.aH();await this.fra();for(const g of this.b.pJ)for(const l of g.Ug())l.YS(this.ib);
await this.b.JI();console.log("[Construct 3] WebGL context restored")}Hp(){return this.ib}Gv(){return this.jk}pb(){return this.jk||this.ib}tn(){return"low"===this.Pj?1/this.b.Al():this.Bl()}Bl(){const g=this.wv();if("off"===g||"crop"===g)return 1;const l=this.b.Xe,n=this.b.We,q=l/n,r=this.ni/this.mi;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.Zc/n:this.qd/l}dR(g,l,n){l=l||this.Wk;n=n||this.Hj;const q=l/2+this.cfa,r=n/2+this.dfa;{let p=this.uC;if(l!==this.Wk||n!==this.Hj)g.gv(c,l/n),
p=c;g.Qs(p)}l=g.dv(q,r,100*this.b.Al(),q,r,n||this.Hj);g.Os(l)}f6(g){var l=this.qd/2;const n=this.Zc/2;g.Qs(this.uC);l=g.dv(l,n,100,l,n);g.Os(l)}tv(){return this.lo}uv(){return this.mo}qv(g){g.depth=this.b.Tm;const l=this.Yw,n=l.findIndex(r=>r.q3(g));let q;-1!==n?(q=l[n],l.splice(n,1)):q=this.pb().QZ(g);this.EE.add(q);return q}Mn(g){if(!this.EE.has(g))throw Error("render target not in use");this.EE.delete(g);this.Yw.push(g)}*PE(){for(const g of this.b.gb.wz())for(const l of g.lc){const n=this.cL.get(l);
n&&(yield n)}}QO(g){if(!this.pb().Ik())return null;let l=this.cL.get(g);l||(l={name:g.Ba(),wN:d.A(d.$.UR,this.ib),RE:0,FX:0},this.cL.set(g,l));return l.wN}sea(){const g=this.pb();if(g.Ik()&&0===this.Bg){this.Bg=g.vi;this.vx=NaN;for(const l of this.PE())l.RE=NaN}}zea(){this.ib&&this.ib.Ik()&&this.Aea();this.jk&&this.jk.Ik()&&this.Bea()}Aea(){if(isNaN(this.vx)&&(this.vx=this.RC.JO(this.wo,this.Bg),!isNaN(this.vx))){if(this.b.Jb)for(const g of this.PE())if(g.RE=g.wN.JO(this.wo,this.Bg),isNaN(g.RE))return;
this.RC.hO(this.Bg);this.It=Math.min(this.vx,1);if(this.b.Jb){for(const g of this.PE())g.wN.hO(this.Bg),g.FX=Math.min(g.RE,1);self.Rh.c8(this.It,[...this.PE()])}this.wo=this.Bg;this.Bg=0}}Bea(){if(0!==this.Bg){for(var g=this.wo;g<this.Bg;++g){var l=this.KE.get(g);if(l&&!l.EA())return}l=this.b.Wb();g=d.fh(l.lc.length+1,0);for(var n=this.wo;n<this.Bg;++n){var q=this.KE.get(n);if(q){q=q.uA();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const w=q[2*r],t=q[2*r+1];g[r]=0===Number(w)||0===Number(t)?
NaN:g[r]+Number(t-w)/1E9}}}this.It=d.fa(g[0],0,1);if(this.b.Jb){n=[];l=l.lc;for(let r=0,p=Math.min(l.length,g.length-1);r<p;++r)n.push({name:l[r].Ba(),FX:d.fa(g[r+1],0,1)});self.Rh.c8(this.It,n)}for(g=this.wo;g<this.Bg;++g)this.KE.delete(g);this.wo=this.Bg;this.Bg=0}}Q8(g){this.KE.set(this.jk.vi,g)}nA(){return this.It}ER(g,l,n,q,r,p){this.iE=g;this.UL=l;this.PW.Oi(n,q,r,p);return this.Fy?this.Fy:this.Fy=new Promise(w=>{this.QW=w})}uba(){if(this.iE){var g=this.Sk,l=this.PW,n=d.fa(Math.floor(l.M),0,
g.width),q=d.fa(Math.floor(l.J),0,g.height),r=l.width();r=0===r?g.width-n:d.fa(Math.floor(r),0,g.width-n);l=l.height();l=0===l?g.height-q:d.fa(Math.floor(l),0,g.height-q);(0!==n||0!==q||r!==g.width||l!==g.height)&&0<r&&0<l&&(g=d.ef(r,l),g.getContext("2d").drawImage(this.Sk,n,q,r,l,0,0,r,l));d.Hz(g,this.iE,this.UL).then(p=>{this.VL=URL.createObjectURL(p);this.Fy=null;this.QW(this.VL)});this.iE="";this.UL=1}}R2(g){this.ib&&(2===g?(this.dg=d.A(d.$.FQ,this.pb()),this.dg.B6(),this.dg.q6(),this.dg.r6(),
this.dg.x6(),this.dg.q7(),this.dg.Rb(300,200)):0===g?(g=this.b.Tt)&&g.Gn(this.ib).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.hba().then(l=>{"done"===this.fk?this.ib.Ie(l):this.eg.mz=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.gT("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.fk?this.ib.Ie(l):this.eg.qz=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.gT("splash-images/splash-website-512.png").then(l=>
{"done"===this.fk?this.ib.Ie(l):this.eg.Az=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async hba(){var g=(new URL("splash-images/splash-logo.svg",this.b.VF())).toString();g=await d.yl(g);g=await this.b.n5(g);return await this.ib.Pz(g,{nz:"high"})}async gT(g){g=(new URL(g,this.b.VF())).toString();g=await d.yl(g);return await this.ib.Pz(g,{nz:"high"})}BG(){this.b.Kn("runtime","hide-cordova-splash")}G7(){this.Zx=Date.now();this.b.Fb().addEventListener("loadingprogress",this.iL);this.Ze=
requestAnimationFrame(()=>this.vS());3!==this.b.St&&this.BG()}async j0(){if(this.ib){this.Do=1;var g=this.b.St;4===g&&await this.RW;this.RW=this.YL=null;-1!==this.Ze&&(cancelAnimationFrame(this.Ze),this.Ze=-1);this.b.Fb().removeEventListener("loadingprogress",this.iL);this.iL=null;this.dg&&(this.dg.g(),this.dg=null);this.b.r5();this.ib.qw();this.eg.mz&&(this.ib.Ie(this.eg.mz),this.eg.mz=null);this.eg.qz&&(this.ib.Ie(this.eg.qz),this.eg.qz=null);this.eg.Az&&(this.ib.Ie(this.eg.Az),this.eg.Az=null);
this.ib.Mz();this.ib.ds();this.fk="done";this.wo=this.ib.vi;3===g&&this.BG()}}vS(){if(-1!==this.Ze){var g=this.ib;if(g){g.qw();this.Ze=-1;var l=this.b.Pd.uK,n=this.b.St;3!==n&&(this.f6(g),g.Mz(),g.Gs(),g.wg(),g.fe(null));if(0===n)this.z$(l);else if(1===n)this.rB(l,120,0);else if(2===n)this.y$(l);else if(3!==n)if(4===n)this.A$(l);else throw Error("invalid loader style");g.ds();this.Ze=requestAnimationFrame(()=>this.vS())}}}y$(g){g?this.dg.ZQ(1,0,0):this.dg.ZQ(.6,.6,.6);this.dg.Ss(Math.round(100*this.Do)+
"%");g=this.qd/2;const l=this.Zc/2;e.VX(g-150,l-100,g+150,l+100);this.ib.fe(this.dg.Cb());this.ib.Ql(e,this.dg.Zh())}rB(g,l,n){const q=this.ib;q.ew();g?q.Sf(1,0,0,1):q.Sf(.118,.565,1,1);g=this.qd/2;const r=this.Zc/2,p=l/2;k.Oi(g-p,r-4+n,Math.floor(l*this.Do),8);q.Rect(k);k.Oi(g-p,r-4+n,l,8);k.offset(-.5,-.5);k.YE(.5,.5);q.Sf(0,0,0,1);q.PP(k);k.YE(1,1);q.Sf(1,1,1,1);q.PP(k)}z$(g){var l=this.b.Tt;if(l)if(l=l.Cb()){var n=l.K(),q=l.G(),r=this.qd/2,p=this.Zc/2,w=n/2;q/=2;e.VX(r-w,p-q,r+w,p+q);this.ib.fe(l);
this.ib.Ec(e);this.rB(g,n,q+16)}else this.rB(g,120,0);else this.rB(g,120,0)}A$(g){const l=this.ib,n=this.eg.mz,q=this.eg.qz,r=this.eg.Az,p=Date.now();0===this.$L&&(this.Zx=p);const w=this.b.zs()||this.b.ufa&&!this.b.r3(),t=w?0:200,v=w?0:3E3;let x=1;"fade-in"===this.fk?x=Math.min((p-this.Zx)/300,1):"fade-out"===this.fk&&(x=Math.max(1-(p-this.ZL)/300,0));l.ew();l.Sf(.231*x,.251*x,.271*x,x);k.set(0,0,this.qd,this.Zc);l.Rect(k);const z=Math.ceil(this.qd),D=Math.ceil(this.Zc);let E;256<this.Zc?(l.Sf(.302*
x,.334*x,.365*x,x),E=Math.max(.005*D,2),k.Oi(0,.8*D-E/2,z,E),l.Rect(k),g?l.Sf(x,0,0,x):l.Sf(.161*x,.953*x,.816*x,x),g=z*this.Do,k.Oi(.5*z-g/2,.8*D-E/2,g,E),l.Rect(k),l.Sf(x,x,x,x),l.wg(),q&&(g=1.5*d.fa(.22*D,105,.6*z),E=g/8,k.Oi(.5*z-g/2,.2*D-E/2,g,E),l.fe(q),l.Rect(k)),n&&(E=g=Math.min(.395*D,.95*z),k.Oi(.5*z-g/2,.485*D-E/2,g,E),l.fe(n),l.Rect(k)),r&&(g=1.5*d.fa(.22*D,105,.6*z),E=g/8,k.Oi(.5*z-g/2,.868*D-E/2,g,E),l.fe(r),l.Rect(k))):(l.Sf(.302*x,.334*x,.365*x,x),E=Math.max(.005*D,2),k.Oi(0,.85*D-
E/2,z,E),l.Rect(k),g?l.Sf(x,0,0,x):l.Sf(.161*x,.953*x,.816*x,x),g=z*this.Do,k.Oi(.5*z-g/2,.85*D-E/2,g,E),l.Rect(k),l.Sf(x,x,x,x),l.wg(),n&&(E=g=.55*D,k.Oi(.5*z-g/2,.45*D-E/2,g,E),l.fe(n),l.Rect(k)));this.$L++;"fade-in"===this.fk&&300<=p-this.Zx&&2<=this.$L&&(this.fk="wait",this.SW=p);"wait"===this.fk&&p-this.SW>=v&&1<=this.Do&&(this.fk="fade-out",this.ZL=p);("fade-out"===this.fk&&p-this.ZL>=300+t||w&&1<=this.Do&&500>p-this.Zx)&&this.YL()}}}
{"use strict";const d=self.j,a=self.Rh,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;d.TQ=class extends d.ia{constructor(c){c=Object.assign({},b,c);super();this.ey=c.messagePort;this.Pea=c.baseUrl;this.tm=!!c.isInWorker;f=c.ife;this.to=c.exportType;this.RV=!!c.isiOSCordova;this.ufa=!!c.isFBInstantAvailable;this.Rfa=c.opusWasmScriptUrl;this.tW=c.opusWasmBinaryUrl;this.Se=this.Vea=this.Jb=!("preview"!==this.to||!c.isDebug);this.TJ=
0;this.WB=[];this.Iea=[];this.GL=this.BW=this.ZD="";this.We=this.Xe=0;this.XU=self.devicePixelRatio;this.St=this.Ng=this.Og=this.BL=this.AL=0;this.FE=!1;this.Vj=!0;this.vM=!1;this.Tt=null;this.Pd=d.A(d.RY,this,c);this.gb=d.A(d.Q3,this);this.ya=d.A(d.n0,this);this.Gm=d.A(d.Y4,this);this.uh=d.A(d.sZ,this);this.Lb=d.A(d.P7,this);this.jM=d.A(d.T7,this);this.md=[];this.uL=new Map;this.vL=new Map;this.fV=0;this.Kea=[];this.pJ=[];this.kx=[];this.rm=[];this.aD=new Map;this.SC=!1;this.gy=this.wL=0;this.Vq=
new Map;this.Wq=new Set;this.bD=new Set;this.OD=[];this.TV=[];this.aa=null;this.Tm=!1;this.lK="vsync";this.qt="standard";this.zc="trilinear";this.Wj=!1;this.sL=!0;this.TK=this.vW=!1;this.ega={KX:e=>{this.Jm=this.Ze=-1;this.ge(e)},Vha:e=>{this.Jm=-1;this.ge(e,!1,"skip-render")},Jha:()=>{this.Ze=-1;this.hH()}};this.Jm=this.Ze=-1;this.Gt=this.hl=0;this.AV=this.hD=this.TC=!1;this.PK=!0;this.ou=0;this.Xfa=()=>Math.random();this.wC=this.xC=this.AD=this.No=0;this.Fe=1;this.mW=30;this.pK=d.A(d.Mv);this.qK=
d.A(d.Mv);this.xM=d.A(d.Mv);this.OC=-1;this.KD=this.zm=this.NC=this.Mq=0;this.bl=!1;this.Yx=this.uy="";this.Rt=null;this.fr="";this.NL=this.FL=null;this.$b=d.A(d.Event.Fb);this.YJ=new Map;this.DL=new Map;this.Nfa=0;this.OV=this.YU=this.ZU=!1;this.wM=[];this.Kq={pretick:d.A(d.Event,"pretick",!1),tick:d.A(d.Event,"tick",!1),tick2:d.A(d.Event,"tick2",!1),instancedestroy:d.A(d.Event,"instancedestroy",!1),beforelayoutchange:d.A(d.Event,"beforelayoutchange",!1),layoutchange:d.A(d.Event,"layoutchange",!1)};
this.Kq.instancedestroy.instance=null;this.He=d.A(d.Event.Fb);this.dX=null;this.io=d.A(d.Qp,d.Dz.KH);this.zq=d.A(d.Qp,d.Dz.KH);this.jo=d.A(d.Qp,d.Dz.KH);this.Qx=d.A(d.N3,this,c.jobScheduler);c.canvas&&(this.aa=d.A(d.SN,this));this.ey.onmessage=e=>this._OnMessageFromDOM(e.data);this.Pi("runtime","visibilitychange",e=>this.Xba(e));this.Pi("runtime","opus-decode",e=>this.Eea(e.arrayBuffer));this.Pi("runtime","get-remote-preview-status-info",()=>this.laa());this.Pi("runtime","js-invoke-function",e=>this.AB(e));
this.Pi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.$b.addEventListener("window-blur",e=>this.Yba(e));this.$b.addEventListener("window-focus",()=>this.Zba());this.Lb.FY();this.Rj=null;this.pfa=new WeakMap;this.hx={keyboard:null,HX:null,yN:null}}static Ta(c){return d.A(d.TQ,c)}g(){d.C(this.md);this.uL.clear();this.vL.clear();this.gb.g();this.gb=null;this.ya.g();this.ya=null;this.Gm.g();this.Gm=null;this.Pd.g();this.Pd=null;this.uh.g();this.uh=null;this.Lb.g();this.Lb=null;this.jM.g();
this.jM=null;this.aa&&(this.aa.g(),this.aa=null);this.$b.g();this.$b=null}["_OnMessageFromDOM"](c){const e=c.type;if("event"===e)this.sT(c);else if("result"===e)this.Uba(c);else throw Error(`unknown message '${e}'`);}sT(c){if(this.OV){var e=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===e&&(n&&(c=new d.Event(k),c.data=g,this.$b.Kga(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.Th(c)}if(c=this.YJ.get(e))if(c=c.get(k)){n=null;try{n=c(g)}catch(r){console.error(`Exception in '${e}' handler '${k}':`,r);null!==q&&this.EB(q,!1,""+r);return}null!==q&&(n&&n.then?n.then(r=>this.EB(q,!0,r)).catch(r=>{console.error(`Rejection from '${e}' handler '${k}':`,r);this.EB(q,!1,""+r)}):this.EB(q,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${e}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${e}'`)}else this.wM.push(c)}EB(c,
e,k){this.ey.postMessage({type:"result",responseId:c,isOk:e,result:k})}Uba(c){const e=c.responseId,k=c.isOk;c=c.result;const g=this.DL.get(e);k?g.resolve(c):g.reject(c);this.DL.delete(e)}Pi(c,e,k){let g=this.YJ.get(c);g||(g=new Map,this.YJ.set(c,g));if(g.has(e))throw Error(`[Runtime] Component '${c}' already has handler '${e}'`);g.set(e,k)}Kn(c,e,k){this.ey.postMessage({type:"event",component:c,handler:e,data:k,responseId:null})}Vv(c,e){const k=this.Nfa++,g=new Promise((l,n)=>{this.DL.set(k,{resolve:l,
reject:n})});this.ey.postMessage({type:"event",component:"runtime",handler:c,data:e,responseId:k});return g}async yn(c){this.Jb?await a.yn(this):self.Rh&&self.Rh.Eka(this);var [e]=await Promise.all([this.Pd.rO("data.json"),this.tba(),this.Qx.yn()]);this.Uaa(e);await this.Faa(c);this.zs()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Hp()?(e=this.Hp(),console.info(`[C3 runtime] Hosted in ${this.tm?"worker":"DOM"}, rendering with WebGL ${e.Vd} [${e.Uy}] (${e.t3()?
"desynchronized":"standard"} compositing)`)):this.Gv()&&console.info(`[C3 runtime] Hosted in ${this.tm?"worker":"DOM"}, rendering with experimental WebGPU`);this.pb().vK&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.OV=!0;for(const k of this.wM)this.sT(k);d.C(this.wM);this.aa&&this.aa.G7();for(const k of c.runOnStartupFunctions)this.WB.push(this.Nca(k));await Promise.all([this.Pd.SR(),
...this.WB]);d.C(this.WB);if(this.Pd.uK)this.aa&&this.aa.BG();else return this.aa&&await this.aa.j0(),await this.$b.LM(new d.Event("beforeruntimestart")),await this.qw(),this.ey.postMessage({type:"runtime-ready"}),this}async Nca(c){try{await c(this.Rj)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}Uaa(c){c=c.project;this.ZD=c[0];this.BW=c[16];this.GL=c[31];const e=c[39]||"loading-logo.png";this.Wj=!!c[9];this.Xe=this.Og=c[10];this.We=this.Ng=c[11];this.AL=this.Xe/2;this.BL=
this.We/2;this.qt=c[36];this.lK=c[37];"low-latency"===this.qt&&this.n3()&&77>=d.Hd.yF&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.qt="standard");this.Tm=!!c[40];this.zc=c[14];this.FE=!!c[18];this.St=c[19];this.gy=c[21];this.vW=c[22];const k=this.Pd;k.oda(c[7]);k.zda(c[32]);k.Eda(c[28]);k.Wda(c[29]);if(0===this.St){let r="";this.zs()?k.yI(e)&&
(r=k.RO(e)):r=k.BV+e;r&&(this.Tt=k.Ov({url:r}))}this.aa&&(this.aa.t6(d.SN.W$(c[12])),this.aa.gR(c[23]?"high":"low"),this.aa.yH(0!==c[24]),this.aa.Ada(c[34]),this.aa.Sda(c[41]),this.aa.Xda(c[13]));this.Gm.RZ();this.OD=self.NN();for(var g of c[2])this.Gm.PZ(g);this.OD=self.NN();this.bba();for(var l of c[3])g=d.ZG.Ta(this,this.md.length,l),this.md.push(g),this.uL.set(g.Ba().toLowerCase(),g),this.vL.set(g.jb,g);for(const r of c[4])this.md[r[0]].Xaa(r);for(var n of c[27])l=n.map(r=>this.md[r]),this.Kea.push(d.A(d.DZ,
this,l));for(const r of this.md)r.Dba();for(const r of c[5])this.gb.Ta(r);(n=c[1])&&(n=this.gb.js(n))&&this.gb.o6(n);for(var q of c[33])this.Lb.Ta(q);for(const r of c[35])this.jM.Ta(r);this.Caa();for(const r of c[6])this.ya.Ta(r);this.ya.Sb();this.yaa();d.C(this.OD);this.pe();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Kn("runtime","set-target-orientation",{targetOrientation:q})}AY(c){this.WB.push(c)}haa(){return this.fV++}G8(c){this.pJ.push(c)}async Faa(c){this.aa&&(await this.aa.ef(c),
this.aa.R2(this.St))}async tba(){if(!this.Pd.o3()){var c=null;try{c=this.RV&&this.Pd.Mx?await this.Pd.bO(this.tW):await this.Pd.mv(this.tW)}catch(e){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",e);return}c?this.xY(c):this.wY();await this.yY([this.Rfa])}}async Eea(c){return await this.qF("OpusDecode",{arrayBuffer:c},[c])}async qw(){this.TC=!0;this.No=Date.now();if(this.FE){for(var c of this.md)c.Ya||c.SK||!c.$f||c.Qb();this.Pd.SR().then(()=>{this.Vj=!1;this.vT()})}else this.Vj=
!1;this.Pd.y6();this.Jb&&a.moa(f);for(const e of this.gb.tj)e.v9();c=this.gb.d1();await c.AI(null,this.pb());await c.tU(!0);this.Mq=performance.now();this.FE||this.vT();(await this.Vv("before-start-ticking")).isSuspended?this.ou++:this.ge()}vT(){this.Aa(d.B.Xa.F.I4,null,null);this.Kn("runtime","register-sw")}Wh(c){c=Math.floor(c);const e=this.OD;if(0>c||c>=e.length)throw Error("invalid object reference");return e[c]}bba(){for(const c of self.YY){const e=d.first(Object.keys(c));this.TV.push(e)}}Yi(c){c=
Math.floor(c);const e=this.TV;if(0>c||c>=e.length)throw Error("invalid prop reference");return e[c]}VF(){return this.Pea}ka(){return this.ya}hd(){return this.ya.hd()}Mf(){return this.ya.Mf()}Gb(){return this.ya.Gb()}ng(){return this.ya.ng()}s3(){return 0===this.Mf().km}vv(){return this.ya.vv()}Cv(){return this.Gm.Cv()}Pf(c){c=Math.floor(c);if(0>c||c>=this.md.length)throw new RangeError("invalid index");return this.md[c]}jG(c){return this.uL.get(c.toLowerCase())||null}$i(c){return this.vL.get(c)||
null}*mga(){for(const c of this.md)c.Ya||(yield*c.AX())}Fb(){return this.$b}Th(c){c.Rc=this.Rj;const e=this.Jb&&!this.ya.JA();e&&a.MH();this.He.dispatchEvent(c);e&&a.sF()}vp(c){c.Rc=this.Rj;return this.He.LM(c)}P6(c,e){if(this.Xe!==c||this.We!==e)this.Xe=c,this.We=e,c=this.gb,c.Is(),c.Hs()}pw(c,e){if(this.Og!==c||this.Ng!==e)this.Og=c,this.Ng=e,c=this.gb,c.Is(),c.Hs()}uda(c){this.XU=c}Al(){return this.XU}Wg(){return this.aa?this.aa.Wg():this.Og}og(){return this.aa?this.aa.og():this.Ng}tn(){return this.aa?
this.aa.tn():1}Bl(){return this.aa?this.aa.Bl():1}tv(){return this.aa?this.aa.tv():0}uv(){return this.aa?this.aa.uv():0}J0(){return this.aa?this.aa.qd:0}I0(){return this.aa?this.aa.Zc:0}lA(){return this.aa?this.aa.lA():"off"}qv(c){return this.aa?this.aa.qv(c):null}Mn(c){this.aa&&this.aa.Mn(c)}Tda(c){this.vM=!!c}nA(){return this.aa?this.aa.nA():NaN}PG(){return"nearest"!==this.zc}r5(){this.Tt&&(this.Tt.g(),this.Tt=null)}Wb(){return this.gb.Wb()}Ov(c){return this.Pd.Ov(c)}GF(c,e,k,g,l){return this.Si(c,
e,!1,k,g,!1,l)}Si(c,e,k,g,l,n,q){var r=null;let p=null;c instanceof d.ZG?(p=c,p.Ya&&(r=p.uo,p=r[Math.floor(this.Ln()*r.length)]),r=p.Bt):(r=c,p=this.Pf(r[1]));c=p.Hb().$f;if(this.Vj&&c&&!p.SK)return null;const w=e;c||(e=null);var t=k&&!n&&r&&!this.Vq.has(r[2])?r[2]:this.gy++;const v=r?r[0]:null,x=d.A(d.Instance,{Rc:this,dN:p,oe:e,hY:v,zX:r?r[3]:null,uid:t});this.Vq.set(t,x);t=null;c&&(t=x.i(),"undefined"!==typeof g&&"undefined"!==typeof l&&(t.Tf(g),t.kh(l)),p.XT());e&&(q||e.hi(x,!0),1===e.ye&&1===
e.Ae||p.SI(!0),e.qc().YP(p));this.wL++;if(p.Kc()&&!k&&!n){for(var z of p.Cj.Em){if(z===p)continue;const M=this.Si(z,w,!1,t?t.O():g,t?t.P():l,!0,!1);x.Ys(M)}for(var D of x.Sd){D.Ys(x);for(var E of x.Sd)D!==E&&D.Ys(E)}}c&&!k&&q&&this.aI(x,v,t,e,g,l);if(p.Kc()&&!k&&!n&&q)for(const M of x.Sd)if(z=M.i())D=M.Hb(),E=M.I().Bt[0],D.$f?this.aI(M,E,z,e,z.O(),z.P()):this.aI(M,E,z,e);if(q&&!n&&!k&&x.Kc())for(const M of x.Sd)for(const B of M.Sd)x===B&&w.bo(M,!0);!n&&q&&("undefined"===typeof g&&(g=v[0]),"undefined"===
typeof l&&(l=v[1]),e=t.xA(),g=g-t.O()+e.O(),l=l-t.P()+e.P(),e.re(g,l));p.Lw();l=r?d.QE(r[5]):null;r=r?r[4].map(M=>d.QE(M)):null;c&&v&&v[13]&&x.Dda();x.oB(l,r);this.rm.push(x);this.SC=!0;this.Jb&&a.Fka(x);return x}aI(c,e,k,g,l,n){var q=k.LW,r=k.OL;c.i().zH(q);if(r){"undefined"===typeof l&&(l=e[0]);"undefined"===typeof n&&(n=e[1]);q=new Set;k=e[0];e=e[1];for(const x of r){var p=x[1],w=x[2];r=x[3];var t=!!x[4];const z=x[5];w=this.gb.iG(x[0]).ba(p).k1(w);p=this.Pf(w[1]);var v=c.g2(p);const D=q.has(p);
v&&!D&&t?(t=c.gP(p),v=l+w[0][0]-k,w=n+w[0][1]-e,t.i().re(v,w),t.i().zH(z),c.kn(t,{Yu:!!(r>>0&1),Zu:!!(r>>1&1),Sr:!!(r>>2&1),Rr:!!(r>>3&1),Xu:!!(r>>4&1),cz:!!(r>>5&1),$u:!!(r>>6&1)}),q.add(p)):(p=this.Si(w,g,!1,l+w[0][0]-k,n+w[0][1]-e,!1,!0),p.i().zH(z),c.kn(p,{Yu:!!(r>>0&1),Zu:!!(r>>1&1),Sr:!!(r>>2&1),Rr:!!(r>>3&1),Xu:!!(r>>4&1),cz:!!(r>>5&1),$u:!!(r>>6&1)}))}}}pn(c){if(!this.Wq.has(c)){var e=c.I(),k=this.aD.get(e);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.aD.set(e,k);this.Jb&&
a.Gka(c);c.DI();this.SC=!0;if(c.Kc())for(const g of c.Sd)this.pn(g);for(const g of c.children())g.iA()&&this.pn(g);this.gb.FP()||this.bl||(e=this.ka(),e.df(!0),c.oea(),e.df(!1));c.O$(this.gb.FP())}}pe(){this.SC&&(this.Q$(),this.R$(),this.SC=!1,this.R())}Q$(){for(const c of this.rm){const e=c.I();e.hi(c);for(const k of e.ti)k.hi(c),k.Lw()}d.C(this.rm)}R$(){this.$b.Ls(!0);for(const [c,e]of this.aD.entries())this.S$(c,e),e.clear();this.aD.clear();this.$b.Ls(!1)}S$(c,e){for(const g of e){var k=this.Kq.instancedestroy;
k.instance=g;this.$b.dispatchEvent(k);this.Vq.delete(g.Qc);if(k=g.i())k.GT(),k.HT(),k.DI();this.Wq.add(g);this.wL--}d.Oh(c.la(),e);c.Lw();this.bD.add(c);0===c.la().length&&c.SI(!1);for(const g of c.ti)d.Oh(g.la(),e),g.Lw(),this.bD.add(g);if(c.Hb().$f){c=new Set([...e].map(g=>g.i().ba()));for(const g of c)g.sca(e)}}*TM(c){for(const e of this.rm)c.Ya?e.I().wF(c)&&(yield e):e.I()===c&&(yield e)}gaa(){return this.gy++}pba(c,e){this.Vq.set(c,e)}Jw(){this.$b.dispatchEvent(d.A(d.Event,"webglcontextlost"));
this.ow(!0);for(var c of this.md)!c.Ya&&c.e2()&&c.bi();(c=this.Wb())&&c.Jw();d.Jv.Pp();d.vP.Pp()}async JI(){await this.Wb().AI(null,this.Hp());this.$b.dispatchEvent(d.A(d.Event,"webglcontextrestored"));this.ow(!1);this.R()}Xba(c){this.ow(c.hidden)}Yba(c){this.zs()&&this.vW&&!d.Hd.SG&&!c.data.parentHasFocus&&(this.ow(!0),this.TK=!0)}Zba(){this.TK&&(this.ow(!1),this.TK=!1)}IT(){const c=this.ega;"vsync"===this.lK?-1===this.Ze&&(this.Ze=self.requestAnimationFrame(c.KX)):"unlimited-tick"===this.lK?(-1===
this.Jm&&(this.Jm=d.kH(c.Vha)),-1===this.Ze&&(this.Ze=self.requestAnimationFrame(c.Jha))):-1===this.Jm&&(this.Jm=d.kH(c.KX))}i9(){-1!==this.Ze&&(self.cancelAnimationFrame(this.Ze),this.Ze=-1);-1!==this.Jm&&(d.gZ(this.Jm),this.Jm=-1)}Mp(){return 0<this.ou}ow(c){var e=this.Mp();this.ou+=c?1:-1;0>this.ou&&(this.ou=0);c=this.Mp();!e&&c?(console.log("[Construct 3] Suspending"),this.i9(),this.$b.dispatchEvent(d.A(d.Event,"suspend")),this.Aa(d.B.Xa.F.Q4,null,null)):e&&!c&&(console.log("[Construct 3] Resuming"),
this.Mq=this.AD=e=performance.now(),this.zm=this.KD=this.NC=this.OC=0,this.$b.dispatchEvent(d.A(d.Event,"resume")),this.Aa(d.B.Xa.F.N4,null,null),this.Iv()||this.ge(e))}C8(c){this.io.Sc(c)}D8(c){this.jo.Sc(c)}uca(c){this.io.ci(c)}tca(c){this.zq.ci(c)}vca(c){this.jo.ci(c)}T8(){this.io.di(!0);for(const c of this.io)c.ge();this.io.di(!1)}S8(){this.zq.di(!0);for(const c of this.zq);this.zq.di(!1)}U8(){this.jo.di(!0);for(const c of this.jo)c.eq();this.jo.di(!1)}*F9(){this.io.di(!0);for(const c of this.io){const e=
c.ge();d.Dn(e)&&(yield*e)}this.io.di(!1)}*E9(){this.zq.di(!0);for(const c of this.zq)d.Dn(void 0)&&(yield*void 0);this.zq.di(!1)}*G9(){this.jo.di(!0);for(const c of this.jo){const e=c.eq();d.Dn(e)&&(yield*e)}this.jo.di(!1)}async ge(c,e,k){this.AV=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.TC&&(!this.Mp()||e||g)&&(e=performance.now(),this.hD=!0,this.wba(c||0),c=this.I7(),this.Se&&await c,c=this.$b.Lga(this.Kq.pretick),c instanceof Promise&&await c,c=this.H7(),
this.Se&&await c,this.Bba()&&await this.raa(),this.gb.ys()&&await this.rba(),c=this.J7(),this.Se&&await c,k&&this.hH(),this.Mp()||g||this.IT(),this.hl++,this.Gt++,this.hD=!1,this.zm+=performance.now()-e)}async I7(){const c=this.ya,e=this.Jb;this.pe();c.df(!0);this.Wv(this.Wb());e&&a.Us();this.Se?await c.ZZ():c.R5();e&&a.vY();this.Uv();c.df(!1);this.pe();c.df(!0)}async H7(){const c=this.Jb,e=this.Se,k=this.$b,g=this.Kq,l=this.dX;c&&a.Us();e?await this.Tz(this.F9()):this.T8();e?await this.Tz(this.E9()):
this.S8();c&&a.qY();c&&a.Us();e?await this.fO(g.tick):k.dispatchEvent(g.tick);c&&a.BY();this.ya.df(!1);this.Th(l.tick)}async J7(){const c=this.ya,e=this.$b,k=this.Kq,g=this.Jb,l=this.Se;g&&a.Us();l?await c.XZ(this.gb):c.P5(this.gb);g&&a.vY();this.uh.VN();this.DT();this.PK=!1;c.df(!0);g&&a.Us();l?await this.Tz(this.G9()):this.U8();g&&a.qY();g&&a.Us();l?await this.fO(k.tick2):e.dispatchEvent(k.tick2);g&&a.BY();c.df(!1);l&&await c.SQ()}DT(){if(0!==this.Wq.size){var c=this.$b;c.Ls(!0);for(const e of this.bD)e.Lo.Rp(this.Wq);
this.bD.clear();this.ya.t5(this.Wq);for(const e of this.Wq)e.g();this.Wq.clear();c.Ls(!1)}}async rba(){const c=this.gb;let e=0;for(;c.ys()&&10>e++;)await this.qS(c.hy)}wba(c){let e=0;0!==this.AD&&(e=Math.max(c-this.AD,0)/1E3,.5<e&&(e=0),this.xC=Math.min(e,1/this.mW));this.AD=c;this.wC=this.xC*this.Fe;this.pK.Sc(this.wC);this.qK.Sc(e*this.Fe);this.xM.Sc(this.xC);this.aa&&this.aa.zea();1E3<=c-this.Mq&&(this.Mq+=1E3,1E3<=c-this.Mq&&(this.Mq=c),this.NC=this.OC,this.OC=0,this.KD=Math.min(this.zm/1E3,1),
this.zm=0,this.aa&&this.aa.sea(),this.Jb&&a.Fqa());this.OC++}async qS(c){const e=this.$b,k=this.gb.Wb();await k.jea();k.rea(c,this.pb());k===c&&this.ya.Jz();this.uh.VN();this.DT();e.dispatchEvent(this.Kq.beforelayoutchange);d.sl.hR(!0);await c.AI(k,this.pb());d.sl.hR(!1);await c.tU(!1);e.dispatchEvent(this.Kq.layoutchange);this.R();this.PK=!0;this.pe()}R(){this.sL=!0}Hp(){return this.aa?this.aa.Hp():null}Gv(){return this.aa?this.aa.Gv():null}pb(){return this.aa?this.aa.pb():null}hH(){const c=this.aa;
if(c&&!c.E3()){var e=this.pb(),k=e.Ik(),g=k&&e.Lv();k=k&&!1;g&&e.jZ();if(this.sL){var l=this.gb.Wb();e.qw();var n=this.Jb;n&&a.Us();this.sL=!1;var q=null;g&&(q=c.RC.tF(),e.NH(q));g=null;k&&(g=e.Upa(2*(1+l.lc.length)),e.u8(0));this.Tm&&"low"===c.Pj?e.p6(c.Wg(),c.og()):e.a6();this.Cca(this.pb(),l);q&&e.NF(q);k&&(e.u8(1),this.aa.Q8(g));e.ds();n&&(a.sia(),a.Gqa());c&&c.uba()}else e.E2()}}Cca(c,e){c.wg();c.qH();c.Sf(1,1,1,1);c.qf(null);c.fe(null);c.Rn(this.Tm);e.Nd(c)}Aa(c,e,k){if(!this.TC)return!1;var g=
!this.hD&&!this.ya.OG();let l=0;g&&(l=performance.now());const n=this.Jb;n&&this.Ks(!1);c=this.ya.Sw(this.gb,c,e,k);g&&(g=performance.now()-l,this.zm+=g,n&&a.via(g));n&&this.Ks(!0);return c}async Vf(c,e,k){if(!this.Se)return this.Aa(c,e,k);if(!this.TC)return!1;if(this.Iv())return this.ya.m5(c,e,k);if(!this.Wb())return this.ya.fH(c,e,k);const g=performance.now();c=this.ya.xw(this.gb,c,e,k);for(e=c.next();!e.done;)await this.Zr(e.value),e=c.next();this.Mp()||this.ya.OG()||(await this.ya.SQ(),this.AV&&
!this.hD&&this.IT());this.zm+=performance.now()-g;return e.value}Wv(c){this.kx.push(c)}Uv(){if(!this.kx.length)throw Error("layout stack empty");this.kx.pop()}Ma(){return this.kx.length?this.kx.$e(-1):this.Wb()}yp(c){return c&&-1!==c.Fe?this.xC*c.Fe:this.wC}EH(c){if(isNaN(c)||0>c)c=0;this.Fe=c}oR(c){this.mW=d.fa(c,1,120)}Of(){return this.pK.ea()}i1(){return this.qK.ea()}wG(){return this.xM.ea()}Jl(){++this.Gt}Wi(c){if(this.bl)throw Error("cannot call while loading state - wait until afterload event");
return this.Vq.get(c)||null}AT(){this.Vq.clear();for(const c of this.md)if(!c.Ya)for(const e of c.la())this.Vq.set(e.Qc,e)}zs(){return"preview"===this.to}r3(){return"cordova"===this.to}n3(){return"Android"===d.Hd.Bs&&("cordova"===this.to||"playable-ad"===this.to||"instant-games"===this.to)}sG(){return this.Gm.sG()}T6(c){c=!!c;this.Wj!==c&&(this.Wj=c,this.gb.Hs(),this.R())}T5(c){this.uy=c}T3(c){this.Yx=c}XG(c){this.Rt=c}Bba(){return!(!this.uy&&!this.Yx&&null===this.Rt)}async raa(){this.uy&&(this.pe(),
await this.i$(this.uy),this.ZH());this.Yx&&(await this.h$(this.Yx),this.ZH(),this.Jb&&a.Vpa());if(null!==this.Rt){this.pe();try{await this.rS(this.Rt),this.fr=this.Rt,await this.Vf(d.B.Xa.F.mQ,null),this.fr=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Vf(d.B.Xa.F.nQ,null)}this.ZH()}}ZH(){this.Yx=this.uy="";this.Rt=null}kaa(){this.FL||(this.FL=localforage.IM({name:"c3-localstorage-"+this.GL,description:this.ZD}));return this.FL}NS(){this.NL||(this.NL=
localforage.IM({name:"c3-savegames-"+this.GL,description:this.ZD}));return this.NL}async i$(c){const e=await this.fda();try{await this.NS().setItem(c,e),console.log("[Construct 3] Saved state to storage ("+e.length+" chars)"),this.fr=e,await this.Vf(d.B.Xa.F.O4,null),this.fr=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Vf(d.B.Xa.F.P4,null)}}async h$(c){try{const e=await this.NS().getItem(c);if(!e)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
e.length+" chars)");await this.rS(e);this.fr=e;await this.Vf(d.B.Xa.F.mQ,null);this.fr=""}catch(e){console.error("[Construct 3] Failed to load state from storage: ",e),await this.Vf(d.B.Xa.F.nQ,null)}}async fda(){const c={c3save:!0,version:1,rt:{time:this.Of(),timeRaw:this.i1(),walltime:this.wG(),timescale:this.Fe,tickcount:this.hl,execcount:this.Gt,next_uid:this.gy,running_layout:this.Wb().jb,start_time_offset:Date.now()-this.No},types:{},layouts:{},events:this.ya.ma(),timelines:this.Lb.ma(),user_script_data:null};
for(var e of this.md)e.Ya||e.qP()||(c.types[e.jb.toString()]=e.ma());for(const k of this.gb.tj)c.layouts[k.jb.toString()]=k.ma();e=this.dI("save");e.saveData=null;await this.vp(e);c.user_script_data=e.saveData;return JSON.stringify(c)}async rS(c){var e=this.gb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.$b.dispatchEvent(d.A(d.Event,"beforeload"));
for(var k of this.mga())k.CB();this.bl=!0;k=c.rt;this.pK.Set(k.time);k.hasOwnProperty("timeRaw")&&this.qK.Set(k.timeRaw);this.xM.Set(k.walltime);this.Fe=k.timescale;this.hl=k.tickcount;this.Gt=k.execcount;this.No=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Wb().jb)if(g=e.iG(g))await this.qS(g);else return;for(const [l,n]of Object.entries(c.types))g=this.$i(parseInt(l,10)),!g||g.Ya||g.qP()||g.wa(n);this.pe();this.AT();this.bl=!1;this.gy=k.next_uid;for(const [l,n]of Object.entries(c.layouts))(k=
e.iG(parseInt(l,10)))&&k.wa(n);this.ya.wa(c.events);for(const l of this.md)if(!l.Ya&&l.Kc())for(const n of l.la()){k=n.Ap();for(const q of l.Cj.Em)if(q!==l){g=q.la();if(0>k||k>=g.length)throw Error("missing sibling instance");n.Ys(g[k])}}this.Lb.wa(c.timelines);e.Is();e.Hs();this.$b.dispatchEvent(d.A(d.Event,"afterload"));e=this.dI("load");e.saveData=c.user_script_data;await this.vp(e);this.R()}async yY(c){c=(await Promise.all(c.map(e=>this.Pd.yl(e)))).map(e=>URL.createObjectURL(e));this.Qx.D2(c)}wY(){this.Qx.V5()}xY(c){this.Qx.W5(c)}qF(c,
e,k){return this.Qx.qF(c,e,k)}l3(c,e){this.Kn("runtime","invoke-download",{url:c,filename:e})}async n5(c){var e=e||2048;var k=k||2048;return this.tm?(await this.Vv("raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:e,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,e,k)}Fs(){this.ZU||(this.ZU=!0,this.Kn("runtime","enable-device-orientation"))}Nn(){this.YU||(this.YU=!0,this.Kn("runtime","enable-device-motion"))}Ln(){return this.Xfa()}laa(){const c=
this.Hp();return{fps:this.NC,cpu:this.KD,gpu:this.nA(),layout:this.Wb()?this.Wb().Ba():"",renderer:c?c.Uy:"<unavailable>"}}Iv(){return this.Jb?a.Iv():!1}Zr(c){return this.Se?a.Zr(c):Promise.resolve()}Bc(){return this.Se?a.Sia():!1}Ks(c){c?this.TJ--:this.TJ++;this.uea()}uea(){this.Se=this.Jb&&this.Vea&&0===this.TJ}HG(){return this.Jb&&a.HG()}LG(){return this.Jb&&this.pb().Ik()&&a.LG()}async Tz(c){if(c)for(const e of c)await this.Zr(e)}fO(c){return this.Tz(this.$b.Mga(c))}AB(c){return this.ya.AB(c.name,
c.params)}dI(c){c=d.A(d.Event,c,!1);c.Rc=this.Rj;return c}Caa(){var c={};for(const e of this.md)c[e.Yi()]={value:e.Cx,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Rj=new self.s2(this,c);this.dX={tick:this.dI("tick")}}yaa(){const c={};for(const e of this.ka().qJ)c[e.Yi()]=e.OS();this.Rj.zaa(c)}iT(c,e){this.pfa.set(c,e)}};self.C3_CreateRuntime=d.TQ.Ta;self.C3_InitRuntime=(c,e)=>c.yn(e)}
{"use strict";const d=self.j;d.N3=class extends d.ia{constructor(a,b){super();this.b=a;this.br=new Map;this.Pfa=0;this.Hx=b.inputPort;b.outputPort.onmessage=f=>this.uT(f);this.gW=b.maxNumWorkers;this.Rx=1;this.tV=this.Kx=!1}async yn(){}D2(a){this.Hx.postMessage({type:"_import_scripts",scripts:a})}V5(){this.Hx.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}W5(a){this.Hx.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}qF(a,b,f){f||(f=[]);const c=this.Pfa++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:f};b=new Promise((e,k)=>{this.br.set(c,{resolve:e,progress:void 0,reject:k,HM:!1})});this.Hx.postMessage(a,f);this.kT();return b}uT(a){a=a.data;const b=a.type,f=a.jobId;switch(b){case "result":this.Oba(f,a.result);break;case "progress":this.Nba(f,a.progress);break;case "error":this.Mba(f,a.error);break;case "ready":this.Pba();break;default:throw Error(`unknown message from worker '${b}'`);}}Oba(a,b){const f=this.br.get(a);if(!f)throw Error("invalid job ID");
f.HM||f.resolve(b);this.br.delete(a)}Nba(a,b){a=this.br.get(a);if(!a)throw Error("invalid job ID");!a.HM&&a.progress&&a.progress(b)}Mba(a,b){const f=this.br.get(a);if(!f)throw Error("invalid job ID");f.HM||f.reject(b);this.br.delete(a)}Pba(){this.Kx&&(this.Kx=!1,this.Rx++,this.Rx<this.gW?this.kT():this.Hx.postMessage({type:"_no_more_workers"}))}async kT(){if(!(this.Rx>=this.gW||this.Kx||this.tV||this.br.size<=this.Rx))try{this.Kx=!0,(await this.b.Vv("create-job-worker")).outputPort.onmessage=a=>this.uT(a)}catch(a){this.tV=
!0,this.Kx=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Rx} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.water={Eu:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nprecision mediump float;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nconst float PI = 3.1415926535897932;\nuniform float speed;\nuniform float speed_x;\nuniform float speed_y;\nuniform float intensity;\nconst float steps = 8.0;\nuniform float frequency;\nuniform float angle; // better when a prime\nuniform float delta;\nuniform float intence;\nuniform float emboss;\nfloat col(vec2 coord)\n{\nfloat delta_theta = 2.0 * PI / angle;\nfloat col = 0.0;\nfloat theta = 0.0;\nfor (float i = 0.0; i < steps; i++)\n{\nvec2 adjc = coord;\ntheta = delta_theta*i;\nadjc.x += cos(theta)*seconds*speed + seconds * speed_x;\nadjc.y -= sin(theta)*seconds*speed - seconds * speed_y;\ncol = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n}\nreturn cos(col);\n}\nvoid main(void)\n{\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nvec2 p = tex, c1 = p, c2 = p;\nfloat cc1 = col(c1);\nc2.x += (1.0 / pixelSize.x) / delta;\nfloat dx = emboss*(cc1-col(c2))/delta;\nc2.x = p.x;\nc2.y += (1.0 / pixelSize.y) / delta;\nfloat dy = emboss*(cc1-col(c2))/delta;\nc1.x += dx;\nc1.y = -(c1.y+dy);\nfloat alpha = 1.+dot(dx,dy)*intence;\nc1.y = -c1.y;\nc1 = clamp(c1, 0.0, 1.0);\ngl_FragColor = texture2D(samplerFront, mix(srcStart, srcEnd, c1)) * alpha;\n}",av:"",
Cu:40,Du:40,Bu:!1,Nu:!1,Ou:!1,yu:!0,parameters:[["speed",0,"percent"],["speed_x",0,"percent"],["speed_y",0,"percent"],["intensity",0,"float"],["frequency",0,"float"],["angle",0,"float"],["delta",0,"float"],["intence",0,"float"],["emboss",0,"percent"]]};
self.C3_Shaders.vignette={Eu:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp float d = distance(tex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",av:"",
Cu:0,Du:0,Bu:!1,Nu:!1,Ou:!0,yu:!1,parameters:[["vignetteStart",0,"percent"],["vignetteEnd",0,"percent"]]};
self.C3_Shaders.radialblur={Eu:"precision mediump float;\nvarying vec2 vTex;\nuniform sampler2D samplerFront;\nuniform vec2 srcStart;\nuniform vec2 srcEnd;\nuniform float layerScale;\nuniform float intensity;\nuniform float radius;\nvoid main(void)\n{\nvec2 dir = ((srcStart + srcEnd) / 2.0 - vTex) / (length(srcEnd - srcStart) / 2.0);\nfloat dist = sqrt(dir.x*dir.x + dir.y*dir.y);\ndir = dir/dist;\nvec4 front = texture2D(samplerFront, vTex);\nvec4 sum = front;\nfloat scaledRadius = radius * layerScale;\nsum += texture2D(samplerFront, vTex + dir * -0.08 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.08 * scaledRadius);\nsum /= 11.0;\nfloat t = dist * 2.2;\nt = clamp(t, 0.0, 1.0);\ngl_FragColor = mix(front, mix(front, sum, t), intensity);\n}",av:"",
Cu:50,Du:50,Bu:!1,Nu:!1,Ou:!1,yu:!1,parameters:[["radius",0,"percent"],["intensity",0,"percent"]]};
self.C3_Shaders.glowvertical={Eu:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelHeight = pixelSize.y;\nmediump float halfPixelHeight = pixelHeight / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",av:"",
Cu:0,Du:8,Bu:!1,Nu:!1,Ou:!1,yu:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.glowhorizontal={Eu:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",av:"",
Cu:8,Du:0,Bu:!1,Nu:!1,Ou:!1,yu:!1,parameters:[["intensity",0,"percent"]]};
self.C3_Shaders.noise={Eu:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform highmedp float seconds;\nuniform lowp float intensity;\nuniform lowp float noiseColor;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nhighmedp float seconds_mod = mod(seconds, 10.0);\nmediump vec3 noise = vec3(fract(sin(dot(vTex.xy, vec2(12.9898,78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.yx, vec2(12.9898,-78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.xy, vec2(-12.9898,-78.233)) + seconds_mod) * 43758.5453));\nnoise = mix(vec3(noise.r), noise, noiseColor);\nfront.rgb += (noise * intensity) - (intensity / 2.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",av:"",
Cu:0,Du:0,Bu:!1,Nu:!1,Ou:!0,yu:!0,parameters:[["intensity",0,"percent"],["noiseColor",0,"percent"]]};
{"use strict";const d=self.j;let a=null,b="",f="",c=[],e="",k="",g="";const l=d.A(d.PY);function n(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.B.Xa=class extends d.hj{constructor(q){super(q);this.bg=this.b.ka().bg;this.he=this.b.ka().hd();this.Fx=this.Sq=0;this.nV=new Map}g(){super.g()}R(){this.b.R()}Aa(q){this.b.Aa(q,null,null)}sA(q,r){a&&q===b&&r===f||(a=new RegExp(q,r),b=q,f=r);a.lastIndex=0;return a}ZO(q,r,p){if(q===e&&r===k&&
p===g)return c;const w=this.sA(r,p);c=q.match(w);e=q;k=r;g=p;return c}async CI(q,r){if(r.length){this.Sq+=r.length;var p=[];for(const w of r)p.push(q.YP(w));await d.f5(p,()=>{this.Fx++});this.Fx++;this.Fx===this.Sq&&(this.b.Aa(d.B.Xa.F.E4,null,null),this.Sq=this.Fx=0)}}yU(q,r){for(const p of r)0===p.D.length&&q.d4(p)}KS(){return l}Dca(q){var r=this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Ck();const z=p.Na(t),D=r.bg,E=D.Na();if(x)for(x=0;x<q&&!E.Hc;++x)r.de(v),E.Vc(x),t.nf(w,z),r.Db(v);
else for(r=0;r<q&&!E.Hc;++r)E.Vc(r),t.nf(w,z);p.Ia();D.Ia();return!1}*M9(q){var r=this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Ck();const z=p.Na(t),D=r.bg,E=D.Na();if(x)for(x=0;x<q&&!E.Hc;++x)r.de(v),E.Vc(x),yield*t.Tg(w,z),r.Db(v);else for(r=0;r<q&&!E.Hc;++r)E.Vc(r),yield*t.Tg(w,z);p.Ia();D.Ia();return!1}Fea(){var q=this.b.ka();const r=q.hd(),p=r.gf(),w=p.Gb(),t=w.Fd();var v=p.Ck();const x=r.Na(w),z=q.bg,D=z.Na();if(v)for(v=0;!D.Hc;++v)q.de(t),D.Vc(v),w.nf(p,x)||D.nh(),q.Db(t);else for(q=
0;!D.Hc;++q)D.Vc(q),w.nf(p,x)||D.nh();r.Ia();z.Ia();return!1}*f$(){var q=this.b.ka();const r=q.hd(),p=r.gf(),w=p.Gb(),t=w.Fd();var v=p.Ck();const x=r.Na(w),z=q.bg,D=z.Na();if(v)for(v=0;!D.Hc;++v)q.de(t),D.Vc(v),(yield*w.Tg(p,x))||D.nh(),q.Db(t);else for(q=0;!D.Hc;++q)D.Vc(q),(yield*w.Tg(p,x))||D.nh();r.Ia();z.Ia();return!1}T$(q,r,p){var w=this.b.ka();const t=w.hd(),v=t.gf(),x=v.Gb(),z=x.Fd(),D=v.Ck(),E=t.Na(x),M=w.bg,B=M.Na();B.fB(q);if(p<r)if(D)for(q=r;q>=p&&!B.Hc;--q)w.de(z),B.Vc(q),x.nf(v,E),w.Db(z);
else for(w=r;w>=p&&!B.Hc;--w)B.Vc(w),x.nf(v,E);else if(D)for(q=r;q<=p&&!B.Hc;++q)w.de(z),B.Vc(q),x.nf(v,E),w.Db(z);else for(w=r;w<=p&&!B.Hc;++w)B.Vc(w),x.nf(v,E);t.Ia();M.Ia();return!1}*J9(q,r,p){var w=this.b.ka();const t=w.hd(),v=t.gf(),x=v.Gb(),z=x.Fd(),D=v.Ck(),E=t.Na(x),M=w.bg,B=M.Na();B.fB(q);if(p<r)if(D)for(q=r;q>=p&&!B.Hc;--q)w.de(z),B.Vc(q),yield*x.Tg(v,E),w.Db(z);else for(w=r;w>=p&&!B.Hc;--w)B.Vc(w),yield*x.Tg(v,E);else if(D)for(q=r;q<=p&&!B.Hc;++q)w.de(z),B.Vc(q),yield*x.Tg(v,E),w.Db(z);
else for(w=r;w<=p&&!B.Hc;++w)B.Vc(w),yield*x.Tg(v,E);t.Ia();M.Ia();return!1}U$(q){var r=this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Ck();const z=p.Na(t),D=r.bg,E=D.Na(),M=q.Kc(),B=q.Z(),G=l.Na();d.xd(G,B.la());if(x)for(let H=0,J=G.length;H<J&&!E.Hc;++H)r.de(v),x=G[H],q.Z().Hk(x),M&&x.kj(),E.Vc(H),t.nf(w,z),r.Db(v);else{B.Me(!1);q=B.D;d.C(q);q.push(null);for(let H=0,J=G.length;H<J&&!E.Hc;++H)r=G[H],q[0]=r,M&&r.kj(),E.Vc(H),t.nf(w,z)}p.Ia();D.Ia();d.C(G);l.Ia();return!1}*K9(q){var r=
this.b.ka();const p=r.hd(),w=p.gf(),t=w.Gb(),v=t.Fd();var x=w.Ck();const z=p.Na(t),D=r.bg,E=D.Na(),M=q.Kc(),B=q.Z(),G=l.Na();d.xd(G,B.la());if(x)for(let H=0,J=G.length;H<J&&!E.Hc;++H)r.de(v),x=G[H],q.Z().Hk(x),M&&x.kj(),E.Vc(H),yield*t.Tg(w,z),r.Db(v);else{B.Me(!1);q=B.D;d.C(q);q.push(null);for(let H=0,J=G.length;H<J&&!E.Hc;++H)r=G[H],q[0]=r,M&&r.kj(),E.Vc(H),yield*t.Tg(w,z)}p.Ia();D.Ia();d.C(G);l.Ia();return!1}V$(q,r){var p=this.b.ka();const w=p.hd(),t=p.ng(),v=w.gf(),x=v.Gb(),z=x.Fd(),D=v.Ck(),
E=w.Na(x),M=p.bg,B=M.Na(),G=q.Kc(),H=q.Z(),J=l.Na();d.C(J);const P=H.la();for(let Q=0,T=P.length;Q<T;++Q)J.push([P[Q],t.Yv(1,Q)]);J.sort(n);1===r&&J.reverse();if(D)for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p.de(z),r=J[Q][0],q.Z().Hk(r),G&&r.kj(),B.Vc(Q),x.nf(v,E),p.Db(z);else{H.Me(!1);q=H.D;d.C(q);q.push(null);for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p=J[Q][0],q[0]=p,G&&p.kj(),B.Vc(Q),x.nf(v,E)}w.Ia();M.Ia();d.C(J);l.Ia();return!1}*L9(q,r){var p=this.b.ka();const w=p.hd(),t=p.ng(),v=w.gf(),x=v.Gb(),z=x.Fd(),
D=v.Ck(),E=w.Na(x),M=p.bg,B=M.Na(),G=q.Kc(),H=q.Z(),J=l.Na();d.C(J);const P=H.la();for(let Q=0,T=P.length;Q<T;++Q)J.push([P[Q],t.Yv(1,Q)]);J.sort(n);1===r&&J.reverse();if(D)for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p.de(z),r=J[Q][0],q.Z().Hk(r),G&&r.kj(),B.Vc(Q),yield*x.Tg(v,E),p.Db(z);else{H.Me(!1);q=H.D;d.C(q);q.push(null);for(let Q=0,T=J.length;Q<T&&!B.Hc;++Q)p=J[Q][0],q[0]=p,G&&p.kj(),B.Vc(Q),yield*x.Tg(v,E)}w.Ia();M.Ia();d.C(J);l.Ia();return!1}uB(q,r){let p=this.nV.get(q);if(p)return p;if(!r)return null;
p={jp:null,lF:new Map};this.nV.set(q,p);return p}g$(q,r,p,w,t){r.Nf().O5(p);w&&q.Db(t)}*H9(q,r,p,w,t){yield*r.Nf().WZ(p);w&&q.Db(t)}}}{"use strict";const d=self.j;d.B.Xa.ue=class extends d.ia{constructor(a){super();this.N=a;this.b=a.H();this.Ai=a.Hb()}Qb(){}g(){this.Ai=this.b=this.N=null}}}{"use strict";const d=self.j;d.B.Xa.Instance=class extends d.ia{constructor(a){super();this.L=a;this.N=this.L.I();this.Oa=this.N.Oa;this.b=this.L.H()}g(){this.b=this.Oa=this.N=this.L=null}}}
{"use strict";const d=self.j,a=[];d.B.Xa.F={q0(){return!0},lQ(){return!0},kQ(){return!0},Q4(){return!0},N4(){return!0},Mp(){return this.b.Mp()},nO(){const b=this.b.Mf();return b.aK?!1:!b.cr},U7(){const b=this.b.ng().Yd();let f=b.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,b.set("TriggerOnce_lastTick",-1));const c=this.b.hl;b.set("TriggerOnce_lastTick",c);return this.b.PK||f!==c-1},p0(b){const f=this.b.ng().Yd(),c=f.get("Every_lastTime")||0,e=this.b.Of();f.has("Every_seconds")||f.set("Every_seconds",
b);const k=f.get("Every_seconds");if(e>=c+k)return f.set("Every_lastTime",c+k),e>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",e),f.set("Every_seconds",b),!0;e<c-.1&&f.set("Every_lastTime",e);return!1},ws(b){return(b=this.b.ka().FO(b))&&b.ws()},zs(){return this.b.zs()},SG(){return d.Hd.SG},I4(){return!0},u4(){return!0},Pja(){return!0},O4(){return!0},P4(){return!0},mQ(){return!0},nQ(){return!0},qma(b){return!!this.b.Wi(b)},gla(b){switch(b){case 0:return"browser"===d.Hd.DF;case 1:return"iOS"===
d.Hd.Bs;case 2:return"Android"===d.Hd.Bs;case 8:return"cordova"===d.Hd.DF;case 9:return"scirra-arcade"===this.b.to;case 10:return"nwjs"===d.Hd.DF;case 13:return"windows-uwp"===this.b.to;default:return!1}},ona(b,f,c){return this.sA(f,c).test(b)},gja(b,f,c){return d.compare(b,f,c)},jja(b,f,c){return b>=f&&b<=c},zZ(b,f,c){return d.compare(b.ae(),f,c)},kja(b){return!!b.ae()},yZ(b,f){const c=this.b.Of();return 0===b?(b=this.b.ng().Yd(),!b.get("CompareTime_executed")&&c>=f?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,f)},ela(b){return isNaN(b)},JY(b,f,c){return d.Ym(d.eb(b),d.eb(c))<=d.eb(f)},p3(b,f){return d.fg(d.eb(b),d.eb(f))},zP(b,f,c){b=d.eb(b);f=d.eb(f);c=d.eb(c);return d.fg(c,f)?d.fg(b,f)&&!d.fg(b,c):!(!d.fg(b,f)&&d.fg(b,c))},ola(b,f){return"number"===typeof b?0===f:1===f},Sja(b){return!!b},Lma(b,f,c,e){if(!b)return!1;const k=this.KS(),g=k.Na(),l=b.Z();d.xd(g,l.la());l.ec&&d.C(l.xc);const n=this.b.ng();let q=0;for(let r=0,p=g.length;r<p;++r){const w=g[r];g[q]=w;f=n.Yv(1,r);e=n.Yv(3,
r);d.compare(f,c,e)?++q:l.ao(w)}d.bf(g,q);l.$v(g);f=!!g.length;d.C(g);k.Ia();b.oc();return f},Mma(b,f){if(!b)return!1;const c=this.KS(),e=c.Na(),k=b.Z();d.xd(e,k.la());k.ec&&d.C(k.xc);const g=this.b.ng();let l=0;for(let n=0,q=e.length;n<q;++n){const r=e[n];e[l]=r;(f=g.Yv(1,n))?++l:k.ao(r)}d.bf(e,l);k.$v(e);f=!!e.length;d.C(e);c.Ia();b.oc();return f},Sma(b,f){if(!b)return!1;const c=b.Z(),e=c.la();f=Math.floor(f);if(f>=e.length)return!1;c.Jn(e[f]);b.oc();return!0},Wma(b){if(!b)return!1;const f=b.Z(),
c=f.la(),e=Math.floor(this.b.Ln()*c.length);if(e>=c.length)return!1;f.Jn(c[e]);b.oc();return!0},Kma(b){if(!b||!b.D.length)return!1;b.Z().Me(!0);b.oc();return!0},Uma(b,f,c){if(!b)return!1;const e=b.Z();var k=e.la();const g=this.b.Gb().je,l=this.b.ng().Uj;e.ec?(d.xd(a,k),e.Kz(),e.Me(!1)):g?(d.xd(a,e.xc),d.C(e.xc)):(d.xd(a,e.D),d.C(e.D));for(let n=0,q=a.length;n<q;++n)k=a[n],d.xor(k.i().hv(f,c),l)?e.lq(k):e.ao(k);b.oc();return d.xor(!!e.D.length,l)},Rma(b){if(!b)return!1;var f=b.Ya;let c=null;const e=
this.b.rm;for(let k=e.length-1;0<=k;--k){const g=e[k];if(f){if(g.I().wF(b)){c=g;break}}else if(g.I()===b){c=g;break}}c||(f=b.la(),f.length&&(c=f.$e(-1)));if(!c)return!1;b.Z().Jn(c);b.oc();return!0},rna(b){return this.b.Se?this.M9(b):this.Dca(b)},Pqa(){return this.b.Se?this.f$():this.Fea()},Yja(b,f,c){return this.b.Se?this.J9(b,f,c):this.T$(b,f,c)},Zja(b){return this.b.Se?this.K9(b):this.U$(b)},$ja(b,f,c){return this.b.Se?this.L9(b,c):this.V$(b,c)},Bla(b){return b?b.Tc():!1},yla(b){return b?!b.D.length:
!1},xla(b,f,c){return b?d.compare(100*b.kf(),f,c):!1},E4(){return!0},bla(){return 0<this.Sq}}}
{"use strict";const d=self.j;function a(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const f=[],c=[],e=d.A(d.Rect),k=d.A(d.$a);d.B.Xa.Ga={o7(g,l){g.jh(l)},GY(g,l){g.En()&&"number"!==typeof l&&(l=parseFloat(l));g.jh(g.ae()+l)},K7(g,l){g.En()&&g.jh(g.ae()-l)},Aoa(g,l){g.jh(!!l)},pqa(g){g.jh(!g.ae())},eoa(){this.b.ka().D5()},OZ(g,l,n,q,r){g&&l&&(n=this.b.GF(g,l,n,q,r))&&(r&&l.JH(n),l=this.b.ka(),l.df(!0),n.PB(),l.df(!1),g.Z().Hk(n),n.Kc()&&n.kj())},Cja(g,l,n,q,r){g&&
l&&(g=this.b.jG(g))&&d.B.Xa.Ga.OZ.call(this,g,l,n,q,r)},Xv(g,l,n,q,r,p,w,t,v,x){if(g){var z=this.b.Ma();if(p&&(z=this.b.gb.js(p),!z))return;p=null;if("number"!==typeof w||0<=w)if(p=z.ba(w),!p)return;e.set(l,n,q,r);l=z.Xv(g,e,p,t,v,x);g.Z().$v(l);g.oc()}},Xpa(){const g=this.bg;g.HP()&&g.es().nh()},Ns(g,l){(g=this.b.ka().FO(g))&&(0===l?g.Ns(!1):1===l?g.Ns(!0):g.Ns(!g.ws()))},Apa(g){this.b.EH(g)},vpa(g,l){0>l&&(l=0);if(g){g=g.Z().la();for(const n of g)n.EH(l)}},hoa(g){if(g){g=g.Z().la();for(const l of g)l.K5()}},
TH(g){if(!(0>g))return this.b.ka().rF().h3(g),!0},Jqa(g){this.b.ka().rF().f3(g);return!0},l8(){const g=this.b.ka();g.rF().T2(g.H1());return!0},Kpa(g){g=g.toLowerCase();for(const l of this.b.ka().Kg)l.H3()&&l.Ay===g&&l.AH()},async ER(g,l,n,q,r,p){const w=this.b.aa;w&&(this.R(),await w.ER(0===g?"image/png":"image/jpeg",l/100,n,q,r,p),await this.b.Vf(d.B.Xa.F.u4,null))},Coa(g,l){if(!(0>=g||0>=l)){this.b.pw(g,l);var n=this.b.Ma();n.Ez();for(const q of n.lc)q.SH();if(n=this.b.aa)"off"!==n.wv()&&this.b.P6(g,
l),n.Rb(n.bp,n.$o,!0),this.b.R()}},Roa(g){const l=this.b.aa;l&&"off"!==l.wv()&&(l.gR(0!==g?"high":"low"),l.Rb(l.bp,l.$o,!0))},Xp(g){this.b.T5(g)},Nla(g){this.b.T3(g)},Ola(g){this.b.XG(g)},Toa(){},foa(){for(const g of this.b.gb.tj)g.H5()},xpa(g){this.b.T6(0!==g)},oR(g){this.b.oR(g)},Npa(g,l){if(g){var n=g.Z().la(),q=this.b.Ma(),r=g.Ya;g=g.Lj;for(let w=0,t=n.length;w<t;++w){var p=n[w];const v=p.i();if(!v)continue;let x;x=r?p.jf(l+p.I().HO(g)):p.jf(l);f.push([v.ba().Ha(),v.zk()]);c.push([p,x])}if(f.length){f.sort(a);
c.sort(b);l=!1;for(let w=0,t=f.length;w<t;++w)n=c[w][0],r=q.oA(f[w][0]),g=f[w][1],p=r.D,p[g]!==n&&(p[g]=n,n.i().Mw(r),r.mh(),l=!0);l&&this.b.R();d.C(f);d.C(c)}}},S1(g){if(!this.b.Vj){var l=this.b.gb;l.ys()||l.Iz(g)}},mka(g){if(!this.b.Vj){var l=this.b.gb;l.ys()||(g=l.js(g))&&l.Iz(g)}},jma(g){if(!this.b.Vj){var l=this.b.gb;if(!l.ys()){var n=l.tj,q=n.indexOf(l.Wb());g&&0===q||(g||q!==n.length-1)&&l.Iz(n[q+(g?-1:1)])}}},J5(){if(!this.b.Vj){var g=this.b.gb;g.ys()||(g.Iz(g.Wb()),this.b.ka().E5())}},F6(g,
l){g&&g.Ke(l)},E6(g,l){g&&g.jj(l/100)},fpa(g,l){g&&g.qR(l)},gpa(g,l){g&&g.W6(l)},$oa(g,l){g&&g.Fc(d.eb(+l))},hpa(g,l,n){g&&(g.hw(!0),g.ei(l),g.gi(n))},goa(g){g&&g.hw(!1)},epa(g,l,n){g&&g.Q6(l/100,n/100)},jpa(g,l){g&&g.Le(+l)},apa(g,l){g&&(k.Ru(l),k.fa(),g=g.im,g.$m(k)||(g.kk(k),this.R()))},ipa(g,l){g&&g.k7(l)},bpa(g,l){g&&g.pf(l)},D6(g,l,n){g&&(g=g.Ra,n=g.Cl(n))&&(l=1===l,n.Nb!==l&&(n.ZA(l),g.Wn(),this.b.R()))},cpa(g,l,n,q){if(g&&(g=g.Ra,l=g.Cl(l))&&(g=g.Xg(l.Ha()),n=Math.floor(n),!(0>n||n>=g.length))){var r=
l.kb.rA(n);if("color"===r){k.Ru(q);n=g[n];if(k.$m(n))return;n.kk(k)}else{"percent"===r&&(q/=100);if(g[n]===q)return;g[n]=q}l.Nb&&this.b.R()}},dpa(g,l){g&&g.s6(l)},opa(g){this.b.Ma().$p(+g)},kpa(g){this.b.Ma().Fc(d.eb(+g))},lpa(g,l){const n=this.b.Ma().Ra;if(l=n.Cl(l))g=1===g,l.Nb!==g&&(l.ZA(g),n.Wn(),this.b.R())},mpa(g,l,n){var q=this.b.Ma().Ra;if(g=q.Cl(g))if(q=q.Xg(g.Ha()),l=Math.floor(l),!(0>l||l>=q.length)){var r=g.kb.rA(l);if("color"===r){k.Ru(n);l=q[l];if(k.$m(l))return;l.kk(k)}else{"percent"===
r&&(n/=100);if(q[l]===n)return;q[l]=n}g.Nb&&this.b.R()}},ppa(g,l){this.b.Ma().n7(g/100,l/100)},npa(g){const l=this.b.Ma();0===g?l.sR():l.pR()},toa(g){this.b.Ma().ei(g)},uoa(g){this.b.Ma().gi(g)},roa(g,l){const n=this.b.Ma();n.ei(g);n.gi(l)},soa(g){if(g&&(g=g.cG())&&(g=g.i())){var l=this.b.Ma();l.ei(g.O());l.gi(g.P())}},async V3(g){const l=this.b.Wb();l&&g&&!this.b.Vj&&await this.CI(l,g.Ya?g.uo:[g])},async Mla(g){await d.B.Xa.Ga.V3.call(this,this.b.jG(g))},Dqa(g){const l=this.b.Wb();l&&g&&this.yU(l,
g.Ya?g.uo:[g])},W7(g){d.B.Xa.Ga.W7.call(this,this.b.jG(g))},Eqa(){const g=this.b.Wb();if(g){var l=g.qaa();this.yU(g,l)}},async Kla(g){const l=this.b.Wb();g&&l&&!this.b.Vj&&await this.CI(l,g.LS())},async Lla(g){const l=this.b.Wb();(g=this.b.gb.js(g))&&l&&!this.b.Vj&&await this.CI(l,g.LS())},cB(g){const l=this.he.N0();if(l)switch(l.oV){case 1:"number"===typeof g&&l.cB(g);break;case 2:"string"===typeof g&&l.cB(g);break;case 3:l.cB(g)}},Qla(g,l,n){var q=this.uB(g.toLowerCase(),!0);const r=q.lF,p=l.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.jp)&&0!==q.Jo!==(0!==n.Jo)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,n)},Rla(g,l){const n=this.uB(g.toLowerCase(),!0);n.jp&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(n.lF.values())||n.jp;q&&
0!==q.Jo!==(0!==l.Jo)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.jp=l},Wia(g,l,n){n=Math.floor(n);var q=this.uB(g.toLowerCase(),!1);if(q){var r=q.lF.get(l.toLowerCase());if(!r)if(q.jp)r=q.jp,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(r.jd())if(0!==r.Jo)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.b;l=g.ka();var p=l.Gb();q=p.Od();var w=0<q.length;w&&l.gh(q);var t=[];if(p=l.QF(p)){p=p.yh;for(let v=n,x=p.length;v<x;++v)t.push(p[v].ae())}n=r.yh;for(let v=t.length,x=n.length;v<x;++v)t.push(n[v].Uq);return g.Se?this.H9(l,r,t,w,q):this.g$(l,r,t,w,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.j;d.B.Xa.zd={ssa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Kra:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},fn(a){return a.toString()},kz(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.b.Ln()*a:this.b.Ln()*(b-a)+a},xga(...a){return a[Math.floor(this.b.Ln()*a.length)]},jta(){return Math.PI},qsa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},Kta(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.eb(a))},cos(a){return Math.cos(d.eb(a))},tan(a){return Math.tan(d.eb(a))},asin(a){return d.Wd(Math.asin(a))},acos(a){return d.Wd(Math.acos(a))},atan(a){return d.Wd(Math.atan(a))},exp(a){return Math.exp(a)},qha(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let e=a[f];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let f=1,c=a.length;f<c;++f){let e=a[f];"number"===typeof e&&b>e&&(b=e)}return b},fa(a,b,f){return d.fa(a,b,f)},ez(a,b,f,c){return d.Jf(a,b,f,c)},angle(a,b,f,c){return d.Wd(d.le(a,b,f,c))},nc(a,b,f){return d.nc(a,b,f)},mF(a,b,f){return d.mF(a,b,f)},dF(a,b,f,c){return d.dF(a,b,f,c)},sX(a,b,f,c,e){return d.sX(a,
b,f,c,e)},rX(a,b,f){return d.rX(a,b,f)},ira(a,b){return d.Wd(d.Ym(d.eb(a),d.eb(b)))},jra(a,b,f){return d.Wd(d.CM(d.eb(a),d.eb(b),f))},kra(a,b,f){return d.Wd(d.DM(d.eb(a),d.eb(b),d.eb(f)))},Wta(a,b,f){b|=0;return(a|0)&~(1<<b)|(0!==f?1:0)<<b},fua(a,b){return(a|0)^1<<(b|0)},isa(a,b){return(a|0)&1<<(b|0)?1:0},$sa(){return"\n"},mua(a){return"string"===typeof a?a.toUpperCase():""},Tsa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,f){return"string"!==
typeof a?"":0>f?a.substr(b):a.substr(b,f)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},gua(a,b,f){if("string"!==typeof a||"string"!==typeof f)return"";a=a.split(f);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},hua(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.lv(b),"i")):-1},Jra(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.lv(b),"")):-1},replace(a,b,f){return"string"===typeof a&&"string"===typeof b&&"string"===typeof f?a.replace(new RegExp(d.lv(b),"gi"),f):"string"===typeof a?a:""},vta(a,b,f){b=this.sA(b,f);return a?a.search(b):-1},uta(a,b,f,c){b=this.sA(b,f);return a?a.replace(b,c):""},tta(a,b,f){return(a=this.ZO(a.toString(),b,f))?a.length:0},sta(a,b,f,c){c=Math.floor(c);a=this.ZO(a.toString(),b,f);return!a||0>c||c>=a.length?"":a[c]},Aua(a,b){let f=0>a?"-":"";0>a&&(a=-a);f+="0".repeat(Math.max(b-
a.toString().length,0));return f+a.toString()},oua(a){return encodeURIComponent(a)},nua(a){return decodeURIComponent(a)},wX(){return this.b.wC},dua(){return this.b.Fe},xua(){return(Date.now()-this.b.No)/1E3},kua(){return Date.now()},time(){return this.b.Of()},cua(){return this.b.hl},dta(){return this.b.wL},Nra(){return this.b.NC},xra(){return this.b.KD},jsa(){return this.b.nA()},zua(){return this.b.aa.ni},yua(){return this.b.aa.mi},hta(){return this.b.Xe},gta(){return this.b.We},fta(){return this.b.Xe},
eta(){return this.b.We},Nta(){return this.b.Ma().pg()},Ota(){return this.b.Ma().qg()},Nsa(){return this.b.Ma().Ba()},Osa(){return this.b.Ma().cc},Lsa(){return d.Wd(this.b.Ma().ta())},Psa(){return this.b.Ma().K()},Msa(){return this.b.Ma().G()},tua(a){return(a=this.b.Ma().ba(a))?a.Zo.M:0},vua(a){return(a=this.b.Ma().ba(a))?a.Zo.J:0},uua(a){return(a=this.b.Ma().ba(a))?a.Zo.V:0},rua(a){return(a=this.b.Ma().ba(a))?a.Zo.S:0},wua(a){return(a=this.b.Ma().ba(a))?a.Zo.width():0},sua(a){return(a=this.b.Ma().ba(a))?
a.Zo.height():0},sra(a,b,f){return(a=this.b.Ma().ba(a))?a.Sh(b,f)[0]:0},tra(a,b,f){return(a=this.b.Ma().ba(a))?a.Sh(b,f)[1]:0},Isa(a,b,f){return(a=this.b.Ma().ba(a))?a.Op(b,f)[0]:0},Jsa(a,b,f){return(a=this.b.Ma().ba(a))?a.Op(b,f)[1]:0},Esa(a){return(a=this.b.Ma().ba(a))?a.cc:0},zsa(a){return(a=this.b.Ma().ba(a))?d.Wd(a.Oe):0},Bsa(a){return(a=this.b.Ma().ba(a))?100*a.kf():0},Fsa(a){return(a=this.b.Ma().ba(a))?a.dk:0},Gsa(a){return(a=this.b.Ma().ba(a))?a.pg():0},Hsa(a){return(a=this.b.Ma().ba(a))?
a.qg():0},Csa(a){return(a=this.b.Ma().ba(a))?100*a.ye:0},Dsa(a){return(a=this.b.Ma().ba(a))?100*a.Ae:0},Ksa(a){return(a=this.b.Ma().ba(a))?a.Ua():0},Asa(a){return(a=this.b.Ma().ba(a))?a.Ha():-1},rra(){const a=this.b.aa;return a?a.VL:""},Ssa(a){const b=this.bg;return b.HP()?a?(a=b.v0(a))?a.Ha():0:b.es().Ha():0},Lta(){return this.b.fr},qra(a,b,...f){var c=this.uB(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var e=c.lF.get(b.toLowerCase());
if(!e)if(c.jp)e=c.jp;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.Jo;const k=e.YF();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.jd())return k;a=this.b.ka();b=a.Gb().Od();const g=0<b.length;g&&a.gh(b);const l=e.yh;for(let n=f.length,q=l.length;n<q;++n)f.push(l[n].Uq);
e=e.Nf();f=e.QQ(e.Od(),c,k,...f);g&&a.Db(b);return f},Rsa(){return this.b.Pd.yD},nsa(){return 0===this.Sq?1:this.Fx/this.Sq},Kf(){return this.b.Gv()?"webgpu":"webgl"},yta(){return this.b.Gv()?"<unavailable>":this.b.Hp().Uy},osa(){let a=this.b.pb().R0();return Math.round(100*a/1048576)/100},zta(a,b,f){return d.U4(a,b,f)},Cta(a,b,f){return d.sQ(a/100,b/100,f/100)},Ata(a,b,f,c){return d.TA(a/100,b/100,f/100,c/100)},Dta(a,b,f){return d.sQ(a/255,b/255,f/255)},Bta(a,b,f,c){return d.TA(a/255,b/255,f/255,
c/255)},mta(){return this.b.ZD},nta(){return this.b.BW},zra(){return this.b.Gb().td.Ba()},yra(){return this.b.Gb().Ct}}}{"use strict";const d=self.j;d.B.Mb=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Mb.ue=class extends d.Rl{constructor(a){super(a);this.Gc=a.Gc}g(){d.C(this.Gc);super.g()}Qb(){for(const a of this.Gc)a.RP(this.b)}Dk(a){const b={Dd:this.b.zc};return Promise.all(this.Gc.map(f=>f.SP(a,b)))}bi(){for(const a of this.Gc)a.CQ()}RA(){this.BU()}BU(){for(const a of this.N.cha())a.ja.bJ()}ov(a){d.B.Mb.w0(this,a)}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Ec),f=d.A(d.Xs);d.B.Mb.Instance=class extends d.Wp{constructor(e,k){super(e);let g=!0,l="",n=0,q=!0;k&&(g=!!k[0],l=k[1],n=k[2],q=k[3]);this.Zb=this.N.wO(l)||this.N.Gc[0];this.Eb=d.fa(n,0,this.Zb.ie.length-1);this.xf=this.Zb.pk(this.Eb);k=this.xf.pc();this.wt=k.Cb();this.QJ=k.Zh();this.mx=k.rs();this.pP();e.fw(2,!0);e.fw(1,0<=this.Zb.Il());this.Uk=Math.abs(this.Zb.Il());this.ut=this.Zb.IW;this.ZB=d.A(d.Mv);this.Qk=this.Oj=0;this.KU="";this.gx=-1;this.nt=
"";this.RU=0;e=this.i();this.JJ=e.mg();e.Ke(g);e.bw(q);e.Yp(this.xf.Xh());e.Zp(this.xf.Yh());e.CH(this.xf.Bq);e.ua();1===this.N.Gc.length&&1===this.N.Gc[0].ie.length||0===this.Uk||this.uf()}g(){this.ZB=this.wt=this.xf=this.Zb=null;super.g()}Ed(){return this.xf.pc()}Ll(){return!0}Pp(){this.wt=null}cH(){this.bJ()}Nd(e){var k=this.wt;null!==k&&(e.fe(k),k=this.i(),k.sg()?this.mI(k,e):this.nI(k,e))}nI(e,k){let g=this.JJ;this.b.Wj&&(g=e.Cs(g));k.UA(g,this.mx)}mI(e,k){const g=e.oP();if(e.KP()){e.Gz(a,b,
!1);let l=b;this.b.Wj&&(l=e.Cs(l));g.PN(e.cj(),l,this.mx);e.eB(!1)}g.Nd(k)}rv(){return this.ZB.ea()}HA(){return this.L.fG(2)}Js(e){this.L.fw(2,e)}LA(){return this.L.fG(1)}jw(e){this.L.fw(1,e)}NG(){return this.L.fG(4)}iR(e){this.L.fw(4,e)}ge(){this.nt&&this.pS();0<=this.gx&&this.kI();const e=this.Uk;if(this.HA()&&0!==e){this.ZB.Sc(this.b.yp(this.L));var k=this.rv(),g=this.xf,l=g.$U/e;if(!(k<this.Oj+l)){var n=this.Zb,q=this.ut,r=n.ie.length,p=n.un(),w=n.iD,t=n.zfa;this.LA()?this.Eb++:this.Eb--;this.Oj+=
l;this.Eb>=r&&(t?(this.jw(!1),this.Eb=r-2):w?this.Eb=q:(this.Qk++,this.Qk>=p?this.qI(!1):this.Eb=q));0>this.Eb&&(t?(this.Eb=1,this.jw(!0),w||(this.Qk++,this.Qk>=p&&this.qI(!0))):w?this.Eb=q:(this.Qk++,this.Qk>=p?this.qI(!0):this.Eb=q));this.Eb=d.fa(this.Eb,0,r-1);l=n.pk(this.Eb);k>this.Oj+l.$U/e&&(this.Oj=k);this.DB(g,l)}}else this.Pk()}qI(e){this.Eb=e?0:this.Zb.ie.length-1;this.Js(!1);this.KU=this.Zb.Ba();this.iR(!0);this.Aa(d.B.Mb.F.s4);this.Aa(d.B.Mb.F.r4);this.iR(!1);this.Qk=0}DB(e,k){if(e!==
k){var g=this.i(),l=e.pc();e=k.pc();var n=l.K();l=l.G();var q=e.K(),r=e.G();n!==q&&g.rf(g.K()*(q/n));l!==r&&g.ld(g.G()*(r/l));g.Yp(k.Xh());g.Zp(k.Yh());g.CH(k.Bq);g.ua();this.xf=k;this.wt=e.Cb();this.QJ=e.Zh();this.mx=e.rs();k=this.Ca().nd;for(let p=0,w=k.length;p<w;++p);this.Aa(d.B.Mb.F.B4);this.b.R()}}gea(e){this.Js(!0);this.Oj=this.rv();1===e&&0!==this.Eb&&(this.gx=0,this.NG()||this.kI());this.uf()}kda(e,k){this.nt=e;this.RU=k;this.uf();this.NG()||this.pS()}IS(){return this.nt?this.nt:this.Zb.Ba()}lda(e){isFinite(e)&&
(this.gx=e,this.NG()||this.kI())}nda(e){this.Uk=Math.abs(e);this.jw(0<=e);0<this.Uk&&this.uf()}DS(){return this.LA()?this.Uk:-this.Uk}mda(e){this.ut=e=d.fa(Math.floor(e),0,this.Zb.ie.length-1)}pS(){const e=this.xf;var k=this.N.wO(this.nt);this.nt="";!k||k===this.Zb&&this.HA()||(this.Zb=k,this.jw(0<=k.Il()),this.Uk=Math.abs(k.Il()),this.ut=k.IW,this.Eb=d.fa(this.Eb,0,this.Zb.ie.length-1),1===this.RU&&(this.Eb=0),this.Js(!0),this.Oj=this.rv(),k=this.Zb.pk(this.Eb),this.DB(e,k))}kI(){const e=this.xf;
var k=this.Eb;this.Eb=d.fa(Math.floor(this.gx),0,this.Zb.ie.length-1);this.gx=-1;k!==this.Eb&&(k=this.Zb.pk(this.Eb),this.DB(e,k),this.Oj=this.rv())}bJ(){const e=this.xf.pc();this.wt=e.Cb();this.QJ=e.Zh();this.mx=e.rs();this.i().eB(!0)}Cb(){return this.wt}Zh(){return this.QJ}rs(){return this.mx}xv(){return this.xf.xv()}El(e){const k=this.xf,g=this.i();if("string"===typeof e)e=k.LO(e);else if("number"===typeof e)e=k.KO(e-1);else throw new TypeError("expected string or number");if(!e)return[g.O(),g.P()];
f.qa(e.XD);if(g.sg()){const [l,n]=g.cj().RH(f.X,f.T);f.set(l,n)}f.offset(-k.Xh(),-k.Yh());f.scale(g.K(),g.G());f.rotate(g.ta());f.offset(g.O(),g.P());return[f.X,f.T]}K0(){return this.i().xk().pz()}BO(e){e=Math.floor(e);const k=this.i();var g=k.xk();const l=g.pz();e===l&&(e=0);if(0>e||e>=l)return[0,0];g=g.Pc;return[g[2*e]+k.O(),g[2*e+1]+k.P()]}Xb(){const e={a:this.Zb.jb};0!==this.Oj&&(e.fs=this.Oj);var k=this.rv();0!==k&&(e.at=k);0!==this.Eb&&(e.f=this.Eb);0!==this.Uk&&(e.cas=this.Uk);1!==this.Qk&&
(e.ar=this.Qk);0!==this.ut&&(e.rt=this.ut);this.HA()||(e.ap=this.HA());this.LA()||(e.af=this.LA());k=this.i();k.bh()&&(e.ce=k.bh());return e}Pb(e){var k=this.I().E0(e.a);k&&(this.Zb=k);this.Oj=e.hasOwnProperty("fs")?e.fs:0;this.ZB.Set(e.hasOwnProperty("at")?e.at:0);k=e.hasOwnProperty("f")?e.f:0;this.Eb=d.fa(k,0,this.Zb.ie.length-1);this.Uk=e.hasOwnProperty("cas")?e.cas:0;this.Qk=e.hasOwnProperty("ar")?e.ar:1;k=e.hasOwnProperty("rt")?e.rt:0;this.ut=d.fa(k,0,this.Zb.ie.length-1);this.Js(e.hasOwnProperty("ap")?
!!e.ap:!0);this.jw(e.hasOwnProperty("af")?!!e.af:!0);this.xf=k=this.Zb.pk(this.Eb);this.bJ();const g=this.i();g.Yp(k.Xh());g.Zp(k.Yh());g.CH(k.Bq);g.bw(!!e.ce)}Bb(e){const k=this.i();switch(e){case 3:return k.bh();case 2:return d.fa(this.Eb,0,this.Zb.ie.length-1)}}Jd(e,k){var g=this.i();switch(e){case 3:g.bw(!!k);break;case 2:this.Js(!1);e=this.Zb.ie.length-1;g=k=d.fa(k,0,e);k=this.Zb.pk(this.Eb);const l=this.Zb.pk(g);this.DB(k,l);this.Eb=d.fa(g,0,e)}}Zg(){return self.u2}};const c=new WeakMap;self.u2=
class extends self.us{constructor(){super();c.set(this,self.xn.$l().ja)}get animationName(){return c.get(this).IS()}get imageWidth(){return c.get(this).Ed().K()}get imageHeight(){return c.get(this).Ed().G()}}}
{"use strict";const d=self.j;d.B.Mb.F={Hka(a){return d.ol(this.IS(),a)},uZ(a,b){return d.compare(this.Eb,a,b)},ija(a,b){return d.compare(this.DS(),a,b)},r4(a){return d.ol(this.KU,a)},s4(){return!0},B4(){return!0},cla(){return 0>this.i().K()},Uka(){return 0>this.i().G()},SA(){return!0},bH(){return!0},bh(){return this.i().bh()}}}
{"use strict";const d=self.j;d.B.Mb.Ga={Opa(a,b,f,c){if(a&&b){var [e,k]=this.El(f);if(f=this.b.GF(a,b,e,k,c)){c&&b.JH(f);a.Hb().Lp()&&(b=f.i(),b.Fc(this.i().ta()),b.ua());b=this.b.ka();b.df(!0);f.PB();b.df(!1);c=this.b.vv().Yd();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.b.Gt)b=!0,c.set("Spawn_LastExec",this.b.Gt);if(a!==this.I()&&(a=a.Z(),a.Me(!1),a=a.D,b&&d.C(a),a.push(f),f.Kc()))for(const g of f.Sd)f=g.I().Z(),b?f.Hk(g):(f.Me(!1),f.lq(g))}}},Wpa(){this.Js(!1)},Tpa(a){this.gea(a)},
voa(a,b){this.kda(a,b)},Z5(a){this.lda(a)},xoa(a){this.nda(a)},woa(a){this.mda(a)},upa(a){const b=this.i(),f=b.K();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.rf(a),b.ua())},Poa(a){const b=this.i(),f=b.G();a=Math.abs(f)*(0===a?-1:1);f!==a&&(b.ld(a),b.ua())},$p(a){const b=this.xf.pc(),f=this.i();var c=0>f.K()?-1:1;const e=0>f.G()?-1:1;c*=b.K()*a;a=b.G()*a*e;if(f.K()!==c||f.G()!==a)f.Rb(c,a),f.ua()},async W3(a,b){const f=this.xf.pc(),c=this.i(),e=this.b;if(f.hk===a)0===b&&(c.Rb(f.K(),f.G()),c.ua()),this.Aa(d.B.Mb.F.SA);
else{var k=d.A(d.Jv);try{await k.UP(e,a);if(!k.KA())throw Error("image failed to load");await k.Gn(e.pb(),{Dd:this.b.zc})}catch(g){console.error("Load image from URL failed: ",g);this.Aa(d.B.Mb.F.bH);return}f.C5(k);this.Oa.BU();this.gq()||0!==b||(c.Rb(f.K(),f.G()),c.ua());e.R();this.gq()||await this.Vf(d.B.Mb.F.SA)}},Eoa(a){this.i().bw(a)},BH(a,b){this.i().BH(0===a,b)},vH(a){this.i().pf(a);this.b.R()}}}"use strict";
self.j.B.Mb.zd={zia(){return this.Eb},Aia(){return this.Zb.ie.length},Bia(){return this.Zb.Ba()},Cia(){return this.DS()},Ema(){return this.Zb.Il()},yka(d){return this.El(d)[0]},zka(d){return this.El(d)[1]},xka(){return this.xv()},C2(){return this.Ed().K()},A2(){return this.Ed().G()},ena(d){return this.BO(d)[0]},fna(d){return this.BO(d)[1]},dna(){return this.K0()}};{"use strict";const d=self.j;d.B.Touch=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j,a=self.Sg;d.B.Touch.ue=class extends d.Rl{constructor(f){super(f)}g(){super.g()}Qb(){}Zg(){return self.x2}};let b=null;self.x2=class extends self.EG{constructor(f){super(f);b=f;f.H().hx.yN=this}requestPermission(f){a.qe(f);const c=b.Hl().ja;if("orientation"===f)return c.KI(0);if("motion"===f)return c.KI(1);throw Error("invalid type");}}}
{"use strict";const d=self.j;d.B.Touch.Instance=class extends d.Zv{constructor(a,b){super(a,"touch");this.Bd=new Map;this.jD=this.bX=!1;this.QC=this.pi=this.oi=this.kM=this.BE=this.tu=this.gJ=this.fJ=this.eJ=this.jJ=this.iJ=this.hJ=this.zL=this.yL=this.xL=this.PD=0;this.RD=[];b&&(this.bX=b[0]);this.CN("permission-result",f=>this.Rba(f));a=this.H().Fb();this.Ad=new d.Yr(d.gd.Xd(a,"pointerdown",f=>this.Sba(f.data)),d.gd.Xd(a,"pointermove",f=>this.Tba(f.data)),d.gd.Xd(a,"pointerup",f=>this.wT(f.data,
!1)),d.gd.Xd(a,"pointercancel",f=>this.wT(f.data,!0)),d.gd.Xd(a,"deviceorientation",f=>this.Fba(f.data)),d.gd.Xd(a,"deviceorientationabsolute",f=>this.Gba(f.data)),d.gd.Xd(a,"devicemotion",f=>this.Eba(f.data)),d.gd.Xd(a,"tick2",()=>this.II()))}g(){this.Bd.clear();super.g()}Sba(a){if("mouse"===a.pointerType)if(this.bX)this.jD=!0;else return;const b=a.pointerId;if(!this.Bd.has(b)){var f=a.pageX-this.b.tv();a=a.pageY-this.b.uv();var c=performance.now(),e=this.Bd.size;this.tu=e;this.BE=b;var k=d.A(d.B.Touch.Q7);
k.yn(c,f,a,b,e);this.Bd.set(b,k);this.Aa(d.B.Touch.F.K4);this.Aa(d.B.Touch.F.qQ);this.oi=f;this.pi=a;this.Aa(d.B.Touch.F.T4)}}Tba(a){if("mouse"!==a.pointerType||this.jD){var b=this.Bd.get(a.pointerId);if(b){var f=performance.now();2>f-b.Ea()||b.Vl(f,a.pageX-this.b.tv(),a.pageY-this.b.uv(),a.width,a.height,a.pressure)}}}wT(a,b){if("mouse"===a.pointerType)if(this.jD)this.jD=!1;else return;const f=performance.now();a=a.pointerId;const c=this.Bd.get(a);c&&(this.tu=c.Ih,this.BE=c.qk(),this.Aa(d.B.Touch.F.J4),
this.Aa(d.B.Touch.F.pQ),b||(b=c.w7(f),"single-tap"===b?(this.Aa(d.B.Touch.F.R4),this.oi=c.O(),this.pi=c.P(),this.Aa(d.B.Touch.F.S4)):"double-tap"===b&&(this.Aa(d.B.Touch.F.z4),this.oi=c.O(),this.pi=c.P(),this.Aa(d.B.Touch.F.A4))),c.g(),this.Bd.delete(a))}KI(a){this.zT("request-permission",{type:a});return new Promise((b,f)=>{this.RD.push({type:a,resolve:b,reject:f})})}Rba(a){const b=a.result,f=a.type;this.kM=f;a=this.RD.filter(c=>c.type===f);for(const c of a)c.resolve(b?"granted":"denied");this.RD=
this.RD.filter(c=>c.type!==f);b?(this.Aa(d.B.Touch.F.M4),0===f?this.b.Fs():this.b.Nn()):this.Aa(d.B.Touch.F.L4)}Fba(a){"number"===typeof a.webkitCompassHeading?this.PD=a.webkitCompassHeading:a.absolute&&(this.PD=a.alpha);this.xL=a.alpha;this.yL=a.beta;this.zL=a.gamma}Gba(a){this.PD=a.alpha}Eba(a){const b=a.acceleration;b&&(this.hJ=b.x,this.iJ=b.y,this.jJ=b.z);if(a=a.accelerationIncludingGravity)this.eJ=a.x,this.fJ=a.y,this.gJ=a.z}II(){const a=performance.now();let b=0;for(const f of this.Bd.values())f.Ea()<=
a-50&&f.Jda(a),f.v7(a)&&(this.tu=f.Ih,this.BE=f.qk(),this.QC=b,this.Aa(d.B.Touch.F.C4),this.oi=f.O(),this.pi=f.P(),this.Aa(d.B.Touch.F.D4),this.QC=0),++b}oj(a){a=Math.floor(a);for(const b of this.Bd.values()){if(0===a)return b;--a}return null}Cw(a,b){return 0<=a&&0<=b&&a<this.b.J0()&&b<this.b.I0()}}}
{"use strict";const d=self.j,a=[];d.B.Touch.F={qQ(){return!0},pQ(){return!0},Wka(){return 0<this.Bd.size},T4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.hB(b,this.oi,this.pi):!1},K3(b){if(!b)return!1;const f=b.Z();var c=f.la();for(const e of c){c=e.i();const k=c.ba();for(const g of this.Bd.values()){if(!this.Cw(g.O(),g.P()))continue;const [l,n]=k.Sh(g.O(),g.P(),c.Qf());if(c.hv(l,n)){a.push(e);break}}}return a.length?(f.$v(a),b.oc(),d.C(a),!0):!1},rja(b,f,c){return(b=this.oj(b))?d.compare(b.Il(),
f,c):!1},Dma(){return!0},Yla(){return!0},nja(b,f,c){this.b.Fs();return d.compare(0===b?this.xL:1===b?this.yL:this.zL,f,c)},hja(b,f,c){this.b.Nn();return d.compare(0===b?this.eJ:1===b?this.fJ:2===b?this.gJ:3===b?this.hJ:4===b?this.iJ:this.jJ,f,c)},K4(b){b=Math.floor(b);return b===this.tu},J4(b){b=Math.floor(b);return b===this.tu},oka(b){b=Math.floor(b);return this.Bd.size>=b+1},C4(){return!0},R4(){return!0},z4(){return!0},D4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.hB(b,this.oi,this.pi):!1},
S4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.hB(b,this.oi,this.pi):!1},A4(b){return b&&this.Cw(this.oi,this.pi)?this.b.uh.hB(b,this.oi,this.pi):!1},M4(b){return this.kM===b},L4(b){return this.kM===b}}}"use strict";self.j.B.Touch.Ga={una(d){this.KI(d)}};
{"use strict";const d=self.j;d.B.Touch.zd={rqa(){return this.Bd.size},v8(a){const b=this.oj(this.QC);return b?b.os(this.b.Ma(),a,!0):0},w8(a){const b=this.oj(this.QC);return b?b.os(this.b.Ma(),a,!1):0},Uqa(a,b){return(a=this.oj(a))?a.os(this.b.Ma(),b,!0):0},Wqa(a,b){return(a=this.oj(a))?a.os(this.b.Ma(),b,!1):0},Vqa(a,b){return(a=this.Bd.get(a))?a.os(this.b.Ma(),b,!0):0},Xqa(a,b){return(a=this.Bd.get(a))?a.os(this.b.Ma(),b,!1):0},gia(){const a=this.oj(0);return a?a.O():0},jia(){const a=this.oj(0);
return a?a.P():0},hia(a){return(a=this.oj(a))?a.O():0},kia(a){return(a=this.oj(a))?a.P():0},iia(a){return(a=this.Bd.get(a))?a.O():0},lia(a){return(a=this.Bd.get(a))?a.P():0},Ppa(a){return(a=this.oj(a))?a.Il():0},Qpa(a){return(a=this.Bd.get(a))?a.Il():0},xia(a){return(a=this.oj(a))?d.Wd(a.ta()):0},yia(a){return(a=this.Bd.get(a))?d.Wd(a.ta()):0},yja(){this.b.Fs();return this.PD},wia(){this.b.Fs();return this.xL},Nia(){this.b.Fs();return this.yL},fka(){this.b.Fs();return this.zL},nia(){this.b.Nn();return this.eJ},
pia(){this.b.Nn();return this.fJ},ria(){this.b.Nn();return this.gJ},mia(){this.b.Nn();return this.hJ},oia(){this.b.Nn();return this.iJ},qia(){this.b.Nn();return this.jJ},tqa(){return this.tu},sqa(){return this.BE},Rqa(a){return(a=this.Bd.get(a))?a.K():0},pka(a){return(a=this.Bd.get(a))?a.G():0},hna(a){return(a=this.Bd.get(a))?a.AW:0}}}
{"use strict";const d=self.j;let a=-1E3,b=-1E3,f=-1E4;d.B.Touch.Q7=class extends d.ia{constructor(){super();this.AW=this.U=this.W=this.DD=this.CD=this.T=this.X=this.rE=this.qE=this.BD=this.ed=this.No=this.Ih=this.zW=0;this.qD=this.wK=!1}g(){}yn(c,e,k,g,l){this.zW=g;this.Ih=l;this.No=this.BD=this.ed=c;this.qE=e;this.rE=k;this.X=e;this.T=k;this.CD=e;this.DD=k}Vl(c,e,k,g,l,n){this.BD=this.ed;this.ed=c;this.CD=this.X;this.DD=this.T;this.X=e;this.T=k;this.W=g;this.U=l;this.AW=n;!this.qD&&15<=d.Jf(this.qE,
this.rE,this.X,this.T)&&(this.qD=!0)}qk(){return this.zW}Ea(){return this.ed}Jda(c){this.BD=c}O(){return this.X}P(){return this.T}Il(){const c=d.Jf(this.X,this.T,this.CD,this.DD),e=(this.ed-this.BD)/1E3;return 0<e?c/e:0}ta(){return d.le(this.CD,this.DD,this.X,this.T)}K(){return this.W}G(){return this.U}v7(c){return this.wK?!1:500<=c-this.No&&!this.qD&&15>d.Jf(this.qE,this.rE,this.X,this.T)?this.wK=!0:!1}w7(c){if(this.wK)return"";if(333>=c-this.No&&!this.qD&&15>d.Jf(this.qE,this.rE,this.X,this.T)){if(666>=
c-f&&25>d.Jf(a,b,this.X,this.T))return b=a=-1E3,f=-1E4,"double-tap";a=this.X;b=this.T;f=c;return"single-tap"}return""}os(c,e,k){return"undefined"===typeof e?c.oA(0).hZ(this.X,this.T)[k?0:1]:(c=c.ba(e))?c.Sh(this.X,this.T)[k?0:1]:0}}}{"use strict";const d=self.j;d.B.Keyboard=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.Keyboard.ue=class extends d.Rl{constructor(a){super(a)}g(){super.g()}Qb(){}Zg(){return self.p2}};self.p2=class extends self.EG{constructor(a){super(a);a.H().hx.keyboard=this}}}
{"use strict";const d=self.j;d.B.Keyboard.Instance=class extends d.Zv{constructor(a){super(a);this.Ux=new Set;this.Ot=new Set;this.il=0;this.Sy=this.CE="";a=this.H().Fb();this.Ad=new d.Yr(d.gd.Xd(a,"keydown",b=>this.GI(b.data)),d.gd.Xd(a,"keyup",b=>this.HI(b.data)),d.gd.Xd(a,"window-blur",()=>this.et()),d.gd.Xd(a,"keyboard-blur",()=>this.et()))}g(){super.g()}GI(a){const b=a.which,f=a.code||b.toString();a=a.key;this.Ux.has(f)||(this.Ux.add(f),this.Ot.add(b),this.CE=f,this.il=b,this.Sy=a,this.Aa(d.B.Keyboard.F.t4),
this.Aa(d.B.Keyboard.F.gQ),this.Aa(d.B.Keyboard.F.G4),this.Aa(d.B.Keyboard.F.F4))}HI(a){const b=a.which,f=a.code||b.toString();a=a.key;this.Ux.delete(f);this.Ot.delete(b);this.CE=f;this.il=b;this.Sy=a;this.Aa(d.B.Keyboard.F.eQ);this.Aa(d.B.Keyboard.F.iQ);this.Aa(d.B.Keyboard.F.H4);this.Aa(d.B.Keyboard.F.hQ)}et(){for(const a of this.Ot)this.Ot.delete(a),this.il=a,this.Aa(d.B.Keyboard.F.eQ),this.Aa(d.B.Keyboard.F.iQ),this.Aa(d.B.Keyboard.F.hQ);this.Ux.clear()}Xb(){return{tk:this.il,tkk:this.Sy}}Pb(a){this.il=
a.tk;a.hasOwnProperty("tkk")&&(this.Sy=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.j.B.Keyboard.F={Zka(a){return this.Ot.has(a)},gQ(a){return this.il===a},t4(){return!0},eQ(){return!0},iQ(a){return this.il===a},Yka(a){a=Math.floor(a);return this.Ot.has(a)},F4(a){return this.il===a},hQ(a){return this.il===a},G4(a){return this.CE===d[a]},H4(a){return this.CE===d[a]},$ka(a){return this.Ux.has(d[a])}}}"use strict";
self.j.B.Keyboard.Ga={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.j.B.Keyboard.zd={wla(){return this.il},$pa(a){return d(a)},yqa(){return this.Sy}}}{"use strict";const d=self.j;d.B.Uf=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.Uf.ue=class extends d.Rl{constructor(a){super(a);this.Gc=a.Gc}g(){d.C(this.Gc);super.g()}Qb(){for(const a of this.Gc)a.RP(this.b)}Dk(a){const b={Dd:this.b.zc};return Promise.all(this.Gc.map(f=>f.SP(a,b)))}bi(){for(const a of this.Gc)a.CQ()}}}
{"use strict";const d=self.j,a=self.Sg,b=d.A(d.Ec),f=d.A(d.Xs);function c(g,l,n,q,r,p,w,t,v,x,z){q=[d.nc(g,q,x),d.nc(l,r,x),d.nc(n,p,x)];const [D,E,M]=q;l=E+(t-l);n=M+(v-n);return[d.nc(D,D+(w-g),z),d.nc(E,l,z),d.nc(M,n,z)]}d.B.Uf.Instance=class extends d.Wp{constructor(g,l){super(g);this.ur=0;this.ml=15;g=!0;this.LU=this.N.Gc[0];this.si=[!1,!0,!0,!0,!0,!0];this.FC=[0,1,2,3,4,5];this.Jr=8;this.qx=[null,null,null,null,null,null];l&&(this.ur=l[0],this.ml=l[1],g=!!l[2],this.si[0]=!!l[3],this.si[1]=!!l[4],
this.si[2]=!!l[5],this.si[3]=!!l[6],this.si[4]=!!l[7],this.si[5]=!!l[8],this.Jr=l[9],this.nq(0,this.b.$i(l[10])),this.nq(1,this.b.$i(l[11])),this.nq(2,this.b.$i(l[12])),this.nq(3,this.b.$i(l[13])),this.nq(4,this.b.$i(l[14])),this.nq(5,this.b.$i(l[15])));l=this.i();l.uH(this.ml);this.JJ=l.mg();l.Ke(g);g=this.Zz();l.Yp(g.Xh());l.Zp(g.Yh());l.ua()}g(){super.g()}Zz(){return this.LU.pk(0)}Ed(){return this.Zz().pc()}Ll(){return!0}Nd(g){var l=this.i(),n=this.JJ;this.b.Wj&&(n=l.Cs(n));const q=n.rb,r=n.mb,
p=n.Vb,w=n.hc,t=n.tc,v=n.uc,x=n.ic,z=n.jc;var D=this.ur;const E=this.ml;var M=this.si,B=M[0];let G=M[1],H=M[2],J=M[3],P=M[4];M=M[5];l.u3()?M=P=J=H=G=!1:l.v3()&&(B=!1);B&&this.rc(g,0,q,r,0,p,w,0,t,v,0,x,z,0,0);0===D?(H&&this.rc(g,2,q,r,E,x,z,E,x,z,0,q,r,0,0),J&&this.rc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.rc(g,4,p,w,E,q,r,E,q,r,0,p,w,0,0),M&&this.rc(g,5,x,z,E,t,v,E,t,v,0,x,z,0,0),G&&this.rc(g,1,q,r,E,p,w,E,t,v,E,x,z,E,0)):1===D?(n=(q+x)/2,l=(r+z)/2,D=(p+t)/2,B=(w+v)/2,H&&this.rc(g,2,n,l,E,n,l,E,
x,z,0,q,r,0,4),J&&this.rc(g,3,D,B,E,D,B,E,p,w,0,t,v,0,4),P&&this.rc(g,4,D,B,E,n,l,E,q,r,0,p,w,0,0),M&&this.rc(g,5,n,l,E,D,B,E,t,v,0,x,z,0,0)):2===D?(H&&this.rc(g,2,p,w,E,t,v,E,x,z,0,q,r,0,0),J&&this.rc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.rc(g,4,p,w,E,p,w,E,q,r,0,p,w,0,2),M&&this.rc(g,5,t,v,E,t,v,E,t,v,0,x,z,0,3)):3===D?(l=n.np(),n=n.op(),H&&this.rc(g,2,l,n,E,l,n,E,x,z,0,q,r,0,4),J&&this.rc(g,3,l,n,E,l,n,E,p,w,0,t,v,0,4),P&&this.rc(g,4,l,n,E,l,n,E,q,r,0,p,w,0,4),M&&this.rc(g,5,l,n,E,l,n,E,t,v,0,
x,z,0,4)):4===D?(H&&this.rc(g,2,p,w,E,p,w,E,x,z,0,q,r,0,2),J&&this.rc(g,3,p,w,E,p,w,E,p,w,0,t,v,0,3),P&&this.rc(g,4,p,w,E,p,w,E,q,r,0,p,w,0,2),M&&this.rc(g,5,p,w,E,p,w,E,t,v,0,x,z,0,3)):5===D&&(H&&this.rc(g,2,q,r,E,q,r,E,x,z,0,q,r,0,2),J&&this.rc(g,3,t,v,E,p,w,E,p,w,0,t,v,0,0),P&&this.rc(g,4,p,w,E,q,r,E,q,r,0,p,w,0,0),M&&this.rc(g,5,t,v,E,t,v,E,t,v,0,x,z,0,3),G&&this.rc(g,1,q,r,E,p,w,E,t,v,E,x,z,0,1))}rc(g,l,n,q,r,p,w,t,v,x,z,D,E,M,B){var G=null,H=null,J=!1;G=this.qx[l];if(null!==G){G=G.VO(this.Ca());
if(!G)return;l=G.ja;if(d.B.Mb&&l instanceof d.B.Mb.Instance){G=l.Cb();if(null===G)return;H=l.rs()}else if(d.B.oh&&l instanceof d.B.oh.Instance||d.B.In&&l instanceof d.B.In.Instance){let P=0,Q=0;J=this.Jr;switch(B){case 0:case 1:P=Math.hypot(p-n,w-q,(t-r)*J);Q=Math.hypot(v-p,x-w,(z-t)*J);break;case 2:P=Math.hypot(v-D,x-E,(z-M)*J);Q=Math.hypot(D-n,E-q,(M-r)*J);break;case 3:P=Math.hypot(v-D,x-E,(z-M)*J);Q=Math.hypot(v-p,x-w,(z-t)*J);break;case 4:P=Math.hypot(v-D,x-E,(z-M)*J),Q=Math.hypot((D+v)/2-n,(E+
x)/2-q,((M+z)/2-r)*J)}if(d.B.oh&&l instanceof d.B.oh.Instance){G=l.Cb();if(null===G)return;l.cZ(P,Q,b);J=!0}else{if(0!==B)return;l.WT((T,W)=>{T.lk(P,Q);const Z=T.M,Y=T.J,fa=T.V;T=T.S;const [ja,xa,Ka]=c(n,q,r,p,w,t,D,E,M,Z,Y),[Ta,Pa,Ua]=c(n,q,r,p,w,t,D,E,M,fa,Y),[db,Qa,La]=c(n,q,r,p,w,t,D,E,M,fa,T),[Ya,Va,gb]=c(n,q,r,p,w,t,D,E,M,Z,T);g.l5(ja,xa,Ka,Ta,Pa,Ua,db,Qa,La,Ya,Va,gb,W)});l.tS(g,0,0,P,Q);l.WT(null);return}}else return}else{l=this.FC[l];H=this.LU.pk(l).pc();G=H.Cb();if(null===G)return;H=H.rs()}g.fe(G);
3<=B||J?(J||b.qa(H),3===B?(b.WX(b.Vb),b.XX(b.mb)):4===B&&(b.WX((b.rb+b.Vb)/2),b.XX((b.mb+b.hc)/2)),g.Es(n,q,r,p,w,t,v,x,z,D,E,M,b)):g.Es(n,q,r,p,w,t,v,x,z,D,E,M,H)}Sp(){return this.cT(0)}xv(){return this.Zz().xv()}El(g){const l=this.Zz(),n=this.i();if("string"===typeof g)g=l.LO(g);else if("number"===typeof g)g=l.KO(g-1);else throw new TypeError("expected string or number");if(!g)return[n.O(),n.P()];f.qa(g.XD);if(n.sg()){const [q,r]=n.cj().RH(f.X,f.T);f.set(q,r)}f.offset(-l.Xh(),-l.Yh());f.scale(n.K(),
n.G());f.rotate(n.ta());f.offset(n.O(),n.P());return[f.X,f.T]}lU(g){this.ur!==g&&(this.ur=g,this.b.R())}Zda(g){g=Math.max(g,0);this.ml!==g&&(this.ml=g,this.i().uH(g),this.b.R())}yda(g,l){l=!!l;this.si[g]!==l&&(this.si[g]=l,this.b.R())}cT(g){return this.si[g]}xda(g,l){const n=this.FC,q=this.qx;if(n[g]!==l||null!==q[g])n[g]=l,q[g]=null,this.b.R()}nq(g,l){null!==l&&l.Ya&&(l=l.uo[0]);const n=this.qx;n[g]!==l&&(n[g]=l,this.b.R())}$da(g){this.Jr!==g&&(this.Jr=g,this.b.R())}Xb(){return{s:this.ur,zh:this.ml,
fv:this.si,fi:this.FC,fo:this.qx.map(g=>g?g.jb:-1),zf:this.Jr}}Pb(g){this.ur=g.s;this.ml=g.zh;this.i().uH(this.ml);this.si=g.fv.slice(0);this.FC=g.fi.slice(0);g.hasOwnProperty("fo")&&(this.qx=g.fo.map(l=>this.b.$i(l)));g.hasOwnProperty("zf")&&(this.Jr=g.zf)}Bb(){}Jd(){}Zg(){return self.k2}};const e=new WeakMap,k="box prism wedge pyramid corner-out corner-in".split(" ");self.k2=class extends self.us{constructor(){super();e.set(this,self.xn.$l().ja)}set shape(g){a.qe(g);g=k.indexOf(g);if(-1===g)throw new TypeError("invalid shape");
e.get(this).lU(g)}get shape(){return k[e.get(this).dra()]}}}{"use strict";const d=self.j;d.B.Uf.F={oja(a){return this.ur===a},xja(a,b){return d.compare(this.ml,a,b)},Ska(a){return this.cT(a)}}}"use strict";self.j.B.Uf.Ga={zpa(d){this.lU(d)},Hpa(d){this.Zda(d)},Ooa(d,a){this.yda(d,a)},Moa(d,a){this.xda(d,a)},Ipa(d){this.$da(d)},Noa(d,a){this.nq(d,a)}};"use strict";self.j.B.Uf.zd={Zqa(){return this.ml},bra(){return this.Jr}};
{"use strict";const d=self.j;d.B.Pr=class extends d.hj{constructor(a){super(a);this.Ufa=this.b.Ov({url:"penumbra.png"});this.wW=null;this.b.AY(this.Ufa.WP().then(b=>this.wW=b))}g(){super.g()}}}{"use strict";const d=self.j;d.B.Pr.ue=class extends d.Rl{constructor(a){super(a)}g(){super.g()}Qb(){}Dk(){}bi(){}}}
{"use strict";const d=self.j,a=[0,0,0],b=["all","same-tag","different-tag"],f=d.A(d.$a),c=d.A(d.mn),e=[],k=d.A(d.Rect);d.B.Pr.Instance=class extends d.Wp{constructor(g,l){super(g);g=this.i();this.Fg=g.O();this.Gg=g.P();this.Bh=0;this.Ue=1E3;this.Eg=0;this.Ja=d.A(d.$a);this.yj=0;this.Lg="";this.wD=g.O();this.xD=g.P();this.Dh=null;l&&(this.Bh=l[0],this.Eg=0===this.Bh?l[1]:0,g=l[2],this.Ja.Uu(g[0],g[1],g[2]),this.yj=l[3],this.Lg=l[4]);this.Fh=d.A(self.s7);this.pP();this.pq()}g(){this.FT();this.Fh&&(this.Fh.g(),
this.Fh=null);this.Ja=null;super.g()}Xb(){return{lx:this.Fg,ly:this.Gg,lh:this.Bh,lr:this.Eg,lkx:this.wD,lky:this.xD,sc:this.Ja.toJSON(),cf:this.yj,t:this.Lg}}Pb(g){g.hasOwnProperty("lx")&&(this.Fg=g.lx);g.hasOwnProperty("ly")&&(this.Gg=g.ly);this.Bh=g.lh;this.Eg=g.lr;g.hasOwnProperty("lkx")&&(this.wD=g.lkx);g.hasOwnProperty("lky")&&(this.xD=g.lky);this.Ja.dn(g.sc);this.yj=g.cf;this.Lg=g.t}FT(){this.Dh&&(this.b.pb().Ie(this.Dh),this.Dh=null)}Pp(){this.Dh=null}cH(){}k9(g){switch(this.yj){case 0:return!0;
case 1:return d.ol(this.Lg,g);case 2:return!d.ol(this.Lg,g)}}eq(){const g=this.i();if(this.wD!==g.O()||this.xD!==g.P())this.Fg=g.O(),this.Gg=g.P();g.ba().vG(g.Qf(),k);const l=k.np(),n=k.op(),q=k.width()+this.Ue,r=k.height()+this.Ue;if(l!==g.O()||n!==g.P()||q!==g.K()||r!==g.G())g.re(l,n),g.Rb(q,r),g.ua();this.wD=g.O();this.xD=g.P();this.Ue=15*d.Jf(k.M,k.J,k.V,k.S)}naa(){var g=this.b.Gm.yO(d.xa.Or);if(!g)return[];var l=this.i();const n=l.ba();l=l.tb();g=g.qA();const q=[];this.b.uh.UO(n,g,l,q);return[...new Set(q)]}xea(){this.Fh.H6(this.Fg);
this.Fh.I6(this.Gg);this.Fh.J6(this.Bh);this.Fh.G6(this.Eg);this.Fh.YQ(b[this.yj]);this.Fh.Ul(this.Lg);this.Fh.M6(this.Ue)}sba(g){if(!this.Dh){var l=this.Hb().wW,n=l.width,q=l.height,r=d.ef(n,q),p=r.getContext("2d");p.drawImage(l,0,0,n,q);l=p.getImageData(0,0,n,q);n=l.data;q=Math.floor(255*this.Ja.Za);var w=Math.floor(255*this.Ja.cb),t=Math.floor(255*this.Ja.bb);for(let v=0,x=n.length;v<x;v+=4)n[v]=q,n[v+1]=w,n[v+2]=t;p.putImageData(l,0,0);this.Dh=g.Ti(r,{Dd:this.b.zc})}}Nd(g){this.xea();this.sba(g);
this.Fh.R6(this.Dh);const l=this.i();f.kk(this.Ja);f.Rg(l.kf());f.rz();g.ij(f);g.ew();for(const n of this.naa())this.p$(g,n)}p$(g,l){var n=l.Yd();if(n.get("shadowcasterEnabled")&&this.k9(n.get("shadowcasterTag")))if(n=n.get("shadowcasterHeight"),l.Bk())this.E$(g,l,n);else{l=l.i();const q=l.xk();c.qa(q);c.offset(l.O(),l.P());this.Fh.EQ(g,c,n)}}E$(g,l,n){var q=this.i().tb();l.ja.L0(q,e);q=l.i();l=q.O();q=q.P();for(let p=0,w=e.length;p<w;++p){var r=e[p];const t=r.I1();(r=r.XO())?(c.qa(r),c.offset(l+
t.M,q+t.J)):c.Ph(t,-l,-q);this.Fh.EQ(g,c,n)}d.C(e)}Bb(g){switch(g){case 0:return this.Bh;case 1:return this.Eg;case 2:return a[0]=this.Ja.Za,a[1]=this.Ja.cb,a[2]=this.Ja.bb,a.slice(0);case 3:return this.yj;case 4:return this.Lg}}Jd(g,l){switch(g){case 0:this.Bh=l;break;case 1:this.Eg=l;break;case 2:this.Ja.Uu(l[0],l[1],l[2]);break;case 3:this.yj=l;break;case 4:this.Lg=l}}}}"use strict";self.j.B.Pr.F={};
{"use strict";const d=self.j,a=d.A(d.$a);d.B.Pr.Ga={rpa(b){this.Bh!==b&&(this.Bh=b,this.b.R())},qpa(b){a.Ru(b);a.fa();this.Ja.$m(a)||(this.Ja.kk(a),this.FT(),this.b.R())},Ul(b){this.Lg!==b&&(this.Lg=b,this.b.R())},YQ(b){this.yj!==b&&(this.yj=b,this.b.R())}}}"use strict";self.j.B.Pr.zd={Hla(){return this.Fg},Ila(){return this.Gg},M7(){return this.Lg}};
{"use strict";const d=self.j;let a=0,b=0,f=new d.Ec,c=new d.Ec;const e=new Set(["all","same-tag","different-tag"]);self.s7=class{constructor(){this.Eg=this.Bh=this.Gg=this.Fg=0;this.yj="all";this.Lg="";this.Ue=1E3;this.uj=[];this.yJ=[];this.Ge=[];this.sq=this.gm=this.Eq=this.Vk=-1;this.du=this.cu=this.rC=this.qC=this.VB=this.UB=this.SJ=this.RJ=this.mJ=this.lJ=0;this.Dh=null}g(){this.kd();this.Dh=this.Ge=this.yJ=this.uj=null}kd(){d.C(this.uj);d.C(this.yJ);d.C(this.Ge);this.sq=this.gm=this.Eq=this.Vk=
-1;this.du=this.cu=this.rC=this.qC=this.VB=this.UB=this.SJ=this.RJ=this.mJ=this.lJ=0}H6(k){this.Fg=k}I6(k){this.Gg=k}J6(k){this.Bh=k}G6(k){0>k&&(k=0);this.Eg=k}YQ(k){if(!e.has(k))throw Error("invalid cast-from");this.yj=k}Ul(k){this.Lg=k}Dv(){return this.Lg}M6(k){this.Ue=k}R6(k){this.Dh=k}EQ(k,g,l){this.kd();this.bZ(g,l);k.ew();6<=this.Ge.length&&k.FZ(this.Ge);0<this.Eg&&this.Dh&&(-1<this.Vk&&-1<this.Eq&&(k.wg(),k.fe(this.Dh),this.sO(k,g,!0)),-1<this.gm&&-1<this.sq&&(k.wg(),k.fe(this.Dh),this.sO(k,
g,!1)))}bZ(k,g){this.cu=k.z1();this.du=k.A1();0<this.Eg?this.e9(k):this.f9(k,g)}e9(k){this.XH(k,-this.Eg);this.pI();d.xd(this.yJ,this.uj);this.Eq=this.Vk;this.sq=this.gm;d.C(this.uj);this.gm=this.Vk=-1;this.XH(k,this.Eg);this.pI();-1!==this.Vk&&-1!==this.gm&&-1!==this.Eq&&-1!==this.sq&&this.W8(k)}f9(k,g){this.XH(k,0);this.pI();k=k.Pc;for(let l=0,n=k.length;l<n;l+=2)this.V8(l/2,this.Fg,this.Gg,k[l],k[l+1],g)}XH(k,g){let l=this.Fg,n=this.Gg,q=l,r=n,p=0;0!==g&&(p=d.le(l,n,this.cu,this.du)-Math.PI/2);
k=k.Pc;for(let t=0,v=k.length;t<v;t+=2){var w=t+2;w===v&&(w=0);let x=k[t],z=k[t+1],D=k[w];w=k[w+1];0!==g&&(q=l+Math.cos(p)*g,r=n+Math.sin(p)*g);this.uj.push(d.Ym(d.le(x,z,q,r),d.le(x,z,D,w)-Math.PI/2)>=Math.PI/2)}}ES(k){k%=this.uj.length;0>k&&(k+=this.uj.length);return this.uj[k]}pI(){for(let k=0,g=this.uj.length;k<g;++k){let l=this.uj[k],n=this.ES(k-1);n&&!l&&(this.Vk=k);!n&&l&&(this.gm=k)}}V8(k,g,l,n,q,r){var p=this.ES(k-1);let w=k===this.Vk,t=k===this.gm;this.uj[k]||p?(k=d.le(g,l,n,q),p=d.Jf(g,
l,n,q),r=this.X8(g,l,n,q,r),g+=Math.cos(k)*(p+r),l+=Math.sin(k)*(p+r)):(g=n,l=q);t&&(this.Ge.push(n),this.Ge.push(q));this.Ge.push(g);this.Ge.push(l);w&&(this.Ge.push(n),this.Ge.push(q))}X8(k,g,l,n,q){return q>=this.Bh?this.Ue:0>=q?0:d.fa(d.Jf(k,g,l,n)/(this.Bh-q)*q,0,this.Ue)}W8(k){for(var g=this.Eq,l,n=k.F1(),q=k.Pc;g===n&&(g=0),l=2*g,k=q[l],l=q[l+1],this.Ge.push(k),this.Ge.push(l),g!==this.gm;++g);var r=this.Eg;g=k;k=l;var p=d.le(this.Fg,this.Gg,this.cu,this.du);l=this.Fg+Math.cos(p-Math.PI/2)*
r;n=this.Gg+Math.sin(p-Math.PI/2)*r;p=d.le(l,n,g,k);var w=d.Jf(l,n,g,k);l+=Math.cos(p)*(w+this.Ue);n+=Math.sin(p)*(w+this.Ue);p=2*this.Eq;var t=q[p];q=q[p+1];p=d.le(this.Fg,this.Gg,this.cu,this.du);var v=this.Fg+Math.cos(p+Math.PI/2)*r,x=this.Gg+Math.sin(p+Math.PI/2)*r;p=d.le(v,x,t,q);w=d.Jf(v,x,t,q);r=v+Math.cos(p)*(w+this.Ue);p=x+Math.sin(p)*(w+this.Ue);this.lJ=g;this.mJ=k;this.RJ=t;this.SJ=q;{v=l-g;x=n-k;let z=r-t,D=p-q,E=-z*x+v*D;0===E?g=!1:(w=(-x*(g-t)+v*(k-q))/E,E=-z*x+v*D,0===E?g=!1:(t=(z*
(k-q)-D*(g-t))/E,0<=w&&1>=w&&0<=t&&1>=t?(a=g+t*v,b=k+t*x,g=!0):g=!1))}g?(this.Ge.push(a),this.Ge.push(b),this.UB=a,this.VB=b,this.qC=a,this.rC=b):(this.Ge.push(l),this.Ge.push(n),this.Ge.push(r),this.Ge.push(p),this.UB=l,this.VB=n,this.qC=r,this.rC=p)}sO(k,g,l){var n=this.Fg,q=this.Gg,r=g.Pc;let p,w,t;l?(g=this.RJ,p=this.SJ,w=this.qC,t=this.rC):(g=this.lJ,p=this.mJ,w=this.UB,t=this.VB);var v=this.Eg,x=d.le(n,q,this.cu,this.du),z=Math.PI/2;l&&(z=-z);n+=Math.cos(x+z)*v;q+=Math.sin(x+z)*v;z=v=0;if(l){if(l=
this.Vk!==this.Eq)v=r[2*this.Vk],z=r[2*this.Vk+1]}else if(l=this.gm!==this.sq)v=r[2*this.sq],z=r[2*this.sq+1];x=l?d.le(v,z,g,p):d.le(n,q,g,p);r=g+Math.cos(x)*this.Ue;let D=p+Math.sin(x)*this.Ue,E=0,M=0,B=0,G=0,H=1;l&&(n=d.le(n,q,v,z),E=v+Math.cos(n)*this.Ue,M=z+Math.sin(n)*this.Ue,B=d.Ym(x,n)/d.Ym(d.le(g,p,w,t),n),n=d.Jf(v,z,g,p),n/=n+this.Ue,q=d.le(0,1,B,0),x=d.Jf(0,1,B,0),G+=Math.cos(q)*n*x,H+=Math.sin(q)*n*x);f.set(g,p,w,t,r,D,r,D);c.set(G,H,1,0,B,0,B,0);k.UA(f,c);l&&(f.set(v,z,r,D,E,M,E,M),c.set(0,
1,B,0,0,0,0,0),k.UA(f,c))}}}{"use strict";const d=self.j;d.B.lj=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.lj.ue=class extends d.Rl{constructor(a){super(a);this.xb=d.A(self.D7)}g(){super.g()}Qb(){this.pc().Nv(this.b)}Dk(a){return this.pc().Gn(a,{Dd:this.b.zc})}bi(){this.pc().hh()}e8(a,b,f,c){const e=this.pc(),k=this.xb;k.rf(e.K());k.ld(e.G());k.$A(a);k.sH(b);k.tH(f);k.DH(c);k.OR()}}}
{"use strict";const d=self.j,a=self.Sg,b=["left","center","right"],f=["top","center","bottom"];d.B.lj.Instance=class extends d.Wp{constructor(k,g){super(k);this.mc="";this.ro=!0;this.yg=this.vf=16;this.no="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.Aj=1;this.ke=this.we=this.Ic=this.Bj=0;this.Vm=!0;this.Ce=null;this.jl=this.uu=-1;this.Ty=0;g&&(this.mc=g[0],this.ro=g[1],this.vf=g[2],this.yg=g[3],this.no=g[4],k=g[5],this.Aj=
g[6],this.Bj=g[7],this.Ic=g[8],this.we=g[9],this.ke=g[10],this.Vm=0===g[11],this.i().Ke(g[12]));this.Oa.e8(this.vf,this.yg,this.no,k);this.Ce=d.A(self.F7,this.Oa.xb);g=this.i();this.Ce.Rb(g.K(),g.G());this.qh();this.L.N6()}g(){this.Xn();this.Ce.g();this.Ce=null;super.g()}qh(){const k=this.Ce;k&&(k.XQ(this.ro),k.Ss(this.mc),k.CR(this.Vm?"word":"character"),k.w6(b[this.we]),k.p7(f[this.ke]),k.xR(this.Bj),k.dB(this.Ic))}Nd(k){const g=this.N.pc();var l=g.Cb();if(l){k.fe(l);l=this.i();var n=l.mg(),q=this.Ce;
q.$p(this.Aj);q.X6(l.$O());this.b.Wj&&(n=l.Cs(n));q.Rb(l.K(),l.G());q.xb.b7(g.Zh());q.ij(l.Ja);q.Nd(k,n.rb,n.mb,l.ta())}}Xb(){const k={t:this.mc,ebbc:this.ro,csc:this.Aj,csp:this.Bj,lh:this.Ic,ha:this.we,va:this.ke,w:this.Vm,cw:this.Oa.xb.vf,ch:this.Oa.xb.yg,cs:this.Oa.xb.no,sd:this.Oa.xb.mu};-1!==this.jl&&(k.tw={st:this.uu,en:this.jl,l:this.Ty});return k}Pb(k){this.Xn();this.mc=k.t;this.ro=k.ebbc;this.Aj=k.csc;this.Bj=k.csp;this.Ic=k.lh;this.we=k.ha;this.ke=k.va;this.Vm=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.uu=g.st;this.jl=g.en;this.Ty=k.l}g=this.Oa.xb;g.$A(k.cw);g.sH(k.ch);g.tH(k.cs);g.DH(k.sd);this.qh();-1!==this.jl&&this.uf()}Bb(k){switch(k){case 0:return this.mc;case 1:return this.ro;case 2:return this.Oa.xb.vf;case 3:return this.Oa.xb.yg;case 4:return this.Oa.xb.no;case 5:return this.Oa.xb.mu;case 6:return this.Aj;case 7:return this.Bj;case 8:return this.Ic;case 9:return this.we;case 10:return this.ke;case 11:return this.Vm?1:0}}Jd(k,g){switch(k){case 0:if(this.mc===g)break;this.mc=g;
this.qh();break;case 1:if(this.ro===!!g)break;this.ro=!!g;this.qh();break;case 2:this.Oa.xb.$A(g);break;case 3:this.Oa.xb.sH(g);break;case 4:this.Oa.xb.tH(g);break;case 5:this.Oa.xb.DH(g);break;case 6:if(this.Aj===g)break;this.Aj=g;this.qh();break;case 7:if(this.Bj===g)break;this.Bj=g;this.qh();break;case 8:if(this.Ic===g)break;this.Ic=g;this.qh();break;case 9:if(this.we===g)break;this.we=g;this.qh();break;case 10:if(this.ke===g)break;this.ke=g;this.qh();break;case 11:this.Vm!==(0===g)&&(this.Vm=
0===g,this.qh())}}MB(k){this.mc!==k&&(this.mc=k,this.Ce.Ss(k),this.b.R())}hea(k,g){this.MB(k);this.uu=this.b.wG();this.jl=this.uu+g/this.Ca().C0();this.Ty=d.ul.GR(k).length;this.Ce.aB(0);this.uf()}Xn(){this.jl=this.uu=-1;this.Ty=0;this.Ce.aB(-1);this.Pk()}J$(){-1!==this.jl&&(this.Xn(),this.Aa(d.B.lj.F.rQ),this.b.R())}Mda(k){this.Aj!==k&&(this.Aj=k,this.Ce.$p(this.Aj),this.b.R())}qda(k){this.Bj!==k&&(this.Bj=k,this.Ce.xR(this.Bj),this.b.R())}hU(k){this.Ic!==k&&(this.Ic=k,this.Ce.dB(this.Ic),this.b.R())}Bda(k){this.we!==
k&&(this.we=k,this.qh(),this.b.R())}oU(k){this.ke!==k&&(this.ke=k,this.qh(),this.b.R())}Yda(k){k=!!k;this.Vm!==k&&(this.Vm=k,this.qh(),this.b.R())}ge(){var k=this.b.wG();k>=this.jl?(this.Xn(),this.Aa(d.B.lj.F.rQ),this.b.R()):(k=d.Iha(this.uu,this.jl,k,this.Ty),k=Math.floor(k),k!==this.Ce.wh&&(this.Ce.aB(k),this.b.R()))}Zg(){return self.t2}};const c=new WeakMap,e=new Map([["top",0],["center",1],["bottom",2]]);self.t2=class extends self.us{constructor(){super();c.set(this,self.xn.$l().ja)}get text(){return c.get(this).mc}set text(k){a.qe(k);
const g=c.get(this);g.Xn();g.MB(k)}set lineHeight(k){a.gj(k);c.get(this).hU(k)}get lineHeight(){return c.get(this).Ic}set verticalAlign(k){a.qe(k);k=e.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).oU(k)}get verticalAlign(){return f[c.get(this).ke]}}}{"use strict";const d=self.j;d.B.lj.F={xZ(a,b){return b?this.mc===a:d.ol(this.mc,a)},lla(){return-1!==this.jl},rQ(){return!0}}}"use strict";
self.j.B.lj.Ga={Ss(d){this.Xn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.MB(d.toString())},Dia(d){this.Xn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.MB(this.mc+d)},Aqa(d,a){this.Xn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.hea(d.toString(),a)},zqa(){this.J$()},$p(d){this.Mda(d)},Doa(d){this.qda(d)},dB(d){this.hU(d)},$A(d,a){let b=!1;const f=this.Oa.xb;for(const c of d)if(" "===c)f.Y6(a),b=!0;else if(d=f.cA(c))d.eR(a),b=
!0;b&&f.e6();this.b.R()},vH(d){this.i().pf(d);this.b.R()},Soa(d){this.Bda(d)},Cpa(d){this.oU(d)},Fpa(d){this.Yda(0===d)}};{"use strict";const d=self.j;d.B.lj.zd={bja(a){return(a=this.Oa.xb.cA(a))?a.ZF():this.Oa.xb.vf},Zia(){return this.yg},$ia(){return this.Aj},aja(){return this.Bj},Jla(){return this.Ic},Text(){return this.mc},bna(){return this.ro?d.ul.GR(this.mc):this.mc},lqa(){const a=this.i();this.Ce.Rb(a.K(),a.G());return this.Ce.lP()},kqa(){const a=this.i();this.Ce.Rb(a.K(),a.G());return this.Ce.kP()}}}
{"use strict";const d=self.j;self.E7=class{constructor(a,b,f,c){b=a.vf;let e=a.yg;this.xb=a;this.EW=new d.Rect(f,c,f+b,c+e);this.gl=new d.Rect;this.WJ=-1;this.GU()}g(){this.gl=this.EW=this.xb=null}GU(){let a=this.xb.K(),b=this.xb.G();this.gl.qa(this.EW);this.gl.lk(a,b);this.gl.oha(this.xb.Zh())}Zh(){return this.gl}eR(a){this.WJ=a}ZF(){return 0>this.WJ?this.xb.vf:this.WJ}}}
{"use strict";const d=self.j,a=new d.Rect,b=new d.Ec,f=new d.$a,c=new Set(["left","center","right"]),e=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.F7=class{constructor(g){this.xb=g;this.lm=this.wf=0;this.mc="";this.Re=!1;this.vj=null;this.If=d.A(d.uw);this.Ir="word";this.AM=!1;this.we="left";this.ke="top";this.wy=this.cc=1;this.Ic=this.zr=0;this.Ja=d.A(d.$a);this.wh=-1;this.vh=0;this.cy=(l,n)=>this.Hw(l,n);this.xb.O8(this)}g(){this.xb.Bca(this);this.cy=this.Ja=null;this.If.Jc();
this.vj=this.xb=this.If=null}Hw(g,l){var n=this.Xc(l,"scale"),q=(n?parseFloat(n.wd):this.cc)*this.wy;n=this.Xc(l,"scalex");n=(n?parseFloat(n.wd):1)*q;l=this.Xc(l,"scaley");l=this.xb.yg*(l?parseFloat(l.wd):1)*q+this.Ic;const r=this.xb;q=r.vf*n;const p=this.zr;if(r.Jt){let t=0,v=0;for(var w of g){g=q;const x=r.cA(w);x?g=x.ZF()*n:" "===w&&(g=r.hP()*n);v+=g;++t}return{width:v+t*p,height:l}}w=[...g].length;return{width:q*w+Math.max(w,0)*p,height:l}}Nk(){this.AM=!0;this.If.Jc()}Rb(g,l){0>=g||0>=l||this.wf===
g&&this.lm===l||(this.wf!==g&&this.Nk(),this.wf=g,this.lm=l)}aB(g){this.wh=Math.floor(g)}Xc(g,l){for(let n=g.length-1;0<=n;--n){const q=g[n];if(q.tag===l)return q}return null}Zn(g,l){return!!this.Xc(g,l)}kq(){if(this.AM){!this.Re||this.vj&&this.vj.toString()===this.mc||(this.vj=new d.ul(this.mc,{JX:!0}));var g=-this.zr;this.If.uw(this.Re?this.vj.aY():this.mc,this.cy,this.wf,this.Ir,g);this.AM=!1}}Nd(g,l,n,q){this.kq();let r=this.vh=0;const p=this.Ic,w=d.QE(this.If.dl),t=Math.sin(q);q=Math.cos(q);
var v=w.reduce((x,z)=>x+z.height,0)-p;"center"===this.ke?r=Math.max(Math.floor(this.lm/2-v/2),0):"bottom"===this.ke&&(r=Math.floor(this.lm-v));for(let x=0,z=w.length;x<z;++x){v=w[x];const D=v.height;if(0<x&&r>this.lm-(D-p))break;0<=r&&this.x$(g,v,l,n,r,t,q);r+=D}}x$(g,l,n,q,r,p,w){const t=l.height;let v=0;"center"===this.we?v=Math.max(Math.floor((this.wf-l.width)/2),0):"right"===this.we&&(v=Math.max(Math.floor(this.wf-l.width),0));for(const x of l.MM)this.o$(g,x,n,q,v,r,p,w,t),v+=x.width}o$(g,l,n,
q,r,p,w,t,v){var x=l.text,z=l.width,D=l.yd;if(-1!==this.wh){if(this.vh>=this.wh)return;this.vh+x.length>this.wh&&(x=x.substr(0,this.wh-this.vh),z=this.Hw(x,D).width);this.vh+=x.length}var E=this.Xc(D,"background");if(!(d.MA(x)&&!E||this.Zn(D,"hide"))){l=this.Xc(D,"scale");var M=(l?parseFloat(l.wd):this.cc)*this.wy;l=this.Xc(D,"scalex");l=(l?parseFloat(l.wd):1)*M;var B=this.Xc(D,"scaley");M*=this.xb.yg*(B?parseFloat(B.wd):1);p+=v-this.Ic-M;v=this.Xc(D,"offsetx");r+=v?parseFloat(v.wd):0;v=this.Xc(D,
"offsety");p+=v?parseFloat(v.wd):0;E&&(g.ew(),f.OX(E.wd),f.Rg(1),g.ij(f),a.set(r,p,r+z,p+M),a.V>this.wf&&a.Pha(this.wf),b.gF(a,w,t),b.offset(n,q),g.Ec(b),g.wg());(z=this.Xc(D,"color"))?(f.OX(z.wd),f.Rg(this.Ja.Wa)):f.qa(this.Ja);(z=this.Xc(D,"opacity"))&&f.Rg(f.Wa*parseFloat(z.wd)/100);f.rz();g.ij(f);z=this.xb.vf*l;D=Math.abs(this.zr);for(const G of x)if(x=this.xb.cA(G)){E=x.ZF()*l;if(r+E>this.wf+D+1E-5)break;a.set(r,p,r+z,p+M);b.gF(a,w,t);b.offset(n,q);g.Ql(b,x.Zh());r+=E+this.zr}else r+=this.xb.hP()*
l+this.zr}}XQ(g){g=!!g;this.Re!==g&&(this.Re=g,this.Nk())}Ss(g){this.mc!==g&&(this.mc=g,this.Nk())}CR(g){if(!k.has(g))throw Error("invalid word wrap mode");this.Ir!==g&&(this.Ir=g,this.Nk())}w6(g){if(!c.has(g))throw Error("invalid alignment");this.we=g}p7(g){if(!e.has(g))throw Error("invalid alignment");this.ke=g}$p(g){this.cc!==g&&(this.cc=g,this.Nk())}X6(g){this.wy!==g&&(this.wy=g,this.Nk())}$O(){return this.wy}xR(g){this.zr!==g&&(this.zr=g,this.Nk())}dB(g){this.Ic=g;this.Nk()}jj(g){g=d.fa(g,0,
1);this.Ja.cp=g}ij(g){this.Ja.fd(g)||this.Ja.qa(g)}lP(){this.kq();return this.If.SO()}kP(){this.kq();const g=this.Ic;return this.If.dl.length*(this.xb.yg*this.cc+g)-g}}}
{"use strict";const d=self.j,a={width:256,height:256,pX:16,nX:16,characterSet:""};self.D7=class{constructor(b){b=Object.assign({},a,b);if(0>=b.width||0>=b.height||0>=b.pX||0>=b.nX)throw Error("invalid size");this.W=b.width;this.U=b.height;this.vf=b.pX;this.yg=b.nX;this.no=b.characterSet;this.mu="";this.Gy=null;this.Jt=!1;this.yr=-1;this.gl=new d.Rect(0,0,1,1);this.Aq=new Map;this.Eo=!0;this.vq=new Set}g(){this.gl=null;this.CT();this.Aq=null;this.vq&&this.vq.clear();this.vq=null}CT(){for(let b of this.Aq.values())b.g();
this.Aq.clear()}O8(b){this.vq.add(b)}Bca(b){this.vq.delete(b)}OR(){if(this.Eo){this.CT();var b=[...this.no],f=Math.floor(this.W/this.vf),c=f*Math.floor(this.U/this.yg);for(let e=0,k=b.length;e<k&&!(e>=c);++e){let g=b[e];this.Aq.set(g,d.A(self.E7,this,g,e%f*this.vf,Math.floor(e/f)*this.yg))}this.Jt=!1;this.yr=-1;if(Array.isArray(this.Gy))for(let e of this.Gy)if(Array.isArray(e)&&2===e.length&&(b=e[0],f=e[1],"number"===typeof b&&isFinite(b)&&"string"===typeof f&&b!==this.vf))for(let k of f)(f=this.Aq.get(k))?
(f.eR(b),this.Jt=!0):" "===k&&(this.yr=b,this.Jt=!0);this.Eo=!1;for(let e of this.vq)e.Nk()}}e6(){this.Jt=!0;for(const b of this.vq)b.Nk()}cA(b){this.OR();return this.Aq.get(b)||null}rf(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.W!==b&&(this.W=b,this.Eo=!0)}K(){return this.W}ld(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.U!==b&&(this.U=b,this.Eo=!0)}G(){return this.U}b7(b){if(!this.gl.fd(b)){this.gl.qa(b);for(const f of this.Aq.values())f.GU()}}Zh(){return this.gl}$A(b){b=
Math.floor(b);if(0>=b)throw Error("invalid size");this.vf!==b&&(this.vf=b,this.Eo=!0)}sH(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.yg!==b&&(this.yg=b,this.Eo=!0)}tH(b){this.no!==b&&(this.no=b,this.Eo=!0)}DH(b){if(this.mu!==b&&(this.mu=b,this.Eo=!0,this.Gy=null,this.mu.length))try{this.Gy=JSON.parse(this.mu)}catch(f){this.Gy=null}}Y6(b){0>b&&(b=-1);this.yr!==b&&(this.yr=b,0<=this.yr&&(this.Jt=!0))}hP(){return 0>this.yr?this.vf:this.yr}}}{"use strict";const d=self.j;d.B.oh=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;function a(b){switch(b){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.B.oh.ue=class extends d.Rl{constructor(b,f){super(b);this.Xm=this.Wm="repeat";f&&(this.Wm=a(f[0]),this.Xm=a(f[1]))}g(){super.g()}Qb(){this.pc().Nv(this.b)}Dk(b){return this.pc().Gn(b,{Dd:this.b.zc,hn:this.Wm,jn:this.Xm})}bi(){this.pc().hh()}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Ec),f=d.A(d.Rect),c=d.A(d.Ec);d.B.oh.Instance=class extends d.Wp{constructor(k,g){super(k);this.Pq=this.Oq=0;this.Rq=this.Qq=1;this.Zk=0;this.hr=null;g&&(this.i().Ke(!!g[0]),this.Oq=g[4],this.Pq=g[5],this.Qq=g[6],this.Rq=g[7],this.Zk=d.eb(g[8]))}g(){this.ET();super.g()}ET(){this.hr&&(this.hr.g(),this.hr=null)}cZ(k,g,l){var n=this.Ed();const q=n.K();n=n.G();const r=this.Oq/q,p=this.Pq/n,w=this.Zk;f.set(0,0,k/(q*this.Qq),g/(n*this.Rq));f.offset(-r,
-p);0===w?l.Ph(f):l.Su(f,-w)}Nd(k){var g=this.Ed(),l=g.Cb();if(null!==l){k.fe(l);l=g.K();g=g.G();var n=this.Oq/l,q=this.Pq/g,r=this.i();f.set(0,0,r.K()/(l*this.Qq),r.G()/(g*this.Rq));f.offset(-n,-q);r.sg()?this.mI(r,k):this.nI(r,k)}}nI(k,g){let l=k.mg();this.b.Wj&&(l=k.Cs(l));0===this.Zk?g.Ql(l,f):(c.Su(f,-this.Zk),g.UA(l,c))}mI(k,g){const l=k.oP();if(k.KP()){k.Gz(a,b,!1);let n=b;this.b.Wj&&(n=k.Cs(n));let q=f;0!==this.Zk&&(c.Su(f,-this.Zk),q=c);l.PN(k.cj(),n,q);k.eB(!1)}l.Nd(g)}Ed(){return this.hr||
this.N.pc()}Ll(){return!0}Cb(){return this.Ed().Cb()}Nw(){this.i().eB(!0)}dU(k){this.Oq!==k&&(this.Oq=k,this.b.R(),this.Nw())}eU(k){this.Pq!==k&&(this.Pq=k,this.b.R(),this.Nw())}fU(k){this.Qq!==k&&(this.Qq=k,this.b.R(),this.Nw())}gU(k){this.Rq!==k&&(this.Rq=k,this.b.R(),this.Nw())}cU(k){this.Zk!==k&&(this.Zk=k,this.b.R(),this.Nw())}Bb(k){switch(k){case 4:return this.Oq;case 5:return this.Pq;case 6:return this.Qq;case 7:return this.Rq;case 8:return this.Zk}}Jd(k,g){switch(k){case 4:this.dU(g);break;
case 5:this.eU(g);break;case 6:this.fU(g);break;case 7:this.gU(g);break;case 8:this.cU(g)}}Zg(){return self.w2}};const e=new WeakMap;self.w2=class extends self.us{constructor(){super();e.set(this,self.xn.$l().ja)}get imageWidth(){return e.get(this).Ed().K()}get imageHeight(){return e.get(this).Ed().G()}}}"use strict";self.j.B.oh.F={SA(){return!0},bH(){return!0}};
{"use strict";const d=self.j;d.B.oh.Ga={Woa(a){this.dU(a)},Xoa(a){this.eU(a)},Yoa(a){this.fU(a/100)},Zoa(a){this.gU(a/100)},Voa(a){this.cU(d.eb(a))},vH(a){this.i().pf(a);this.b.R()},async W3(a){if(!this.hr||this.hr.hk!==a){var b=this.b,f=d.A(d.Jv);try{await f.UP(b,a);if(!f.KA())throw Error("image failed to load");if(this.gq())return f.g(),null;if(!await f.Gn(b.pb(),{Dd:this.b.zc,hn:"repeat",jn:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.Aa(d.B.oh.F.bH);return}this.gq()?
f.g():(this.ET(),this.hr=f,b.R(),await this.Vf(d.B.oh.F.SA))}}}}{"use strict";const d=self.j;d.B.oh.zd={C2(){return this.Ed().K()},A2(){return this.Ed().G()},vka(){return this.Oq},wka(){return this.Pq},Aka(){return 100*this.Qq},Bka(){return 100*this.Rq},ska(){return d.Wd(this.Zk)}}}{"use strict";const d=self.j;d.B.In=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.B.In.ue=class extends d.Rl{constructor(a){super(a);this.ZJ=this.Po=null}g(){this.bi();super.g()}Qb(){this.pc().Nv(this.b)}async Dk(){this.ZJ=await this.pc().r0()}eO(a,b,f,c){!this.Po&&this.ZJ&&(this.Po=new self.g4(this),this.Po.SZ(this.ZJ,a,b,f,c))}bi(){this.Po&&(this.Po.g(),this.Po=null)}}}
{"use strict";const d=self.j,a=d.A(d.Rect),b=d.A(d.Rect),f=d.A(d.Ec);d.B.In.Instance=class extends d.Wp{constructor(c,e){super(c);this.fC=this.wE=this.cE=this.ED=16;this.iV=this.aV=1;this.PV=!0;this.bx=null;e&&(this.ED=e[0],this.cE=e[1],this.wE=e[2],this.fC=e[3],this.aV=e[4],this.iV=e[5],this.PV=!!e[8],this.i().Ke(!!e[6]));this.Oa.eO(this.ED,this.cE,this.wE,this.fC)}g(){super.g()}WT(c){this.bx=c}Nd(c){const e=this.i(),k=e.mg();this.tS(c,k.rb,k.mb,e.K(),e.G())}tS(c,e,k,g,l){let n=this.Oa.Po;if(!n&&
(this.Oa.eO(this.ED,this.cE,this.wE,this.fC),n=this.Oa.Po,!n))return;const q=this.ED,r=this.cE,p=this.wE,w=this.fC,t=n.Ex-r,v=n.Dx-w;var x=this.PV?1:0;const z=this.aV,D=this.iV;0<q&&0<p&&this.Zl(c,n.Cb(),0,0,q+x,p+x,e,k,q+x,p+x);0<r&&0<p&&this.Zl(c,n.Cb(),t-x,0,r+x,p+x,e+g-r-x,k,r+x,p+x);0<r&&0<w&&this.Zl(c,n.Cb(),t-x,v-x,r+x,w+x,e+g-r-x,k+l-w-x,r+x,w+x);0<q&&0<w&&this.Zl(c,n.Cb(),0,v-x,q+x,w+x,e,k+l-w-x,q+x,w+x);0===z?(x=2===D?0:x,0<q&&v>p&&this.Rw(c,n.FD,e,k+p,q+x,l-p-w,0,0),0<r&&v>p&&this.Rw(c,
n.dE,e+g-r-x,k+p,r+x,l-p-w,x,0),0<p&&t>q&&this.Rw(c,n.xE,e+q,k,g-q-r,p+x,0,0),0<w&&t>q&&this.Rw(c,n.gC,e+q,k+l-w-x,g-q-r,w+x,0,x)):1===z&&(0<q&&v>p&&this.Zl(c,n.Cb(),0,p,q,v-p,e,k+p,q,l-p-w),0<r&&v>p&&this.Zl(c,n.Cb(),t,p,r,v-p,e+g-r,k+p,r,l-p-w),0<p&&t>q&&this.Zl(c,n.Cb(),q,0,t-q,p,e+q,k,g-q-r,p),0<w&&t>q&&this.Zl(c,n.Cb(),q,v,t-q,w,e+q,k+l-w,g-q-r,w));v>p&&t>q&&(0===D?this.Rw(c,n.IC,e+q,k+p,g-q-r,l-p-w,0,0):1===D&&this.Zl(c,n.Cb(),q,p,t-q,v-p,e+q,k+p,g-q-r,l-p-w))}Zl(c,e,k,g,l,n,q,r,p,w){const t=
e.K(),v=e.G();c.fe(e);a.set(q,r,q+p,r+w);b.set(k/t,g/v,(k+l)/t,(g+n)/v);null===this.bx?(e=this.i(),g=e.mg(),k=g.rb,g=g.mb,a.offset(-k,-g),f.Su(a,e.ta()),f.offset(k,g),c.Ql(f,b)):this.bx(a,b)}Rw(c,e,k,g,l,n,q,r){const p=e.K(),w=e.G();c.fe(e);a.set(k,g,k+l,g+n);b.set(-q/p,-r/w,(l-q)/p,(n-r)/w);null===this.bx?(e=this.i(),g=e.mg(),k=g.rb,g=g.mb,a.offset(-k,-g),f.Su(a,e.ta()),f.offset(k,g),c.Ql(f,b)):this.bx(a,b)}Ed(){}Bb(){}Jd(){}}}"use strict";self.j.B.In.F={};"use strict";
self.j.B.In.Ga={vH(d){this.i().pf(d);this.b.R()}};"use strict";self.j.B.In.zd={};
{"use strict";const d=self.j;function a(b){const f=d.ef(b.width,b.height);f.getContext("2d").drawImage(b,0,0);return f}self.g4=class{constructor(b){this.Oa=b;this.b=this.Oa.H();this.gC=this.xE=this.dE=this.FD=this.IC=this.hb=null;this.Dx=this.Ex=0;this.ga=this.b.pb();this.Um=this.Vj=!1}g(){this.ga.zn()||(this.ga.Ie(this.hb),this.ga.Ie(this.IC),this.ga.Ie(this.FD),this.ga.Ie(this.dE),this.ga.Ie(this.xE),this.ga.Ie(this.gC));this.ga=this.Oa=this.gC=this.xE=this.dE=this.FD=this.IC=this.hb=null;this.Um=
!0}gq(){return this.Um}SZ(b,f,c,e,k){this.eea(b,f,c,e,k)}eea(b,f,c,e,k){if(!this.Um){var g=b.width,l=b.height;this.Ex=g;this.Dx=l;var n=g-c,q=l-k,r=this.b.zc,p=this.b.aa.hM;this.hb=this.ga.Ti(a(b),{Dd:r,fp:p});n>f&&q>e&&(this.IC=this.ga.Ti(this.Qw(a(b),f,e,n,q),{hn:"repeat",jn:"repeat",Dd:r,fp:p}));0<f&&q>e&&(this.FD=this.ga.Ti(this.Qw(a(b),0,e,f,q),{jn:"repeat",Dd:r,fp:p}));0<c&&q>e&&(this.dE=this.ga.Ti(this.Qw(a(b),n,e,g,q),{jn:"repeat",Dd:r,fp:p}));0<e&&n>f&&(this.xE=this.ga.Ti(this.Qw(a(b),f,
0,n,e),{hn:"repeat",Dd:r,fp:p}));0<k&&n>f&&(this.gC=this.ga.Ti(this.Qw(a(b),f,q,n,l),{hn:"repeat",Dd:r,fp:p}))}}Qw(b,f,c,e,k){e-=f;k-=c;const g=d.ef(e,k);g.getContext("2d").drawImage(b,f,c,e,k,0,0,e,k);return g}Cb(){return this.hb}}}{"use strict";const d=self.j;d.B.ln=class extends d.hj{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.B.ln.ue=class extends d.Rl{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j,a=self.xn;function b(c,e,k){if(e<c.length)d.bf(c,e);else if(e>c.length)if("function"===typeof k)for(var g=c.length;g<e;++g)c.push(k());else for(g=c.length;g<e;++g)c.push(k)}d.B.ln.Instance=class extends d.Zv{constructor(c,e){super(c);this.Tb=10;this.wc=this.vc=1;this.Yc=null;this.MC=[];this.jK=[];this.kK=[];this.Mj=-1;e&&(this.Tb=e[0],this.vc=e[1],this.wc=e[2]);this.Yc=d.fh(this.Tb,()=>d.fh(this.vc,()=>d.fh(this.wc,0)))}g(){this.Yc=null;super.g()}tl(c,e,k){c=Math.floor(c);
e=Math.floor(e);k=Math.floor(k);return 0<=c&&c<this.Tb&&0<=e&&e<this.vc&&0<=k&&k<this.wc?this.Yc[c][e][k]:0}Set(c,e,k,g){c=Math.floor(c);e=Math.floor(e);k=Math.floor(k);0<=c&&c<this.Tb&&0<=e&&e<this.vc&&0<=k&&k<this.wc&&(this.Yc[c][e][k]=g)}Rb(c,e,k){c=Math.floor(c);e=Math.floor(e);k=Math.floor(k);0>c&&(c=0);0>e&&(e=0);0>k&&(k=0);if(this.Tb!==c||this.vc!==e||this.wc!==k){this.Tb=c;this.vc=e;this.wc=k;var g=this.Yc;b(g,c,()=>d.fh(e,()=>d.fh(k,0)));for(let l=0;l<c;++l){b(g[l],e,()=>d.fh(k,0));for(let n=
0;n<e;++n)b(g[l][n],k,0)}}}K(){return this.Tb}G(){return this.vc}zl(){return this.wc}xO(){return JSON.stringify({c2array:!0,size:[this.Tb,this.vc,this.wc],data:this.Yc})}Xb(){return{size:[this.Tb,this.vc,this.wc],data:this.Yc}}Pb(c){const e=c.size;this.Tb=e[0];this.vc=e[1];this.wc=e[2];this.Yc=c.data}sI(){return 0<=this.Mj&&this.Mj<this.MC.length?this.MC[this.Mj]:0}tI(){return 0<=this.Mj&&this.Mj<this.jK.length?this.jK[this.Mj]:0}uI(){return 0<=this.Mj&&this.Mj<this.kK.length?this.kK[this.Mj]:0}Zg(){return self.m2}};
const f=new WeakMap;self.m2=class extends a{constructor(){super();f.set(this,a.$l().ja)}get width(){return f.get(this).K()}get height(){return f.get(this).G()}get depth(){return f.get(this).zl()}}}
{"use strict";const d=self.j;d.B.ln.F={XN(a,b,f){return d.compare(this.tl(a,0,0),b,f)},uja(a,b,f,c){return d.compare(this.tl(a,b,0),f,c)},vja(a,b,f,c,e){return d.compare(this.tl(a,b,f),c,e)},Gia(a){const b=this.b,f=b.ka(),c=b.Gb(),e=c.Fd(),k=b.hd(),g=k.gf(),l=k.Na(c),n=++this.Mj,q=this.MC;var r=this.jK,p=this.kK;const w=this.Tb;var t=this.vc,v=this.wc;n===this.MC.length?(q.push(0),r.push(0),p.push(0)):(q[n]=0,r[n]=0,p[n]=0);b.Ks(!1);if(0===a)for(let M=0;M<w;++M)for(let B=0;B<t;++B)for(let G=0;G<v;++G){q[n]=
M;r[n]=B;p[n]=G;a=f;var x=c,z=e,D=g,E=l;a.de(z);x.nf(D,E);a.Db(z)}else if(1===a)for(D=0;D<w;++D)for(E=0;E<t;++E)q[n]=D,r[n]=E,p=f,v=c,a=e,x=g,z=l,p.de(a),v.nf(x,z),p.Db(a);else for(x=0;x<w;++x)q[n]=x,r=f,t=c,p=e,v=g,a=l,r.de(p),t.nf(v,a),r.Db(p);b.Ks(!0);this.Mj--;k.Ia();return!1},mja(a,b){return d.compare(this.tl(this.sI(),this.tI(),this.uI()),a,b)},zja(a){const b=this.Tb,f=this.vc,c=this.wc,e=this.Yc;for(let k=0;k<b;++k)for(let g=0;g<f;++g)for(let l=0;l<c;++l)if(e[k][g][l]===a)return!0;return!1},
An(){return 0===this.Tb||0===this.vc||0===this.wc},pja(a,b,f){let c=0;switch(a){case 0:c=this.Tb;break;case 1:c=this.vc;break;case 2:c=this.wc}return d.compare(c,b,f)}}}
{"use strict";const d=self.j;function a(b,f){if("number"===typeof b&&"number"===typeof f)return b-f;b=b.toString();f=f.toString();return b<f?-1:b>f?1:0}d.B.ln.Ga={Jc(b){const f=this.Tb,c=this.vc,e=this.wc,k=this.Yc;for(let g=0;g<f;++g)for(let l=0;l<c;++l)for(let n=0;n<e;++n)k[g][l][n]=b},Rb(b,f,c){this.Rb(b,f,c)},Tf(b,f){this.Set(b,0,0,f)},re(b,f,c){this.Set(b,f,0,c)},Gpa(b,f,c,e){this.Set(b,f,c,e)},Na(b,f,c){var e=this.Tb,k=this.vc;const g=this.wc,l=this.Yc;if(0===c)e=d.fh(k,()=>d.fh(g,f)),0===b?
l.push(e):l.unshift(e),this.Tb++;else if(1===c){for(k=0;k<e;++k)c=d.fh(g,f),0===b?l[k].push(c):l[k].unshift(c);this.vc++}else{for(c=0;c<e;++c)for(let n=0;n<k;++n)0===b?l[c][n].push(f):l[c][n].unshift(f);this.wc++}},Ia(b,f){const c=this.Tb;var e=this.vc,k=this.wc;const g=this.Yc;if(0===f)0!==c&&(0===b?g.pop():g.shift(),this.Tb--);else if(1===f){if(0!==e){for(e=0;e<c;++e)0===b?g[e].pop():g[e].shift();this.vc--}}else if(0!==k){for(f=0;f<c;++f)for(k=0;k<e;++k)0===b?g[f][k].pop():g[f][k].shift();this.wc--}},
M5(b){const f=this.Tb;var c=this.vc,e=this.wc;const k=this.Yc;if(0!==f&&0!==c&&0!==e)if(0===b)k.reverse();else if(1===b)for(c=0;c<f;++c)k[c].reverse();else for(b=0;b<f;++b)for(e=0;e<c;++e)k[b][e].reverse()},Lpa(b){const f=this.Tb;var c=this.vc,e=this.wc;const k=this.Yc;if(0!==f&&0!==c&&0!==e)if(0===b)k.sort((g,l)=>a(g[0][0],l[0][0]));else if(1===b)for(c=0;c<f;++c)k[c].sort((g,l)=>a(g[0],l[0]));else for(b=0;b<f;++b)for(e=0;e<c;++e)k[b][e].sort(a)},nn(b,f){b=Math.floor(b);if(!(0>b)){var c=this.Tb,e=
this.vc,k=this.wc,g=this.Yc;if(0===f)b>=c||(g.splice(b,1),this.Tb--);else if(1===f){if(!(b>=e)){for(e=0;e<c;++e)g[e].splice(b,1);this.vc--}}else if(!(b>=k)){for(f=0;f<c;++f)for(k=0;k<e;++k)g[f][k].splice(b,1);this.wc--}}},GA(b,f,c){f=Math.floor(f);if(!(0>f)){var e=this.Tb,k=this.vc,g=this.wc,l=this.Yc;if(0===c)f>e||(l.splice(f,0,d.fh(k,()=>d.fh(g,b))),this.Tb++);else if(1===c){if(!(f>k)){for(k=0;k<e;++k)l[k].splice(f,0,d.fh(g,b));this.vc++}}else if(!(f>g)){for(c=0;c<e;++c)for(let n=0;n<k;++n)l[c][n].splice(f,
0,b);this.wc++}}},qla(b){let f=null;try{f=JSON.parse(b)}catch(c){console.error("[Construct 3] Failed to parse JSON: ",c);return}f.c2array&&(b=f.size,this.Tb=b[0],this.vc=b[1],this.wc=b[2],this.Yc=f.data)},pla(b){const f=URL.createObjectURL(new Blob([this.xO()],{type:"application/json"}));this.b.l3(f,b)}}}"use strict";
self.j.B.ln.zd={tl(d,a,b){return this.tl(d,a||0,b||0)},r8(){return this.Tb},tP(){return this.vc},Lja(){return this.wc},Fja(){return this.sI()},Gja(){return this.tI()},Hja(){return this.uI()},Eja(){return this.tl(this.sI(),this.tI(),this.uI())},cka(){return this.tl(0,0,0)},Mia(){return this.tl(this.Tb-1,0,0)},Dka(d){const a=this.Yc;for(let b=0,f=this.Tb;b<f;++b)if(a[b][0][0]===d)return b;return-1},vla(d){const a=this.Yc;for(let b=this.Tb-1;0<=b;--b)if(a[b][0][0]===d)return b;return-1},HN(){return this.xO()}};
{"use strict";const d=self.j;d.xa.wp=class extends d.Tp{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.wp.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j,a=self.Sg,b=self.uP;d.xa.wp.Instance=class extends d.Up{constructor(c,e){super(c);this.Dy=this.Cy=this.By=this.Ey=this.UC=this.ty=this.Wx=this.ox=this.Vy=!1;this.wb=this.ub=0;this.$j=200;this.Wf=600;this.Ag=500;this.eo=this.qo=3;this.Ka=this.nm=!0;e&&(this.$j=e[0],this.Wf=e[1],this.Ag=e[2],this.qo=e[3],this.eo=e[4],this.nm=!!e[5],this.Ka=!!e[6]);this.Ka&&this.uf();this.nm&&this.WH()}WH(){if(!this.Ad){var c=this.b.Fb();this.Ad=new d.Yr(d.gd.Xd(c,"keydown",e=>this.GI(e.data)),
d.gd.Xd(c,"keyup",e=>this.HI(e.data)),d.gd.Xd(c,"window-blur",()=>this.et()),d.gd.Xd(c,"keyboard-blur",()=>this.et()))}}xU(){this.Ad&&(this.Ad.g(),this.Ad=null)}g(){super.g()}Xb(){return{dx:this.ub,dy:this.wb,e:this.Ka,ms:this.$j,acc:this.Wf,dec:this.Ag,d:this.qo,am:this.eo,dc:this.nm,ii:this.UC}}Pb(c){this.ub=c.dx;this.wb=c.dy;this.em(c.e);this.$j=c.ms;this.Wf=c.acc;this.Ag=c.dec;this.qo=c.d;this.eo=c.am;this.nm=c.dc;this.UC=c.ii;this.Dy=this.Cy=this.By=this.Ey=this.ty=this.Wx=this.ox=this.Vy=!1;
this.nm?this.WH():this.xU()}GI(c){switch(c.key){case "ArrowLeft":this.Wx=!0;break;case "ArrowUp":this.Vy=!0;break;case "ArrowRight":this.ty=!0;break;case "ArrowDown":this.ox=!0}}HI(c){switch(c.key){case "ArrowLeft":this.Wx=!1;break;case "ArrowUp":this.Vy=!1;break;case "ArrowRight":this.ty=!1;break;case "ArrowDown":this.ox=!1}}et(){this.ty=this.Wx=this.ox=this.Vy=!1}ge(){var c=this.b.yp(this.L);const e=this.b.uh;var k=this.Wx||this.Cy,g=this.ty||this.Dy,l=this.Vy||this.Ey,n=this.ox||this.By;this.By=
this.Ey=this.Dy=this.Cy=!1;if(this.Ka){var q=e.Vn(this.L);if(q&&(e.WA(this.L,q),!e.k5(this.L)))return;this.UC&&(k=g=l=n=!1);0===this.qo?k=g=!1:1===this.qo&&(l=n=!1);2===this.qo&&(l||n)&&(k=g=!1);k===g&&(0>this.ub?this.ub=Math.min(this.ub+this.Ag*c,0):0<this.ub&&(this.ub=Math.max(this.ub-this.Ag*c,0)));l===n&&(0>this.wb?this.wb=Math.min(this.wb+this.Ag*c,0):0<this.wb&&(this.wb=Math.max(this.wb-this.Ag*c,0)));var r=q=0;k&&!g&&(q=0<this.ub?-(this.Wf+this.Ag):-this.Wf);g&&!k&&(q=0>this.ub?this.Wf+this.Ag:
this.Wf);l&&!n&&(r=0<this.wb?-(this.Wf+this.Ag):-this.Wf);n&&!l&&(r=0>this.wb?this.Wf+this.Ag:this.Wf);this.ub+=q*c;this.wb+=r*c;if(0!==this.ub||0!==this.wb){g=Math.atan2(this.wb,this.ub);k=this.$j*Math.cos(g);g=this.$j*Math.sin(g);Math.sqrt(this.ub*this.ub+this.wb*this.wb)>this.$j&&(this.ub=k,this.wb=g);var p=Math.abs(k)*c;n=Math.abs(g)*c;k=this.L.i();const w=k.O();l=k.P();g=k.ta();p=d.fa(this.ub*c+.5*q*c*c,-p,p);k.Qv(p);k.ua();if(q=e.Vn(this.L))e.yQ(this.L,0>this.ub?1:-1,0,Math.max(Math.abs(Math.floor(p)),
1))||(k.Tf(w),k.ua()),this.ub=0,e.WA(this.L,q);c=d.fa(this.wb*c+.5*r*c*c,-n,n);k.Sv(c);k.ua();if(q=e.Vn(this.L))e.yQ(this.L,0,0>this.wb?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(k.kh(l),k.ua()),this.wb=0,e.WA(this.L,q);c=d.eF(this.ub);r=d.eF(this.wb);0===c&&0===r||!this.L.Hb().Lp()||(1===this.eo?k.Fc(d.eb(90*Math.round(d.Wd(Math.atan2(r,c))/90))):2===this.eo?k.Fc(d.eb(45*Math.round(d.Wd(Math.atan2(r,c))/45))):3===this.eo&&k.Fc(Math.atan2(r,c)));k.ua();k.ta()!=g&&(q=e.Vn(this.L))&&(k.Fc(g),k.ua(),
e.WA(this.L,q))}}}Bb(c){switch(c){case 0:return this.$j;case 1:return this.Wf;case 2:return this.Ag;case 3:return this.qo;case 4:return this.eo;case 5:return this.nm;case 6:return this.Ka}}Jd(c,e){switch(c){case 0:this.jU(e);break;case 1:this.RI(e);break;case 2:this.ZT(e);break;case 3:this.qo=e;break;case 4:this.eo=e;break;case 5:this.$T(!!e);break;case 6:this.em(!!e)}}uU(){this.wb=this.ub=0}MT(){this.ub*=-1;this.wb*=-1}jT(){const c=Math.hypot(this.ub,this.wb);c>this.$j&&this.XI(c)}XI(c){c=d.fa(c,
0,this.$j);const e=Math.atan2(this.wb,this.ub);this.ub=c*Math.cos(e);this.wb=c*Math.sin(e)}yB(){return Math.hypot(this.ub,this.wb)}jU(c){this.$j=Math.max(c,0)}RI(c){this.Wf=Math.max(c,0)}ZT(c){this.Ag=Math.max(c,0)}faa(){return Math.atan2(this.wb,this.ub)}Uda(c){this.ub=c;this.jT()}Vda(c){this.wb=c;this.jT()}dea(c){if(this.Ka)switch(c){case 0:this.Cy=!0;break;case 1:this.Dy=!0;break;case 2:this.Ey=!0;break;case 3:this.By=!0}}$T(c){c=!!c;this.nm!==c&&((this.nm=c)?this.WH():(this.xU(),this.et()))}Fda(c){this.UC=
!!c}em(c){(this.Ka=!!c)?this.uf():(this.By=this.Ey=this.Dy=this.Cy=!1,this.Pk())}Zg(){return self.l2}};const f=new WeakMap;self.l2=class extends b{constructor(){super();f.set(this,b.$l().ja)}stop(){f.get(this).uU()}reverse(){f.get(this).MT()}get speed(){return f.get(this).yB()}set speed(c){a.gj(c);f.get(this).XI(c)}get acceleration(){return f.get(this).Wf}set acceleration(c){a.gj(c);f.get(this).RI(c)}get isEnabled(){return f.get(this).Ka}set isEnabled(c){f.get(this).em(!!c)}}}
{"use strict";const d=self.j;d.xa.wp.F={dla(){return 1E-10<this.yB()},qja(a,b){return d.compare(this.yB(),a,b)},jd(){return this.Ka}}}"use strict";self.j.xa.wp.Ga={nh(){this.uU()},M5(){this.MT()},Uoa(d){this.Fda(d)},yR(d){this.XI(d)},spa(d){this.jU(d)},X5(d){this.RI(d)},Foa(d){this.ZT(d)},x7(d){this.dea(d)},ee(d){this.em(d)},Dpa(d){this.Uda(d)},Epa(d){this.Vda(d)},Hoa(d){this.$T(!!d)}};
{"use strict";const d=self.j;d.xa.wp.zd={C7(){return this.yB()},Tla(){return this.$j},nY(){return this.Wf},Kja(){return this.Ag},ema(){return d.Wd(this.faa())},Hqa(){return this.ub},Iqa(){return this.wb}}}{"use strict";const d=self.j;d.xa.Mr=class extends d.Tp{constructor(a){super(a);this.RL=this.hE=this.yy=this.QL=0}g(){super.g()}uR(a){this.QL=a}wR(a){this.yy=a}tR(a){this.hE=a}vR(a){this.RL=a}}}{"use strict";const d=self.j;d.xa.Mr.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Mr.Instance=class extends d.Up{constructor(a,b){super(a);this.Ka=!0;b&&(this.Ka=b[0]);this.Ka&&this.pq()}g(){super.g()}Xb(){const a=this.Vg();return{e:this.Ka,smg:a.QL,ss:a.yy,se:a.hE,smd:a.RL}}Pb(a){const b=this.Vg();b.uR(a.smg);b.wR(a.ss);b.tR(a.se);b.vR(a.smd);(this.Ka=a.e)?this.pq():this.qq()}jd(){return this.Ka}eq(){if(this.jd()){var a=this.Vg(),b=a.la(),f=0,c=0,e=0;for(var k of b)(b=k.F0(d.xa.Mr))&&b.ja.jd()&&(b=k.i(),f+=b.O(),c+=b.P(),++e);k=this.L.i().qc();
var g=this.b.Of(),l=b=0;g>=a.yy&&g<a.hE&&(b=a.QL*Math.min(this.b.Fe,1),0===a.RL&&(b*=1-(g-a.yy)/(a.hE-a.yy)),a=this.b.Ln()*Math.PI*2,g=this.b.Ln()*b,b=Math.cos(a)*g,l=Math.sin(a)*g);k.ei(f/e+b);k.gi(c/e+l)}}Bb(a){switch(a){case 0:return this.Ka}}Jd(a,b){switch(a){case 0:(this.Ka=!!b)?this.pq():this.qq()}}}}"use strict";self.j.xa.Mr.F={jd(){return this.Ka}};"use strict";
self.j.xa.Mr.Ga={Jpa(d,a,b){const f=this.Vg();f.uR(d);f.wR(this.b.Of());f.tR(this.b.Of()+a);f.vR(b)},ee(d){(this.Ka=0!==d)?this.pq():this.qq()}};"use strict";self.j.xa.Mr.zd={};{"use strict";const d=self.j;d.xa.Ur=class extends d.Tp{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.Ur.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Ur.Instance=class extends d.Up{constructor(a,b){super(a);this.xq=this.wq=2;this.it=this.jt=0;this.Ka=!0;a=this.L.i().tb();this.LE=a.M;this.OE=a.J;this.ME=this.b.Xe-a.M;this.NE=this.b.We-a.J;this.oy=this.b.Xe-a.V;this.Zw=this.b.We-a.S;b&&(this.wq=b[0],this.xq=b[1],this.jt=b[2],this.it=b[3],this.Ka=!!b[4]);b=this.b.Fb();this.Ad=new d.Yr(d.gd.Xd(b,"layoutchange",()=>this.Qba()));this.Ka&&this.uf()}g(){super.g()}Xb(){return{xl:this.LE,yt:this.OE,xr:this.ME,yb:this.NE,
rd:this.oy,bd:this.Zw,al:this.wq,at:this.xq,ar:this.jt,ab:this.it,e:this.Ka}}Pb(a){this.LE=a.xl;this.OE=a.yt;this.ME=a.xr;this.NE=a.yb;this.oy=a.rd;this.Zw=a.bd;this.wq=a.al;this.xq=a.at;this.jt=a.ar;this.it=a.ab;(this.Ka=a.e)?this.uf():this.Pk()}RB(){if(this.Ka){var a=this.L.i(),b=a.ba().Hf;if(0===this.wq){var f=b.M+this.LE-a.tb().M;0!==f&&(a.Qv(f),a.ua())}else 1===this.wq&&(f=b.V-this.ME-a.tb().M,0!==f&&(a.Qv(f),a.ua()));0===this.xq?(f=b.J+this.OE-a.tb().J,0!==f&&(a.Sv(f),a.ua())):1===this.xq&&
(f=b.S-this.NE-a.tb().J,0!==f&&(a.Sv(f),a.ua()));1===this.jt&&(f=b.V-this.oy-a.tb().V,0!==f&&(a.Qv(a.Xh()*f),a.rf(Math.max(a.K()+f),0),a.ua(),this.oy=b.V-a.tb().V));1===this.it&&(f=b.S-this.Zw-a.tb().S,0!==f&&(a.Sv(a.Yh()*f),a.ld(Math.max(a.G()+f,0)),a.ua(),this.Zw=b.S-a.tb().S))}}ge(){this.RB()}Qba(){this.RB()}Bb(a){switch(a){case 0:return this.wq;case 1:return this.xq;case 2:return this.jt;case 3:return this.it;case 4:return this.Ka}}Jd(a,b){switch(a){case 0:this.wq=b;break;case 1:this.xq=b;break;
case 2:this.jt=b;break;case 3:this.it=b;break;case 4:(this.Ka=!!b)?this.uf():this.Pk()}}}}"use strict";self.j.xa.Ur.F={jd(){return this.Ka}};"use strict";self.j.xa.Ur.Ga={ee(d){this.Ka&&0===d?(this.Ka=!1,this.Pk()):this.Ka||0===d||(d=this.L.i().tb(),this.LE=d.M,this.OE=d.J,this.ME=this.b.Xe-d.M,this.NE=this.b.We-d.J,this.oy=this.b.Xe-d.V,this.Zw=this.b.We-d.S,this.Ka=!0,this.uf())}};"use strict";self.j.xa.Ur.zd={};{"use strict";const d=self.j;d.xa.On=class extends d.Tp{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.On.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.On.Instance=class extends d.Up{constructor(a,b){super(a);this.fm=this.Hh=0;this.Ka=!0;b&&(this.Hh=d.eb(b[0]),this.fm=d.eb(b[1]),this.Ka=b[2]);this.Ka&&this.uf()}g(){super.g()}Xb(){return{s:this.Hh,a:this.fm,e:this.Ka}}Pb(a){this.Hh=a.s;this.fm=a.a;this.em(a.e)}ge(){if(this.Ka){var a=this.b.yp(this.L);if(0!==a&&(0!==this.fm&&(this.Hh+=this.fm*a),0!==this.Hh)){const b=this.L.i();b.Fc(b.ta()+this.Hh*a);b.ua()}}}Bb(a){switch(a){case 0:return d.Wd(this.Hh);case 1:return d.Wd(this.fm);
case 2:return this.Ka}}Jd(a,b){switch(a){case 0:this.Hh=d.eb(b);break;case 1:this.fm=d.eb(b);break;case 2:this.em(b)}}em(a){(this.Ka=!!a)?this.uf():this.Pk()}}}"use strict";self.j.xa.On.F={jd(){return this.Ka}};{"use strict";const d=self.j;d.xa.On.Ga={yR(a){this.Hh=d.eb(a)},X5(a){this.fm=d.eb(a)},ee(a){this.em(a)}}}{"use strict";const d=self.j;d.xa.On.zd={C7(){return d.Wd(this.Hh)},nY(){return d.Wd(this.fm)}}}{"use strict";const d=self.j;d.xa.sp=class extends d.Tp{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.sp.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.sp.Instance=class extends d.Up{constructor(a,b){super(a);this.ee(!0);b&&(this.ee(b[0]),this.Rs(b[1]))}g(){super.g()}ee(a){this.L.Rda(!!a)}jd(){return this.L.eT()}Rs(a){const b=this.L.Yd();if(a.trim()){var f=b.get("solidTags");f||(f=new Set,b.set("solidTags",f));f.clear();for(const c of a.split(" "))c&&f.add(c.toLowerCase())}else b.delete("solidTags")}Xb(){return{e:this.jd()}}Pb(a){this.ee(a.e)}Bb(a){switch(a){case 0:return this.jd()}}Jd(a,b){switch(a){case 0:this.ee(b)}}}}"use strict";
self.j.xa.sp.F={jd(){return this.jd()}};"use strict";self.j.xa.sp.Ga={ee(d){this.ee(d)},Rs(d){this.Rs(d)}};"use strict";self.j.xa.sp.zd={};{"use strict";const d=self.j;d.xa.Pl=class extends d.Tp{constructor(a){super(a)}g(){super.g()}}}{"use strict";const d=self.j;d.xa.Pl.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Pl.Instance=class extends d.Up{constructor(a,b){super(a);this.el=null;this.SD=-1;this.Ch="";this.mr=new Set;this.Ao=this.yC=this.po=this.zt=this.At=this.wb=this.ub=this.iy=this.jr=this.Ye=0;this.vC=!1;b&&(this.vC=b[0]);a=this.b.Fb();this.Ad=new d.Yr(d.gd.Xd(a,"instancedestroy",f=>this.Lba(f.instance)),d.gd.Xd(a,"afterload",()=>this.Iw()))}g(){this.el=null;super.g()}Ow(a){a?(this.el=a,this.pq()):(this.el=null,this.qq())}$n(a,b,f){if(a&&(a=a.cG(this.L)))if(this.Ch=
b,this.Ow(a),b=this.L.i(),a=a.i(),"properties"===this.Ch){const c=this.mr;c.clear();for(const e of f)c.add(e);this.ub=b.O()-a.O();this.wb=b.P()-a.P();this.po=b.ta()-a.ta();this.Ao=b.ta();this.yC=b.Ua()-a.Ua();c.has("x")&&c.has("y")&&(this.jr=d.le(a.O(),a.P(),b.O(),b.P())-a.ta(),this.Ye=d.Jf(a.O(),a.P(),b.O(),b.P()));c.has("width-abs")?this.At=b.K()-a.K():c.has("width-scale")&&(this.At=b.K()/a.K());c.has("height-abs")?this.zt=b.G()-a.G():c.has("height-scale")&&(this.zt=b.G()/a.G())}else this.Ye=d.Jf(a.O(),
a.P(),b.O(),b.P())}Xb(){const a=this.mr,b=this.Ch,f={uid:this.el?this.el.Qc:-1,m:b};if("rope"===b||"bar"===b)f.pd=this.Ye;else if("properties"===b){f.ps=[...this.mr];a.has("imagepoint")?f.ip=this.iy:a.has("x")&&a.has("y")?(f.pa=this.jr,f.pd=this.Ye):(a.has("x")&&(f.dx=this.ub),a.has("y")&&(f.dy=this.wb));a.has("angle")&&(f.da=this.po,f.lka=this.Ao);if(a.has("width-abs")||a.has("width-scale"))f.dw=this.At;if(a.has("height-abs")||a.has("height-scale"))f.dh=this.zt;a.has("z")&&(f.dz=this.yC)}return f}Pb(a){const b=
a.m,f=this.mr;f.clear();this.SD=a.uid;if("number"===typeof b)this.Yaa(a);else if(this.Ch=b,"rope"===b||"bar"===b)this.Ye=a.pd;else if("properties"===b){for(const c of a.ps)f.add(c);f.has("imagepoint")?this.iy=a.ip:f.has("x")&&f.has("y")?(this.jr=a.pa,this.Ye=a.pd):(f.has("x")&&(this.ub=a.dx),f.has("y")&&(this.wb=a.dy));f.has("angle")&&(this.po=a.da,this.Ao=a.lka||0);if(f.has("width-abs")||f.has("width-scale"))this.At=a.dw;if(f.has("height-abs")||f.has("height-scale"))this.zt=a.dh;f.has("z")&&(this.yC=
a.dz)}}Yaa(a){const b=this.mr,f=a.msa,c=a.tsa,e=a.pa,k=a.pd;switch(a.m){case 0:this.Ch="properties";b.add("x").add("y").add("angle");this.jr=e;this.Ye=k;this.po=f-c;this.Ao=a.lka;break;case 1:this.Ch="properties";b.add("x").add("y");this.jr=e;this.Ye=k;break;case 2:this.Ch="properties";b.add("angle");this.po=f-c;this.Ao=a.lka;break;case 3:this.Ch="rope";this.Ye=a.pd;break;case 4:this.Ch="bar",this.Ye=a.pd}}Iw(){-1===this.SD?this.Ow(null):(this.Ow(this.b.Wi(this.SD)),this.SD=-1)}Lba(a){this.el===a&&
(this.Ow(null),this.vC&&this.b.pn(this.L))}eq(){var a=this.el;if(a){var b=a.i(),f=this.L.i(),c=this.Ch,e=!1;if("rope"===c||"bar"===c){if(a=d.Jf(f.O(),f.P(),b.O(),b.P()),a>this.Ye||"bar"===c&&a<this.Ye)e=d.le(b.O(),b.P(),f.O(),f.P()),f.re(b.O()+Math.cos(e)*this.Ye,b.P()+Math.sin(e)*this.Ye),e=!0}else{c=this.mr;if(c.has("imagepoint")){const [k,g]=a.El(this.iy);f.PF(k,g)||(f.re(k,g),e=!0)}else if(c.has("x")&&c.has("y")){a=b.O()+Math.cos(b.ta()+this.jr)*this.Ye;const k=b.P()+Math.sin(b.ta()+this.jr)*
this.Ye;f.PF(a,k)||(f.re(a,k),e=!0)}else a=b.O()+this.ub,c.has("x")&&a!==f.O()&&(f.Tf(a),e=!0),a=b.P()+this.wb,c.has("y")&&a!==f.P()&&(f.kh(a),e=!0);c.has("angle")&&(this.Ao!==f.ta()&&(this.po=d.me(this.po+(f.ta()-this.Ao))),a=d.me(b.ta()+this.po),a!==f.ta()&&(f.Fc(a),e=!0),this.Ao=f.ta());c.has("width-abs")&&(a=b.K()+this.At,a!==f.K()&&(f.rf(a),e=!0));c.has("width-scale")&&(a=b.K()*this.At,a!==f.K()&&(f.rf(a),e=!0));c.has("height-abs")&&(a=b.G()+this.zt,a!==f.G()&&(f.ld(a),e=!0));c.has("height-scale")&&
(a=b.G()*this.zt,a!==f.G()&&(f.ld(a),e=!0));c.has("z")&&(a=b.Ua()+this.yC,a!==f.Ua()&&(f.Le(a),this.b.R()))}e&&f.ua()}}}}"use strict";self.j.xa.Pl.F={kla(){return!!this.el},Sqa(){return this.vC}};"use strict";
self.j.xa.Pl.Ga={Zma(d,a){this.$n(d,0===a?"rope":"bar")},X4(d,a,b,f,c,e,k){const g=[];a&&g.push("x");b&&g.push("y");f&&g.push("angle");k&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===e?g.push("height-abs"):2===e&&g.push("height-scale");0!==g.length&&this.$n(d,"properties",g)},$ma(d,a,b,f,c,e){const k=["imagepoint"];b&&k.push("angle");e&&k.push("z");1===f?k.push("width-abs"):2===f&&k.push("width-scale");1===c?k.push("height-abs"):2===c&&k.push("height-scale");this.iy=a;this.$n(d,
"properties",k)},wpa(d){if("rope"===this.Ch||"bar"===this.Ch)this.Ye=Math.max(d,0)},Ioa(d){this.vC=d},X7(){this.Ow(null);this.Ch="";this.mr.clear();this.iy=""},Pl(d,a){switch(a){case 0:this.$n(d,"properties",["x","y","angle"]);break;case 1:this.$n(d,"properties",["x","y"]);break;case 2:this.$n(d,"properties",["angle"]);break;case 3:this.$n(d,"rope");break;case 4:this.$n(d,"bar")}}};"use strict";self.j.xa.Pl.zd={ana(){return this.el?this.el.Qc:-1}};{"use strict";const d=self.j;d.xa.Or=class extends d.Tp{constructor(a){super(a)}g(){super.g()}}}
{"use strict";const d=self.j;d.xa.Or.ue=class extends d.Vp{constructor(a){super(a)}g(){super.g()}Qb(){}}}
{"use strict";const d=self.j;d.xa.Or.Instance=class extends d.Up{constructor(a,b){super(a);b?(this.ld(b[0]),this.Ul(b[1]),this.ee(!!b[2])):(this.ld(100),this.Ul(""),this.ee(!0))}g(){super.g()}ld(a){this.L.Yd().set("shadowcasterHeight",a)}G(){return this.L.Yd().get("shadowcasterHeight")}Ul(a){this.L.Yd().set("shadowcasterTag",a)}Dv(){return this.L.Yd().get("shadowcasterTag")}ee(a){this.L.Yd().set("shadowcasterEnabled",!!a)}jd(){return this.L.Yd().get("shadowcasterEnabled")}Xb(){return{h:this.G(),t:this.Dv(),
e:this.jd()}}Pb(a){this.ld(a.h);this.Ul(a.t);this.ee(a.e)}Bb(a){switch(a){case 0:return this.G();case 1:return this.Dv();case 2:return this.jd()}}Jd(a,b){switch(a){case 0:this.ld(b);break;case 1:this.Ul(b);break;case 2:this.ee(b)}}}}{"use strict";const d=self.j;d.xa.Or.F={jd(){return this.jd()},vZ(a,b){return d.compare(this.G(),a,b)}}}"use strict";self.j.xa.Or.Ga={ee(d){this.ee(d)},ld(d){this.G()!==d&&(this.ld(d),this.b.R())},Ul(d){this.Dv()!==d&&(this.Ul(d),this.b.R())}};"use strict";
self.j.xa.Or.zd={tP(){return this.G()},M7(){return this.Dv()}};
{const d=self.j;self.NN=function(){return[d.B.Mb,d.xa.wp,d.xa.Mr,d.xa.Ur,d.B.Touch,d.xa.On,d.B.Keyboard,d.B.Uf,d.xa.sp,d.B.Pr,d.xa.Pl,d.B.lj,d.B.oh,d.B.In,d.B.ln,d.xa.Or,d.B.Xa.F.ws,d.B.Xa.F.zZ,d.B.Xa.Ga.K7,d.B.Xa.Ga.GY,d.B.Xa.Ga.S1,d.B.Xa.F.q0,d.B.Xa.Ga.E6,d.B.Xa.F.lQ,d.B.Xa.Ga.F6,d.B.Xa.Ga.D6,d.xa.Pl.Ga.X4,d.B.lj.F.CF,d.B.Mb.F.uZ,d.xa.Pl.Ga.X7,d.B.Touch.F.qQ,d.B.Mb.F.CF,d.B.Touch.F.K3,d.B.Xa.Ga.TH,d.B.Xa.Ga.o7,d.B.Xa.F.U7,d.B.Mb.Ga.Z5,d.B.oh.Ga.j6,d.B.Pr.Ga.Ke,d.B.Xa.F.p0,d.B.Uf.F.CF,d.B.Uf.Ga.kR,
d.B.Uf.F.AZ,d.B.Uf.Ga.Le,d.B.Uf.zd.x8,d.B.Mb.F.B3,d.B.Mb.Ga.U6,d.B.Touch.F.pQ,d.xa.On.Ga.yR,d.B.Xa.Ga.l8,d.xa.On.Ga.ee,d.B.Keyboard.F.gQ,d.B.Mb.Ga.Ke,d.B.Mb.F.A3,d.B.Mb.F.zP,d.B.Mb.Ga.Fc,d.xa.wp.Ga.x7,d.B.Mb.F.v4,d.B.Uf.Ga.jO,d.B.lj.F.xZ,d.B.lj.Ga.Ss,d.B.Mb.zd.IY,d.B.Mb.Ga.kR,d.B.Mb.Ga.jO,d.B.Xa.Ga.J5,d.B.Uf.F.Tc,d.B.Uf.Ga.Ke,d.B.Uf.Ga.Rb,d.B.Xa.F.nO,d.B.Mb.Ga.jj,d.B.Mb.F.wZ,d.B.Mb.zd.Opacity,d.B.Xa.F.kQ,d.B.ln.F.XN,d.B.ln.Ga.Tf,d.B.Xa.F.yZ]};self.YY=[{"8\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439":0},
{Eua:0},{cna:0},{ora:0},{Kua:0},{Via:0},{Fua:0},{gma:0},{Cua:0},{Yia:0},{Rpa:0},{nka:0},{Bua:0},{eja:0},{Spa:0},{ds:0},{Gua:0},{Ria:0},{Yqa:0},{Qia:0},{Zla:0},{fma:0},{mqa:0},{Dua:0},{Iua:0},{tla:0},{bua:0},{Vla:0},{Hua:0},{Uia:0},{Tqa:0},{Ula:0},{jqa:0},{Ela:0},{Cla:0},{Dla:0},{uqa:0},{"9\u043f\u0430\u0442\u0447":0},{Hia:0},{jna:0},{Gla:0},{Ypa:0},{Fla:0},{Ija:0},{ula:0},{nma:0},{Jua:0},{"3DRot":0},{Xja:0},{nqa:0},{"9pathRot":0},{Oja:0},{eka:0},{xqa:0},{sla:0},{kka:0},{Dja:0},{wqa:0},{jka:0}]}
{function d(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}self.XY=[()=>"SystemGroup",()=>"Yes",()=>0,()=>1,()=>"No",()=>100,()=>"BlackBlack",a=>{const b=a.Kk().so;return()=>b.ae()},()=>"UI_WIN",()=>"RotateLayer",()=>"\u0420\u0430\u0434\u0438\u0430\u043b\u044c\u043d\u043e\u0435\u0420\u0430\u0437\u043c\u044b\u0442\u0438\u0435",()=>"Options",()=>2,()=>"On",()=>.1,()=>
"Off",()=>3,()=>"BlockLight",()=>"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435",()=>"\u0421\u0432\u0435\u0447\u0435\u043d\u0438\u0435\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435",()=>"LazerEffect",()=>"\u0412\u043e\u0434\u0430",()=>"Animation3D",()=>"Up",()=>1.5,()=>"Down",()=>-15,a=>{const b=a.Kk();return()=>b.bs()-.5},a=>{const b=a.Kk();return()=>b.bs()+.5},a=>{const b=a.Kk();return()=>
b.bs()-.1},()=>8,a=>{const b=a.Kk();return()=>b.bs()+.1},()=>"WaitPlayer",()=>"Arrow",()=>180,()=>"Rotate1",()=>-180,()=>"UI",()=>"Rotate2",()=>85,()=>95,()=>90,()=>"MoveCube",()=>175,()=>185,()=>265,()=>275,()=>270,()=>355,()=>5,()=>360,()=>"LanternAndFinish",()=>"Text",a=>{const b=a.Kk().so;return()=>d("\u0421\u043e\u0431\u0440\u0430\u043d\u043e \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u043e\u0432: ",b.ae())+" \u0438\u0437 3"},()=>"MachanicGame",a=>{const b=a.Kk();return()=>b.bs()},()=>"End",
()=>-5,()=>32,()=>16,a=>{const b=a.Kk();return()=>b.bs()+1},()=>"GameLevelScript",()=>6,()=>4,a=>{const b=a.Kk().so;return()=>d("\u0423 \u0432\u0430\u0441 ",b.ae())+" \u043a\u0440\u0438\u0441\u0442\u0430\u043b\u043e\u0432."},()=>"ButtonMenu",()=>"VariantLevel",()=>-14,a=>{const b=a.Kk().so;return()=>d("\u0412\u044b \u0441\u043e\u0431\u0440\u0430\u043b\u0438 \u0432\u0441\u0435\u0433\u043e: ",b.ae())+" \u0444\u043e\u043d\u0430\u0440\u0438\u043a\u043e\u0432"},()=>"VariantLevelBUTTON"]};
